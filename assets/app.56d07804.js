var Vp=(Oe,Ae)=>()=>(Ae||Oe((Ae={exports:{}}).exports,Ae),Ae.exports);var wW=Vp((Kl,uf)=>{(function(){const Ae=document.createElement("link").relList;if(Ae&&Ae.supports&&Ae.supports("modulepreload"))return;for(const ge of document.querySelectorAll('link[rel="modulepreload"]'))He(ge);new MutationObserver(ge=>{for(const _e of ge)if(_e.type==="childList")for(const z of _e.addedNodes)z.tagName==="LINK"&&z.rel==="modulepreload"&&He(z)}).observe(document,{childList:!0,subtree:!0});function Ue(ge){const _e={};return ge.integrity&&(_e.integrity=ge.integrity),ge.referrerpolicy&&(_e.referrerPolicy=ge.referrerpolicy),ge.crossorigin==="use-credentials"?_e.credentials="include":ge.crossorigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function He(ge){if(ge.ep)return;ge.ep=!0;const _e=Ue(ge);fetch(ge.href,_e)}})();/*! grapesjs - 0.20.1 */(function(Oe,Ae){typeof Kl=="object"&&typeof uf=="object"?uf.exports=Ae():typeof define=="function"&&define.amd?define([],Ae):typeof Kl=="object"?Kl.grapesjs=Ae():Oe.grapesjs=Ae()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:globalThis,()=>(()=>{var Oe={3410:(ge,_e,z)=>{var ie,w,k;w=[z(9050),z(2316)],ie=function($,D){var q=Array.prototype.slice;function l(Z,B,T){return T.length<=4?Z.call(B,T[0],T[1],T[2],T[3]):Z.apply(B,T)}function P(Z,B){return q.call(Z,B)}function N(Z,B){return Z!=null&&($.isArray(B)||(B=P(arguments,1)),$.all(B,function(T){return T in Z}))}var C=function(){var Z=!1,B=-1;function T(){B++,Z=!0,$.defer(function(){Z=!1})}return function(){return Z||T(),B}}();function y(){this.registeredObjects=[],this.cidIndexes=[]}function m(Z,B,T,j){for(var U,E=0,M=B.length;E<M;E++)if(U=B[E]){if(Z==="on"){if(!j.objectRegistry.register(U))continue}else if(!j.objectRegistry.unregister(U))continue;$.isFunction(U[Z])&&U[Z]("all",T,j)}}function g(Z,B){var T=B.type,j=B.undoTypes,U=!j[T]||j[T][Z];$.isFunction(U)&&U(B.object,B.before,B.after,B.options)}function S(Z,B,T,j,U){if(!(T.isCurrentlyUndoRedoing||Z==="undo"&&T.pointer===-1||Z==="redo"&&T.pointer===T.length-1)){T.isCurrentlyUndoRedoing=!0;var E,M,c=Z==="undo";for(U?M=c&&T.pointer===T.length-1||!c&&T.pointer===-1?$.clone(T.models):q.apply(T.models,c?[0,T.pointer]:[T.pointer,T.length-1]):(E=T.at(c?T.pointer:T.pointer+1),M=j?T.where({magicFusionIndex:E.get("magicFusionIndex")}):[E]),T.pointer+=(c?-1:1)*M.length;E=c?M.pop():M.shift();)E[Z]();T.isCurrentlyUndoRedoing=!1,B.trigger(Z,B)}}function I(Z,B){var T=Z.condition,j=typeof T;return j==="function"?!!l(T,Z,B):j!=="boolean"||T}function H(Z,B,T,j){if(Z.track&&!Z.isCurrentlyUndoRedoing&&B in j&&I(j[B],T)){var U=l(j[B].on,j[B],T);if(N(U,"object","before","after")){if(U.type=B,U.magicFusionIndex=C(),U.undoTypes=j,Z.pointer<Z.length-1)for(var E=Z.length-Z.pointer-1;E--;)Z.pop();Z.pointer=Z.length,Z.add(U),Z.length>Z.maximumStackLength&&(Z.shift(),Z.pointer--)}}}y.prototype={isRegistered:function(Z){return Z&&Z.cid?this.registeredObjects[Z.cid]:$.contains(this.registeredObjects,Z)},register:function(Z){return!this.isRegistered(Z)&&(Z&&Z.cid?(this.registeredObjects[Z.cid]=Z,this.cidIndexes.push(Z.cid)):this.registeredObjects.push(Z),!0)},unregister:function(Z){if(this.isRegistered(Z)){if(Z&&Z.cid)delete this.registeredObjects[Z.cid],this.cidIndexes.splice($.indexOf(this.cidIndexes,Z.cid),1);else{var B=$.indexOf(this.registeredObjects,Z);this.registeredObjects.splice(B,1)}return!0}return!1},get:function(){return $.map(this.cidIndexes,function(Z){return this.registeredObjects[Z]},this).concat(this.registeredObjects)}};var X={add:{undo:function(Z,B,T,j){Z.remove(T,j)},redo:function(Z,B,T,j){j.index&&(j.at=j.index),Z.add(T,j)},on:function(Z,B,T){return{object:B,before:void 0,after:Z,options:$.clone(T)}}},remove:{undo:function(Z,B,T,j){"index"in j&&(j.at=j.index),Z.add(B,j)},redo:function(Z,B,T,j){Z.remove(B,j)},on:function(Z,B,T){return{object:B,before:Z,after:void 0,options:$.clone(T)}}},change:{undo:function(Z,B,T,j){$.isEmpty(B)?$.each($.keys(T),Z.unset,Z):(Z.set(B),j&&j.unsetData&&j.unsetData.before&&j.unsetData.before.length&&$.each(j.unsetData.before,Z.unset,Z))},redo:function(Z,B,T,j){$.isEmpty(T)?$.each($.keys(B),Z.unset,Z):(Z.set(T),j&&j.unsetData&&j.unsetData.after&&j.unsetData.after.length&&$.each(j.unsetData.after,Z.unset,Z))},on:function(Z,B){var T=Z.changedAttributes(),j=$.keys(T),U=$.pick(Z.previousAttributes(),j),E=$.keys(U),M=(B||(B={})).unsetData={after:[],before:[]};return j.length!=E.length&&(j.length>E.length?$.each(j,function(c){c in U||M.before.push(c)},this):$.each(E,function(c){c in T||M.after.push(c)})),{object:Z,before:U,after:T,options:$.clone(B)}}},reset:{undo:function(Z,B,T){Z.reset(B)},redo:function(Z,B,T){Z.reset(T)},on:function(Z,B){return{object:Z,before:B.previousModels,after:$.clone(Z.models)}}}};function Y(){}function x(Z,B,T,j){if(typeof B=="object")return $.each(B,function(U,E){Z===2?x(Z,U,T,j):x(Z,E,U,T)});switch(Z){case 0:N(T,"undo","redo","on")&&$.all($.pick(T,"undo","redo","on"),$.isFunction)&&(j[B]=T);break;case 1:j[B]&&$.isObject(T)&&(j[B]=$.extend({},j[B],T));break;case 2:delete j[B]}return this}Y.prototype=X;var W=D.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(Z){g("undo",this.attributes)},redo:function(Z){g("redo",this.attributes)}}),oe=D.Collection.extend({model:W,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(Z){this.maximumStackLength=Z}}),se=D.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(Z){this.stack=new oe,this.objectRegistry=new y,this.undoTypes=new Y,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(B,T){this.stack.setMaxLength(T)},this),Z&&Z.track&&this.startTracking(),Z&&Z.register&&($.isArray(Z.register)||$.isArguments(Z.register)?l(this.register,this,Z.register):this.register(Z.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(Z){H(this.stack,Z,P(arguments,1),this.undoTypes)},register:function(){m("on",arguments,this._addToStack,this)},unregister:function(){m("off",arguments,this._addToStack,this)},unregisterAll:function(){l(this.unregister,this,this.objectRegistry.get())},undo:function(Z){S("undo",this,this.stack,Z)},undoAll:function(){S("undo",this,this.stack,!1,!0)},redo:function(Z){S("redo",this,this.stack,Z)},redoAll:function(){S("redo",this,this.stack,!1,!0)},isAvailable:function(Z){var B=this.stack,T=B.length;switch(Z){case"undo":return T>0&&B.pointer>-1;case"redo":return T>0&&B.pointer<T-1;default:return!1}},merge:function(Z){for(var B,T=$.isArray(Z)?Z:P(arguments);B=T.pop();)B instanceof se&&B.stack instanceof oe&&(B.stack=this.stack)},addUndoType:function(Z,B){x(0,Z,B,this.undoTypes)},changeUndoType:function(Z,B){x(1,Z,B,this.undoTypes)},removeUndoType:function(Z){x(2,Z,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return $.extend(se,{defaults:function(Z){$.extend(se.prototype.defaults,Z)},addUndoType:function(Z,B){x(0,Z,B,X)},changeUndoType:function(Z,B){x(1,Z,B,X)},removeUndoType:function(Z){x(2,Z,void 0,X)}}),D.UndoManager=se},(k=typeof ie=="function"?ie.apply(_e,w):ie)===void 0||(ge.exports=k)},2316:(ge,_e,z)=>{var ie,w;(function(k){var $=typeof self=="object"&&self.self===self&&self||typeof z.g=="object"&&z.g.global===z.g&&z.g;ie=[z(9050),z(2579),_e],w=function(D,q,l){$.Backbone=function(P,N,C,y){var m=P.Backbone,g=Array.prototype.slice;N.VERSION="1.4.1",N.$=y,N.noConflict=function(){return P.Backbone=m,this},N.emulateHTTP=!1,N.emulateJSON=!1;var S,I=N.Events={},H=/\s+/,X=function(ae,be,re,Te,Re){var Fe,it=0;if(re&&typeof re=="object")for(Te!==void 0&&("context"in Re)&&Re.context===void 0&&(Re.context=Te),Fe=C.keys(re);it<Fe.length;it++)be=X(ae,be,Fe[it],re[Fe[it]],Re);else if(re&&H.test(re))for(Fe=re.split(H);it<Fe.length;it++)be=ae(be,Fe[it],Te,Re);else be=ae(be,re,Te,Re);return be};I.on=function(ae,be,re){return this._events=X(Y,this._events||{},ae,be,{context:re,ctx:this,listening:S}),S&&((this._listeners||(this._listeners={}))[S.id]=S,S.interop=!1),this},I.listenTo=function(ae,be,re){if(!ae)return this;var Te=ae._listenId||(ae._listenId=C.uniqueId("l")),Re=this._listeningTo||(this._listeningTo={}),Fe=S=Re[Te];Fe||(this._listenId||(this._listenId=C.uniqueId("l")),Fe=S=Re[Te]=new B(this,ae));var it=x(ae,be,re,this);if(S=void 0,it)throw it;return Fe.interop&&Fe.on(be,re),this};var Y=function(ae,be,re,Te){if(re){var Re=ae[be]||(ae[be]=[]),Fe=Te.context,it=Te.ctx,lt=Te.listening;lt&&lt.count++,Re.push({callback:re,context:Fe,ctx:Fe||it,listening:lt})}return ae},x=function(ae,be,re,Te){try{ae.on(be,re,Te)}catch(Re){return Re}};I.off=function(ae,be,re){return this._events?(this._events=X(W,this._events,ae,be,{context:re,listeners:this._listeners}),this):this},I.stopListening=function(ae,be,re){var Te=this._listeningTo;if(!Te)return this;for(var Re=ae?[ae._listenId]:C.keys(Te),Fe=0;Fe<Re.length;Fe++){var it=Te[Re[Fe]];if(!it)break;it.obj.off(be,re,this),it.interop&&it.off(be,re)}return C.isEmpty(Te)&&(this._listeningTo=void 0),this};var W=function(ae,be,re,Te){if(ae){var Re,Fe=Te.context,it=Te.listeners,lt=0;if(be||Fe||re){for(Re=be?[be]:C.keys(ae);lt<Re.length;lt++){var St=ae[be=Re[lt]];if(!St)break;for(var Ut=[],Xt=0;Xt<St.length;Xt++){var Dt=St[Xt];if(re&&re!==Dt.callback&&re!==Dt.callback._callback||Fe&&Fe!==Dt.context)Ut.push(Dt);else{var ot=Dt.listening;ot&&ot.off(be,re)}}Ut.length?ae[be]=Ut:delete ae[be]}return ae}for(Re=C.keys(it);lt<Re.length;lt++)it[Re[lt]].cleanup()}};I.once=function(ae,be,re){var Te=X(oe,{},ae,be,this.off.bind(this));return typeof ae=="string"&&re==null&&(be=void 0),this.on(Te,be,re)},I.listenToOnce=function(ae,be,re){var Te=X(oe,{},be,re,this.stopListening.bind(this,ae));return this.listenTo(ae,Te)};var oe=function(ae,be,re,Te){if(re){var Re=ae[be]=C.once(function(){Te(be,Re),re.apply(this,arguments)});Re._callback=re}return ae};I.trigger=function(ae){if(!this._events)return this;for(var be=Math.max(0,arguments.length-1),re=Array(be),Te=0;Te<be;Te++)re[Te]=arguments[Te+1];return X(se,this._events,ae,void 0,re),this};var se=function(ae,be,re,Te){if(ae){var Re=ae[be],Fe=ae.all;Re&&Fe&&(Fe=Fe.slice()),Re&&Z(Re,Te),Fe&&Z(Fe,[be].concat(Te))}return ae},Z=function(ae,be){var re,Te=-1,Re=ae.length,Fe=be[0],it=be[1],lt=be[2];switch(be.length){case 0:for(;++Te<Re;)(re=ae[Te]).callback.call(re.ctx);return;case 1:for(;++Te<Re;)(re=ae[Te]).callback.call(re.ctx,Fe);return;case 2:for(;++Te<Re;)(re=ae[Te]).callback.call(re.ctx,Fe,it);return;case 3:for(;++Te<Re;)(re=ae[Te]).callback.call(re.ctx,Fe,it,lt);return;default:for(;++Te<Re;)(re=ae[Te]).callback.apply(re.ctx,be);return}},B=function(ae,be){this.id=ae._listenId,this.listener=ae,this.obj=be,this.interop=!0,this.count=0,this._events=void 0};B.prototype.on=I.on,B.prototype.off=function(ae,be){var re;this.interop?(this._events=X(W,this._events,ae,be,{context:void 0,listeners:void 0}),re=!this._events):(this.count--,re=this.count===0),re&&this.cleanup()},B.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},I.bind=I.on,I.unbind=I.off,C.extend(N,I);var T=N.Model=function(ae,be){var re=ae||{};be||(be={}),this.preinitialize.apply(this,arguments),this.cid=C.uniqueId(this.cidPrefix),this.attributes={},be.collection&&(this.collection=be.collection),be.parse&&(re=this.parse(re,be)||{});var Te=C.result(this,"defaults");re=C.defaults(C.extend({},Te,re),Te),this.set(re,be),this.changed={},this.initialize.apply(this,arguments)};C.extend(T.prototype,I,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(ae){return C.clone(this.attributes)},sync:function(){return N.sync.apply(this,arguments)},get:function(ae){return this.attributes[ae]},escape:function(ae){return C.escape(this.get(ae))},has:function(ae){return this.get(ae)!=null},matches:function(ae){return!!C.iteratee(ae,this)(this.attributes)},set:function(ae,be,re){if(ae==null)return this;var Te;if(typeof ae=="object"?(Te=ae,re=be):(Te={})[ae]=be,re||(re={}),!this._validate(Te,re))return!1;var Re=re.unset,Fe=re.silent,it=[],lt=this._changing;this._changing=!0,lt||(this._previousAttributes=C.clone(this.attributes),this.changed={});var St=this.attributes,Ut=this.changed,Xt=this._previousAttributes;for(var Dt in Te)be=Te[Dt],C.isEqual(St[Dt],be)||it.push(Dt),C.isEqual(Xt[Dt],be)?delete Ut[Dt]:Ut[Dt]=be,Re?delete St[Dt]:St[Dt]=be;if(this.idAttribute in Te){var ot=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ot,re)}if(!Fe){it.length&&(this._pending=re);for(var st=0;st<it.length;st++)this.trigger("change:"+it[st],this,St[it[st]],re)}if(lt)return this;if(!Fe)for(;this._pending;)re=this._pending,this._pending=!1,this.trigger("change",this,re);return this._pending=!1,this._changing=!1,this},unset:function(ae,be){return this.set(ae,void 0,C.extend({},be,{unset:!0}))},clear:function(ae){var be={};for(var re in this.attributes)be[re]=void 0;return this.set(be,C.extend({},ae,{unset:!0}))},hasChanged:function(ae){return ae==null?!C.isEmpty(this.changed):C.has(this.changed,ae)},changedAttributes:function(ae){if(!ae)return!!this.hasChanged()&&C.clone(this.changed);var be,re=this._changing?this._previousAttributes:this.attributes,Te={};for(var Re in ae){var Fe=ae[Re];C.isEqual(re[Re],Fe)||(Te[Re]=Fe,be=!0)}return!!be&&Te},previous:function(ae){return ae!=null&&this._previousAttributes?this._previousAttributes[ae]:null},previousAttributes:function(){return C.clone(this._previousAttributes)},fetch:function(ae){ae=C.extend({parse:!0},ae);var be=this,re=ae.success;return ae.success=function(Te){var Re=ae.parse?be.parse(Te,ae):Te;if(!be.set(Re,ae))return!1;re&&re.call(ae.context,be,Te,ae),be.trigger("sync",be,Te,ae)},je(this,ae),this.sync("read",this,ae)},save:function(ae,be,re){var Te;ae==null||typeof ae=="object"?(Te=ae,re=be):(Te={})[ae]=be;var Re=(re=C.extend({validate:!0,parse:!0},re)).wait;if(Te&&!Re){if(!this.set(Te,re))return!1}else if(!this._validate(Te,re))return!1;var Fe=this,it=re.success,lt=this.attributes;re.success=function(Xt){Fe.attributes=lt;var Dt=re.parse?Fe.parse(Xt,re):Xt;if(Re&&(Dt=C.extend({},Te,Dt)),Dt&&!Fe.set(Dt,re))return!1;it&&it.call(re.context,Fe,Xt,re),Fe.trigger("sync",Fe,Xt,re)},je(this,re),Te&&Re&&(this.attributes=C.extend({},lt,Te));var St=this.isNew()?"create":re.patch?"patch":"update";St!=="patch"||re.attrs||(re.attrs=Te);var Ut=this.sync(St,this,re);return this.attributes=lt,Ut},destroy:function(ae){ae=ae?C.clone(ae):{};var be=this,re=ae.success,Te=ae.wait,Re=function(){be.stopListening(),be.trigger("destroy",be,be.collection,ae)};ae.success=function(it){Te&&Re(),re&&re.call(ae.context,be,it,ae),be.isNew()||be.trigger("sync",be,it,ae)};var Fe=!1;return this.isNew()?C.defer(ae.success):(je(this,ae),Fe=this.sync("delete",this,ae)),Te||Re(),Fe},url:function(){var ae=C.result(this,"urlRoot")||C.result(this.collection,"url")||Me();if(this.isNew())return ae;var be=this.get(this.idAttribute);return ae.replace(/[^\/]$/,"$&/")+encodeURIComponent(be)},parse:function(ae,be){return ae},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(ae){return this._validate({},C.extend({},ae,{validate:!0}))},_validate:function(ae,be){if(!be.validate||!this.validate)return!0;ae=C.extend({},this.attributes,ae);var re=this.validationError=this.validate(ae,be)||null;return!re||(this.trigger("invalid",this,re,C.extend(be,{validationError:re})),!1)}});var j=N.Collection=function(ae,be){be||(be={}),this.preinitialize.apply(this,arguments),be.model&&(this.model=be.model),be.comparator!==void 0&&(this.comparator=be.comparator),this._reset(),this.initialize.apply(this,arguments),ae&&this.reset(ae,C.extend({silent:!0},be))},U={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},M=function(ae,be,re){re=Math.min(Math.max(re,0),ae.length);var Te,Re=Array(ae.length-re),Fe=be.length;for(Te=0;Te<Re.length;Te++)Re[Te]=ae[Te+re];for(Te=0;Te<Fe;Te++)ae[Te+re]=be[Te];for(Te=0;Te<Re.length;Te++)ae[Te+Fe+re]=Re[Te]};C.extend(j.prototype,I,{model:T,preinitialize:function(){},initialize:function(){},toJSON:function(ae){return this.map(function(be){return be.toJSON(ae)})},sync:function(){return N.sync.apply(this,arguments)},add:function(ae,be){return this.set(ae,C.extend({merge:!1},be,E))},remove:function(ae,be){be=C.extend({},be);var re=!C.isArray(ae);ae=re?[ae]:ae.slice();var Te=this._removeModels(ae,be);return!be.silent&&Te.length&&(be.changes={added:[],merged:[],removed:Te},this.trigger("update",this,be)),re?Te[0]:Te},set:function(ae,be){if(ae!=null){(be=C.extend({},U,be)).parse&&!this._isModel(ae)&&(ae=this.parse(ae,be)||[]);var re=!C.isArray(ae);ae=re?[ae]:ae.slice();var Te=be.at;Te!=null&&(Te=+Te),Te>this.length&&(Te=this.length),Te<0&&(Te+=this.length+1);var Re,Fe,it=[],lt=[],St=[],Ut=[],Xt={},Dt=be.add,ot=be.merge,st=be.remove,Ve=!1,Ge=this.comparator&&Te==null&&be.sort!==!1,dt=C.isString(this.comparator)?this.comparator:null;for(Fe=0;Fe<ae.length;Fe++){Re=ae[Fe];var We=this.get(Re);if(We){if(ot&&Re!==We){var mt=this._isModel(Re)?Re.attributes:Re;be.parse&&(mt=We.parse(mt,be)),We.set(mt,be),St.push(We),Ge&&!Ve&&(Ve=We.hasChanged(dt))}Xt[We.cid]||(Xt[We.cid]=!0,it.push(We)),ae[Fe]=We}else Dt&&(Re=ae[Fe]=this._prepareModel(Re,be))&&(lt.push(Re),this._addReference(Re,be),Xt[Re.cid]=!0,it.push(Re))}if(st){for(Fe=0;Fe<this.length;Fe++)Xt[(Re=this.models[Fe]).cid]||Ut.push(Re);Ut.length&&this._removeModels(Ut,be)}var Ke=!1,gt=!Ge&&Dt&&st;if(it.length&&gt?(Ke=this.length!==it.length||C.some(this.models,function(vt,Ct){return vt!==it[Ct]}),this.models.length=0,M(this.models,it,0),this.length=this.models.length):lt.length&&(Ge&&(Ve=!0),M(this.models,lt,Te==null?this.length:Te),this.length=this.models.length),Ve&&this.sort({silent:!0}),!be.silent){for(Fe=0;Fe<lt.length;Fe++)Te!=null&&(be.index=Te+Fe),(Re=lt[Fe]).trigger("add",Re,this,be);(Ve||Ke)&&this.trigger("sort",this,be),(lt.length||Ut.length||St.length)&&(be.changes={added:lt,removed:Ut,merged:St},this.trigger("update",this,be))}return re?ae[0]:ae}},reset:function(ae,be){be=be?C.clone(be):{};for(var re=0;re<this.models.length;re++)this._removeReference(this.models[re],be);return be.previousModels=this.models,this._reset(),ae=this.add(ae,C.extend({silent:!0},be)),be.silent||this.trigger("reset",this,be),ae},push:function(ae,be){return this.add(ae,C.extend({at:this.length},be))},pop:function(ae){var be=this.at(this.length-1);return this.remove(be,ae)},unshift:function(ae,be){return this.add(ae,C.extend({at:0},be))},shift:function(ae){var be=this.at(0);return this.remove(be,ae)},slice:function(){return g.apply(this.models,arguments)},get:function(ae){if(ae!=null)return this._byId[ae]||this._byId[this.modelId(this._isModel(ae)?ae.attributes:ae,ae.idAttribute)]||ae.cid&&this._byId[ae.cid]},has:function(ae){return this.get(ae)!=null},at:function(ae){return ae<0&&(ae+=this.length),this.models[ae]},where:function(ae,be){return this[be?"find":"filter"](ae)},findWhere:function(ae){return this.where(ae,!0)},sort:function(ae){var be=this.comparator;if(!be)throw new Error("Cannot sort a set without a comparator");ae||(ae={});var re=be.length;return C.isFunction(be)&&(be=be.bind(this)),re===1||C.isString(be)?this.models=this.sortBy(be):this.models.sort(be),ae.silent||this.trigger("sort",this,ae),this},pluck:function(ae){return this.map(ae+"")},fetch:function(ae){var be=(ae=C.extend({parse:!0},ae)).success,re=this;return ae.success=function(Te){var Re=ae.reset?"reset":"set";re[Re](Te,ae),be&&be.call(ae.context,re,Te,ae),re.trigger("sync",re,Te,ae)},je(this,ae),this.sync("read",this,ae)},create:function(ae,be){var re=(be=be?C.clone(be):{}).wait;if(!(ae=this._prepareModel(ae,be)))return!1;re||this.add(ae,be);var Te=this,Re=be.success;return be.success=function(Fe,it,lt){re&&Te.add(Fe,lt),Re&&Re.call(lt.context,Fe,it,lt)},ae.save(null,be),ae},parse:function(ae,be){return ae},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(ae,be){return ae[be||this.model.prototype.idAttribute||"id"]},values:function(){return new d(this,s)},keys:function(){return new d(this,p)},entries:function(){return new d(this,O)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(ae,be){return this._isModel(ae)?(ae.collection||(ae.collection=this),ae):((be=be?C.clone(be):{}).collection=this,(re=this.model.prototype?new this.model(ae,be):this.model(ae,be)).validationError?(this.trigger("invalid",this,re.validationError,be),!1):re);var re},_removeModels:function(ae,be){for(var re=[],Te=0;Te<ae.length;Te++){var Re=this.get(ae[Te]);if(Re){var Fe=this.indexOf(Re);this.models.splice(Fe,1),this.length--,delete this._byId[Re.cid];var it=this.modelId(Re.attributes,Re.idAttribute);it!=null&&delete this._byId[it],be.silent||(be.index=Fe,Re.trigger("remove",Re,this,be)),re.push(Re),this._removeReference(Re,be)}}return re},_isModel:function(ae){return ae instanceof T},_addReference:function(ae,be){this._byId[ae.cid]=ae;var re=this.modelId(ae.attributes,ae.idAttribute);re!=null&&(this._byId[re]=ae),ae.on("all",this._onModelEvent,this)},_removeReference:function(ae,be){delete this._byId[ae.cid];var re=this.modelId(ae.attributes,ae.idAttribute);re!=null&&delete this._byId[re],this===ae.collection&&delete ae.collection,ae.off("all",this._onModelEvent,this)},_onModelEvent:function(ae,be,re,Te){if(be){if((ae==="add"||ae==="remove")&&re!==this)return;if(ae==="destroy"&&this.remove(be,Te),ae==="changeId"){var Re=this.modelId(be.previousAttributes(),be.idAttribute),Fe=this.modelId(be.attributes,be.idAttribute);Re!=null&&delete this._byId[Re],Fe!=null&&(this._byId[Fe]=be)}}this.trigger.apply(this,arguments)}});var c=typeof Symbol=="function"&&Symbol.iterator;c&&(j.prototype[c]=j.prototype.values);var d=function(ae,be){this._collection=ae,this._kind=be,this._index=0},s=1,p=2,O=3;c&&(d.prototype[c]=function(){return this}),d.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var ae,be=this._collection.at(this._index);if(this._index++,this._kind===s)ae=be;else{var re=this._collection.modelId(be.attributes,be.idAttribute);ae=this._kind===p?re:[re,be]}return{value:ae,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var K=N.View=function(ae){this.cid=C.uniqueId("view"),this.preinitialize.apply(this,arguments),C.extend(this,C.pick(ae,ne)),this._ensureElement(),this.initialize.apply(this,arguments)},Q=/^(\S+)\s*(.*)$/,ne=["model","collection","el","id","attributes","className","tagName","events"];C.extend(K.prototype,I,{tagName:"div",$:function(ae){return this.$el.find(ae)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(ae){return this.undelegateEvents(),this._setElement(ae),this.delegateEvents(),this},_setElement:function(ae){this.$el=ae instanceof N.$?ae:N.$(ae),this.el=this.$el[0]},delegateEvents:function(ae){if(ae||(ae=C.result(this,"events")),!ae)return this;for(var be in this.undelegateEvents(),ae){var re=ae[be];if(C.isFunction(re)||(re=this[re]),re){var Te=be.match(Q);this.delegate(Te[1],Te[2],re.bind(this))}}return this},delegate:function(ae,be,re){return this.$el.on(ae+".delegateEvents"+this.cid,be,re),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(ae,be,re){return this.$el.off(ae+".delegateEvents"+this.cid,be,re),this},_createElement:function(ae){return document.createElement(ae)},_ensureElement:function(){if(this.el)this.setElement(C.result(this,"el"));else{var ae=C.extend({},C.result(this,"attributes"));this.id&&(ae.id=C.result(this,"id")),this.className&&(ae.class=C.result(this,"className")),this.setElement(this._createElement(C.result(this,"tagName"))),this._setAttributes(ae)}},_setAttributes:function(ae){this.$el.attr(ae)}});var R=function(ae,be,re,Te){switch(be){case 1:return function(){return ae[re](this[Te])};case 2:return function(Re){return ae[re](this[Te],Re)};case 3:return function(Re,Fe){return ae[re](this[Te],b(Re,this),Fe)};case 4:return function(Re,Fe,it){return ae[re](this[Te],b(Re,this),Fe,it)};default:return function(){var Re=g.call(arguments);return Re.unshift(this[Te]),ae[re].apply(ae,Re)}}},v=function(ae,be,re,Te){C.each(re,function(Re,Fe){be[Fe]&&(ae.prototype[Fe]=R(be,Re,Fe,Te))})},b=function(ae,be){return C.isFunction(ae)?ae:C.isObject(ae)&&!be._isModel(ae)?a(ae):C.isString(ae)?function(re){return re.get(ae)}:ae},a=function(ae){var be=C.matches(ae);return function(re){return be(re.attributes)}},f={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},h={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};C.each([[j,f,"models"],[T,h,"attributes"]],function(ae){var be=ae[0],re=ae[1],Te=ae[2];be.mixin=function(Re){var Fe=C.reduce(C.functions(Re),function(it,lt){return it[lt]=0,it},{});v(be,Re,Fe,Te)},v(be,C,re,Te)}),N.sync=function(ae,be,re){var Te=_[ae];C.defaults(re||(re={}),{emulateHTTP:N.emulateHTTP,emulateJSON:N.emulateJSON});var Re={type:Te,dataType:"json"};if(re.url||(Re.url=C.result(be,"url")||Me()),re.data!=null||!be||ae!=="create"&&ae!=="update"&&ae!=="patch"||(Re.contentType="application/json",Re.data=JSON.stringify(re.attrs||be.toJSON(re))),re.emulateJSON&&(Re.contentType="application/x-www-form-urlencoded",Re.data=Re.data?{model:Re.data}:{}),re.emulateHTTP&&(Te==="PUT"||Te==="DELETE"||Te==="PATCH")){Re.type="POST",re.emulateJSON&&(Re.data._method=Te);var Fe=re.beforeSend;re.beforeSend=function(St){if(St.setRequestHeader("X-HTTP-Method-Override",Te),Fe)return Fe.apply(this,arguments)}}Re.type==="GET"||re.emulateJSON||(Re.processData=!1);var it=re.error;re.error=function(St,Ut,Xt){re.textStatus=Ut,re.errorThrown=Xt,it&&it.call(re.context,St,Ut,Xt)};var lt=re.xhr=N.ajax(C.extend(Re,re));return be.trigger("request",be,lt,re),lt};var _={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};N.ajax=function(){return N.$.ajax.apply(N.$,arguments)};var A=N.Router=function(ae){ae||(ae={}),this.preinitialize.apply(this,arguments),ae.routes&&(this.routes=ae.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},J=/\((.*?)\)/g,te=/(\(\?)?:\w+/g,F=/\*\w+/g,G=/[\-{}\[\]+?.,\\\^$|#\s]/g;C.extend(A.prototype,I,{preinitialize:function(){},initialize:function(){},route:function(ae,be,re){C.isRegExp(ae)||(ae=this._routeToRegExp(ae)),C.isFunction(be)&&(re=be,be=""),re||(re=this[be]);var Te=this;return N.history.route(ae,function(Re){var Fe=Te._extractParameters(ae,Re);Te.execute(re,Fe,be)!==!1&&(Te.trigger.apply(Te,["route:"+be].concat(Fe)),Te.trigger("route",be,Fe),N.history.trigger("route",Te,be,Fe))}),this},execute:function(ae,be,re){ae&&ae.apply(this,be)},navigate:function(ae,be){return N.history.navigate(ae,be),this},_bindRoutes:function(){if(this.routes){this.routes=C.result(this,"routes");for(var ae,be=C.keys(this.routes);(ae=be.pop())!=null;)this.route(ae,this.routes[ae])}},_routeToRegExp:function(ae){return ae=ae.replace(G,"\\$&").replace(J,"(?:$1)?").replace(te,function(be,re){return re?be:"([^/?]+)"}).replace(F,"([^?]*?)"),new RegExp("^"+ae+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(ae,be){var re=ae.exec(be).slice(1);return C.map(re,function(Te,Re){return Re===re.length-1?Te||null:Te?decodeURIComponent(Te):null})}});var V=N.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},le=/^[#\/]|\s+$/g,ve=/^\/+|\/+$/g,Ne=/#.*$/;V.started=!1,C.extend(V.prototype,I,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(ae){return decodeURI(ae.replace(/%25/g,"%2525"))},getSearch:function(){var ae=this.location.href.replace(/#.*/,"").match(/\?.+/);return ae?ae[0]:""},getHash:function(ae){var be=(ae||this).location.href.match(/#(.*)$/);return be?be[1]:""},getPath:function(){var ae=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return ae.charAt(0)==="/"?ae.slice(1):ae},getFragment:function(ae){return ae==null&&(ae=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),ae.replace(le,"")},start:function(ae){if(V.started)throw new Error("Backbone.history has already been started");if(V.started=!0,this.options=C.extend({root:"/"},this.options,ae),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ve,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var be=this.root.slice(0,-1)||"/";return this.location.replace(be+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var re=document.body,Te=re.insertBefore(this.iframe,re.firstChild).contentWindow;Te.document.open(),Te.document.close(),Te.location.hash="#"+this.fragment}var Re=window.addEventListener||function(Fe,it){return attachEvent("on"+Fe,it)};if(this._usePushState?Re("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Re("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var ae=window.removeEventListener||function(be,re){return detachEvent("on"+be,re)};this._usePushState?ae("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&ae("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),V.started=!1},route:function(ae,be){this.handlers.unshift({route:ae,callback:be})},checkUrl:function(ae){var be=this.getFragment();if(be===this.fragment&&this.iframe&&(be=this.getHash(this.iframe.contentWindow)),be===this.fragment)return!1;this.iframe&&this.navigate(be),this.loadUrl()},loadUrl:function(ae){return!!this.matchRoot()&&(ae=this.fragment=this.getFragment(ae),C.some(this.handlers,function(be){if(be.route.test(ae))return be.callback(ae),!0}))},navigate:function(ae,be){if(!V.started)return!1;be&&be!==!0||(be={trigger:!!be}),ae=this.getFragment(ae||"");var re=this.root;ae!==""&&ae.charAt(0)!=="?"||(re=re.slice(0,-1)||"/");var Te=re+ae;ae=ae.replace(Ne,"");var Re=this.decodeFragment(ae);if(this.fragment!==Re){if(this.fragment=Re,this._usePushState)this.history[be.replace?"replaceState":"pushState"]({},document.title,Te);else{if(!this._wantsHashChange)return this.location.assign(Te);if(this._updateHash(this.location,ae,be.replace),this.iframe&&ae!==this.getHash(this.iframe.contentWindow)){var Fe=this.iframe.contentWindow;be.replace||(Fe.document.open(),Fe.document.close()),this._updateHash(Fe.location,ae,be.replace)}}return be.trigger?this.loadUrl(ae):void 0}},_updateHash:function(ae,be,re){if(re){var Te=ae.href.replace(/(javascript:|#).*$/,"");ae.replace(Te+"#"+be)}else ae.hash="#"+be}}),N.history=new V;var Ze=function(ae,be){var re,Te=this;return re=ae&&C.has(ae,"constructor")?ae.constructor:function(){return Te.apply(this,arguments)},C.extend(re,Te,be),re.prototype=C.create(Te.prototype,ae),re.prototype.constructor=re,re.__super__=Te.prototype,re};T.extend=j.extend=A.extend=K.extend=V.extend=Ze;var Me=function(){throw new Error('A "url" property or function must be specified')},je=function(ae,be){var re=be.error;be.error=function(Te){re&&re.call(be.context,ae,Te,be),ae.trigger("error",ae,Te,be)}};return N}($,l,D,q)}.apply(_e,ie),w===void 0||(ge.exports=w)})()},9210:(ge,_e,z)=>{(function(ie){ie.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(k,$){return/^[;{}]$/.test($)}}),ie.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(k,$,D,q){return this.jsonMode?/^[\[,{]$/.test($)||/^}/.test(D):($!=";"||!q.lexical||q.lexical.type!=")")&&/^[;{}]$/.test($)&&!/^;/.test(D)}});var w=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;ie.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(k,$,D,q){var l=!1;return this.configuration=="html"&&(l=!!q.context&&w.test(q.context.tagName)),!l&&(k=="tag"&&/>$/.test($)&&q.context||/^</.test(D))}}),ie.defineExtension("commentRange",function(k,$,D){var q=this,l=ie.innerMode(q.getMode(),q.getTokenAt($).state).mode;q.operation(function(){if(k)q.replaceRange(l.commentEnd,D),q.replaceRange(l.commentStart,$),$.line==D.line&&$.ch==D.ch&&q.setCursor($.line,$.ch+l.commentStart.length);else{var P=q.getRange($,D),N=P.indexOf(l.commentStart),C=P.lastIndexOf(l.commentEnd);N>-1&&C>-1&&C>N&&(P=P.substr(0,N)+P.substring(N+l.commentStart.length,C)+P.substr(C+l.commentEnd.length)),q.replaceRange(P,$,D)}})}),ie.defineExtension("autoIndentRange",function(k,$){var D=this;this.operation(function(){for(var q=k.line;q<=$.line;q++)D.indentLine(q,"smart")})}),ie.defineExtension("autoFormatRange",function(k,$){var D=this,q=D.getMode(),l=D.getRange(k,$).split(`
`),P=ie.copyState(q,D.getTokenAt(k).state),N=D.getOption("tabSize"),C="",y=0,m=k.ch===0;function g(){C+=`
`,m=!0,++y}for(var S=0;S<l.length;++S){for(var I=new ie.StringStream(l[S],N);!I.eol();){var H=ie.innerMode(q,P),X=q.token(I,P),Y=I.current();I.start=I.pos,m&&!/\S/.test(Y)||(C+=Y,m=!1),!m&&H.mode.newlineAfterToken&&H.mode.newlineAfterToken(X,Y,I.string.slice(I.pos)||l[S+1]||"",H.state)&&g()}!I.pos&&q.blankLine&&q.blankLine(P),!m&&S<l.length-1&&g()}D.operation(function(){D.replaceRange(C,k,$);for(var x=k.line+1,W=k.line+y;x<=W;++x)D.indentLine(x,"smart");D.setSelection(k,D.getCursor(!1))})})})(z(4631))},4631:function(ge){ge.exports=function(){var _e=navigator.userAgent,z=navigator.platform,ie=/gecko\/\d/i.test(_e),w=/MSIE \d/.test(_e),k=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_e),$=/Edge\/(\d+)/.exec(_e),D=w||k||$,q=D&&(w?document.documentMode||6:+($||k)[1]),l=!$&&/WebKit\//.test(_e),P=l&&/Qt\/\d+\.\d+/.test(_e),N=!$&&/Chrome\/(\d+)/.exec(_e),C=N&&+N[1],y=/Opera\//.test(_e),m=/Apple Computer/.test(navigator.vendor),g=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(_e),S=/PhantomJS/.test(_e),I=m&&(/Mobile\/\w+/.test(_e)||navigator.maxTouchPoints>2),H=/Android/.test(_e),X=I||H||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(_e),Y=I||/Mac/.test(z),x=/\bCrOS\b/.test(_e),W=/win/i.test(z),oe=y&&_e.match(/Version\/(\d*\.\d*)/);oe&&(oe=Number(oe[1])),oe&&oe>=15&&(y=!1,l=!0);var se=Y&&(P||y&&(oe==null||oe<12.11)),Z=ie||D&&q>=9;function B(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}var T,j=function(n,o){var e=n.className,t=B(o).exec(e);if(t){var r=e.slice(t.index+t[0].length);n.className=e.slice(0,t.index)+(r?t[1]+r:"")}};function U(n){for(var o=n.childNodes.length;o>0;--o)n.removeChild(n.firstChild);return n}function E(n,o){return U(n).appendChild(o)}function M(n,o,e,t){var r=document.createElement(n);if(e&&(r.className=e),t&&(r.style.cssText=t),typeof o=="string")r.appendChild(document.createTextNode(o));else if(o)for(var i=0;i<o.length;++i)r.appendChild(o[i]);return r}function c(n,o,e,t){var r=M(n,o,e,t);return r.setAttribute("role","presentation"),r}function d(n,o){if(o.nodeType==3&&(o=o.parentNode),n.contains)return n.contains(o);do if(o.nodeType==11&&(o=o.host),o==n)return!0;while(o=o.parentNode)}function s(){var n;try{n=document.activeElement}catch{n=document.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;return n}function p(n,o){var e=n.className;B(o).test(e)||(n.className+=(e?" ":"")+o)}function O(n,o){for(var e=n.split(" "),t=0;t<e.length;t++)e[t]&&!B(e[t]).test(o)&&(o+=" "+e[t]);return o}T=document.createRange?function(n,o,e,t){var r=document.createRange();return r.setEnd(t||n,e),r.setStart(n,o),r}:function(n,o,e){var t=document.body.createTextRange();try{t.moveToElementText(n.parentNode)}catch{return t}return t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",o),t};var K=function(n){n.select()};function Q(n){var o=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,o)}}function ne(n,o,e){for(var t in o||(o={}),n)!n.hasOwnProperty(t)||e===!1&&o.hasOwnProperty(t)||(o[t]=n[t]);return o}function R(n,o,e,t,r){o==null&&(o=n.search(/[^\s\u00a0]/))==-1&&(o=n.length);for(var i=t||0,u=r||0;;){var L=n.indexOf("	",i);if(L<0||L>=o)return u+(o-i);u+=L-i,u+=e-u%e,i=L+1}}I?K=function(n){n.selectionStart=0,n.selectionEnd=n.value.length}:D&&(K=function(n){try{n.select()}catch{}});var v=function(){this.id=null,this.f=null,this.time=0,this.handler=Q(this.onTimeout,this)};function b(n,o){for(var e=0;e<n.length;++e)if(n[e]==o)return e;return-1}v.prototype.onTimeout=function(n){n.id=0,n.time<=+new Date?n.f():setTimeout(n.handler,n.time-+new Date)},v.prototype.set=function(n,o){this.f=o;var e=+new Date+n;(!this.id||e<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,n),this.time=e)};var a=50,f={toString:function(){return"CodeMirror.Pass"}},h={scroll:!1},_={origin:"*mouse"},A={origin:"+move"};function J(n,o,e){for(var t=0,r=0;;){var i=n.indexOf("	",t);i==-1&&(i=n.length);var u=i-t;if(i==n.length||r+u>=o)return t+Math.min(u,o-r);if(r+=i-t,t=i+1,(r+=e-r%e)>=o)return t}}var te=[""];function F(n){for(;te.length<=n;)te.push(G(te)+" ");return te[n]}function G(n){return n[n.length-1]}function V(n,o){for(var e=[],t=0;t<n.length;t++)e[t]=o(n[t],t);return e}function le(n,o,e){for(var t=0,r=e(o);t<n.length&&e(n[t])<=r;)t++;n.splice(t,0,o)}function ve(){}function Ne(n,o){var e;return Object.create?e=Object.create(n):(ve.prototype=n,e=new ve),o&&ne(o,e),e}var Ze=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Me(n){return/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||Ze.test(n))}function je(n,o){return o?!!(o.source.indexOf("\\w")>-1&&Me(n))||o.test(n):Me(n)}function ae(n){for(var o in n)if(n.hasOwnProperty(o)&&n[o])return!1;return!0}var be=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(n){return n.charCodeAt(0)>=768&&be.test(n)}function Te(n,o,e){for(;(e<0?o>0:o<n.length)&&re(n.charAt(o));)o+=e;return o}function Re(n,o,e){for(var t=o>e?-1:1;;){if(o==e)return o;var r=(o+e)/2,i=t<0?Math.ceil(r):Math.floor(r);if(i==o)return n(i)?o:e;n(i)?e=i:o=i+t}}function Fe(n,o,e,t){if(!n)return t(o,e,"ltr",0);for(var r=!1,i=0;i<n.length;++i){var u=n[i];(u.from<e&&u.to>o||o==e&&u.to==o)&&(t(Math.max(u.from,o),Math.min(u.to,e),u.level==1?"rtl":"ltr",i),r=!0)}r||t(o,e,"ltr")}var it=null;function lt(n,o,e){var t;it=null;for(var r=0;r<n.length;++r){var i=n[r];if(i.from<o&&i.to>o)return r;i.to==o&&(i.from!=i.to&&e=="before"?t=r:it=r),i.from==o&&(i.from!=i.to&&e!="before"?t=r:it=r)}return t!=null?t:it}var St=function(){var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",o="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function e(pe){return pe<=247?n.charAt(pe):1424<=pe&&pe<=1524?"R":1536<=pe&&pe<=1785?o.charAt(pe-1536):1774<=pe&&pe<=2220?"r":8192<=pe&&pe<=8203?"w":pe==8204?"b":"L"}var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,i=/[LRr]/,u=/[Lb1n]/,L=/[1n]/;function ue(pe,ke,xe){this.level=pe,this.from=ke,this.to=xe}return function(pe,ke){var xe=ke=="ltr"?"L":"R";if(pe.length==0||ke=="ltr"&&!t.test(pe))return!1;for(var Je=pe.length,et=[],pt=0;pt<Je;++pt)et.push(e(pe.charCodeAt(pt)));for(var wt=0,Et=xe;wt<Je;++wt){var jt=et[wt];jt=="m"?et[wt]=Et:Et=jt}for(var zt=0,qt=xe;zt<Je;++zt){var Jt=et[zt];Jt=="1"&&qt=="r"?et[zt]="n":i.test(Jt)&&(qt=Jt,Jt=="r"&&(et[zt]="R"))}for(var Wt=1,on=et[0];Wt<Je-1;++Wt){var _n=et[Wt];_n=="+"&&on=="1"&&et[Wt+1]=="1"?et[Wt]="1":_n!=","||on!=et[Wt+1]||on!="1"&&on!="n"||(et[Wt]=on),on=_n}for(var Cn=0;Cn<Je;++Cn){var nr=et[Cn];if(nr==",")et[Cn]="N";else if(nr=="%"){var Wn=void 0;for(Wn=Cn+1;Wn<Je&&et[Wn]=="%";++Wn);for(var Ir=Cn&&et[Cn-1]=="!"||Wn<Je&&et[Wn]=="1"?"1":"N",ar=Cn;ar<Wn;++ar)et[ar]=Ir;Cn=Wn-1}}for(var vr=0,Pr=xe;vr<Je;++vr){var lr=et[vr];Pr=="L"&&lr=="1"?et[vr]="L":i.test(lr)&&(Pr=lr)}for(var dr=0;dr<Je;++dr)if(r.test(et[dr])){var fr=void 0;for(fr=dr+1;fr<Je&&r.test(et[fr]);++fr);for(var rr=(dr?et[dr-1]:xe)=="L",hr=rr==((fr<Je?et[fr]:xe)=="L")?rr?"L":"R":xe,Ar=dr;Ar<fr;++Ar)et[Ar]=hr;dr=fr-1}for(var Zr,Fr=[],Cr=0;Cr<Je;)if(u.test(et[Cr])){var ei=Cr;for(++Cr;Cr<Je&&u.test(et[Cr]);++Cr);Fr.push(new ue(0,ei,Cr))}else{var xr=Cr,vo=Fr.length,gi=ke=="rtl"?1:0;for(++Cr;Cr<Je&&et[Cr]!="L";++Cr);for(var Wr=xr;Wr<Cr;)if(L.test(et[Wr])){xr<Wr&&(Fr.splice(vo,0,new ue(1,xr,Wr)),vo+=gi);var Zi=Wr;for(++Wr;Wr<Cr&&L.test(et[Wr]);++Wr);Fr.splice(vo,0,new ue(2,Zi,Wr)),vo+=gi,xr=Wr}else++Wr;xr<Cr&&Fr.splice(vo,0,new ue(1,xr,Cr))}return ke=="ltr"&&(Fr[0].level==1&&(Zr=pe.match(/^\s+/))&&(Fr[0].from=Zr[0].length,Fr.unshift(new ue(0,0,Zr[0].length))),G(Fr).level==1&&(Zr=pe.match(/\s+$/))&&(G(Fr).to-=Zr[0].length,Fr.push(new ue(0,Je-Zr[0].length,Je)))),ke=="rtl"?Fr.reverse():Fr}}();function Ut(n,o){var e=n.order;return e==null&&(e=n.order=St(n.text,o)),e}var Xt=[],Dt=function(n,o,e){if(n.addEventListener)n.addEventListener(o,e,!1);else if(n.attachEvent)n.attachEvent("on"+o,e);else{var t=n._handlers||(n._handlers={});t[o]=(t[o]||Xt).concat(e)}};function ot(n,o){return n._handlers&&n._handlers[o]||Xt}function st(n,o,e){if(n.removeEventListener)n.removeEventListener(o,e,!1);else if(n.detachEvent)n.detachEvent("on"+o,e);else{var t=n._handlers,r=t&&t[o];if(r){var i=b(r,e);i>-1&&(t[o]=r.slice(0,i).concat(r.slice(i+1)))}}}function Ve(n,o){var e=ot(n,o);if(e.length)for(var t=Array.prototype.slice.call(arguments,2),r=0;r<e.length;++r)e[r].apply(null,t)}function Ge(n,o,e){return typeof o=="string"&&(o={type:o,preventDefault:function(){this.defaultPrevented=!0}}),Ve(n,e||o.type,n,o),vt(o)||o.codemirrorIgnore}function dt(n){var o=n._handlers&&n._handlers.cursorActivity;if(o)for(var e=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),t=0;t<o.length;++t)b(e,o[t])==-1&&e.push(o[t])}function We(n,o){return ot(n,o).length>0}function mt(n){n.prototype.on=function(o,e){Dt(this,o,e)},n.prototype.off=function(o,e){st(this,o,e)}}function Ke(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function gt(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function vt(n){return n.defaultPrevented!=null?n.defaultPrevented:n.returnValue==0}function Ct(n){Ke(n),gt(n)}function It(n){return n.target||n.srcElement}function Nt(n){var o=n.which;return o==null&&(1&n.button?o=1:2&n.button?o=3:4&n.button&&(o=2)),Y&&n.ctrlKey&&o==1&&(o=3),o}var sn,mn,hn=function(){if(D&&q<9)return!1;var n=M("div");return"draggable"in n||"dragDrop"in n}();function fn(n){if(sn==null){var o=M("span","\u200B");E(n,M("span",[o,document.createTextNode("x")])),n.firstChild.offsetHeight!=0&&(sn=o.offsetWidth<=1&&o.offsetHeight>2&&!(D&&q<8))}var e=sn?M("span","\u200B"):M("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return e.setAttribute("cm-text",""),e}function pn(n){if(mn!=null)return mn;var o=E(n,document.createTextNode("A\u062EA")),e=T(o,0,1).getBoundingClientRect(),t=T(o,1,2).getBoundingClientRect();return U(n),!(!e||e.left==e.right)&&(mn=t.right-e.right<3)}var Qt,rn=`

b`.split(/\n/).length!=3?function(n){for(var o=0,e=[],t=n.length;o<=t;){var r=n.indexOf(`
`,o);r==-1&&(r=n.length);var i=n.slice(o,n.charAt(r-1)=="\r"?r-1:r),u=i.indexOf("\r");u!=-1?(e.push(i.slice(0,u)),o+=u+1):(e.push(i),o=r+1)}return e}:function(n){return n.split(/\r\n?|\n/)},nn=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch{return!1}}:function(n){var o;try{o=n.ownerDocument.selection.createRange()}catch{}return!(!o||o.parentElement()!=n)&&o.compareEndPoints("StartToEnd",o)!=0},wn="oncopy"in(Qt=M("div"))||(Qt.setAttribute("oncopy","return;"),typeof Qt.oncopy=="function"),Bn=null;function Hn(n){if(Bn!=null)return Bn;var o=E(n,M("span","x")),e=o.getBoundingClientRect(),t=T(o,0,1).getBoundingClientRect();return Bn=Math.abs(e.left-t.left)>1}var Zn={},Fn={};function xn(n,o){arguments.length>2&&(o.dependencies=Array.prototype.slice.call(arguments,2)),Zn[n]=o}function Nn(n,o){Fn[n]=o}function Vn(n){if(typeof n=="string"&&Fn.hasOwnProperty(n))n=Fn[n];else if(n&&typeof n.name=="string"&&Fn.hasOwnProperty(n.name)){var o=Fn[n.name];typeof o=="string"&&(o={name:o}),(n=Ne(o,n)).name=o.name}else{if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return Vn("application/xml");if(typeof n=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return Vn("application/json")}return typeof n=="string"?{name:n}:n||{name:"null"}}function Sn(n,o){o=Vn(o);var e=Zn[o.name];if(!e)return Sn(n,"text/plain");var t=e(n,o);if(ln.hasOwnProperty(o.name)){var r=ln[o.name];for(var i in r)r.hasOwnProperty(i)&&(t.hasOwnProperty(i)&&(t["_"+i]=t[i]),t[i]=r[i])}if(t.name=o.name,o.helperType&&(t.helperType=o.helperType),o.modeProps)for(var u in o.modeProps)t[u]=o.modeProps[u];return t}var ln={};function ze(n,o){ne(o,ln.hasOwnProperty(n)?ln[n]:ln[n]={})}function bn(n,o){if(o===!0)return o;if(n.copyState)return n.copyState(o);var e={};for(var t in o){var r=o[t];r instanceof Array&&(r=r.concat([])),e[t]=r}return e}function zn(n,o){for(var e;n.innerMode&&(e=n.innerMode(o))&&e.mode!=n;)o=e.state,n=e.mode;return e||{mode:n,state:o}}function In(n,o,e){return!n.startState||n.startState(o,e)}var Mn=function(n,o,e){this.pos=this.start=0,this.string=n,this.tabSize=o||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=e};function cn(n,o){if((o-=n.first)<0||o>=n.size)throw new Error("There is no line "+(o+n.first)+" in the document.");for(var e=n;!e.lines;)for(var t=0;;++t){var r=e.children[t],i=r.chunkSize();if(o<i){e=r;break}o-=i}return e.lines[o]}function Tn(n,o,e){var t=[],r=o.line;return n.iter(o.line,e.line+1,function(i){var u=i.text;r==e.line&&(u=u.slice(0,e.ch)),r==o.line&&(u=u.slice(o.ch)),t.push(u),++r}),t}function gn(n,o,e){var t=[];return n.iter(o,e,function(r){t.push(r.text)}),t}function jn(n,o){var e=o-n.height;if(e)for(var t=n;t;t=t.parent)t.height+=e}function On(n){if(n.parent==null)return null;for(var o=n.parent,e=b(o.lines,n),t=o.parent;t;o=t,t=t.parent)for(var r=0;t.children[r]!=o;++r)e+=t.children[r].chunkSize();return e+o.first}function yn(n,o){var e=n.first;e:do{for(var t=0;t<n.children.length;++t){var r=n.children[t],i=r.height;if(o<i){n=r;continue e}o-=i,e+=r.chunkSize()}return e}while(!n.lines);for(var u=0;u<n.lines.length;++u){var L=n.lines[u].height;if(o<L)break;o-=L}return e+u}function Rn(n,o){return o>=n.first&&o<n.first+n.size}function Dn(n,o){return String(n.lineNumberFormatter(o+n.firstLineNumber))}function en(n,o,e){if(e===void 0&&(e=null),!(this instanceof en))return new en(n,o,e);this.line=n,this.ch=o,this.sticky=e}function Qe(n,o){return n.line-o.line||n.ch-o.ch}function at(n,o){return n.sticky==o.sticky&&Qe(n,o)==0}function Be(n){return en(n.line,n.ch)}function ut(n,o){return Qe(n,o)<0?o:n}function xt(n,o){return Qe(n,o)<0?n:o}function Kt(n,o){return Math.max(n.first,Math.min(o,n.first+n.size-1))}function Ht(n,o){if(o.line<n.first)return en(n.first,0);var e=n.first+n.size-1;return o.line>e?en(e,cn(n,e).text.length):kn(o,cn(n,o.line).text.length)}function kn(n,o){var e=n.ch;return e==null||e>o?en(n.line,o):e<0?en(n.line,0):n}function an(n,o){for(var e=[],t=0;t<o.length;t++)e[t]=Ht(n,o[t]);return e}Mn.prototype.eol=function(){return this.pos>=this.string.length},Mn.prototype.sol=function(){return this.pos==this.lineStart},Mn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Mn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Mn.prototype.eat=function(n){var o=this.string.charAt(this.pos);if(typeof n=="string"?o==n:o&&(n.test?n.test(o):n(o)))return++this.pos,o},Mn.prototype.eatWhile=function(n){for(var o=this.pos;this.eat(n););return this.pos>o},Mn.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},Mn.prototype.skipToEnd=function(){this.pos=this.string.length},Mn.prototype.skipTo=function(n){var o=this.string.indexOf(n,this.pos);if(o>-1)return this.pos=o,!0},Mn.prototype.backUp=function(n){this.pos-=n},Mn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=R(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},Mn.prototype.indentation=function(){return R(this.string,null,this.tabSize)-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},Mn.prototype.match=function(n,o,e){if(typeof n!="string"){var t=this.string.slice(this.pos).match(n);return t&&t.index>0?null:(t&&o!==!1&&(this.pos+=t[0].length),t)}var r=function(i){return e?i.toLowerCase():i};if(r(this.string.substr(this.pos,n.length))==r(n))return o!==!1&&(this.pos+=n.length),!0},Mn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Mn.prototype.hideFirstChars=function(n,o){this.lineStart+=n;try{return o()}finally{this.lineStart-=n}},Mn.prototype.lookAhead=function(n){var o=this.lineOracle;return o&&o.lookAhead(n)},Mn.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};var Qn=function(n,o){this.state=n,this.lookAhead=o},Gn=function(n,o,e,t){this.state=o,this.doc=n,this.line=e,this.maxLookAhead=t||0,this.baseTokens=null,this.baseTokenPos=1};function gr(n,o,e,t){var r=[n.state.modeGen],i={};ft(n,o.text,n.doc.mode,e,function(pe,ke){return r.push(pe,ke)},i,t);for(var u=e.state,L=function(pe){e.baseTokens=r;var ke=n.state.overlays[pe],xe=1,Je=0;e.state=!0,ft(n,o.text,ke.mode,e,function(et,pt){for(var wt=xe;Je<et;){var Et=r[xe];Et>et&&r.splice(xe,1,et,r[xe+1],Et),xe+=2,Je=Math.min(et,Et)}if(pt)if(ke.opaque)r.splice(wt,xe-wt,et,"overlay "+pt),xe=wt+2;else for(;wt<xe;wt+=2){var jt=r[wt+1];r[wt+1]=(jt?jt+" ":"")+"overlay "+pt}},i),e.state=u,e.baseTokens=null,e.baseTokenPos=1},ue=0;ue<n.state.overlays.length;++ue)L(ue);return{styles:r,classes:i.bgClass||i.textClass?i:null}}function or(n,o,e){if(!o.styles||o.styles[0]!=n.state.modeGen){var t=pr(n,On(o)),r=o.text.length>n.options.maxHighlightLength&&bn(n.doc.mode,t.state),i=gr(n,o,t);r&&(t.state=r),o.stateAfter=t.save(!r),o.styles=i.styles,i.classes?o.styleClasses=i.classes:o.styleClasses&&(o.styleClasses=null),e===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return o.styles}function pr(n,o,e){var t=n.doc,r=n.display;if(!t.mode.startState)return new Gn(t,!0,o);var i=yt(n,o,e),u=i>t.first&&cn(t,i-1).stateAfter,L=u?Gn.fromSaved(t,u,i):new Gn(t,In(t.mode),i);return t.iter(i,o,function(ue){mr(n,ue.text,L);var pe=L.line;ue.stateAfter=pe==o-1||pe%5==0||pe>=r.viewFrom&&pe<r.viewTo?L.save():null,L.nextLine()}),e&&(t.modeFrontier=L.line),L}function mr(n,o,e,t){var r=n.doc.mode,i=new Mn(o,n.options.tabSize,e);for(i.start=i.pos=t||0,o==""&&cr(r,e.state);!i.eol();)Xn(r,i,e.state),i.start=i.pos}function cr(n,o){if(n.blankLine)return n.blankLine(o);if(n.innerMode){var e=zn(n,o);return e.mode.blankLine?e.mode.blankLine(e.state):void 0}}function Xn(n,o,e,t){for(var r=0;r<10;r++){t&&(t[0]=zn(n,e).mode);var i=n.token(o,e);if(o.pos>o.start)return i}throw new Error("Mode "+n.name+" failed to advance stream.")}Gn.prototype.lookAhead=function(n){var o=this.doc.getLine(this.line+n);return o!=null&&n>this.maxLookAhead&&(this.maxLookAhead=n),o},Gn.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var o=this.baseTokens[this.baseTokenPos+1];return{type:o&&o.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}},Gn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Gn.fromSaved=function(n,o,e){return o instanceof Qn?new Gn(n,bn(n.mode,o.state),e,o.lookAhead):new Gn(n,bn(n.mode,o),e)},Gn.prototype.save=function(n){var o=n!==!1?bn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Qn(o,this.maxLookAhead):o};var tr=function(n,o,e){this.start=n.start,this.end=n.pos,this.string=n.current(),this.type=o||null,this.state=e};function Yn(n,o,e,t){var r,i,u=n.doc,L=u.mode,ue=cn(u,(o=Ht(u,o)).line),pe=pr(n,o.line,e),ke=new Mn(ue.text,n.options.tabSize,pe);for(t&&(i=[]);(t||ke.pos<o.ch)&&!ke.eol();)ke.start=ke.pos,r=Xn(L,ke,pe.state),t&&i.push(new tr(ke,r,bn(u.mode,pe.state)));return t?i:new tr(ke,r,pe.state)}function Kn(n,o){if(n)for(;;){var e=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!e)break;n=n.slice(0,e.index)+n.slice(e.index+e[0].length);var t=e[1]?"bgClass":"textClass";o[t]==null?o[t]=e[2]:new RegExp("(?:^|\\s)"+e[2]+"(?:$|\\s)").test(o[t])||(o[t]+=" "+e[2])}return n}function ft(n,o,e,t,r,i,u){var L=e.flattenSpans;L==null&&(L=n.options.flattenSpans);var ue,pe=0,ke=null,xe=new Mn(o,n.options.tabSize,t),Je=n.options.addModeClass&&[null];for(o==""&&Kn(cr(e,t.state),i);!xe.eol();){if(xe.pos>n.options.maxHighlightLength?(L=!1,u&&mr(n,o,t,xe.pos),xe.pos=o.length,ue=null):ue=Kn(Xn(e,xe,t.state,Je),i),Je){var et=Je[0].name;et&&(ue="m-"+(ue?et+" "+ue:et))}if(!L||ke!=ue){for(;pe<xe.start;)r(pe=Math.min(xe.start,pe+5e3),ke);ke=ue}xe.start=xe.pos}for(;pe<xe.pos;){var pt=Math.min(xe.pos,pe+5e3);r(pt,ke),pe=pt}}function yt(n,o,e){for(var t,r,i=n.doc,u=e?-1:o-(n.doc.mode.innerMode?1e3:100),L=o;L>u;--L){if(L<=i.first)return i.first;var ue=cn(i,L-1),pe=ue.stateAfter;if(pe&&(!e||L+(pe instanceof Qn?pe.lookAhead:0)<=i.modeFrontier))return L;var ke=R(ue.text,null,n.options.tabSize);(r==null||t>ke)&&(r=L-1,t=ke)}return r}function Ce(n,o){if(n.modeFrontier=Math.min(n.modeFrontier,o),!(n.highlightFrontier<o-10)){for(var e=n.first,t=o-1;t>e;t--){var r=cn(n,t).stateAfter;if(r&&(!(r instanceof Qn)||t+r.lookAhead<o)){e=t+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,e)}}var ce=!1,he=!1;function ee(){ce=!0}function we(){he=!0}function Ie(n,o,e){this.marker=n,this.from=o,this.to=e}function qe(n,o){if(n)for(var e=0;e<n.length;++e){var t=n[e];if(t.marker==o)return t}}function ht(n,o){for(var e,t=0;t<n.length;++t)n[t]!=o&&(e||(e=[])).push(n[t]);return e}function bt(n,o,e){var t=e&&window.WeakSet&&(e.markedSpans||(e.markedSpans=new WeakSet));t&&n.markedSpans&&t.has(n.markedSpans)?n.markedSpans.push(o):(n.markedSpans=n.markedSpans?n.markedSpans.concat([o]):[o],t&&t.add(n.markedSpans)),o.marker.attachLine(n)}function Pt(n,o,e){var t;if(n)for(var r=0;r<n.length;++r){var i=n[r],u=i.marker;if(i.from==null||(u.inclusiveLeft?i.from<=o:i.from<o)||i.from==o&&u.type=="bookmark"&&(!e||!i.marker.insertLeft)){var L=i.to==null||(u.inclusiveRight?i.to>=o:i.to>o);(t||(t=[])).push(new Ie(u,i.from,L?null:i.to))}}return t}function kt(n,o,e){var t;if(n)for(var r=0;r<n.length;++r){var i=n[r],u=i.marker;if(i.to==null||(u.inclusiveRight?i.to>=o:i.to>o)||i.from==o&&u.type=="bookmark"&&(!e||i.marker.insertLeft)){var L=i.from==null||(u.inclusiveLeft?i.from<=o:i.from<o);(t||(t=[])).push(new Ie(u,L?null:i.from-o,i.to==null?null:i.to-o))}}return t}function Mt(n,o){if(o.full)return null;var e=Rn(n,o.from.line)&&cn(n,o.from.line).markedSpans,t=Rn(n,o.to.line)&&cn(n,o.to.line).markedSpans;if(!e&&!t)return null;var r=o.from.ch,i=o.to.ch,u=Qe(o.from,o.to)==0,L=Pt(e,r,u),ue=kt(t,i,u),pe=o.text.length==1,ke=G(o.text).length+(pe?r:0);if(L)for(var xe=0;xe<L.length;++xe){var Je=L[xe];if(Je.to==null){var et=qe(ue,Je.marker);et?pe&&(Je.to=et.to==null?null:et.to+ke):Je.to=r}}if(ue)for(var pt=0;pt<ue.length;++pt){var wt=ue[pt];wt.to!=null&&(wt.to+=ke),wt.from==null?qe(L,wt.marker)||(wt.from=ke,pe&&(L||(L=[])).push(wt)):(wt.from+=ke,pe&&(L||(L=[])).push(wt))}L&&(L=$t(L)),ue&&ue!=L&&(ue=$t(ue));var Et=[L];if(!pe){var jt,zt=o.text.length-2;if(zt>0&&L)for(var qt=0;qt<L.length;++qt)L[qt].to==null&&(jt||(jt=[])).push(new Ie(L[qt].marker,null,null));for(var Jt=0;Jt<zt;++Jt)Et.push(jt);Et.push(ue)}return Et}function $t(n){for(var o=0;o<n.length;++o){var e=n[o];e.from!=null&&e.from==e.to&&e.marker.clearWhenEmpty!==!1&&n.splice(o--,1)}return n.length?n:null}function Yt(n,o,e){var t=null;if(n.iter(o.line,e.line+1,function(et){if(et.markedSpans)for(var pt=0;pt<et.markedSpans.length;++pt){var wt=et.markedSpans[pt].marker;!wt.readOnly||t&&b(t,wt)!=-1||(t||(t=[])).push(wt)}}),!t)return null;for(var r=[{from:o,to:e}],i=0;i<t.length;++i)for(var u=t[i],L=u.find(0),ue=0;ue<r.length;++ue){var pe=r[ue];if(!(Qe(pe.to,L.from)<0||Qe(pe.from,L.to)>0)){var ke=[ue,1],xe=Qe(pe.from,L.from),Je=Qe(pe.to,L.to);(xe<0||!u.inclusiveLeft&&!xe)&&ke.push({from:pe.from,to:L.from}),(Je>0||!u.inclusiveRight&&!Je)&&ke.push({from:L.to,to:pe.to}),r.splice.apply(r,ke),ue+=ke.length-3}}return r}function dn(n){var o=n.markedSpans;if(o){for(var e=0;e<o.length;++e)o[e].marker.detachLine(n);n.markedSpans=null}}function Xe(n,o){if(o){for(var e=0;e<o.length;++e)o[e].marker.attachLine(n);n.markedSpans=o}}function tt(n){return n.inclusiveLeft?-1:0}function fe(n){return n.inclusiveRight?1:0}function me(n,o){var e=n.lines.length-o.lines.length;if(e!=0)return e;var t=n.find(),r=o.find(),i=Qe(t.from,r.from)||tt(n)-tt(o);if(i)return-i;var u=Qe(t.to,r.to)||fe(n)-fe(o);return u||o.id-n.id}function de(n,o){var e,t=he&&n.markedSpans;if(t)for(var r=void 0,i=0;i<t.length;++i)(r=t[i]).marker.collapsed&&(o?r.from:r.to)==null&&(!e||me(e,r.marker)<0)&&(e=r.marker);return e}function Ee(n){return de(n,!0)}function Ye(n){return de(n,!1)}function Ot(n,o){var e,t=he&&n.markedSpans;if(t)for(var r=0;r<t.length;++r){var i=t[r];i.marker.collapsed&&(i.from==null||i.from<o)&&(i.to==null||i.to>o)&&(!e||me(e,i.marker)<0)&&(e=i.marker)}return e}function Rt(n,o,e,t,r){var i=cn(n,o),u=he&&i.markedSpans;if(u)for(var L=0;L<u.length;++L){var ue=u[L];if(ue.marker.collapsed){var pe=ue.marker.find(0),ke=Qe(pe.from,e)||tt(ue.marker)-tt(r),xe=Qe(pe.to,t)||fe(ue.marker)-fe(r);if(!(ke>=0&&xe<=0||ke<=0&&xe>=0)&&(ke<=0&&(ue.marker.inclusiveRight&&r.inclusiveLeft?Qe(pe.to,e)>=0:Qe(pe.to,e)>0)||ke>=0&&(ue.marker.inclusiveRight&&r.inclusiveLeft?Qe(pe.from,t)<=0:Qe(pe.from,t)<0)))return!0}}}function Vt(n){for(var o;o=Ee(n);)n=o.find(-1,!0).line;return n}function Ft(n){for(var o;o=Ye(n);)n=o.find(1,!0).line;return n}function Zt(n){for(var o,e;o=Ye(n);)n=o.find(1,!0).line,(e||(e=[])).push(n);return e}function At(n,o){var e=cn(n,o),t=Vt(e);return e==t?o:On(t)}function Lt(n,o){if(o>n.lastLine())return o;var e,t=cn(n,o);if(!Gt(n,t))return o;for(;e=Ye(t);)t=e.find(1,!0).line;return On(t)+1}function Gt(n,o){var e=he&&o.markedSpans;if(e){for(var t=void 0,r=0;r<e.length;++r)if((t=e[r]).marker.collapsed&&(t.from==null||!t.marker.widgetNode&&t.from==0&&t.marker.inclusiveLeft&&vn(n,o,t)))return!0}}function vn(n,o,e){if(e.to==null){var t=e.marker.find(1,!0);return vn(n,t.line,qe(t.line.markedSpans,e.marker))}if(e.marker.inclusiveRight&&e.to==o.text.length)return!0;for(var r=void 0,i=0;i<o.markedSpans.length;++i)if((r=o.markedSpans[i]).marker.collapsed&&!r.marker.widgetNode&&r.from==e.to&&(r.to==null||r.to!=e.from)&&(r.marker.inclusiveLeft||e.marker.inclusiveRight)&&vn(n,o,r))return!0}function En(n){for(var o=0,e=(n=Vt(n)).parent,t=0;t<e.lines.length;++t){var r=e.lines[t];if(r==n)break;o+=r.height}for(var i=e.parent;i;i=(e=i).parent)for(var u=0;u<i.children.length;++u){var L=i.children[u];if(L==e)break;o+=L.height}return o}function Jn(n){if(n.height==0)return 0;for(var o,e=n.text.length,t=n;o=Ee(t);){var r=o.find(0,!0);t=r.from.line,e+=r.from.ch-r.to.ch}for(t=n;o=Ye(t);){var i=o.find(0,!0);e-=t.text.length-i.from.ch,e+=(t=i.to.line).text.length-i.to.ch}return e}function ye(n){var o=n.display,e=n.doc;o.maxLine=cn(e,e.first),o.maxLineLength=Jn(o.maxLine),o.maxLineChanged=!0,e.iter(function(t){var r=Jn(t);r>o.maxLineLength&&(o.maxLineLength=r,o.maxLine=t)})}var Pe=function(n,o,e){this.text=n,Xe(this,o),this.height=e?e(this):1};function De(n,o,e,t){n.text=o,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),n.order!=null&&(n.order=null),dn(n),Xe(n,e);var r=t?t(n):1;r!=n.height&&jn(n,r)}function un(n){n.parent=null,dn(n)}Pe.prototype.lineNo=function(){return On(this)},mt(Pe);var An={},$n={};function er(n,o){if(!n||/^\s*$/.test(n))return null;var e=o.addModeClass?$n:An;return e[n]||(e[n]=n.replace(/\S+/g,"cm-$&"))}function Br(n,o){var e=c("span",null,null,l?"padding-right: .1px":null),t={pre:c("pre",[e],"CodeMirror-line"),content:e,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:n.getOption("lineWrapping")};o.measure={};for(var r=0;r<=(o.rest?o.rest.length:0);r++){var i=r?o.rest[r-1]:o.line,u=void 0;t.pos=0,t.addToken=_i,pn(n.display.measure)&&(u=Ut(i,n.doc.direction))&&(t.addToken=Ri(t.addToken,u)),t.map=[],Ti(i,t,or(n,i,o!=n.display.externalMeasured&&On(i))),i.styleClasses&&(i.styleClasses.bgClass&&(t.bgClass=O(i.styleClasses.bgClass,t.bgClass||"")),i.styleClasses.textClass&&(t.textClass=O(i.styleClasses.textClass,t.textClass||""))),t.map.length==0&&t.map.push(0,0,t.content.appendChild(fn(n.display.measure))),r==0?(o.measure.map=t.map,o.measure.cache={}):((o.measure.maps||(o.measure.maps=[])).push(t.map),(o.measure.caches||(o.measure.caches=[])).push({}))}if(l){var L=t.content.lastChild;(/\bcm-tab\b/.test(L.className)||L.querySelector&&L.querySelector(".cm-tab"))&&(t.content.className="cm-tab-wrap-hack")}return Ve(n,"renderLine",n,o.line,t.pre),t.pre.className&&(t.textClass=O(t.pre.className,t.textClass||"")),t}function Nr(n){var o=M("span","\u2022","cm-invalidchar");return o.title="\\u"+n.charCodeAt(0).toString(16),o.setAttribute("aria-label",o.title),o}function _i(n,o,e,t,r,i,u){if(o){var L,ue=n.splitSpaces?Ai(o,n.trailingSpace):o,pe=n.cm.state.specialChars,ke=!1;if(pe.test(o)){L=document.createDocumentFragment();for(var xe=0;;){pe.lastIndex=xe;var Je=pe.exec(o),et=Je?Je.index-xe:o.length-xe;if(et){var pt=document.createTextNode(ue.slice(xe,xe+et));D&&q<9?L.appendChild(M("span",[pt])):L.appendChild(pt),n.map.push(n.pos,n.pos+et,pt),n.col+=et,n.pos+=et}if(!Je)break;xe+=et+1;var wt=void 0;if(Je[0]=="	"){var Et=n.cm.options.tabSize,jt=Et-n.col%Et;(wt=L.appendChild(M("span",F(jt),"cm-tab"))).setAttribute("role","presentation"),wt.setAttribute("cm-text","	"),n.col+=jt}else Je[0]=="\r"||Je[0]==`
`?((wt=L.appendChild(M("span",Je[0]=="\r"?"\u240D":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Je[0]),n.col+=1):((wt=n.cm.options.specialCharPlaceholder(Je[0])).setAttribute("cm-text",Je[0]),D&&q<9?L.appendChild(M("span",[wt])):L.appendChild(wt),n.col+=1);n.map.push(n.pos,n.pos+1,wt),n.pos++}}else n.col+=o.length,L=document.createTextNode(ue),n.map.push(n.pos,n.pos+o.length,L),D&&q<9&&(ke=!0),n.pos+=o.length;if(n.trailingSpace=ue.charCodeAt(o.length-1)==32,e||t||r||ke||i||u){var zt=e||"";t&&(zt+=t),r&&(zt+=r);var qt=M("span",[L],zt,i);if(u)for(var Jt in u)u.hasOwnProperty(Jt)&&Jt!="style"&&Jt!="class"&&qt.setAttribute(Jt,u[Jt]);return n.content.appendChild(qt)}n.content.appendChild(L)}}function Ai(n,o){if(n.length>1&&!/  /.test(n))return n;for(var e=o,t="",r=0;r<n.length;r++){var i=n.charAt(r);i!=" "||!e||r!=n.length-1&&n.charCodeAt(r+1)!=32||(i=" "),t+=i,e=i==" "}return t}function Ri(n,o){return function(e,t,r,i,u,L,ue){r=r?r+" cm-force-border":"cm-force-border";for(var pe=e.pos,ke=pe+t.length;;){for(var xe=void 0,Je=0;Je<o.length&&!((xe=o[Je]).to>pe&&xe.from<=pe);Je++);if(xe.to>=ke)return n(e,t,r,i,u,L,ue);n(e,t.slice(0,xe.to-pe),r,i,null,L,ue),i=null,t=t.slice(xe.to-pe),pe=xe.to}}}function li(n,o,e,t){var r=!t&&e.widgetNode;r&&n.map.push(n.pos,n.pos+o,r),!t&&n.cm.display.input.needsContentAttribute&&(r||(r=n.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",e.id)),r&&(n.cm.display.input.setUneditable(r),n.content.appendChild(r)),n.pos+=o,n.trailingSpace=!1}function Ti(n,o,e){var t=n.markedSpans,r=n.text,i=0;if(t)for(var u,L,ue,pe,ke,xe,Je,et=r.length,pt=0,wt=1,Et="",jt=0;;){if(jt==pt){ue=pe=ke=L="",Je=null,xe=null,jt=1/0;for(var zt=[],qt=void 0,Jt=0;Jt<t.length;++Jt){var Wt=t[Jt],on=Wt.marker;if(on.type=="bookmark"&&Wt.from==pt&&on.widgetNode)zt.push(on);else if(Wt.from<=pt&&(Wt.to==null||Wt.to>pt||on.collapsed&&Wt.to==pt&&Wt.from==pt)){if(Wt.to!=null&&Wt.to!=pt&&jt>Wt.to&&(jt=Wt.to,pe=""),on.className&&(ue+=" "+on.className),on.css&&(L=(L?L+";":"")+on.css),on.startStyle&&Wt.from==pt&&(ke+=" "+on.startStyle),on.endStyle&&Wt.to==jt&&(qt||(qt=[])).push(on.endStyle,Wt.to),on.title&&((Je||(Je={})).title=on.title),on.attributes)for(var _n in on.attributes)(Je||(Je={}))[_n]=on.attributes[_n];on.collapsed&&(!xe||me(xe.marker,on)<0)&&(xe=Wt)}else Wt.from>pt&&jt>Wt.from&&(jt=Wt.from)}if(qt)for(var Cn=0;Cn<qt.length;Cn+=2)qt[Cn+1]==jt&&(pe+=" "+qt[Cn]);if(!xe||xe.from==pt)for(var nr=0;nr<zt.length;++nr)li(o,0,zt[nr]);if(xe&&(xe.from||0)==pt){if(li(o,(xe.to==null?et+1:xe.to)-pt,xe.marker,xe.from==null),xe.to==null)return;xe.to==pt&&(xe=!1)}}if(pt>=et)break;for(var Wn=Math.min(et,jt);;){if(Et){var Ir=pt+Et.length;if(!xe){var ar=Ir>Wn?Et.slice(0,Wn-pt):Et;o.addToken(o,ar,u?u+ue:ue,ke,pt+ar.length==jt?pe:"",L,Je)}if(Ir>=Wn){Et=Et.slice(Wn-pt),pt=Wn;break}pt=Ir,ke=""}Et=r.slice(i,i=e[wt++]),u=er(e[wt++],o.cm.options)}}else for(var vr=1;vr<e.length;vr+=2)o.addToken(o,r.slice(i,i=e[vr]),er(e[vr+1],o.cm.options))}function ni(n,o,e){this.line=o,this.rest=Zt(o),this.size=this.rest?On(G(this.rest))-e+1:1,this.node=this.text=null,this.hidden=Gt(n,o)}function Ur(n,o,e){for(var t,r=[],i=o;i<e;i=t){var u=new ni(n.doc,cn(n.doc,i),i);t=i+u.size,r.push(u)}return r}var Hr=null;function Xr(n){Hr?Hr.ops.push(n):n.ownsGroup=Hr={ops:[n],delayedCallbacks:[]}}function si(n){var o=n.delayedCallbacks,e=0;do{for(;e<o.length;e++)o[e].call(null);for(var t=0;t<n.ops.length;t++){var r=n.ops[t];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(e<o.length)}function Zo(n,o){var e=n.ownsGroup;if(e)try{si(e)}finally{Hr=null,o(e)}}var Di=null;function Mr(n,o){var e=ot(n,o);if(e.length){var t,r=Array.prototype.slice.call(arguments,2);Hr?t=Hr.delayedCallbacks:Di?t=Di:(t=Di=[],setTimeout(ui,0));for(var i=function(L){t.push(function(){return e[L].apply(null,r)})},u=0;u<e.length;++u)i(u)}}function ui(){var n=Di;Di=null;for(var o=0;o<n.length;++o)n[o]()}function Dr(n,o,e,t){for(var r=0;r<o.changes.length;r++){var i=o.changes[r];i=="text"?Gi(n,o):i=="gutter"?yo(n,o,e,t):i=="class"?Ki(n,o):i=="widget"&&Yi(n,o,t)}o.changes=null}function yi(n){return n.node==n.text&&(n.node=M("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),D&&q<8&&(n.node.style.zIndex=2)),n.node}function Bi(n,o){var e=o.bgClass?o.bgClass+" "+(o.line.bgClass||""):o.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),o.background)e?o.background.className=e:(o.background.parentNode.removeChild(o.background),o.background=null);else if(e){var t=yi(o);o.background=t.insertBefore(M("div",null,e),t.firstChild),n.display.input.setUneditable(o.background)}}function Ni(n,o){var e=n.display.externalMeasured;return e&&e.line==o.line?(n.display.externalMeasured=null,o.measure=e.measure,e.built):Br(n,o)}function Gi(n,o){var e=o.text.className,t=Ni(n,o);o.text==o.node&&(o.node=t.pre),o.text.parentNode.replaceChild(t.pre,o.text),o.text=t.pre,t.bgClass!=o.bgClass||t.textClass!=o.textClass?(o.bgClass=t.bgClass,o.textClass=t.textClass,Ki(n,o)):e&&(o.text.className=e)}function Ki(n,o){Bi(n,o),o.line.wrapClass?yi(o).className=o.line.wrapClass:o.node!=o.text&&(o.node.className="");var e=o.textClass?o.textClass+" "+(o.line.textClass||""):o.line.textClass;o.text.className=e||""}function yo(n,o,e,t){if(o.gutter&&(o.node.removeChild(o.gutter),o.gutter=null),o.gutterBackground&&(o.node.removeChild(o.gutterBackground),o.gutterBackground=null),o.line.gutterClass){var r=yi(o);o.gutterBackground=M("div",null,"CodeMirror-gutter-background "+o.line.gutterClass,"left: "+(n.options.fixedGutter?t.fixedPos:-t.gutterTotalWidth)+"px; width: "+t.gutterTotalWidth+"px"),n.display.input.setUneditable(o.gutterBackground),r.insertBefore(o.gutterBackground,o.text)}var i=o.line.gutterMarkers;if(n.options.lineNumbers||i){var u=yi(o),L=o.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?t.fixedPos:-t.gutterTotalWidth)+"px");if(L.setAttribute("aria-hidden","true"),n.display.input.setUneditable(L),u.insertBefore(L,o.text),o.line.gutterClass&&(L.className+=" "+o.line.gutterClass),!n.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(o.lineNumber=L.appendChild(M("div",Dn(n.options,e),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+t.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),i)for(var ue=0;ue<n.display.gutterSpecs.length;++ue){var pe=n.display.gutterSpecs[ue].className,ke=i.hasOwnProperty(pe)&&i[pe];ke&&L.appendChild(M("div",[ke],"CodeMirror-gutter-elt","left: "+t.gutterLeft[pe]+"px; width: "+t.gutterWidth[pe]+"px"))}}}function Yi(n,o,e){o.alignable&&(o.alignable=null);for(var t=B("CodeMirror-linewidget"),r=o.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,t.test(r.className)&&o.node.removeChild(r);bo(n,o,e)}function eo(n,o,e,t){var r=Ni(n,o);return o.text=o.node=r.pre,r.bgClass&&(o.bgClass=r.bgClass),r.textClass&&(o.textClass=r.textClass),Ki(n,o),yo(n,o,e,t),bo(n,o,t),o.node}function bo(n,o,e){if(Xi(n,o.line,o,e,!0),o.rest)for(var t=0;t<o.rest.length;t++)Xi(n,o.rest[t],o,e,!1)}function Xi(n,o,e,t,r){if(o.widgets)for(var i=yi(e),u=0,L=o.widgets;u<L.length;++u){var ue=L[u],pe=M("div",[ue.node],"CodeMirror-linewidget"+(ue.className?" "+ue.className:""));ue.handleMouseEvents||pe.setAttribute("cm-ignore-events","true"),ps(ue,pe,e,t),n.display.input.setUneditable(pe),r&&ue.above?i.insertBefore(pe,e.gutter||e.text):i.appendChild(pe),Mr(ue,"redraw")}}function ps(n,o,e,t){if(n.noHScroll){(e.alignable||(e.alignable=[])).push(o);var r=t.wrapperWidth;o.style.left=t.fixedPos+"px",n.coverGutter||(r-=t.gutterTotalWidth,o.style.paddingLeft=t.gutterTotalWidth+"px"),o.style.width=r+"px"}n.coverGutter&&(o.style.zIndex=5,o.style.position="relative",n.noHScroll||(o.style.marginLeft=-t.gutterTotalWidth+"px"))}function $e(n){if(n.height!=null)return n.height;var o=n.doc.cm;if(!o)return 0;if(!d(document.body,n.node)){var e="position: relative;";n.coverGutter&&(e+="margin-left: -"+o.display.gutters.offsetWidth+"px;"),n.noHScroll&&(e+="width: "+o.display.wrapper.clientWidth+"px;"),E(o.display.measure,M("div",[n.node],null,e))}return n.height=n.node.parentNode.offsetHeight}function ct(n,o){for(var e=It(o);e!=n.wrapper;e=e.parentNode)if(!e||e.nodeType==1&&e.getAttribute("cm-ignore-events")=="true"||e.parentNode==n.sizer&&e!=n.mover)return!0}function Se(n){return n.lineSpace.offsetTop}function Le(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function rt(n){if(n.cachedPaddingH)return n.cachedPaddingH;var o=E(n.measure,M("pre","x","CodeMirror-line-like")),e=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,t={left:parseInt(e.paddingLeft),right:parseInt(e.paddingRight)};return isNaN(t.left)||isNaN(t.right)||(n.cachedPaddingH=t),t}function nt(n){return a-n.display.nativeBarWidth}function _t(n){return n.display.scroller.clientWidth-nt(n)-n.display.barWidth}function Tt(n){return n.display.scroller.clientHeight-nt(n)-n.display.barHeight}function Bt(n,o,e){var t=n.options.lineWrapping,r=t&&_t(n);if(!o.measure.heights||t&&o.measure.width!=r){var i=o.measure.heights=[];if(t){o.measure.width=r;for(var u=o.text.firstChild.getClientRects(),L=0;L<u.length-1;L++){var ue=u[L],pe=u[L+1];Math.abs(ue.bottom-pe.bottom)>2&&i.push((ue.bottom+pe.top)/2-e.top)}}i.push(e.bottom-e.top)}}function tn(n,o,e){if(n.line==o)return{map:n.measure.map,cache:n.measure.cache};if(n.rest){for(var t=0;t<n.rest.length;t++)if(n.rest[t]==o)return{map:n.measure.maps[t],cache:n.measure.caches[t]};for(var r=0;r<n.rest.length;r++)if(On(n.rest[r])>e)return{map:n.measure.maps[r],cache:n.measure.caches[r],before:!0}}}function Ln(n,o){var e=On(o=Vt(o)),t=n.display.externalMeasured=new ni(n.doc,o,e);t.lineN=e;var r=t.built=Br(n,t);return t.text=r.pre,E(n.display.lineMeasure,r.pre),t}function qn(n,o,e,t){return fi(n,Gr(n,o),e,t)}function Er(n,o){if(o>=n.display.viewFrom&&o<n.display.viewTo)return n.display.view[to(n,o)];var e=n.display.externalMeasured;return e&&o>=e.lineN&&o<e.lineN+e.size?e:void 0}function Gr(n,o){var e=On(o),t=Er(n,e);t&&!t.text?t=null:t&&t.changes&&(Dr(n,t,e,_o(n)),n.curOp.forceUpdate=!0),t||(t=Ln(n,o));var r=tn(t,o,e);return{line:o,view:t,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function fi(n,o,e,t,r){o.before&&(e=-1);var i,u=e+(t||"");return o.cache.hasOwnProperty(u)?i=o.cache[u]:(o.rect||(o.rect=o.view.text.getBoundingClientRect()),o.hasHeights||(Bt(n,o.view,o.rect),o.hasHeights=!0),(i=ol(n,o,e,t)).bogus||(o.cache[u]=i)),{left:i.left,right:i.right,top:r?i.rtop:i.top,bottom:r?i.rbottom:i.bottom}}var hi,Hi={left:0,right:0,top:0,bottom:0};function wo(n,o,e){for(var t,r,i,u,L,ue,pe=0;pe<n.length;pe+=3)if(L=n[pe],ue=n[pe+1],o<L?(r=0,i=1,u="left"):o<ue?i=(r=o-L)+1:(pe==n.length-3||o==ue&&n[pe+3]>o)&&(r=(i=ue-L)-1,o>=ue&&(u="right")),r!=null){if(t=n[pe+2],L==ue&&e==(t.insertLeft?"left":"right")&&(u=e),e=="left"&&r==0)for(;pe&&n[pe-2]==n[pe-3]&&n[pe-1].insertLeft;)t=n[(pe-=3)+2],u="left";if(e=="right"&&r==ue-L)for(;pe<n.length-3&&n[pe+3]==n[pe+4]&&!n[pe+5].insertLeft;)t=n[(pe+=3)+2],u="right";break}return{node:t,start:r,end:i,collapse:u,coverStart:L,coverEnd:ue}}function il(n,o){var e=Hi;if(o=="left")for(var t=0;t<n.length&&(e=n[t]).left==e.right;t++);else for(var r=n.length-1;r>=0&&(e=n[r]).left==e.right;r--);return e}function ol(n,o,e,t){var r,i=wo(o.map,e,t),u=i.node,L=i.start,ue=i.end,pe=i.collapse;if(u.nodeType==3){for(var ke=0;ke<4;ke++){for(;L&&re(o.line.text.charAt(i.coverStart+L));)--L;for(;i.coverStart+ue<i.coverEnd&&re(o.line.text.charAt(i.coverStart+ue));)++ue;if((r=D&&q<9&&L==0&&ue==i.coverEnd-i.coverStart?u.parentNode.getBoundingClientRect():il(T(u,L,ue).getClientRects(),t)).left||r.right||L==0)break;ue=L,L-=1,pe="right"}D&&q<11&&(r=eu(n.display.measure,r))}else{var xe;L>0&&(pe=t="right"),r=n.options.lineWrapping&&(xe=u.getClientRects()).length>1?xe[t=="right"?xe.length-1:0]:u.getBoundingClientRect()}if(D&&q<9&&!L&&(!r||!r.left&&!r.right)){var Je=u.parentNode.getClientRects()[0];r=Je?{left:Je.left,right:Je.left+vs(n.display),top:Je.top,bottom:Je.bottom}:Hi}for(var et=r.top-o.rect.top,pt=r.bottom-o.rect.top,wt=(et+pt)/2,Et=o.view.measure.heights,jt=0;jt<Et.length-1&&!(wt<Et[jt]);jt++);var zt=jt?Et[jt-1]:0,qt=Et[jt],Jt={left:(pe=="right"?r.right:r.left)-o.rect.left,right:(pe=="left"?r.left:r.right)-o.rect.left,top:zt,bottom:qt};return r.left||r.right||(Jt.bogus=!0),n.options.singleCursorHeightPerLine||(Jt.rtop=et,Jt.rbottom=pt),Jt}function eu(n,o){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Hn(n))return o;var e=screen.logicalXDPI/screen.deviceXDPI,t=screen.logicalYDPI/screen.deviceYDPI;return{left:o.left*e,right:o.right*e,top:o.top*t,bottom:o.bottom*t}}function sl(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var o=0;o<n.rest.length;o++)n.measure.caches[o]={}}function al(n){n.display.externalMeasure=null,U(n.display.lineMeasure);for(var o=0;o<n.display.view.length;o++)sl(n.display.view[o])}function ds(n){al(n),n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null,n.options.lineWrapping||(n.display.maxLineChanged=!0),n.display.lineNumChars=null}function nc(){return N&&H?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function gs(){return N&&H?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ta(n){var o=Vt(n).widgets,e=0;if(o)for(var t=0;t<o.length;++t)o[t].above&&(e+=$e(o[t]));return e}function Zs(n,o,e,t,r){if(!r){var i=Ta(o);e.top+=i,e.bottom+=i}if(t=="line")return e;t||(t="local");var u=En(o);if(t=="local"?u+=Se(n.display):u-=n.display.viewOffset,t=="page"||t=="window"){var L=n.display.lineSpace.getBoundingClientRect();u+=L.top+(t=="window"?0:gs());var ue=L.left+(t=="window"?0:nc());e.left+=ue,e.right+=ue}return e.top+=u,e.bottom+=u,e}function Oa(n,o,e){if(e=="div")return o;var t=o.left,r=o.top;if(e=="page")t-=nc(),r-=gs();else if(e=="local"||!e){var i=n.display.sizer.getBoundingClientRect();t+=i.left,r+=i.top}var u=n.display.lineSpace.getBoundingClientRect();return{left:t-u.left,top:r-u.top}}function Fo(n,o,e,t,r){return t||(t=cn(n.doc,o.line)),Zs(n,t,qn(n,t,o.ch,r),e)}function Mi(n,o,e,t,r,i){function u(pt,wt){var Et=fi(n,r,pt,wt?"right":"left",i);return wt?Et.left=Et.right:Et.right=Et.left,Zs(n,t,Et,e)}t=t||cn(n.doc,o.line),r||(r=Gr(n,t));var L=Ut(t,n.doc.direction),ue=o.ch,pe=o.sticky;if(ue>=t.text.length?(ue=t.text.length,pe="before"):ue<=0&&(ue=0,pe="after"),!L)return u(pe=="before"?ue-1:ue,pe=="before");function ke(pt,wt,Et){return u(Et?pt-1:pt,L[wt].level==1!=Et)}var xe=lt(L,ue,pe),Je=it,et=ke(ue,xe,pe=="before");return Je!=null&&(et.other=ke(ue,Je,pe!="before")),et}function Fs(n,o){var e=0;o=Ht(n.doc,o),n.options.lineWrapping||(e=vs(n.display)*o.ch);var t=cn(n.doc,o.line),r=En(t)+Se(n.display);return{left:e,right:e,top:r,bottom:r+t.height}}function Oi(n,o,e,t,r){var i=en(n,o,e);return i.xRel=r,t&&(i.outside=t),i}function Ca(n,o,e){var t=n.doc;if((e+=n.display.viewOffset)<0)return Oi(t.first,0,null,-1,-1);var r=yn(t,e),i=t.first+t.size-1;if(r>i)return Oi(t.first+t.size-1,cn(t,i).text.length,null,1,1);o<0&&(o=0);for(var u=cn(t,r);;){var L=cl(n,u,r,o,e),ue=Ot(u,L.ch+(L.xRel>0||L.outside>0?1:0));if(!ue)return L;var pe=ue.find(1);if(pe.line==r)return pe;u=cn(t,r=pe.line)}}function Ea(n,o,e,t){t-=Ta(o);var r=o.text.length,i=Re(function(u){return fi(n,e,u-1).bottom<=t},r,0);return{begin:i,end:r=Re(function(u){return fi(n,e,u).top>t},i,r)}}function Sa(n,o,e,t){return e||(e=Gr(n,o)),Ea(n,o,e,Zs(n,o,fi(n,e,t),"line").top)}function ka(n,o,e,t){return!(n.bottom<=e)&&(n.top>e||(t?n.left:n.right)>o)}function cl(n,o,e,t,r){r-=En(o);var i=Gr(n,o),u=Ta(o),L=0,ue=o.text.length,pe=!0,ke=Ut(o,n.doc.direction);if(ke){var xe=(n.options.lineWrapping?tu:rc)(n,o,e,i,ke,t,r);L=(pe=xe.level!=1)?xe.from:xe.to-1,ue=pe?xe.to:xe.from-1}var Je,et,pt=null,wt=null,Et=Re(function(Wt){var on=fi(n,i,Wt);return on.top+=u,on.bottom+=u,!!ka(on,t,r,!1)&&(on.top<=r&&on.left<=t&&(pt=Wt,wt=on),!0)},L,ue),jt=!1;if(wt){var zt=t-wt.left<wt.right-t,qt=zt==pe;Et=pt+(qt?0:1),et=qt?"after":"before",Je=zt?wt.left:wt.right}else{pe||Et!=ue&&Et!=L||Et++,et=Et==0?"after":Et==o.text.length?"before":fi(n,i,Et-(pe?1:0)).bottom+u<=r==pe?"after":"before";var Jt=Mi(n,en(e,Et,et),"line",o,i);Je=Jt.left,jt=r<Jt.top?-1:r>=Jt.bottom?1:0}return Oi(e,Et=Te(o.text,Et,1),et,jt,t-Je)}function rc(n,o,e,t,r,i,u){var L=Re(function(xe){var Je=r[xe],et=Je.level!=1;return ka(Mi(n,en(e,et?Je.to:Je.from,et?"before":"after"),"line",o,t),i,u,!0)},0,r.length-1),ue=r[L];if(L>0){var pe=ue.level!=1,ke=Mi(n,en(e,pe?ue.from:ue.to,pe?"after":"before"),"line",o,t);ka(ke,i,u,!0)&&ke.top>u&&(ue=r[L-1])}return ue}function tu(n,o,e,t,r,i,u){var L=Ea(n,o,t,u),ue=L.begin,pe=L.end;/\s/.test(o.text.charAt(pe-1))&&pe--;for(var ke=null,xe=null,Je=0;Je<r.length;Je++){var et=r[Je];if(!(et.from>=pe||et.to<=ue)){var pt=fi(n,t,et.level!=1?Math.min(pe,et.to)-1:Math.max(ue,et.from)).right,wt=pt<i?i-pt+1e9:pt-i;(!ke||xe>wt)&&(ke=et,xe=wt)}}return ke||(ke=r[r.length-1]),ke.from<ue&&(ke={from:ue,to:ke.to,level:ke.level}),ke.to>pe&&(ke={from:ke.from,to:pe,level:ke.level}),ke}function ms(n){if(n.cachedTextHeight!=null)return n.cachedTextHeight;if(hi==null){hi=M("pre",null,"CodeMirror-line-like");for(var o=0;o<49;++o)hi.appendChild(document.createTextNode("x")),hi.appendChild(M("br"));hi.appendChild(document.createTextNode("x"))}E(n.measure,hi);var e=hi.offsetHeight/50;return e>3&&(n.cachedTextHeight=e),U(n.measure),e||1}function vs(n){if(n.cachedCharWidth!=null)return n.cachedCharWidth;var o=M("span","xxxxxxxxxx"),e=M("pre",[o],"CodeMirror-line-like");E(n.measure,e);var t=o.getBoundingClientRect(),r=(t.right-t.left)/10;return r>2&&(n.cachedCharWidth=r),r||10}function _o(n){for(var o=n.display,e={},t={},r=o.gutters.clientLeft,i=o.gutters.firstChild,u=0;i;i=i.nextSibling,++u){var L=n.display.gutterSpecs[u].className;e[L]=i.offsetLeft+i.clientLeft+r,t[L]=i.clientWidth}return{fixedPos:To(o),gutterTotalWidth:o.gutters.offsetWidth,gutterLeft:e,gutterWidth:t,wrapperWidth:o.wrapper.clientWidth}}function To(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function xa(n){var o=ms(n.display),e=n.options.lineWrapping,t=e&&Math.max(5,n.display.scroller.clientWidth/vs(n.display)-3);return function(r){if(Gt(n.doc,r))return 0;var i=0;if(r.widgets)for(var u=0;u<r.widgets.length;u++)r.widgets[u].height&&(i+=r.widgets[u].height);return e?i+(Math.ceil(r.text.length/t)||1)*o:i+o}}function Bs(n){var o=n.doc,e=xa(n);o.iter(function(t){var r=e(t);r!=t.height&&jn(t,r)})}function Oo(n,o,e,t){var r=n.display;if(!e&&It(o).getAttribute("cm-not-content")=="true")return null;var i,u,L=r.lineSpace.getBoundingClientRect();try{i=o.clientX-L.left,u=o.clientY-L.top}catch{return null}var ue,pe=Ca(n,i,u);if(t&&pe.xRel>0&&(ue=cn(n.doc,pe.line).text).length==pe.ch){var ke=R(ue,ue.length,n.options.tabSize)-ue.length;pe=en(pe.line,Math.max(0,Math.round((i-rt(n.display).left)/vs(n.display))-ke))}return pe}function to(n,o){if(o>=n.display.viewTo||(o-=n.display.viewFrom)<0)return null;for(var e=n.display.view,t=0;t<e.length;t++)if((o-=e[t].size)<0)return t}function Kr(n,o,e,t){o==null&&(o=n.doc.first),e==null&&(e=n.doc.first+n.doc.size),t||(t=0);var r=n.display;if(t&&e<r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>o)&&(r.updateLineNumbers=o),n.curOp.viewChanged=!0,o>=r.viewTo)he&&At(n.doc,o)<r.viewTo&&zr(n);else if(e<=r.viewFrom)he&&Lt(n.doc,e+t)>r.viewFrom?zr(n):(r.viewFrom+=t,r.viewTo+=t);else if(o<=r.viewFrom&&e>=r.viewTo)zr(n);else if(o<=r.viewFrom){var i=Vi(n,e,e+t,1);i?(r.view=r.view.slice(i.index),r.viewFrom=i.lineN,r.viewTo+=t):zr(n)}else if(e>=r.viewTo){var u=Vi(n,o,o,-1);u?(r.view=r.view.slice(0,u.index),r.viewTo=u.lineN):zr(n)}else{var L=Vi(n,o,o,-1),ue=Vi(n,e,e+t,1);L&&ue?(r.view=r.view.slice(0,L.index).concat(Ur(n,L.lineN,ue.lineN)).concat(r.view.slice(ue.index)),r.viewTo+=t):zr(n)}var pe=r.externalMeasured;pe&&(e<pe.lineN?pe.lineN+=t:o<pe.lineN+pe.size&&(r.externalMeasured=null))}function bi(n,o,e){n.curOp.viewChanged=!0;var t=n.display,r=n.display.externalMeasured;if(r&&o>=r.lineN&&o<r.lineN+r.size&&(t.externalMeasured=null),!(o<t.viewFrom||o>=t.viewTo)){var i=t.view[to(n,o)];if(i.node!=null){var u=i.changes||(i.changes=[]);b(u,e)==-1&&u.push(e)}}}function zr(n){n.display.viewFrom=n.display.viewTo=n.doc.first,n.display.view=[],n.display.viewOffset=0}function Vi(n,o,e,t){var r,i=to(n,o),u=n.display.view;if(!he||e==n.doc.first+n.doc.size)return{index:i,lineN:e};for(var L=n.display.viewFrom,ue=0;ue<i;ue++)L+=u[ue].size;if(L!=o){if(t>0){if(i==u.length-1)return null;r=L+u[i].size-o,i++}else r=L-o;o+=r,e+=r}for(;At(n.doc,e)!=e;){if(i==(t<0?0:u.length-1))return null;e+=t*u[i-(t<0?1:0)].size,i+=t}return{index:i,lineN:e}}function Co(n,o,e){var t=n.display;t.view.length==0||o>=t.viewTo||e<=t.viewFrom?(t.view=Ur(n,o,e),t.viewFrom=o):(t.viewFrom>o?t.view=Ur(n,o,t.viewFrom).concat(t.view):t.viewFrom<o&&(t.view=t.view.slice(to(n,o))),t.viewFrom=o,t.viewTo<e?t.view=t.view.concat(Ur(n,t.viewTo,e)):t.viewTo>e&&(t.view=t.view.slice(0,to(n,e)))),t.viewTo=e}function Hs(n){for(var o=n.display.view,e=0,t=0;t<o.length;t++){var r=o[t];r.hidden||r.node&&!r.changes||++e}return e}function Vs(n){n.display.input.showSelection(n.display.input.prepareSelection())}function ic(n,o){o===void 0&&(o=!0);var e=n.doc,t={},r=t.cursors=document.createDocumentFragment(),i=t.selection=document.createDocumentFragment(),u=n.options.$customCursor;u&&(o=!0);for(var L=0;L<e.sel.ranges.length;L++)if(o||L!=e.sel.primIndex){var ue=e.sel.ranges[L];if(!(ue.from().line>=n.display.viewTo||ue.to().line<n.display.viewFrom)){var pe=ue.empty();if(u){var ke=u(n,ue);ke&&Bo(n,ke,r)}else(pe||n.options.showCursorWhenSelecting)&&Bo(n,ue.head,r);pe||oc(n,ue,i)}}return t}function Bo(n,o,e){var t=Mi(n,o,"div",null,null,!n.options.singleCursorHeightPerLine),r=e.appendChild(M("div"," ","CodeMirror-cursor"));if(r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.height=Math.max(0,t.bottom-t.top)*n.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(n.getWrapperElement().className)){var i=Fo(n,o,"div",null,null),u=i.right-i.left;r.style.width=(u>0?u:n.defaultCharWidth())+"px"}if(t.other){var L=e.appendChild(M("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));L.style.display="",L.style.left=t.other.left+"px",L.style.top=t.other.top+"px",L.style.height=.85*(t.other.bottom-t.other.top)+"px"}}function Us(n,o){return n.top-o.top||n.left-o.left}function oc(n,o,e){var t=n.display,r=n.doc,i=document.createDocumentFragment(),u=rt(n.display),L=u.left,ue=Math.max(t.sizerWidth,_t(n)-t.sizer.offsetLeft)-u.right,pe=r.direction=="ltr";function ke(qt,Jt,Wt,on){Jt<0&&(Jt=0),Jt=Math.round(Jt),on=Math.round(on),i.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+qt+`px;
                             top: `+Jt+"px; width: "+(Wt==null?ue-qt:Wt)+`px;
                             height: `+(on-Jt)+"px"))}function xe(qt,Jt,Wt){var on,_n,Cn=cn(r,qt),nr=Cn.text.length;function Wn(vr,Pr){return Fo(n,en(qt,vr),"div",Cn,Pr)}function Ir(vr,Pr,lr){var dr=Sa(n,Cn,null,vr),fr=Pr=="ltr"==(lr=="after")?"left":"right";return Wn(lr=="after"?dr.begin:dr.end-(/\s/.test(Cn.text.charAt(dr.end-1))?2:1),fr)[fr]}var ar=Ut(Cn,r.direction);return Fe(ar,Jt||0,Wt==null?nr:Wt,function(vr,Pr,lr,dr){var fr=lr=="ltr",rr=Wn(vr,fr?"left":"right"),hr=Wn(Pr-1,fr?"right":"left"),Ar=Jt==null&&vr==0,Zr=Wt==null&&Pr==nr,Fr=dr==0,Cr=!ar||dr==ar.length-1;if(hr.top-rr.top<=3){var ei=(pe?Zr:Ar)&&Cr,xr=(pe?Ar:Zr)&&Fr?L:(fr?rr:hr).left,vo=ei?ue:(fr?hr:rr).right;ke(xr,rr.top,vo-xr,rr.bottom)}else{var gi,Wr,Zi,oi;fr?(gi=pe&&Ar&&Fr?L:rr.left,Wr=pe?ue:Ir(vr,lr,"before"),Zi=pe?L:Ir(Pr,lr,"after"),oi=pe&&Zr&&Cr?ue:hr.right):(gi=pe?Ir(vr,lr,"before"):L,Wr=!pe&&Ar&&Fr?ue:rr.right,Zi=!pe&&Zr&&Cr?L:hr.left,oi=pe?Ir(Pr,lr,"after"):ue),ke(gi,rr.top,Wr-gi,rr.bottom),rr.bottom<hr.top&&ke(L,rr.bottom,null,hr.top),ke(Zi,hr.top,oi-Zi,hr.bottom)}(!on||Us(rr,on)<0)&&(on=rr),Us(hr,on)<0&&(on=hr),(!_n||Us(rr,_n)<0)&&(_n=rr),Us(hr,_n)<0&&(_n=hr)}),{start:on,end:_n}}var Je=o.from(),et=o.to();if(Je.line==et.line)xe(Je.line,Je.ch,et.ch);else{var pt=cn(r,Je.line),wt=cn(r,et.line),Et=Vt(pt)==Vt(wt),jt=xe(Je.line,Je.ch,Et?pt.text.length+1:null).end,zt=xe(et.line,Et?0:null,et.ch).start;Et&&(jt.top<zt.top-2?(ke(jt.right,jt.top,null,jt.bottom),ke(L,zt.top,zt.left,zt.bottom)):ke(jt.right,jt.top,zt.left-jt.right,jt.bottom)),jt.bottom<zt.top&&ke(L,jt.bottom,null,zt.top)}e.appendChild(i)}function ys(n){if(n.state.focused){var o=n.display;clearInterval(o.blinker);var e=!0;o.cursorDiv.style.visibility="",n.options.cursorBlinkRate>0?o.blinker=setInterval(function(){n.hasFocus()||Eo(n),o.cursorDiv.style.visibility=(e=!e)?"":"hidden"},n.options.cursorBlinkRate):n.options.cursorBlinkRate<0&&(o.cursorDiv.style.visibility="hidden")}}function ll(n){n.hasFocus()||(n.display.input.focus(),n.state.focused||Pa(n))}function zs(n){n.state.delayingBlurEvent=!0,setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,n.state.focused&&Eo(n))},100)}function Pa(n,o){n.state.delayingBlurEvent&&!n.state.draggingText&&(n.state.delayingBlurEvent=!1),n.options.readOnly!="nocursor"&&(n.state.focused||(Ve(n,"focus",n,o),n.state.focused=!0,p(n.display.wrapper,"CodeMirror-focused"),n.curOp||n.display.selForContextMenu==n.doc.sel||(n.display.input.reset(),l&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),ys(n))}function Eo(n,o){n.state.delayingBlurEvent||(n.state.focused&&(Ve(n,"blur",n,o),n.state.focused=!1,j(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function bs(n){for(var o=n.display,e=o.lineDiv.offsetTop,t=Math.max(0,o.scroller.getBoundingClientRect().top),r=o.lineDiv.getBoundingClientRect().top,i=0,u=0;u<o.view.length;u++){var L=o.view[u],ue=n.options.lineWrapping,pe=void 0,ke=0;if(!L.hidden){if(r+=L.line.height,D&&q<8){var xe=L.node.offsetTop+L.node.offsetHeight;pe=xe-e,e=xe}else{var Je=L.node.getBoundingClientRect();pe=Je.bottom-Je.top,!ue&&L.text.firstChild&&(ke=L.text.firstChild.getBoundingClientRect().right-Je.left-1)}var et=L.line.height-pe;if((et>.005||et<-.005)&&(r<t&&(i-=et),jn(L.line,pe),Ho(L.line),L.rest))for(var pt=0;pt<L.rest.length;pt++)Ho(L.rest[pt]);if(ke>n.display.sizerWidth){var wt=Math.ceil(ke/vs(n.display));wt>n.display.maxLineLength&&(n.display.maxLineLength=wt,n.display.maxLine=L.line,n.display.maxLineChanged=!0)}}}Math.abs(i)>2&&(o.scroller.scrollTop+=i)}function Ho(n){if(n.widgets)for(var o=0;o<n.widgets.length;++o){var e=n.widgets[o],t=e.node.parentNode;t&&(e.height=t.offsetHeight)}}function Vo(n,o,e){var t=e&&e.top!=null?Math.max(0,e.top):n.scroller.scrollTop;t=Math.floor(t-Se(n));var r=e&&e.bottom!=null?e.bottom:t+n.wrapper.clientHeight,i=yn(o,t),u=yn(o,r);if(e&&e.ensure){var L=e.ensure.from.line,ue=e.ensure.to.line;L<i?(i=L,u=yn(o,En(cn(o,L))+n.wrapper.clientHeight)):Math.min(ue,o.lastLine())>=u&&(i=yn(o,En(cn(o,ue))-n.wrapper.clientHeight),u=ue)}return{from:i,to:Math.max(u,i+1)}}function ul(n,o){if(!Ge(n,"scrollCursorIntoView")){var e=n.display,t=e.sizer.getBoundingClientRect(),r=null;if(o.top+t.top<0?r=!0:o.bottom+t.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),r!=null&&!S){var i=M("div","\u200B",null,`position: absolute;
                         top: `+(o.top-e.viewOffset-Se(n.display))+`px;
                         height: `+(o.bottom-o.top+nt(n)+e.barHeight)+`px;
                         left: `+o.left+"px; width: "+Math.max(2,o.right-o.left)+"px;");n.display.lineSpace.appendChild(i),i.scrollIntoView(r),n.display.lineSpace.removeChild(i)}}}function Aa(n,o,e,t){var r;t==null&&(t=0),n.options.lineWrapping||o!=e||(e=o.sticky=="before"?en(o.line,o.ch+1,"before"):o,o=o.ch?en(o.line,o.sticky=="before"?o.ch-1:o.ch,"after"):o);for(var i=0;i<5;i++){var u=!1,L=Mi(n,o),ue=e&&e!=o?Mi(n,e):L,pe=sc(n,r={left:Math.min(L.left,ue.left),top:Math.min(L.top,ue.top)-t,right:Math.max(L.left,ue.left),bottom:Math.max(L.bottom,ue.bottom)+t}),ke=n.doc.scrollTop,xe=n.doc.scrollLeft;if(pe.scrollTop!=null&&(xo(n,pe.scrollTop),Math.abs(n.doc.scrollTop-ke)>1&&(u=!0)),pe.scrollLeft!=null&&(Ui(n,pe.scrollLeft),Math.abs(n.doc.scrollLeft-xe)>1&&(u=!0)),!u)break}return r}function nu(n,o){var e=sc(n,o);e.scrollTop!=null&&xo(n,e.scrollTop),e.scrollLeft!=null&&Ui(n,e.scrollLeft)}function sc(n,o){var e=n.display,t=ms(n.display);o.top<0&&(o.top=0);var r=n.curOp&&n.curOp.scrollTop!=null?n.curOp.scrollTop:e.scroller.scrollTop,i=Tt(n),u={};o.bottom-o.top>i&&(o.bottom=o.top+i);var L=n.doc.height+Le(e),ue=o.top<t,pe=o.bottom>L-t;if(o.top<r)u.scrollTop=ue?0:o.top;else if(o.bottom>r+i){var ke=Math.min(o.top,(pe?L:o.bottom)-i);ke!=r&&(u.scrollTop=ke)}var xe=n.options.fixedGutter?0:e.gutters.offsetWidth,Je=n.curOp&&n.curOp.scrollLeft!=null?n.curOp.scrollLeft:e.scroller.scrollLeft-xe,et=_t(n)-e.gutters.offsetWidth,pt=o.right-o.left>et;return pt&&(o.right=o.left+et),o.left<10?u.scrollLeft=0:o.left<Je?u.scrollLeft=Math.max(0,o.left+xe-(pt?0:10)):o.right>et+Je-3&&(u.scrollLeft=o.right+(pt?0:10)-et),u}function ac(n,o){o!=null&&(ko(n),n.curOp.scrollTop=(n.curOp.scrollTop==null?n.doc.scrollTop:n.curOp.scrollTop)+o)}function So(n){ko(n);var o=n.getCursor();n.curOp.scrollToPos={from:o,to:o,margin:n.options.cursorScrollMargin}}function Uo(n,o,e){o==null&&e==null||ko(n),o!=null&&(n.curOp.scrollLeft=o),e!=null&&(n.curOp.scrollTop=e)}function ws(n,o){ko(n),n.curOp.scrollToPos=o}function ko(n){var o=n.curOp.scrollToPos;o&&(n.curOp.scrollToPos=null,fl(n,Fs(n,o.from),Fs(n,o.to),o.margin))}function fl(n,o,e,t){var r=sc(n,{left:Math.min(o.left,e.left),top:Math.min(o.top,e.top)-t,right:Math.max(o.right,e.right),bottom:Math.max(o.bottom,e.bottom)+t});Uo(n,r.scrollLeft,r.scrollTop)}function xo(n,o){Math.abs(n.doc.scrollTop-o)<2||(ie||qs(n,{top:o}),cc(n,o,!0),ie&&qs(n),Yr(n,100))}function cc(n,o,e){o=Math.max(0,Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,o)),(n.display.scroller.scrollTop!=o||e)&&(n.doc.scrollTop=o,n.display.scrollbars.setScrollTop(o),n.display.scroller.scrollTop!=o&&(n.display.scroller.scrollTop=o))}function Ui(n,o,e,t){o=Math.max(0,Math.min(o,n.display.scroller.scrollWidth-n.display.scroller.clientWidth)),(e?o==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-o)<2)&&!t||(n.doc.scrollLeft=o,Da(n),n.display.scroller.scrollLeft!=o&&(n.display.scroller.scrollLeft=o),n.display.scrollbars.setScrollLeft(o))}function _s(n){var o=n.display,e=o.gutters.offsetWidth,t=Math.round(n.doc.height+Le(n.display));return{clientHeight:o.scroller.clientHeight,viewHeight:o.wrapper.clientHeight,scrollWidth:o.scroller.scrollWidth,clientWidth:o.scroller.clientWidth,viewWidth:o.wrapper.clientWidth,barLeft:n.options.fixedGutter?e:0,docHeight:t,scrollHeight:t+nt(n)+o.barHeight,nativeBarWidth:o.nativeBarWidth,gutterWidth:e}}var Ci=function(n,o,e){this.cm=e;var t=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t.tabIndex=r.tabIndex=-1,n(t),n(r),Dt(t,"scroll",function(){t.clientHeight&&o(t.scrollTop,"vertical")}),Dt(r,"scroll",function(){r.clientWidth&&o(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,D&&q<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ci.prototype.update=function(n){var o=n.scrollWidth>n.clientWidth+1,e=n.scrollHeight>n.clientHeight+1,t=n.nativeBarWidth;if(e){this.vert.style.display="block",this.vert.style.bottom=o?t+"px":"0";var r=n.viewHeight-(o?t:0);this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+r)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(o){this.horiz.style.display="block",this.horiz.style.right=e?t+"px":"0",this.horiz.style.left=n.barLeft+"px";var i=n.viewWidth-n.barLeft-(e?t:0);this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&n.clientHeight>0&&(t==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:e?t:0,bottom:o?t:0}},Ci.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ci.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ci.prototype.zeroWidthHack=function(){var n=Y&&!g?"12px":"18px";this.horiz.style.height=this.vert.style.width=n,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new v,this.disableVert=new v},Ci.prototype.enableZeroWidthBar=function(n,o,e){function t(){var r=n.getBoundingClientRect();(e=="vert"?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=n?n.style.visibility="hidden":o.set(1e3,t)}n.style.visibility="",o.set(1e3,t)},Ci.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz),n.removeChild(this.vert)};var no=function(){};function ji(n,o){o||(o=_s(n));var e=n.display.barWidth,t=n.display.barHeight;Ts(n,o);for(var r=0;r<4&&e!=n.display.barWidth||t!=n.display.barHeight;r++)e!=n.display.barWidth&&n.options.lineWrapping&&bs(n),Ts(n,_s(n)),e=n.display.barWidth,t=n.display.barHeight}function Ts(n,o){var e=n.display,t=e.scrollbars.update(o);e.sizer.style.paddingRight=(e.barWidth=t.right)+"px",e.sizer.style.paddingBottom=(e.barHeight=t.bottom)+"px",e.heightForcer.style.borderBottom=t.bottom+"px solid transparent",t.right&&t.bottom?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=t.bottom+"px",e.scrollbarFiller.style.width=t.right+"px"):e.scrollbarFiller.style.display="",t.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(e.gutterFiller.style.display="block",e.gutterFiller.style.height=t.bottom+"px",e.gutterFiller.style.width=o.gutterWidth+"px"):e.gutterFiller.style.display=""}no.prototype.update=function(){return{bottom:0,right:0}},no.prototype.setScrollLeft=function(){},no.prototype.setScrollTop=function(){},no.prototype.clear=function(){};var zo={native:Ci,null:no};function lc(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&j(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new zo[n.options.scrollbarStyle](function(o){n.display.wrapper.insertBefore(o,n.display.scrollbarFiller),Dt(o,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),o.setAttribute("cm-not-content","true")},function(o,e){e=="horizontal"?Ui(n,o):xo(n,o)},n),n.display.scrollbars.addClass&&p(n.display.wrapper,n.display.scrollbars.addClass)}var hl=0;function Po(n){n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++hl,markArrays:null},Xr(n.curOp)}function qo(n){var o=n.curOp;o&&Zo(o,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Wo(e)})}function Wo(n){for(var o=n.ops,e=0;e<o.length;e++)$o(o[e]);for(var t=0;t<o.length;t++)ru(o[t]);for(var r=0;r<o.length;r++)iu(o[r]);for(var i=0;i<o.length;i++)ou(o[i]);for(var u=0;u<o.length;u++)su(o[u])}function $o(n){var o=n.cm,e=o.display;au(o),n.updateMaxLine&&ye(o),n.mustUpdate=n.viewChanged||n.forceUpdate||n.scrollTop!=null||n.scrollToPos&&(n.scrollToPos.from.line<e.viewFrom||n.scrollToPos.to.line>=e.viewTo)||e.maxLineChanged&&o.options.lineWrapping,n.update=n.mustUpdate&&new Ao(o,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate)}function ru(n){n.updatedDisplay=n.mustUpdate&&uc(n.cm,n.update)}function iu(n){var o=n.cm,e=o.display;n.updatedDisplay&&bs(o),n.barMeasure=_s(o),e.maxLineChanged&&!o.options.lineWrapping&&(n.adjustWidthTo=qn(o,e.maxLine,e.maxLine.text.length).left+3,o.display.sizerWidth=n.adjustWidthTo,n.barMeasure.scrollWidth=Math.max(e.scroller.clientWidth,e.sizer.offsetLeft+n.adjustWidthTo+nt(o)+o.display.barWidth),n.maxScrollLeft=Math.max(0,e.sizer.offsetLeft+n.adjustWidthTo-_t(o))),(n.updatedDisplay||n.selectionChanged)&&(n.preparedSelection=e.input.prepareSelection())}function ou(n){var o=n.cm;n.adjustWidthTo!=null&&(o.display.sizer.style.minWidth=n.adjustWidthTo+"px",n.maxScrollLeft<o.doc.scrollLeft&&Ui(o,Math.min(o.display.scroller.scrollLeft,n.maxScrollLeft),!0),o.display.maxLineChanged=!1);var e=n.focus&&n.focus==s();n.preparedSelection&&o.display.input.showSelection(n.preparedSelection,e),(n.updatedDisplay||n.startHeight!=o.doc.height)&&ji(o,n.barMeasure),n.updatedDisplay&&fc(o,n.barMeasure),n.selectionChanged&&ys(o),o.state.focused&&n.updateInput&&o.display.input.reset(n.typing),e&&ll(n.cm)}function su(n){var o=n.cm,e=o.display,t=o.doc;n.updatedDisplay&&pl(o,n.update),e.wheelStartX==null||n.scrollTop==null&&n.scrollLeft==null&&!n.scrollToPos||(e.wheelStartX=e.wheelStartY=null),n.scrollTop!=null&&cc(o,n.scrollTop,n.forceScroll),n.scrollLeft!=null&&Ui(o,n.scrollLeft,!0,!0),n.scrollToPos&&ul(o,Aa(o,Ht(t,n.scrollToPos.from),Ht(t,n.scrollToPos.to),n.scrollToPos.margin));var r=n.maybeHiddenMarkers,i=n.maybeUnhiddenMarkers;if(r)for(var u=0;u<r.length;++u)r[u].lines.length||Ve(r[u],"hide");if(i)for(var L=0;L<i.length;++L)i[L].lines.length&&Ve(i[L],"unhide");e.wrapper.offsetHeight&&(t.scrollTop=o.display.scroller.scrollTop),n.changeObjs&&Ve(o,"changes",o,n.changeObjs),n.update&&n.update.finish()}function wi(n,o){if(n.curOp)return o();Po(n);try{return o()}finally{qo(n)}}function Jr(n,o){return function(){if(n.curOp)return o.apply(n,arguments);Po(n);try{return o.apply(n,arguments)}finally{qo(n)}}}function kr(n){return function(){if(this.curOp)return n.apply(this,arguments);Po(this);try{return n.apply(this,arguments)}finally{qo(this)}}}function ur(n){return function(){var o=this.cm;if(!o||o.curOp)return n.apply(this,arguments);Po(o);try{return n.apply(this,arguments)}finally{qo(o)}}}function Yr(n,o){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(o,Q(Qr,n))}function Qr(n){var o=n.doc;if(!(o.highlightFrontier>=n.display.viewTo)){var e=+new Date+n.options.workTime,t=pr(n,o.highlightFrontier),r=[];o.iter(t.line,Math.min(o.first+o.size,n.display.viewTo+500),function(i){if(t.line>=n.display.viewFrom){var u=i.styles,L=i.text.length>n.options.maxHighlightLength?bn(o.mode,t.state):null,ue=gr(n,i,t,!0);L&&(t.state=L),i.styles=ue.styles;var pe=i.styleClasses,ke=ue.classes;ke?i.styleClasses=ke:pe&&(i.styleClasses=null);for(var xe=!u||u.length!=i.styles.length||pe!=ke&&(!pe||!ke||pe.bgClass!=ke.bgClass||pe.textClass!=ke.textClass),Je=0;!xe&&Je<u.length;++Je)xe=u[Je]!=i.styles[Je];xe&&r.push(t.line),i.stateAfter=t.save(),t.nextLine()}else i.text.length<=n.options.maxHighlightLength&&mr(n,i.text,t),i.stateAfter=t.line%5==0?t.save():null,t.nextLine();if(+new Date>e)return Yr(n,n.options.workDelay),!0}),o.highlightFrontier=t.line,o.modeFrontier=Math.max(o.modeFrontier,t.line),r.length&&wi(n,function(){for(var i=0;i<r.length;i++)bi(n,r[i],"text")})}}var Ao=function(n,o,e){var t=n.display;this.viewport=o,this.visible=Vo(t,n.doc,o),this.editorIsHidden=!t.wrapper.offsetWidth,this.wrapperHeight=t.wrapper.clientHeight,this.wrapperWidth=t.wrapper.clientWidth,this.oldDisplayWidth=_t(n),this.force=e,this.dims=_o(n),this.events=[]};function au(n){var o=n.display;!o.scrollbarsClipped&&o.scroller.offsetWidth&&(o.nativeBarWidth=o.scroller.offsetWidth-o.scroller.clientWidth,o.heightForcer.style.height=nt(n)+"px",o.sizer.style.marginBottom=-o.nativeBarWidth+"px",o.sizer.style.borderRightWidth=nt(n)+"px",o.scrollbarsClipped=!0)}function Ra(n){if(n.hasFocus())return null;var o=s();if(!o||!d(n.display.lineDiv,o))return null;var e={activeElt:o};if(window.getSelection){var t=window.getSelection();t.anchorNode&&t.extend&&d(n.display.lineDiv,t.anchorNode)&&(e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset)}return e}function cu(n){if(n&&n.activeElt&&n.activeElt!=s()&&(n.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(n.activeElt.nodeName)&&n.anchorNode&&d(document.body,n.anchorNode)&&d(document.body,n.focusNode))){var o=window.getSelection(),e=document.createRange();e.setEnd(n.anchorNode,n.anchorOffset),e.collapse(!1),o.removeAllRanges(),o.addRange(e),o.extend(n.focusNode,n.focusOffset)}}function uc(n,o){var e=n.display,t=n.doc;if(o.editorIsHidden)return zr(n),!1;if(!o.force&&o.visible.from>=e.viewFrom&&o.visible.to<=e.viewTo&&(e.updateLineNumbers==null||e.updateLineNumbers>=e.viewTo)&&e.renderedView==e.view&&Hs(n)==0)return!1;Na(n)&&(zr(n),o.dims=_o(n));var r=t.first+t.size,i=Math.max(o.visible.from-n.options.viewportMargin,t.first),u=Math.min(r,o.visible.to+n.options.viewportMargin);e.viewFrom<i&&i-e.viewFrom<20&&(i=Math.max(t.first,e.viewFrom)),e.viewTo>u&&e.viewTo-u<20&&(u=Math.min(r,e.viewTo)),he&&(i=At(n.doc,i),u=Lt(n.doc,u));var L=i!=e.viewFrom||u!=e.viewTo||e.lastWrapHeight!=o.wrapperHeight||e.lastWrapWidth!=o.wrapperWidth;Co(n,i,u),e.viewOffset=En(cn(n.doc,e.viewFrom)),n.display.mover.style.top=e.viewOffset+"px";var ue=Hs(n);if(!L&&ue==0&&!o.force&&e.renderedView==e.view&&(e.updateLineNumbers==null||e.updateLineNumbers>=e.viewTo))return!1;var pe=Ra(n);return ue>4&&(e.lineDiv.style.display="none"),dl(n,e.updateLineNumbers,o.dims),ue>4&&(e.lineDiv.style.display=""),e.renderedView=e.view,cu(pe),U(e.cursorDiv),U(e.selectionDiv),e.gutters.style.height=e.sizer.style.minHeight=0,L&&(e.lastWrapHeight=o.wrapperHeight,e.lastWrapWidth=o.wrapperWidth,Yr(n,400)),e.updateLineNumbers=null,!0}function pl(n,o){for(var e=o.viewport,t=!0;;t=!1){if(t&&n.options.lineWrapping&&o.oldDisplayWidth!=_t(n))t&&(o.visible=Vo(n.display,n.doc,e));else if(e&&e.top!=null&&(e={top:Math.min(n.doc.height+Le(n.display)-Tt(n),e.top)}),o.visible=Vo(n.display,n.doc,e),o.visible.from>=n.display.viewFrom&&o.visible.to<=n.display.viewTo)break;if(!uc(n,o))break;bs(n);var r=_s(n);Vs(n),ji(n,r),fc(n,r),o.force=!1}o.signal(n,"update",n),n.display.viewFrom==n.display.reportedViewFrom&&n.display.viewTo==n.display.reportedViewTo||(o.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function qs(n,o){var e=new Ao(n,o);if(uc(n,e)){bs(n),pl(n,e);var t=_s(n);Vs(n),ji(n,t),fc(n,t),e.finish()}}function dl(n,o,e){var t=n.display,r=n.options.lineNumbers,i=t.lineDiv,u=i.firstChild;function L(pt){var wt=pt.nextSibling;return l&&Y&&n.display.currentWheelTarget==pt?pt.style.display="none":pt.parentNode.removeChild(pt),wt}for(var ue=t.view,pe=t.viewFrom,ke=0;ke<ue.length;ke++){var xe=ue[ke];if(!xe.hidden)if(xe.node&&xe.node.parentNode==i){for(;u!=xe.node;)u=L(u);var Je=r&&o!=null&&o<=pe&&xe.lineNumber;xe.changes&&(b(xe.changes,"gutter")>-1&&(Je=!1),Dr(n,xe,pe,e)),Je&&(U(xe.lineNumber),xe.lineNumber.appendChild(document.createTextNode(Dn(n.options,pe)))),u=xe.node.nextSibling}else{var et=eo(n,xe,pe,e);i.insertBefore(et,u)}pe+=xe.size}for(;u;)u=L(u)}function Ws(n){var o=n.gutters.offsetWidth;n.sizer.style.marginLeft=o+"px",Mr(n,"gutterChanged",n)}function fc(n,o){n.display.sizer.style.minHeight=o.docHeight+"px",n.display.heightForcer.style.top=o.docHeight+"px",n.display.gutters.style.height=o.docHeight+n.display.barHeight+nt(n)+"px"}function Da(n){var o=n.display,e=o.view;if(o.alignWidgets||o.gutters.firstChild&&n.options.fixedGutter){for(var t=To(o)-o.scroller.scrollLeft+n.doc.scrollLeft,r=o.gutters.offsetWidth,i=t+"px",u=0;u<e.length;u++)if(!e[u].hidden){n.options.fixedGutter&&(e[u].gutter&&(e[u].gutter.style.left=i),e[u].gutterBackground&&(e[u].gutterBackground.style.left=i));var L=e[u].alignable;if(L)for(var ue=0;ue<L.length;ue++)L[ue].style.left=i}n.options.fixedGutter&&(o.gutters.style.left=t+r+"px")}}function Na(n){if(!n.options.lineNumbers)return!1;var o=n.doc,e=Dn(n.options,o.first+o.size-1),t=n.display;if(e.length!=t.lineNumChars){var r=t.measure.appendChild(M("div",[M("div",e)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=r.firstChild.offsetWidth,u=r.offsetWidth-i;return t.lineGutter.style.width="",t.lineNumInnerWidth=Math.max(i,t.lineGutter.offsetWidth-u)+1,t.lineNumWidth=t.lineNumInnerWidth+u,t.lineNumChars=t.lineNumInnerWidth?e.length:-1,t.lineGutter.style.width=t.lineNumWidth+"px",Ws(n.display),!0}return!1}function Ma(n,o){for(var e=[],t=!1,r=0;r<n.length;r++){var i=n[r],u=null;if(typeof i!="string"&&(u=i.style,i=i.className),i=="CodeMirror-linenumbers"){if(!o)continue;t=!0}e.push({className:i,style:u})}return o&&!t&&e.push({className:"CodeMirror-linenumbers",style:null}),e}function hc(n){var o=n.gutters,e=n.gutterSpecs;U(o),n.lineGutter=null;for(var t=0;t<e.length;++t){var r=e[t],i=r.className,u=r.style,L=o.appendChild(M("div",null,"CodeMirror-gutter "+i));u&&(L.style.cssText=u),i=="CodeMirror-linenumbers"&&(n.lineGutter=L,L.style.width=(n.lineNumWidth||1)+"px")}o.style.display=e.length?"":"none",Ws(n)}function Go(n){hc(n.display),Kr(n),Da(n)}function gl(n,o,e,t){var r=this;this.input=e,r.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=c("div",null,"CodeMirror-code"),r.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=M("div",null,"CodeMirror-cursors"),r.measure=M("div",null,"CodeMirror-measure"),r.lineMeasure=M("div",null,"CodeMirror-measure"),r.lineSpace=c("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var i=c("div",[r.lineSpace],"CodeMirror-lines");r.mover=M("div",[i],null,"position: relative"),r.sizer=M("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=M("div",null,null,"position: absolute; height: "+a+"px; width: 1px;"),r.gutters=M("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=M("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=M("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),r.wrapper.setAttribute("translate","no"),D&&q<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),l||ie&&X||(r.scroller.draggable=!0),n&&(n.appendChild?n.appendChild(r.wrapper):n(r.wrapper)),r.viewFrom=r.viewTo=o.first,r.reportedViewFrom=r.reportedViewTo=o.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,r.gutterSpecs=Ma(t.gutters,t.lineNumbers),hc(r),e.init(r)}Ao.prototype.signal=function(n,o){We(n,o)&&this.events.push(arguments)},Ao.prototype.finish=function(){for(var n=0;n<this.events.length;n++)Ve.apply(null,this.events[n])};var Ro=0,ro=null;function $s(n){var o=n.wheelDeltaX,e=n.wheelDeltaY;return o==null&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(o=n.detail),e==null&&n.detail&&n.axis==n.VERTICAL_AXIS?e=n.detail:e==null&&(e=n.wheelDelta),{x:o,y:e}}function io(n){var o=$s(n);return o.x*=ro,o.y*=ro,o}function pc(n,o){N&&C>=102&&(n.display.chromeScrollHack==null?n.display.sizer.style.pointerEvents="none":clearTimeout(n.display.chromeScrollHack),n.display.chromeScrollHack=setTimeout(function(){n.display.chromeScrollHack=null,n.display.sizer.style.pointerEvents=""},100));var e=$s(o),t=e.x,r=e.y,i=ro;o.deltaMode===0&&(t=o.deltaX,r=o.deltaY,i=1);var u=n.display,L=u.scroller,ue=L.scrollWidth>L.clientWidth,pe=L.scrollHeight>L.clientHeight;if(t&&ue||r&&pe){if(r&&Y&&l){e:for(var ke=o.target,xe=u.view;ke!=L;ke=ke.parentNode)for(var Je=0;Je<xe.length;Je++)if(xe[Je].node==ke){n.display.currentWheelTarget=ke;break e}}if(t&&!ie&&!y&&i!=null)return r&&pe&&xo(n,Math.max(0,L.scrollTop+r*i)),Ui(n,Math.max(0,L.scrollLeft+t*i)),(!r||r&&pe)&&Ke(o),void(u.wheelStartX=null);if(r&&i!=null){var et=r*i,pt=n.doc.scrollTop,wt=pt+u.wrapper.clientHeight;et<0?pt=Math.max(0,pt+et-50):wt=Math.min(n.doc.height,wt+et+50),qs(n,{top:pt,bottom:wt})}Ro<20&&o.deltaMode!==0&&(u.wheelStartX==null?(u.wheelStartX=L.scrollLeft,u.wheelStartY=L.scrollTop,u.wheelDX=t,u.wheelDY=r,setTimeout(function(){if(u.wheelStartX!=null){var Et=L.scrollLeft-u.wheelStartX,jt=L.scrollTop-u.wheelStartY,zt=jt&&u.wheelDY&&jt/u.wheelDY||Et&&u.wheelDX&&Et/u.wheelDX;u.wheelStartX=u.wheelStartY=null,zt&&(ro=(ro*Ro+zt)/(Ro+1),++Ro)}},200)):(u.wheelDX+=t,u.wheelDY+=r))}}D?ro=-.53:ie?ro=15:N?ro=-.7:m&&(ro=-.3333333333333333);var Ei=function(n,o){this.ranges=n,this.primIndex=o};Ei.prototype.primary=function(){return this.ranges[this.primIndex]},Ei.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var o=0;o<this.ranges.length;o++){var e=this.ranges[o],t=n.ranges[o];if(!at(e.anchor,t.anchor)||!at(e.head,t.head))return!1}return!0},Ei.prototype.deepCopy=function(){for(var n=[],o=0;o<this.ranges.length;o++)n[o]=new yr(Be(this.ranges[o].anchor),Be(this.ranges[o].head));return new Ei(n,this.primIndex)},Ei.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},Ei.prototype.contains=function(n,o){o||(o=n);for(var e=0;e<this.ranges.length;e++){var t=this.ranges[e];if(Qe(o,t.from())>=0&&Qe(n,t.to())<=0)return e}return-1};var yr=function(n,o){this.anchor=n,this.head=o};function Vr(n,o,e){var t=n&&n.options.selectionsMayTouch,r=o[e];o.sort(function(Je,et){return Qe(Je.from(),et.from())}),e=b(o,r);for(var i=1;i<o.length;i++){var u=o[i],L=o[i-1],ue=Qe(L.to(),u.from());if(t&&!u.empty()?ue>0:ue>=0){var pe=xt(L.from(),u.from()),ke=ut(L.to(),u.to()),xe=L.empty()?u.from()==u.head:L.from()==L.head;i<=e&&--e,o.splice(--i,2,new yr(xe?ke:pe,xe?pe:ke))}}return new Ei(o,e)}function sr(n,o){return new Ei([new yr(n,o||n)],0)}function ri(n){return n.text?en(n.from.line+n.text.length-1,G(n.text).length+(n.text.length==1?n.from.ch:0)):n.to}function oo(n,o){if(Qe(n,o.from)<0)return n;if(Qe(n,o.to)<=0)return ri(o);var e=n.line+o.text.length-(o.to.line-o.from.line)-1,t=n.ch;return n.line==o.to.line&&(t+=ri(o).ch-o.to.ch),en(e,t)}function Ji(n,o){for(var e=[],t=0;t<n.sel.ranges.length;t++){var r=n.sel.ranges[t];e.push(new yr(oo(r.anchor,o),oo(r.head,o)))}return Vr(n.cm,e,n.sel.primIndex)}function dc(n,o,e){return n.line==o.line?en(e.line,n.ch-o.ch+e.ch):en(e.line+(n.line-o.line),n.ch)}function gc(n,o,e){for(var t=[],r=en(n.first,0),i=r,u=0;u<o.length;u++){var L=o[u],ue=dc(L.from,r,i),pe=dc(ri(L),r,i);if(r=L.to,i=pe,e=="around"){var ke=n.sel.ranges[u],xe=Qe(ke.head,ke.anchor)<0;t[u]=new yr(xe?pe:ue,xe?ue:pe)}else t[u]=new yr(ue,ue)}return new Ei(t,n.sel.primIndex)}function ja(n){n.doc.mode=Sn(n.options,n.doc.modeOption),Gs(n)}function Gs(n){n.doc.iter(function(o){o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null)}),n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first,Yr(n,100),n.state.modeGen++,n.curOp&&Kr(n)}function La(n,o){return o.from.ch==0&&o.to.ch==0&&G(o.text)==""&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function Ko(n,o,e,t){function r(zt){return e?e[zt]:null}function i(zt,qt,Jt){De(zt,qt,Jt,t),Mr(zt,"change",zt,o)}function u(zt,qt){for(var Jt=[],Wt=zt;Wt<qt;++Wt)Jt.push(new Pe(pe[Wt],r(Wt),t));return Jt}var L=o.from,ue=o.to,pe=o.text,ke=cn(n,L.line),xe=cn(n,ue.line),Je=G(pe),et=r(pe.length-1),pt=ue.line-L.line;if(o.full)n.insert(0,u(0,pe.length)),n.remove(pe.length,n.size-pe.length);else if(La(n,o)){var wt=u(0,pe.length-1);i(xe,xe.text,et),pt&&n.remove(L.line,pt),wt.length&&n.insert(L.line,wt)}else if(ke==xe)if(pe.length==1)i(ke,ke.text.slice(0,L.ch)+Je+ke.text.slice(ue.ch),et);else{var Et=u(1,pe.length-1);Et.push(new Pe(Je+ke.text.slice(ue.ch),et,t)),i(ke,ke.text.slice(0,L.ch)+pe[0],r(0)),n.insert(L.line+1,Et)}else if(pe.length==1)i(ke,ke.text.slice(0,L.ch)+pe[0]+xe.text.slice(ue.ch),r(0)),n.remove(L.line+1,pt);else{i(ke,ke.text.slice(0,L.ch)+pe[0],r(0)),i(xe,Je+xe.text.slice(ue.ch),et);var jt=u(1,pe.length-1);pt>1&&n.remove(L.line+1,pt-1),n.insert(L.line+1,jt)}Mr(n,"change",n,o)}function so(n,o,e){function t(r,i,u){if(r.linked)for(var L=0;L<r.linked.length;++L){var ue=r.linked[L];if(ue.doc!=i){var pe=u&&ue.sharedHist;e&&!pe||(o(ue.doc,pe),t(ue.doc,r,pe))}}}t(n,null,!0)}function Ia(n,o){if(o.cm)throw new Error("This document is already in use.");n.doc=o,o.cm=n,Bs(n),ja(n),ao(n),n.options.direction=o.direction,n.options.lineWrapping||ye(n),n.options.mode=o.modeOption,Kr(n)}function ao(n){(n.doc.direction=="rtl"?p:j)(n.display.lineDiv,"CodeMirror-rtl")}function ml(n){wi(n,function(){ao(n),Kr(n)})}function Ks(n){this.done=[],this.undone=[],this.undoDepth=n?n.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=n?n.maxGeneration:1}function mc(n,o){var e={from:Be(o.from),to:ri(o),text:Tn(n,o.from,o.to)};return yl(n,e,o.from.line,o.to.line+1),so(n,function(t){return yl(t,e,o.from.line,o.to.line+1)},!0),e}function Ys(n){for(;n.length&&G(n).ranges;)n.pop()}function vc(n,o){return o?(Ys(n.done),G(n.done)):n.done.length&&!G(n.done).ranges?G(n.done):n.done.length>1&&!n.done[n.done.length-2].ranges?(n.done.pop(),G(n.done)):void 0}function yc(n,o,e,t){var r=n.history;r.undone.length=0;var i,u,L=+new Date;if((r.lastOp==t||r.lastOrigin==o.origin&&o.origin&&(o.origin.charAt(0)=="+"&&r.lastModTime>L-(n.cm?n.cm.options.historyEventDelay:500)||o.origin.charAt(0)=="*"))&&(i=vc(r,r.lastOp==t)))u=G(i.changes),Qe(o.from,o.to)==0&&Qe(o.from,u.to)==0?u.to=ri(o):i.changes.push(mc(n,o));else{var ue=G(r.done);for(ue&&ue.ranges||Za(n.sel,r.done),i={changes:[mc(n,o)],generation:r.generation},r.done.push(i);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(e),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=L,r.lastOp=r.lastSelOp=t,r.lastOrigin=r.lastSelOrigin=o.origin,u||Ve(n,"historyAdded")}function lu(n,o,e,t){var r=o.charAt(0);return r=="*"||r=="+"&&e.ranges.length==t.ranges.length&&e.somethingSelected()==t.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}function vl(n,o,e,t){var r=n.history,i=t&&t.origin;e==r.lastSelOp||i&&r.lastSelOrigin==i&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==i||lu(n,i,G(r.done),o))?r.done[r.done.length-1]=o:Za(o,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=i,r.lastSelOp=e,t&&t.clearRedo!==!1&&Ys(r.undone)}function Za(n,o){var e=G(o);e&&e.ranges&&e.equals(n)||o.push(n)}function yl(n,o,e,t){var r=o["spans_"+n.id],i=0;n.iter(Math.max(n.first,e),Math.min(n.first+n.size,t),function(u){u.markedSpans&&((r||(r=o["spans_"+n.id]={}))[i]=u.markedSpans),++i})}function Fa(n){if(!n)return null;for(var o,e=0;e<n.length;++e)n[e].marker.explicitlyCleared?o||(o=n.slice(0,e)):o&&o.push(n[e]);return o?o.length?o:null:n}function bl(n,o){var e=o["spans_"+n.id];if(!e)return null;for(var t=[],r=0;r<o.text.length;++r)t.push(Fa(e[r]));return t}function wl(n,o){var e=bl(n,o),t=Mt(n,o);if(!e)return t;if(!t)return e;for(var r=0;r<e.length;++r){var i=e[r],u=t[r];if(i&&u)e:for(var L=0;L<u.length;++L){for(var ue=u[L],pe=0;pe<i.length;++pe)if(i[pe].marker==ue.marker)continue e;i.push(ue)}else u&&(e[r]=u)}return e}function Os(n,o,e){for(var t=[],r=0;r<n.length;++r){var i=n[r];if(i.ranges)t.push(e?Ei.prototype.deepCopy.call(i):i);else{var u=i.changes,L=[];t.push({changes:L});for(var ue=0;ue<u.length;++ue){var pe=u[ue],ke=void 0;if(L.push({from:pe.from,to:pe.to,text:pe.text}),o)for(var xe in pe)(ke=xe.match(/^spans_(\d+)$/))&&b(o,Number(ke[1]))>-1&&(G(L)[xe]=pe[xe],delete pe[xe])}}}return t}function Ba(n,o,e,t){if(t){var r=n.anchor;if(e){var i=Qe(o,r)<0;i!=Qe(e,r)<0?(r=o,o=e):i!=Qe(o,e)<0&&(o=e)}return new yr(r,o)}return new yr(e||o,o)}function co(n,o,e,t,r){r==null&&(r=n.cm&&(n.cm.display.shift||n.extend)),ai(n,new Ei([Ba(n.sel.primary(),o,e,r)],0),t)}function Ha(n,o,e){for(var t=[],r=n.cm&&(n.cm.display.shift||n.extend),i=0;i<n.sel.ranges.length;i++)t[i]=Ba(n.sel.ranges[i],o[i],null,r);ai(n,Vr(n.cm,t,n.sel.primIndex),e)}function Cs(n,o,e,t){var r=n.sel.ranges.slice(0);r[o]=e,ai(n,Vr(n.cm,r,n.sel.primIndex),t)}function bc(n,o,e,t){ai(n,sr(o,e),t)}function wc(n,o,e){var t={ranges:o.ranges,update:function(r){this.ranges=[];for(var i=0;i<r.length;i++)this.ranges[i]=new yr(Ht(n,r[i].anchor),Ht(n,r[i].head))},origin:e&&e.origin};return Ve(n,"beforeSelectionChange",n,t),n.cm&&Ve(n.cm,"beforeSelectionChange",n.cm,t),t.ranges!=o.ranges?Vr(n.cm,t.ranges,t.ranges.length-1):o}function _c(n,o,e){var t=n.history.done,r=G(t);r&&r.ranges?(t[t.length-1]=o,Xs(n,o,e)):ai(n,o,e)}function ai(n,o,e){Xs(n,o,e),vl(n,n.sel,n.cm?n.cm.curOp.id:NaN,e)}function Xs(n,o,e){(We(n,"beforeSelectionChange")||n.cm&&We(n.cm,"beforeSelectionChange"))&&(o=wc(n,o,e));var t=e&&e.bias||(Qe(o.primary().head,n.sel.primary().head)<0?-1:1);ii(n,Tc(n,o,t,!0)),e&&e.scroll===!1||!n.cm||n.cm.getOption("readOnly")=="nocursor"||So(n.cm)}function ii(n,o){o.equals(n.sel)||(n.sel=o,n.cm&&(n.cm.curOp.updateInput=1,n.cm.curOp.selectionChanged=!0,dt(n.cm)),Mr(n,"cursorActivity",n))}function Js(n){ii(n,Tc(n,n.sel,null,!1))}function Tc(n,o,e,t){for(var r,i=0;i<o.ranges.length;i++){var u=o.ranges[i],L=o.ranges.length==n.sel.ranges.length&&n.sel.ranges[i],ue=Qs(n,u.anchor,L&&L.anchor,e,t),pe=u.head==u.anchor?ue:Qs(n,u.head,L&&L.head,e,t);(r||ue!=u.anchor||pe!=u.head)&&(r||(r=o.ranges.slice(0,i)),r[i]=new yr(ue,pe))}return r?Vr(n.cm,r,o.primIndex):o}function Yo(n,o,e,t,r){var i=cn(n,o.line);if(i.markedSpans)for(var u=0;u<i.markedSpans.length;++u){var L=i.markedSpans[u],ue=L.marker,pe="selectLeft"in ue?!ue.selectLeft:ue.inclusiveLeft,ke="selectRight"in ue?!ue.selectRight:ue.inclusiveRight;if((L.from==null||(pe?L.from<=o.ch:L.from<o.ch))&&(L.to==null||(ke?L.to>=o.ch:L.to>o.ch))){if(r&&(Ve(ue,"beforeCursorEnter"),ue.explicitlyCleared)){if(i.markedSpans){--u;continue}break}if(!ue.atomic)continue;if(e){var xe=ue.find(t<0?1:-1),Je=void 0;if((t<0?ke:pe)&&(xe=Xo(n,xe,-t,xe&&xe.line==o.line?i:null)),xe&&xe.line==o.line&&(Je=Qe(xe,e))&&(t<0?Je<0:Je>0))return Yo(n,xe,o,t,r)}var et=ue.find(t<0?-1:1);return(t<0?pe:ke)&&(et=Xo(n,et,t,et.line==o.line?i:null)),et?Yo(n,et,o,t,r):null}}return o}function Qs(n,o,e,t,r){var i=t||1,u=Yo(n,o,e,i,r)||!r&&Yo(n,o,e,i,!0)||Yo(n,o,e,-i,r)||!r&&Yo(n,o,e,-i,!0);return u||(n.cantEdit=!0,en(n.first,0))}function Xo(n,o,e,t){return e<0&&o.ch==0?o.line>n.first?Ht(n,en(o.line-1)):null:e>0&&o.ch==(t||cn(n,o.line)).text.length?o.line<n.first+n.size-1?en(o.line+1,0):null:new en(o.line,o.ch+e)}function ea(n){n.setSelection(en(n.firstLine(),0),en(n.lastLine()),h)}function Oc(n,o,e){var t={canceled:!1,from:o.from,to:o.to,text:o.text,origin:o.origin,cancel:function(){return t.canceled=!0}};return e&&(t.update=function(r,i,u,L){r&&(t.from=Ht(n,r)),i&&(t.to=Ht(n,i)),u&&(t.text=u),L!==void 0&&(t.origin=L)}),Ve(n,"beforeChange",n,t),n.cm&&Ve(n.cm,"beforeChange",n.cm,t),t.canceled?(n.cm&&(n.cm.curOp.updateInput=2),null):{from:t.from,to:t.to,text:t.text,origin:t.origin}}function Jo(n,o,e){if(n.cm){if(!n.cm.curOp)return Jr(n.cm,Jo)(n,o,e);if(n.cm.state.suppressEdits)return}if(!(We(n,"beforeChange")||n.cm&&We(n.cm,"beforeChange"))||(o=Oc(n,o,!0))){var t=ce&&!e&&Yt(n,o.from,o.to);if(t)for(var r=t.length-1;r>=0;--r)Cc(n,{from:t[r].from,to:t[r].to,text:r?[""]:o.text,origin:o.origin});else Cc(n,o)}}function Cc(n,o){if(o.text.length!=1||o.text[0]!=""||Qe(o.from,o.to)!=0){var e=Ji(n,o);yc(n,o,e,n.cm?n.cm.curOp.id:NaN),Do(n,o,e,Mt(n,o));var t=[];so(n,function(r,i){i||b(t,r.history)!=-1||(Sc(r.history,o),t.push(r.history)),Do(r,o,null,Mt(r,o))})}}function lo(n,o,e){var t=n.cm&&n.cm.state.suppressEdits;if(!t||e){for(var r,i=n.history,u=n.sel,L=o=="undo"?i.done:i.undone,ue=o=="undo"?i.undone:i.done,pe=0;pe<L.length&&(r=L[pe],e?!r.ranges||r.equals(n.sel):r.ranges);pe++);if(pe!=L.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(r=L.pop()).ranges){if(t)return void L.push(r);break}if(Za(r,ue),e&&!r.equals(n.sel))return void ai(n,r,{clearRedo:!1});u=r}var ke=[];Za(u,ue),ue.push({changes:ke,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var xe=We(n,"beforeChange")||n.cm&&We(n.cm,"beforeChange"),Je=function(wt){var Et=r.changes[wt];if(Et.origin=o,xe&&!Oc(n,Et,!1))return L.length=0,{};ke.push(mc(n,Et));var jt=wt?Ji(n,Et):G(L);Do(n,Et,jt,wl(n,Et)),!wt&&n.cm&&n.cm.scrollIntoView({from:Et.from,to:ri(Et)});var zt=[];so(n,function(qt,Jt){Jt||b(zt,qt.history)!=-1||(Sc(qt.history,Et),zt.push(qt.history)),Do(qt,Et,null,wl(qt,Et))})},et=r.changes.length-1;et>=0;--et){var pt=Je(et);if(pt)return pt.v}}}}function Ec(n,o){if(o!=0&&(n.first+=o,n.sel=new Ei(V(n.sel.ranges,function(r){return new yr(en(r.anchor.line+o,r.anchor.ch),en(r.head.line+o,r.head.ch))}),n.sel.primIndex),n.cm)){Kr(n.cm,n.first,n.first-o,o);for(var e=n.cm.display,t=e.viewFrom;t<e.viewTo;t++)bi(n.cm,t,"gutter")}}function Do(n,o,e,t){if(n.cm&&!n.cm.curOp)return Jr(n.cm,Do)(n,o,e,t);if(o.to.line<n.first)Ec(n,o.text.length-1-(o.to.line-o.from.line));else if(!(o.from.line>n.lastLine())){if(o.from.line<n.first){var r=o.text.length-1-(n.first-o.from.line);Ec(n,r),o={from:en(n.first,0),to:en(o.to.line+r,o.to.ch),text:[G(o.text)],origin:o.origin}}var i=n.lastLine();o.to.line>i&&(o={from:o.from,to:en(i,cn(n,i).text.length),text:[o.text[0]],origin:o.origin}),o.removed=Tn(n,o.from,o.to),e||(e=Ji(n,o)),n.cm?_l(n.cm,o,t):Ko(n,o,t),Xs(n,e,h),n.cantEdit&&Qs(n,en(n.firstLine(),0))&&(n.cantEdit=!1)}}function _l(n,o,e){var t=n.doc,r=n.display,i=o.from,u=o.to,L=!1,ue=i.line;n.options.lineWrapping||(ue=On(Vt(cn(t,i.line))),t.iter(ue,u.line+1,function(et){if(et==r.maxLine)return L=!0,!0})),t.sel.contains(o.from,o.to)>-1&&dt(n),Ko(t,o,e,xa(n)),n.options.lineWrapping||(t.iter(ue,i.line+o.text.length,function(et){var pt=Jn(et);pt>r.maxLineLength&&(r.maxLine=et,r.maxLineLength=pt,r.maxLineChanged=!0,L=!1)}),L&&(n.curOp.updateMaxLine=!0)),Ce(t,i.line),Yr(n,400);var pe=o.text.length-(u.line-i.line)-1;o.full?Kr(n):i.line!=u.line||o.text.length!=1||La(n.doc,o)?Kr(n,i.line,u.line+1,pe):bi(n,i.line,"text");var ke=We(n,"changes"),xe=We(n,"change");if(xe||ke){var Je={from:i,to:u,text:o.text,removed:o.removed,origin:o.origin};xe&&Mr(n,"change",n,Je),ke&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(Je)}n.display.selForContextMenu=null}function Qi(n,o,e,t,r){var i;t||(t=e),Qe(t,e)<0&&(e=(i=[t,e])[0],t=i[1]),typeof o=="string"&&(o=n.splitLines(o)),Jo(n,{from:e,to:t,text:o,origin:r})}function Tl(n,o,e,t){e<n.line?n.line+=t:o<n.line&&(n.line=o,n.ch=0)}function Qo(n,o,e,t){for(var r=0;r<n.length;++r){var i=n[r],u=!0;if(i.ranges){i.copied||((i=n[r]=i.deepCopy()).copied=!0);for(var L=0;L<i.ranges.length;L++)Tl(i.ranges[L].anchor,o,e,t),Tl(i.ranges[L].head,o,e,t)}else{for(var ue=0;ue<i.changes.length;++ue){var pe=i.changes[ue];if(e<pe.from.line)pe.from=en(pe.from.line+t,pe.from.ch),pe.to=en(pe.to.line+t,pe.to.ch);else if(o<=pe.to.line){u=!1;break}}u||(n.splice(0,r+1),r=0)}}}function Sc(n,o){var e=o.from.line,t=o.to.line,r=o.text.length-(t-e)-1;Qo(n.done,e,t,r),Qo(n.undone,e,t,r)}function Es(n,o,e,t){var r=o,i=o;return typeof o=="number"?i=cn(n,Kt(n,o)):r=On(o),r==null?null:(t(i,r)&&n.cm&&bi(n.cm,r,e),i)}function Ss(n){this.lines=n,this.parent=null;for(var o=0,e=0;e<n.length;++e)n[e].parent=this,o+=n[e].height;this.height=o}function uo(n){this.children=n;for(var o=0,e=0,t=0;t<n.length;++t){var r=n[t];o+=r.chunkSize(),e+=r.height,r.parent=this}this.size=o,this.height=e,this.parent=null}yr.prototype.from=function(){return xt(this.anchor,this.head)},yr.prototype.to=function(){return ut(this.anchor,this.head)},yr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Ss.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,o){for(var e=n,t=n+o;e<t;++e){var r=this.lines[e];this.height-=r.height,un(r),Mr(r,"delete")}this.lines.splice(n,o)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,o,e){this.height+=e,this.lines=this.lines.slice(0,n).concat(o).concat(this.lines.slice(n));for(var t=0;t<o.length;++t)o[t].parent=this},iterN:function(n,o,e){for(var t=n+o;n<t;++n)if(e(this.lines[n]))return!0}},uo.prototype={chunkSize:function(){return this.size},removeInner:function(n,o){this.size-=o;for(var e=0;e<this.children.length;++e){var t=this.children[e],r=t.chunkSize();if(n<r){var i=Math.min(o,r-n),u=t.height;if(t.removeInner(n,i),this.height-=u-t.height,r==i&&(this.children.splice(e--,1),t.parent=null),(o-=i)==0)break;n=0}else n-=r}if(this.size-o<25&&(this.children.length>1||!(this.children[0]instanceof Ss))){var L=[];this.collapse(L),this.children=[new Ss(L)],this.children[0].parent=this}},collapse:function(n){for(var o=0;o<this.children.length;++o)this.children[o].collapse(n)},insertInner:function(n,o,e){this.size+=o.length,this.height+=e;for(var t=0;t<this.children.length;++t){var r=this.children[t],i=r.chunkSize();if(n<=i){if(r.insertInner(n,o,e),r.lines&&r.lines.length>50){for(var u=r.lines.length%25+25,L=u;L<r.lines.length;){var ue=new Ss(r.lines.slice(L,L+=25));r.height-=ue.height,this.children.splice(++t,0,ue),ue.parent=this}r.lines=r.lines.slice(0,u),this.maybeSpill()}break}n-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var n=this;do{var o=new uo(n.children.splice(n.children.length-5,5));if(n.parent){n.size-=o.size,n.height-=o.height;var e=b(n.parent.children,n);n.parent.children.splice(e+1,0,o)}else{var t=new uo(n.children);t.parent=n,n.children=[t,o],n=t}o.parent=n.parent}while(n.children.length>10);n.parent.maybeSpill()}},iterN:function(n,o,e){for(var t=0;t<this.children.length;++t){var r=this.children[t],i=r.chunkSize();if(n<i){var u=Math.min(o,i-n);if(r.iterN(n,u,e))return!0;if((o-=u)==0)break;n=0}else n-=i}}};var fo=function(n,o,e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.doc=n,this.node=o};function ks(n,o,e){En(o)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&ac(n,e)}function ta(n,o,e,t){var r=new fo(n,e,t),i=n.cm;return i&&r.noHScroll&&(i.display.alignWidgets=!0),Es(n,o,"widget",function(u){var L=u.widgets||(u.widgets=[]);if(r.insertAt==null?L.push(r):L.splice(Math.min(L.length,Math.max(0,r.insertAt)),0,r),r.line=u,i&&!Gt(n,u)){var ue=En(u)<n.scrollTop;jn(u,u.height+$e(r)),ue&&ac(i,r.height),i.curOp.forceUpdate=!0}return!0}),i&&Mr(i,"lineWidgetAdded",i,r,typeof o=="number"?o:On(o)),r}fo.prototype.clear=function(){var n=this.doc.cm,o=this.line.widgets,e=this.line,t=On(e);if(t!=null&&o){for(var r=0;r<o.length;++r)o[r]==this&&o.splice(r--,1);o.length||(e.widgets=null);var i=$e(this);jn(e,Math.max(0,e.height-i)),n&&(wi(n,function(){ks(n,e,-i),bi(n,t,"widget")}),Mr(n,"lineWidgetCleared",n,this,t))}},fo.prototype.changed=function(){var n=this,o=this.height,e=this.doc.cm,t=this.line;this.height=null;var r=$e(this)-o;r&&(Gt(this.doc,t)||jn(t,t.height+r),e&&wi(e,function(){e.curOp.forceUpdate=!0,ks(e,t,r),Mr(e,"lineWidgetChanged",e,n,On(t))}))},mt(fo);var kc=0,No=function(n,o){this.lines=[],this.type=o,this.doc=n,this.id=++kc};function es(n,o,e,t,r){if(t&&t.shared)return xs(n,o,e,t,r);if(n.cm&&!n.cm.curOp)return Jr(n.cm,es)(n,o,e,t,r);var i=new No(n,r),u=Qe(o,e);if(t&&ne(t,i,!1),u>0||u==0&&i.clearWhenEmpty!==!1)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=c("span",[i.replacedWith],"CodeMirror-widget"),t.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),t.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Rt(n,o.line,o,e,i)||o.line!=e.line&&Rt(n,e.line,o,e,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");we()}i.addToHistory&&yc(n,{from:o,to:e,origin:"markText"},n.sel,NaN);var L,ue=o.line,pe=n.cm;if(n.iter(ue,e.line+1,function(xe){pe&&i.collapsed&&!pe.options.lineWrapping&&Vt(xe)==pe.display.maxLine&&(L=!0),i.collapsed&&ue!=o.line&&jn(xe,0),bt(xe,new Ie(i,ue==o.line?o.ch:null,ue==e.line?e.ch:null),n.cm&&n.cm.curOp),++ue}),i.collapsed&&n.iter(o.line,e.line+1,function(xe){Gt(n,xe)&&jn(xe,0)}),i.clearOnEnter&&Dt(i,"beforeCursorEnter",function(){return i.clear()}),i.readOnly&&(ee(),(n.history.done.length||n.history.undone.length)&&n.clearHistory()),i.collapsed&&(i.id=++kc,i.atomic=!0),pe){if(L&&(pe.curOp.updateMaxLine=!0),i.collapsed)Kr(pe,o.line,e.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var ke=o.line;ke<=e.line;ke++)bi(pe,ke,"text");i.atomic&&Js(pe.doc),Mr(pe,"markerAdded",pe,i)}return i}No.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,o=n&&!n.curOp;if(o&&Po(n),We(this,"clear")){var e=this.find();e&&Mr(this,"clear",e.from,e.to)}for(var t=null,r=null,i=0;i<this.lines.length;++i){var u=this.lines[i],L=qe(u.markedSpans,this);n&&!this.collapsed?bi(n,On(u),"text"):n&&(L.to!=null&&(r=On(u)),L.from!=null&&(t=On(u))),u.markedSpans=ht(u.markedSpans,L),L.from==null&&this.collapsed&&!Gt(this.doc,u)&&n&&jn(u,ms(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(var ue=0;ue<this.lines.length;++ue){var pe=Vt(this.lines[ue]),ke=Jn(pe);ke>n.display.maxLineLength&&(n.display.maxLine=pe,n.display.maxLineLength=ke,n.display.maxLineChanged=!0)}t!=null&&n&&this.collapsed&&Kr(n,t,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&Js(n.doc)),n&&Mr(n,"markerCleared",n,this,t,r),o&&qo(n),this.parent&&this.parent.clear()}},No.prototype.find=function(n,o){var e,t;n==null&&this.type=="bookmark"&&(n=1);for(var r=0;r<this.lines.length;++r){var i=this.lines[r],u=qe(i.markedSpans,this);if(u.from!=null&&(e=en(o?i:On(i),u.from),n==-1))return e;if(u.to!=null&&(t=en(o?i:On(i),u.to),n==1))return t}return e&&{from:e,to:t}},No.prototype.changed=function(){var n=this,o=this.find(-1,!0),e=this,t=this.doc.cm;o&&t&&wi(t,function(){var r=o.line,i=On(o.line),u=Er(t,i);if(u&&(sl(u),t.curOp.selectionChanged=t.curOp.forceUpdate=!0),t.curOp.updateMaxLine=!0,!Gt(e.doc,r)&&e.height!=null){var L=e.height;e.height=null;var ue=$e(e)-L;ue&&jn(r,r.height+ue)}Mr(t,"markerChanged",t,n)})},No.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;o.maybeHiddenMarkers&&b(o.maybeHiddenMarkers,this)!=-1||(o.maybeUnhiddenMarkers||(o.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)},No.prototype.detachLine=function(n){if(this.lines.splice(b(this.lines,n),1),!this.lines.length&&this.doc.cm){var o=this.doc.cm.curOp;(o.maybeHiddenMarkers||(o.maybeHiddenMarkers=[])).push(this)}},mt(No);var Li=function(n,o){this.markers=n,this.primary=o;for(var e=0;e<n.length;++e)n[e].parent=this};function xs(n,o,e,t,r){(t=ne(t)).shared=!1;var i=[es(n,o,e,t,r)],u=i[0],L=t.widgetNode;return so(n,function(ue){L&&(t.widgetNode=L.cloneNode(!0)),i.push(es(ue,Ht(ue,o),Ht(ue,e),t,r));for(var pe=0;pe<ue.linked.length;++pe)if(ue.linked[pe].isParent)return;u=G(i)}),new Li(i,u)}function Ps(n){return n.findMarks(en(n.first,0),n.clipPos(en(n.lastLine())),function(o){return o.parent})}function uu(n,o){for(var e=0;e<o.length;e++){var t=o[e],r=t.find(),i=n.clipPos(r.from),u=n.clipPos(r.to);if(Qe(i,u)){var L=es(n,i,u,t.primary,t.primary.type);t.markers.push(L),L.parent=t}}}function Ol(n){for(var o=function(t){var r=n[t],i=[r.primary.doc];so(r.primary.doc,function(ue){return i.push(ue)});for(var u=0;u<r.markers.length;u++){var L=r.markers[u];b(i,L.doc)==-1&&(L.parent=null,r.markers.splice(u--,1))}},e=0;e<n.length;e++)o(e)}Li.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();Mr(this,"clear")}},Li.prototype.find=function(n,o){return this.primary.find(n,o)},mt(Li);var fu=0,pi=function(n,o,e,t,r){if(!(this instanceof pi))return new pi(n,o,e,t,r);e==null&&(e=0),uo.call(this,[new Ss([new Pe("",null)])]),this.first=e,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=e;var i=en(e,0);this.sel=sr(i),this.history=new Ks(null),this.id=++fu,this.modeOption=o,this.lineSep=t,this.direction=r=="rtl"?"rtl":"ltr",this.extend=!1,typeof n=="string"&&(n=this.splitLines(n)),Ko(this,{from:i,to:i,text:n}),ai(this,sr(i),h)};pi.prototype=Ne(uo.prototype,{constructor:pi,iter:function(n,o,e){e?this.iterN(n-this.first,o-n,e):this.iterN(this.first,this.first+this.size,n)},insert:function(n,o){for(var e=0,t=0;t<o.length;++t)e+=o[t].height;this.insertInner(n-this.first,o,e)},remove:function(n,o){this.removeInner(n-this.first,o)},getValue:function(n){var o=gn(this,this.first,this.first+this.size);return n===!1?o:o.join(n||this.lineSeparator())},setValue:ur(function(n){var o=en(this.first,0),e=this.first+this.size-1;Jo(this,{from:o,to:en(e,cn(this,e).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0),this.cm&&Uo(this.cm,0,0),ai(this,sr(o),h)}),replaceRange:function(n,o,e,t){Qi(this,n,o=Ht(this,o),e=e?Ht(this,e):o,t)},getRange:function(n,o,e){var t=Tn(this,Ht(this,n),Ht(this,o));return e===!1?t:e===""?t.join(""):t.join(e||this.lineSeparator())},getLine:function(n){var o=this.getLineHandle(n);return o&&o.text},getLineHandle:function(n){if(Rn(this,n))return cn(this,n)},getLineNumber:function(n){return On(n)},getLineHandleVisualStart:function(n){return typeof n=="number"&&(n=cn(this,n)),Vt(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return Ht(this,n)},getCursor:function(n){var o=this.sel.primary();return n==null||n=="head"?o.head:n=="anchor"?o.anchor:n=="end"||n=="to"||n===!1?o.to():o.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ur(function(n,o,e){bc(this,Ht(this,typeof n=="number"?en(n,o||0):n),null,e)}),setSelection:ur(function(n,o,e){bc(this,Ht(this,n),Ht(this,o||n),e)}),extendSelection:ur(function(n,o,e){co(this,Ht(this,n),o&&Ht(this,o),e)}),extendSelections:ur(function(n,o){Ha(this,an(this,n),o)}),extendSelectionsBy:ur(function(n,o){Ha(this,an(this,V(this.sel.ranges,n)),o)}),setSelections:ur(function(n,o,e){if(n.length){for(var t=[],r=0;r<n.length;r++)t[r]=new yr(Ht(this,n[r].anchor),Ht(this,n[r].head||n[r].anchor));o==null&&(o=Math.min(n.length-1,this.sel.primIndex)),ai(this,Vr(this.cm,t,o),e)}}),addSelection:ur(function(n,o,e){var t=this.sel.ranges.slice(0);t.push(new yr(Ht(this,n),Ht(this,o||n))),ai(this,Vr(this.cm,t,t.length-1),e)}),getSelection:function(n){for(var o,e=this.sel.ranges,t=0;t<e.length;t++){var r=Tn(this,e[t].from(),e[t].to());o=o?o.concat(r):r}return n===!1?o:o.join(n||this.lineSeparator())},getSelections:function(n){for(var o=[],e=this.sel.ranges,t=0;t<e.length;t++){var r=Tn(this,e[t].from(),e[t].to());n!==!1&&(r=r.join(n||this.lineSeparator())),o[t]=r}return o},replaceSelection:function(n,o,e){for(var t=[],r=0;r<this.sel.ranges.length;r++)t[r]=n;this.replaceSelections(t,o,e||"+input")},replaceSelections:ur(function(n,o,e){for(var t=[],r=this.sel,i=0;i<r.ranges.length;i++){var u=r.ranges[i];t[i]={from:u.from(),to:u.to(),text:this.splitLines(n[i]),origin:e}}for(var L=o&&o!="end"&&gc(this,t,o),ue=t.length-1;ue>=0;ue--)Jo(this,t[ue]);L?_c(this,L):this.cm&&So(this.cm)}),undo:ur(function(){lo(this,"undo")}),redo:ur(function(){lo(this,"redo")}),undoSelection:ur(function(){lo(this,"undo",!0)}),redoSelection:ur(function(){lo(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,o=0,e=0,t=0;t<n.done.length;t++)n.done[t].ranges||++o;for(var r=0;r<n.undone.length;r++)n.undone[r].ranges||++e;return{undo:o,redo:e}},clearHistory:function(){var n=this;this.history=new Ks(this.history),so(this,function(o){return o.history=n.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:Os(this.history.done),undone:Os(this.history.undone)}},setHistory:function(n){var o=this.history=new Ks(this.history);o.done=Os(n.done.slice(0),null,!0),o.undone=Os(n.undone.slice(0),null,!0)},setGutterMarker:ur(function(n,o,e){return Es(this,n,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[o]=e,!e&&ae(r)&&(t.gutterMarkers=null),!0})}),clearGutter:ur(function(n){var o=this;this.iter(function(e){e.gutterMarkers&&e.gutterMarkers[n]&&Es(o,e,"gutter",function(){return e.gutterMarkers[n]=null,ae(e.gutterMarkers)&&(e.gutterMarkers=null),!0})})}),lineInfo:function(n){var o;if(typeof n=="number"){if(!Rn(this,n)||(o=n,!(n=cn(this,n))))return null}else if((o=On(n))==null)return null;return{line:o,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:ur(function(n,o,e){return Es(this,n,o=="gutter"?"gutter":"class",function(t){var r=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass";if(t[r]){if(B(e).test(t[r]))return!1;t[r]+=" "+e}else t[r]=e;return!0})}),removeLineClass:ur(function(n,o,e){return Es(this,n,o=="gutter"?"gutter":"class",function(t){var r=o=="text"?"textClass":o=="background"?"bgClass":o=="gutter"?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(e==null)t[r]=null;else{var u=i.match(B(e));if(!u)return!1;var L=u.index+u[0].length;t[r]=i.slice(0,u.index)+(u.index&&L!=i.length?" ":"")+i.slice(L)||null}return!0})}),addLineWidget:ur(function(n,o,e){return ta(this,n,o,e)}),removeLineWidget:function(n){n.clear()},markText:function(n,o,e){return es(this,Ht(this,n),Ht(this,o),e,e&&e.type||"range")},setBookmark:function(n,o){var e={replacedWith:o&&(o.nodeType==null?o.widget:o),insertLeft:o&&o.insertLeft,clearWhenEmpty:!1,shared:o&&o.shared,handleMouseEvents:o&&o.handleMouseEvents};return es(this,n=Ht(this,n),n,e,"bookmark")},findMarksAt:function(n){var o=[],e=cn(this,(n=Ht(this,n)).line).markedSpans;if(e)for(var t=0;t<e.length;++t){var r=e[t];(r.from==null||r.from<=n.ch)&&(r.to==null||r.to>=n.ch)&&o.push(r.marker.parent||r.marker)}return o},findMarks:function(n,o,e){n=Ht(this,n),o=Ht(this,o);var t=[],r=n.line;return this.iter(n.line,o.line+1,function(i){var u=i.markedSpans;if(u)for(var L=0;L<u.length;L++){var ue=u[L];ue.to!=null&&r==n.line&&n.ch>=ue.to||ue.from==null&&r!=n.line||ue.from!=null&&r==o.line&&ue.from>=o.ch||e&&!e(ue.marker)||t.push(ue.marker.parent||ue.marker)}++r}),t},getAllMarks:function(){var n=[];return this.iter(function(o){var e=o.markedSpans;if(e)for(var t=0;t<e.length;++t)e[t].from!=null&&n.push(e[t].marker)}),n},posFromIndex:function(n){var o,e=this.first,t=this.lineSeparator().length;return this.iter(function(r){var i=r.text.length+t;if(i>n)return o=n,!0;n-=i,++e}),Ht(this,en(e,o))},indexFromPos:function(n){var o=(n=Ht(this,n)).ch;if(n.line<this.first||n.ch<0)return 0;var e=this.lineSeparator().length;return this.iter(this.first,n.line,function(t){o+=t.text.length+e}),o},copy:function(n){var o=new pi(gn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return o.scrollTop=this.scrollTop,o.scrollLeft=this.scrollLeft,o.sel=this.sel,o.extend=!1,n&&(o.history.undoDepth=this.history.undoDepth,o.setHistory(this.getHistory())),o},linkedDoc:function(n){n||(n={});var o=this.first,e=this.first+this.size;n.from!=null&&n.from>o&&(o=n.from),n.to!=null&&n.to<e&&(e=n.to);var t=new pi(gn(this,o,e),n.mode||this.modeOption,o,this.lineSep,this.direction);return n.sharedHist&&(t.history=this.history),(this.linked||(this.linked=[])).push({doc:t,sharedHist:n.sharedHist}),t.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],uu(t,Ps(this)),t},unlinkDoc:function(n){if(n instanceof jr&&(n=n.doc),this.linked){for(var o=0;o<this.linked.length;++o)if(this.linked[o].doc==n){this.linked.splice(o,1),n.unlinkDoc(this),Ol(Ps(this));break}}if(n.history==this.history){var e=[n.id];so(n,function(t){return e.push(t.id)},!0),n.history=new Ks(null),n.history.done=Os(this.history.done,e),n.history.undone=Os(this.history.undone,e)}},iterLinkedDocs:function(n){so(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):rn(n)},lineSeparator:function(){return this.lineSep||`
`},setDirection:ur(function(n){n!="rtl"&&(n="ltr"),n!=this.direction&&(this.direction=n,this.iter(function(o){return o.order=null}),this.cm&&ml(this.cm))})}),pi.prototype.eachLine=pi.prototype.iter;var Cl=0;function di(n){var o=this;if(Sl(o),!Ge(o,n)&&!ct(o.display,n)){Ke(n),D&&(Cl=+new Date);var e=Oo(o,n,!0),t=n.dataTransfer.files;if(e&&!o.isReadOnly())if(t&&t.length&&window.FileReader&&window.File)for(var r=t.length,i=Array(r),u=0,L=function(){++u==r&&Jr(o,function(){var et={from:e=Ht(o.doc,e),to:e,text:o.doc.splitLines(i.filter(function(pt){return pt!=null}).join(o.doc.lineSeparator())),origin:"paste"};Jo(o.doc,et),_c(o.doc,sr(Ht(o.doc,e),Ht(o.doc,ri(et))))})()},ue=function(et,pt){if(o.options.allowDropFileTypes&&b(o.options.allowDropFileTypes,et.type)==-1)L();else{var wt=new FileReader;wt.onerror=function(){return L()},wt.onload=function(){var Et=wt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Et)||(i[pt]=Et),L()},wt.readAsText(et)}},pe=0;pe<t.length;pe++)ue(t[pe],pe);else{if(o.state.draggingText&&o.doc.sel.contains(e)>-1)return o.state.draggingText(n),void setTimeout(function(){return o.display.input.focus()},20);try{var ke=n.dataTransfer.getData("Text");if(ke){var xe;if(o.state.draggingText&&!o.state.draggingText.copy&&(xe=o.listSelections()),Xs(o.doc,sr(e,e)),xe)for(var Je=0;Je<xe.length;++Je)Qi(o.doc,"",xe[Je].anchor,xe[Je].head,"drag");o.replaceSelection(ke,"around","paste"),o.display.input.focus()}}catch{}}}}function El(n,o){if(D&&(!n.state.draggingText||+new Date-Cl<100))Ct(o);else if(!Ge(n,o)&&!ct(n.display,o)&&(o.dataTransfer.setData("Text",n.getSelection()),o.dataTransfer.effectAllowed="copyMove",o.dataTransfer.setDragImage&&!m)){var e=M("img",null,null,"position: fixed; left: 0; top: 0;");e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",y&&(e.width=e.height=1,n.display.wrapper.appendChild(e),e._top=e.offsetTop),o.dataTransfer.setDragImage(e,0,0),y&&e.parentNode.removeChild(e)}}function hu(n,o){var e=Oo(n,o);if(e){var t=document.createDocumentFragment();Bo(n,e,t),n.display.dragCursor||(n.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv)),E(n.display.dragCursor,t)}}function Sl(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function kl(n){if(document.getElementsByClassName){for(var o=document.getElementsByClassName("CodeMirror"),e=[],t=0;t<o.length;t++){var r=o[t].CodeMirror;r&&e.push(r)}e.length&&e[0].operation(function(){for(var i=0;i<e.length;i++)n(e[i])})}}var xc=!1;function xl(){xc||(Pl(),xc=!0)}function Pl(){var n;Dt(window,"resize",function(){n==null&&(n=setTimeout(function(){n=null,kl(pu)},100))}),Dt(window,"blur",function(){return kl(Eo)})}function pu(n){var o=n.display;o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.scrollbarsClipped=!1,n.setSize()}for(var Mo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},na=0;na<10;na++)Mo[na+48]=Mo[na+96]=String(na);for(var zi=65;zi<=90;zi++)Mo[zi]=String.fromCharCode(zi);for(var ho=1;ho<=12;ho++)Mo[ho+111]=Mo[ho+63235]="F"+ho;var Ii={};function ra(n){var o,e,t,r,i=n.split(/-(?!$)/);n=i[i.length-1];for(var u=0;u<i.length-1;u++){var L=i[u];if(/^(cmd|meta|m)$/i.test(L))r=!0;else if(/^a(lt)?$/i.test(L))o=!0;else if(/^(c|ctrl|control)$/i.test(L))e=!0;else{if(!/^s(hift)?$/i.test(L))throw new Error("Unrecognized modifier name: "+L);t=!0}}return o&&(n="Alt-"+n),e&&(n="Ctrl-"+n),r&&(n="Cmd-"+n),t&&(n="Shift-"+n),n}function po(n){var o={};for(var e in n)if(n.hasOwnProperty(e)){var t=n[e];if(/^(name|fallthrough|(de|at)tach)$/.test(e))continue;if(t=="..."){delete n[e];continue}for(var r=V(e.split(" "),ra),i=0;i<r.length;i++){var u=void 0,L=void 0;i==r.length-1?(L=r.join(" "),u=t):(L=r.slice(0,i+1).join(" "),u="...");var ue=o[L];if(ue){if(ue!=u)throw new Error("Inconsistent bindings for "+L)}else o[L]=u}delete n[e]}for(var pe in o)n[pe]=o[pe];return n}function As(n,o,e,t){var r=(o=ia(o)).call?o.call(n,t):o[n];if(r===!1)return"nothing";if(r==="...")return"multi";if(r!=null&&e(r))return"handled";if(o.fallthrough){if(Object.prototype.toString.call(o.fallthrough)!="[object Array]")return As(n,o.fallthrough,e,t);for(var i=0;i<o.fallthrough.length;i++){var u=As(n,o.fallthrough[i],e,t);if(u)return u}}}function Al(n){var o=typeof n=="string"?n:Mo[n.keyCode];return o=="Ctrl"||o=="Alt"||o=="Shift"||o=="Mod"}function ts(n,o,e){var t=n;return o.altKey&&t!="Alt"&&(n="Alt-"+n),(se?o.metaKey:o.ctrlKey)&&t!="Ctrl"&&(n="Ctrl-"+n),(se?o.ctrlKey:o.metaKey)&&t!="Mod"&&(n="Cmd-"+n),!e&&o.shiftKey&&t!="Shift"&&(n="Shift-"+n),n}function Pc(n,o){if(y&&n.keyCode==34&&n.char)return!1;var e=Mo[n.keyCode];return e!=null&&!n.altGraphKey&&(n.keyCode==3&&n.code&&(e=n.code),ts(e,n,o))}function ia(n){return typeof n=="string"?Ii[n]:n}function ns(n,o){for(var e=n.doc.sel.ranges,t=[],r=0;r<e.length;r++){for(var i=o(e[r]);t.length&&Qe(i.from,G(t).to)<=0;){var u=t.pop();if(Qe(u.from,i.from)<0){i.from=u.from;break}}t.push(i)}wi(n,function(){for(var L=t.length-1;L>=0;L--)Qi(n.doc,"",t[L].from,t[L].to,"+delete");So(n)})}function Rs(n,o,e){var t=Te(n.text,o+e,e);return t<0||t>n.text.length?null:t}function jo(n,o,e){var t=Rs(n,o.ch,e);return t==null?null:new en(o.line,t,e<0?"after":"before")}function oa(n,o,e,t,r){if(n){o.doc.direction=="rtl"&&(r=-r);var i=Ut(e,o.doc.direction);if(i){var u,L=r<0?G(i):i[0],ue=r<0==(L.level==1)?"after":"before";if(L.level>0||o.doc.direction=="rtl"){var pe=Gr(o,e);u=r<0?e.text.length-1:0;var ke=fi(o,pe,u).top;u=Re(function(xe){return fi(o,pe,xe).top==ke},r<0==(L.level==1)?L.from:L.to-1,u),ue=="before"&&(u=Rs(e,u,1))}else u=r<0?L.to:L.from;return new en(t,u,ue)}}return new en(t,r<0?e.text.length:0,r<0?"before":"after")}function Ac(n,o,e,t){var r=Ut(o,n.doc.direction);if(!r)return jo(o,e,t);e.ch>=o.text.length?(e.ch=o.text.length,e.sticky="before"):e.ch<=0&&(e.ch=0,e.sticky="after");var i=lt(r,e.ch,e.sticky),u=r[i];if(n.doc.direction=="ltr"&&u.level%2==0&&(t>0?u.to>e.ch:u.from<e.ch))return jo(o,e,t);var L,ue=function(jt,zt){return Rs(o,jt instanceof en?jt.ch:jt,zt)},pe=function(jt){return n.options.lineWrapping?(L=L||Gr(n,o),Sa(n,o,L,jt)):{begin:0,end:o.text.length}},ke=pe(e.sticky=="before"?ue(e,-1):e.ch);if(n.doc.direction=="rtl"||u.level==1){var xe=u.level==1==t<0,Je=ue(e,xe?1:-1);if(Je!=null&&(xe?Je<=u.to&&Je<=ke.end:Je>=u.from&&Je>=ke.begin)){var et=xe?"before":"after";return new en(e.line,Je,et)}}var pt=function(jt,zt,qt){for(var Jt=function(Cn,nr){return nr?new en(e.line,ue(Cn,1),"before"):new en(e.line,Cn,"after")};jt>=0&&jt<r.length;jt+=zt){var Wt=r[jt],on=zt>0==(Wt.level!=1),_n=on?qt.begin:ue(qt.end,-1);if(Wt.from<=_n&&_n<Wt.to||(_n=on?Wt.from:ue(Wt.to,-1),qt.begin<=_n&&_n<qt.end))return Jt(_n,on)}},wt=pt(i+t,t,ke);if(wt)return wt;var Et=t>0?ke.end:ue(ke.begin,-1);return Et==null||t>0&&Et==o.text.length||!(wt=pt(t>0?0:r.length-1,t,pe(Et)))?null:wt}Ii.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ii.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ii.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ii.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ii.default=Y?Ii.macDefault:Ii.pcDefault;var rs={selectAll:ea,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),h)},killLine:function(n){return ns(n,function(o){if(o.empty()){var e=cn(n.doc,o.head.line).text.length;return o.head.ch==e&&o.head.line<n.lastLine()?{from:o.head,to:en(o.head.line+1,0)}:{from:o.head,to:en(o.head.line,e)}}return{from:o.from(),to:o.to()}})},deleteLine:function(n){return ns(n,function(o){return{from:en(o.from().line,0),to:Ht(n.doc,en(o.to().line+1,0))}})},delLineLeft:function(n){return ns(n,function(o){return{from:en(o.from().line,0),to:o.from()}})},delWrappedLineLeft:function(n){return ns(n,function(o){var e=n.charCoords(o.head,"div").top+5;return{from:n.coordsChar({left:0,top:e},"div"),to:o.from()}})},delWrappedLineRight:function(n){return ns(n,function(o){var e=n.charCoords(o.head,"div").top+5,t=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:e},"div");return{from:o.from(),to:t}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(en(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(en(n.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(o){return Rl(n,o.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(o){return Rc(n,o.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(o){return sa(n,o.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(o){var e=n.cursorCoords(o.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:e},"div")},A)},goLineLeft:function(n){return n.extendSelectionsBy(function(o){var e=n.cursorCoords(o.head,"div").top+5;return n.coordsChar({left:0,top:e},"div")},A)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(o){var e=n.cursorCoords(o.head,"div").top+5,t=n.coordsChar({left:0,top:e},"div");return t.ch<n.getLine(t.line).search(/\S/)?Rc(n,o.head):t},A)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"codepoint")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("	")},insertSoftTab:function(n){for(var o=[],e=n.listSelections(),t=n.options.tabSize,r=0;r<e.length;r++){var i=e[r].from(),u=R(n.getLine(i.line),i.ch,t);o.push(F(t-u%t))}n.replaceSelections(o)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return wi(n,function(){for(var o=n.listSelections(),e=[],t=0;t<o.length;t++)if(o[t].empty()){var r=o[t].head,i=cn(n.doc,r.line).text;if(i){if(r.ch==i.length&&(r=new en(r.line,r.ch-1)),r.ch>0)r=new en(r.line,r.ch+1),n.replaceRange(i.charAt(r.ch-1)+i.charAt(r.ch-2),en(r.line,r.ch-2),r,"+transpose");else if(r.line>n.doc.first){var u=cn(n.doc,r.line-1).text;u&&(r=new en(r.line,1),n.replaceRange(i.charAt(0)+n.doc.lineSeparator()+u.charAt(u.length-1),en(r.line-1,u.length-1),r,"+transpose"))}}e.push(new yr(r,r))}n.setSelections(e)})},newlineAndIndent:function(n){return wi(n,function(){for(var o=n.listSelections(),e=o.length-1;e>=0;e--)n.replaceRange(n.doc.lineSeparator(),o[e].anchor,o[e].head,"+input");o=n.listSelections();for(var t=0;t<o.length;t++)n.indentLine(o[t].from().line,null,!0);So(n)})},openLine:function(n){return n.replaceSelection(`
`,"start")},toggleOverwrite:function(n){return n.toggleOverwrite()}};function Rl(n,o){var e=cn(n.doc,o),t=Vt(e);return t!=e&&(o=On(t)),oa(!0,n,t,o,1)}function sa(n,o){var e=cn(n.doc,o),t=Ft(e);return t!=e&&(o=On(t)),oa(!0,n,e,o,-1)}function Rc(n,o){var e=Rl(n,o.line),t=cn(n.doc,e.line),r=Ut(t,n.doc.direction);if(!r||r[0].level==0){var i=Math.max(e.ch,t.text.search(/\S/)),u=o.line==e.line&&o.ch<=i&&o.ch;return en(e.line,u?0:i,e.sticky)}return e}function Va(n,o,e){if(typeof o=="string"&&!(o=rs[o]))return!1;n.display.input.ensurePolled();var t=n.display.shift,r=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),e&&(n.display.shift=!1),r=o(n)!=f}finally{n.display.shift=t,n.state.suppressEdits=!1}return r}function Dl(n,o,e){for(var t=0;t<n.state.keyMaps.length;t++){var r=As(o,n.state.keyMaps[t],e,n);if(r)return r}return n.options.extraKeys&&As(o,n.options.extraKeys,e,n)||As(o,n.options.keyMap,e,n)}var Ua=new v;function aa(n,o,e,t){var r=n.state.keySeq;if(r){if(Al(o))return"handled";if(/\'$/.test(o)?n.state.keySeq=null:Ua.set(50,function(){n.state.keySeq==r&&(n.state.keySeq=null,n.display.input.reset())}),Nl(n,r+" "+o,e,t))return!0}return Nl(n,o,e,t)}function Nl(n,o,e,t){var r=Dl(n,o,t);return r=="multi"&&(n.state.keySeq=o),r=="handled"&&Mr(n,"keyHandled",n,o,e),r!="handled"&&r!="multi"||(Ke(e),ys(n)),!!r}function Ds(n,o){var e=Pc(o,!0);return!!e&&(o.shiftKey&&!n.state.keySeq?aa(n,"Shift-"+e,o,function(t){return Va(n,t,!0)})||aa(n,e,o,function(t){if(typeof t=="string"?/^go[A-Z]/.test(t):t.motion)return Va(n,t)}):aa(n,e,o,function(t){return Va(n,t)}))}function Ml(n,o,e){return aa(n,"'"+e+"'",o,function(t){return Va(n,t,!0)})}var za=null;function jl(n){var o=this;if(!(n.target&&n.target!=o.display.input.getField()||(o.curOp.focus=s(),Ge(o,n)))){D&&q<11&&n.keyCode==27&&(n.returnValue=!1);var e=n.keyCode;o.display.shift=e==16||n.shiftKey;var t=Ds(o,n);y&&(za=t?e:null,t||e!=88||wn||!(Y?n.metaKey:n.ctrlKey)||o.replaceSelection("",null,"cut")),ie&&!Y&&!t&&e==46&&n.shiftKey&&!n.ctrlKey&&document.execCommand&&document.execCommand("cut"),e!=18||/\bCodeMirror-crosshair\b/.test(o.display.lineDiv.className)||Dc(o)}}function Dc(n){var o=n.display.lineDiv;function e(t){t.keyCode!=18&&t.altKey||(j(o,"CodeMirror-crosshair"),st(document,"keyup",e),st(document,"mouseover",e))}p(o,"CodeMirror-crosshair"),Dt(document,"keyup",e),Dt(document,"mouseover",e)}function Nc(n){n.keyCode==16&&(this.doc.sel.shift=!1),Ge(this,n)}function Ll(n){var o=this;if(!(n.target&&n.target!=o.display.input.getField()||ct(o.display,n)||Ge(o,n)||n.ctrlKey&&!n.altKey||Y&&n.metaKey)){var e=n.keyCode,t=n.charCode;if(y&&e==za)return za=null,void Ke(n);if(!y||n.which&&!(n.which<10)||!Ds(o,n)){var r=String.fromCharCode(t==null?e:t);r!="\b"&&(Ml(o,n,r)||o.display.input.onKeyPress(n))}}}var Ns,Ms,ca=400,is=function(n,o,e){this.time=n,this.pos=o,this.button=e};function du(n,o){var e=+new Date;return Ms&&Ms.compare(e,n,o)?(Ns=Ms=null,"triple"):Ns&&Ns.compare(e,n,o)?(Ms=new is(e,n,o),Ns=null,"double"):(Ns=new is(e,n,o),Ms=null,"single")}function qa(n){var o=this,e=o.display;if(!(Ge(o,n)||e.activeTouch&&e.input.supportsTouch())){if(e.input.ensurePolled(),e.shift=n.shiftKey,ct(e,n))l||(e.scroller.draggable=!1,setTimeout(function(){return e.scroller.draggable=!0},100));else if(!Mc(o,n)){var t=Oo(o,n),r=Nt(n),i=t?du(t,r):"single";window.focus(),r==1&&o.state.selectingText&&o.state.selectingText(n),t&&gu(o,r,t,i,n)||(r==1?t?mu(o,t,i,n):It(n)==e.scroller&&Ke(n):r==2?(t&&co(o.doc,t),setTimeout(function(){return e.input.focus()},20)):r==3&&(Z?o.display.input.onContextMenu(n):zs(o)))}}}function gu(n,o,e,t,r){var i="Click";return t=="double"?i="Double"+i:t=="triple"&&(i="Triple"+i),aa(n,ts(i=(o==1?"Left":o==2?"Middle":"Right")+i,r),r,function(u){if(typeof u=="string"&&(u=rs[u]),!u)return!1;var L=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),L=u(n,e)!=f}finally{n.state.suppressEdits=!1}return L})}function Il(n,o,e){var t=n.getOption("configureMouse"),r=t?t(n,o,e):{};if(r.unit==null){var i=x?e.shiftKey&&e.metaKey:e.altKey;r.unit=i?"rectangle":o=="single"?"char":o=="double"?"word":"line"}return(r.extend==null||n.doc.extend)&&(r.extend=n.doc.extend||e.shiftKey),r.addNew==null&&(r.addNew=Y?e.metaKey:e.ctrlKey),r.moveOnDrag==null&&(r.moveOnDrag=!(Y?e.altKey:e.ctrlKey)),r}function mu(n,o,e,t){D?setTimeout(Q(ll,n),0):n.curOp.focus=s();var r,i=Il(n,e,t),u=n.doc.sel;n.options.dragDrop&&hn&&!n.isReadOnly()&&e=="single"&&(r=u.contains(o))>-1&&(Qe((r=u.ranges[r]).from(),o)<0||o.xRel>0)&&(Qe(r.to(),o)>0||o.xRel<0)?vu(n,t,o,i):yu(n,t,o,i)}function vu(n,o,e,t){var r=n.display,i=!1,u=Jr(n,function(pe){l&&(r.scroller.draggable=!1),n.state.draggingText=!1,n.state.delayingBlurEvent&&(n.hasFocus()?n.state.delayingBlurEvent=!1:zs(n)),st(r.wrapper.ownerDocument,"mouseup",u),st(r.wrapper.ownerDocument,"mousemove",L),st(r.scroller,"dragstart",ue),st(r.scroller,"drop",u),i||(Ke(pe),t.addNew||co(n.doc,e,null,null,t.extend),l&&!m||D&&q==9?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),L=function(pe){i=i||Math.abs(o.clientX-pe.clientX)+Math.abs(o.clientY-pe.clientY)>=10},ue=function(){return i=!0};l&&(r.scroller.draggable=!0),n.state.draggingText=u,u.copy=!t.moveOnDrag,Dt(r.wrapper.ownerDocument,"mouseup",u),Dt(r.wrapper.ownerDocument,"mousemove",L),Dt(r.scroller,"dragstart",ue),Dt(r.scroller,"drop",u),n.state.delayingBlurEvent=!0,setTimeout(function(){return r.input.focus()},20),r.scroller.dragDrop&&r.scroller.dragDrop()}function Zl(n,o,e){if(e=="char")return new yr(o,o);if(e=="word")return n.findWordAt(o);if(e=="line")return new yr(en(o.line,0),Ht(n.doc,en(o.line+1,0)));var t=e(n,o);return new yr(t.from,t.to)}function yu(n,o,e,t){D&&zs(n);var r=n.display,i=n.doc;Ke(o);var u,L,ue=i.sel,pe=ue.ranges;if(t.addNew&&!t.extend?(L=i.sel.contains(e),u=L>-1?pe[L]:new yr(e,e)):(u=i.sel.primary(),L=i.sel.primIndex),t.unit=="rectangle")t.addNew||(u=new yr(e,e)),e=Oo(n,o,!0,!0),L=-1;else{var ke=Zl(n,e,t.unit);u=t.extend?Ba(u,ke.anchor,ke.head,t.extend):ke}t.addNew?L==-1?(L=pe.length,ai(i,Vr(n,pe.concat([u]),L),{scroll:!1,origin:"*mouse"})):pe.length>1&&pe[L].empty()&&t.unit=="char"&&!t.extend?(ai(i,Vr(n,pe.slice(0,L).concat(pe.slice(L+1)),0),{scroll:!1,origin:"*mouse"}),ue=i.sel):Cs(i,L,u,_):(L=0,ai(i,new Ei([u],0),_),ue=i.sel);var xe=e;function Je(qt){if(Qe(xe,qt)!=0)if(xe=qt,t.unit=="rectangle"){for(var Jt=[],Wt=n.options.tabSize,on=R(cn(i,e.line).text,e.ch,Wt),_n=R(cn(i,qt.line).text,qt.ch,Wt),Cn=Math.min(on,_n),nr=Math.max(on,_n),Wn=Math.min(e.line,qt.line),Ir=Math.min(n.lastLine(),Math.max(e.line,qt.line));Wn<=Ir;Wn++){var ar=cn(i,Wn).text,vr=J(ar,Cn,Wt);Cn==nr?Jt.push(new yr(en(Wn,vr),en(Wn,vr))):ar.length>vr&&Jt.push(new yr(en(Wn,vr),en(Wn,J(ar,nr,Wt))))}Jt.length||Jt.push(new yr(e,e)),ai(i,Vr(n,ue.ranges.slice(0,L).concat(Jt),L),{origin:"*mouse",scroll:!1}),n.scrollIntoView(qt)}else{var Pr,lr=u,dr=Zl(n,qt,t.unit),fr=lr.anchor;Qe(dr.anchor,fr)>0?(Pr=dr.head,fr=xt(lr.from(),dr.anchor)):(Pr=dr.anchor,fr=ut(lr.to(),dr.head));var rr=ue.ranges.slice(0);rr[L]=Fl(n,new yr(Ht(i,fr),Pr)),ai(i,Vr(n,rr,L),_)}}var et=r.wrapper.getBoundingClientRect(),pt=0;function wt(qt){var Jt=++pt,Wt=Oo(n,qt,!0,t.unit=="rectangle");if(Wt)if(Qe(Wt,xe)!=0){n.curOp.focus=s(),Je(Wt);var on=Vo(r,i);(Wt.line>=on.to||Wt.line<on.from)&&setTimeout(Jr(n,function(){pt==Jt&&wt(qt)}),150)}else{var _n=qt.clientY<et.top?-20:qt.clientY>et.bottom?20:0;_n&&setTimeout(Jr(n,function(){pt==Jt&&(r.scroller.scrollTop+=_n,wt(qt))}),50)}}function Et(qt){n.state.selectingText=!1,pt=1/0,qt&&(Ke(qt),r.input.focus()),st(r.wrapper.ownerDocument,"mousemove",jt),st(r.wrapper.ownerDocument,"mouseup",zt),i.history.lastSelOrigin=null}var jt=Jr(n,function(qt){qt.buttons!==0&&Nt(qt)?wt(qt):Et(qt)}),zt=Jr(n,Et);n.state.selectingText=zt,Dt(r.wrapper.ownerDocument,"mousemove",jt),Dt(r.wrapper.ownerDocument,"mouseup",zt)}function Fl(n,o){var e=o.anchor,t=o.head,r=cn(n.doc,e.line);if(Qe(e,t)==0&&e.sticky==t.sticky)return o;var i=Ut(r);if(!i)return o;var u=lt(i,e.ch,e.sticky),L=i[u];if(L.from!=e.ch&&L.to!=e.ch)return o;var ue,pe=u+(L.from==e.ch==(L.level!=1)?0:1);if(pe==0||pe==i.length)return o;if(t.line!=e.line)ue=(t.line-e.line)*(n.doc.direction=="ltr"?1:-1)>0;else{var ke=lt(i,t.ch,t.sticky),xe=ke-u||(t.ch-e.ch)*(L.level==1?-1:1);ue=ke==pe-1||ke==pe?xe<0:xe>0}var Je=i[pe+(ue?-1:0)],et=ue==(Je.level==1),pt=et?Je.from:Je.to,wt=et?"after":"before";return e.ch==pt&&e.sticky==wt?o:new yr(new en(e.line,pt,wt),t)}function Bl(n,o,e,t){var r,i;if(o.touches)r=o.touches[0].clientX,i=o.touches[0].clientY;else try{r=o.clientX,i=o.clientY}catch{return!1}if(r>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;t&&Ke(o);var u=n.display,L=u.lineDiv.getBoundingClientRect();if(i>L.bottom||!We(n,e))return vt(o);i-=L.top-u.viewOffset;for(var ue=0;ue<n.display.gutterSpecs.length;++ue){var pe=u.gutters.childNodes[ue];if(pe&&pe.getBoundingClientRect().right>=r)return Ve(n,e,n,yn(n.doc,i),n.display.gutterSpecs[ue].className,o),vt(o)}}function Mc(n,o){return Bl(n,o,"gutterClick",!0)}function jc(n,o){ct(n.display,o)||Lc(n,o)||Ge(n,o,"contextmenu")||Z||n.display.input.onContextMenu(o)}function Lc(n,o){return!!We(n,"gutterContextMenu")&&Bl(n,o,"gutterContextMenu",!1)}function Ic(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ds(n)}is.prototype.compare=function(n,o,e){return this.time+ca>n&&Qe(o,this.pos)==0&&e==this.button};var js={toString:function(){return"CodeMirror.Init"}},Zc={},go={};function Hl(n){var o=n.optionHandlers;function e(t,r,i,u){n.defaults[t]=r,i&&(o[t]=u?function(L,ue,pe){pe!=js&&i(L,ue,pe)}:i)}n.defineOption=e,n.Init=js,e("value","",function(t,r){return t.setValue(r)},!0),e("mode",null,function(t,r){t.doc.modeOption=r,ja(t)},!0),e("indentUnit",2,ja,!0),e("indentWithTabs",!1),e("smartIndent",!0),e("tabSize",4,function(t){Gs(t),ds(t),Kr(t)},!0),e("lineSeparator",null,function(t,r){if(t.doc.lineSep=r,r){var i=[],u=t.doc.first;t.doc.iter(function(ue){for(var pe=0;;){var ke=ue.text.indexOf(r,pe);if(ke==-1)break;pe=ke+r.length,i.push(en(u,ke))}u++});for(var L=i.length-1;L>=0;L--)Qi(t.doc,r,i[L],en(i[L].line,i[L].ch+r.length))}}),e("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(t,r,i){t.state.specialChars=new RegExp(r.source+(r.test("	")?"":"|	"),"g"),i!=js&&t.refresh()}),e("specialCharPlaceholder",Nr,function(t){return t.refresh()},!0),e("electricChars",!0),e("inputStyle",X?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),e("spellcheck",!1,function(t,r){return t.getInputField().spellcheck=r},!0),e("autocorrect",!1,function(t,r){return t.getInputField().autocorrect=r},!0),e("autocapitalize",!1,function(t,r){return t.getInputField().autocapitalize=r},!0),e("rtlMoveVisually",!W),e("wholeLineUpdateBefore",!0),e("theme","default",function(t){Ic(t),Go(t)},!0),e("keyMap","default",function(t,r,i){var u=ia(r),L=i!=js&&ia(i);L&&L.detach&&L.detach(t,u),u.attach&&u.attach(t,L||null)}),e("extraKeys",null),e("configureMouse",null),e("lineWrapping",!1,bu,!0),e("gutters",[],function(t,r){t.display.gutterSpecs=Ma(r,t.options.lineNumbers),Go(t)},!0),e("fixedGutter",!0,function(t,r){t.display.gutters.style.left=r?To(t.display)+"px":"0",t.refresh()},!0),e("coverGutterNextToScrollbar",!1,function(t){return ji(t)},!0),e("scrollbarStyle","native",function(t){lc(t),ji(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),e("lineNumbers",!1,function(t,r){t.display.gutterSpecs=Ma(t.options.gutters,r),Go(t)},!0),e("firstLineNumber",1,Go,!0),e("lineNumberFormatter",function(t){return t},Go,!0),e("showCursorWhenSelecting",!1,Vs,!0),e("resetSelectionOnContextMenu",!0),e("lineWiseCopyCut",!0),e("pasteLinesPerSelection",!0),e("selectionsMayTouch",!1),e("readOnly",!1,function(t,r){r=="nocursor"&&(Eo(t),t.display.input.blur()),t.display.input.readOnlyChanged(r)}),e("screenReaderLabel",null,function(t,r){r=r===""?null:r,t.display.input.screenReaderLabelChanged(r)}),e("disableInput",!1,function(t,r){r||t.display.input.reset()},!0),e("dragDrop",!0,Wa),e("allowDropFileTypes",null),e("cursorBlinkRate",530),e("cursorScrollMargin",0),e("cursorHeight",1,Vs,!0),e("singleCursorHeightPerLine",!0,Vs,!0),e("workTime",100),e("workDelay",100),e("flattenSpans",!0,Gs,!0),e("addModeClass",!1,Gs,!0),e("pollInterval",100),e("undoDepth",200,function(t,r){return t.doc.history.undoDepth=r}),e("historyEventDelay",1250),e("viewportMargin",10,function(t){return t.refresh()},!0),e("maxHighlightLength",1e4,Gs,!0),e("moveInputWithCursor",!0,function(t,r){r||t.display.input.resetPosition()}),e("tabindex",null,function(t,r){return t.display.input.getField().tabIndex=r||""}),e("autofocus",null),e("direction","ltr",function(t,r){return t.doc.setDirection(r)},!0),e("phrases",null)}function Wa(n,o,e){if(!o!=!(e&&e!=js)){var t=n.display.dragFunctions,r=o?Dt:st;r(n.display.scroller,"dragstart",t.start),r(n.display.scroller,"dragenter",t.enter),r(n.display.scroller,"dragover",t.over),r(n.display.scroller,"dragleave",t.leave),r(n.display.scroller,"drop",t.drop)}}function bu(n){n.options.lineWrapping?(p(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(j(n.display.wrapper,"CodeMirror-wrap"),ye(n)),Bs(n),Kr(n),ds(n),setTimeout(function(){return ji(n)},100)}function jr(n,o){var e=this;if(!(this instanceof jr))return new jr(n,o);this.options=o=o?ne(o):{},ne(Zc,o,!1);var t=o.value;typeof t=="string"?t=new pi(t,o.mode,null,o.lineSeparator,o.direction):o.mode&&(t.modeOption=o.mode),this.doc=t;var r=new jr.inputStyles[o.inputStyle](this),i=this.display=new gl(n,t,r,o);for(var u in i.wrapper.CodeMirror=this,Ic(this),o.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),lc(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new v,keySeq:null,specialChars:null},o.autofocus&&!X&&i.input.focus(),D&&q<11&&setTimeout(function(){return e.display.input.reset(!0)},20),wu(this),xl(),Po(this),this.curOp.forceUpdate=!0,Ia(this,t),o.autofocus&&!X||this.hasFocus()?setTimeout(function(){e.hasFocus()&&!e.state.focused&&Pa(e)},20):Eo(this),go)go.hasOwnProperty(u)&&go[u](this,o[u],js);Na(this),o.finishInit&&o.finishInit(this);for(var L=0;L<Rr.length;++L)Rr[L](this);qo(this),l&&o.lineWrapping&&getComputedStyle(i.lineDiv).textRendering=="optimizelegibility"&&(i.lineDiv.style.textRendering="auto")}function wu(n){var o=n.display;Dt(o.scroller,"mousedown",Jr(n,qa)),Dt(o.scroller,"dblclick",D&&q<11?Jr(n,function(ue){if(!Ge(n,ue)){var pe=Oo(n,ue);if(pe&&!Mc(n,ue)&&!ct(n.display,ue)){Ke(ue);var ke=n.findWordAt(pe);co(n.doc,ke.anchor,ke.head)}}}):function(ue){return Ge(n,ue)||Ke(ue)}),Dt(o.scroller,"contextmenu",function(ue){return jc(n,ue)}),Dt(o.input.getField(),"contextmenu",function(ue){o.scroller.contains(ue.target)||jc(n,ue)});var e,t={end:0};function r(){o.activeTouch&&(e=setTimeout(function(){return o.activeTouch=null},1e3),(t=o.activeTouch).end=+new Date)}function i(ue){if(ue.touches.length!=1)return!1;var pe=ue.touches[0];return pe.radiusX<=1&&pe.radiusY<=1}function u(ue,pe){if(pe.left==null)return!0;var ke=pe.left-ue.left,xe=pe.top-ue.top;return ke*ke+xe*xe>400}Dt(o.scroller,"touchstart",function(ue){if(!Ge(n,ue)&&!i(ue)&&!Mc(n,ue)){o.input.ensurePolled(),clearTimeout(e);var pe=+new Date;o.activeTouch={start:pe,moved:!1,prev:pe-t.end<=300?t:null},ue.touches.length==1&&(o.activeTouch.left=ue.touches[0].pageX,o.activeTouch.top=ue.touches[0].pageY)}}),Dt(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),Dt(o.scroller,"touchend",function(ue){var pe=o.activeTouch;if(pe&&!ct(o,ue)&&pe.left!=null&&!pe.moved&&new Date-pe.start<300){var ke,xe=n.coordsChar(o.activeTouch,"page");ke=!pe.prev||u(pe,pe.prev)?new yr(xe,xe):!pe.prev.prev||u(pe,pe.prev.prev)?n.findWordAt(xe):new yr(en(xe.line,0),Ht(n.doc,en(xe.line+1,0))),n.setSelection(ke.anchor,ke.head),n.focus(),Ke(ue)}r()}),Dt(o.scroller,"touchcancel",r),Dt(o.scroller,"scroll",function(){o.scroller.clientHeight&&(xo(n,o.scroller.scrollTop),Ui(n,o.scroller.scrollLeft,!0),Ve(n,"scroll",n))}),Dt(o.scroller,"mousewheel",function(ue){return pc(n,ue)}),Dt(o.scroller,"DOMMouseScroll",function(ue){return pc(n,ue)}),Dt(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(ue){Ge(n,ue)||Ct(ue)},over:function(ue){Ge(n,ue)||(hu(n,ue),Ct(ue))},start:function(ue){return El(n,ue)},drop:Jr(n,di),leave:function(ue){Ge(n,ue)||Sl(n)}};var L=o.input.getField();Dt(L,"keyup",function(ue){return Nc.call(n,ue)}),Dt(L,"keydown",Jr(n,jl)),Dt(L,"keypress",Jr(n,Ll)),Dt(L,"focus",function(ue){return Pa(n,ue)}),Dt(L,"blur",function(ue){return Eo(n,ue)})}jr.defaults=Zc,jr.optionHandlers=go;var Rr=[];function la(n,o,e,t){var r,i=n.doc;e==null&&(e="add"),e=="smart"&&(i.mode.indent?r=pr(n,o).state:e="prev");var u=n.options.tabSize,L=cn(i,o),ue=R(L.text,null,u);L.stateAfter&&(L.stateAfter=null);var pe,ke=L.text.match(/^\s*/)[0];if(t||/\S/.test(L.text)){if(e=="smart"&&((pe=i.mode.indent(r,L.text.slice(ke.length),L.text))==f||pe>150)){if(!t)return;e="prev"}}else pe=0,e="not";e=="prev"?pe=o>i.first?R(cn(i,o-1).text,null,u):0:e=="add"?pe=ue+n.options.indentUnit:e=="subtract"?pe=ue-n.options.indentUnit:typeof e=="number"&&(pe=ue+e),pe=Math.max(0,pe);var xe="",Je=0;if(n.options.indentWithTabs)for(var et=Math.floor(pe/u);et;--et)Je+=u,xe+="	";if(Je<pe&&(xe+=F(pe-Je)),xe!=ke)return Qi(i,xe,en(o,0),en(o,ke.length),"+input"),L.stateAfter=null,!0;for(var pt=0;pt<i.sel.ranges.length;pt++){var wt=i.sel.ranges[pt];if(wt.head.line==o&&wt.head.ch<ke.length){var Et=en(o,ke.length);Cs(i,pt,new yr(Et,Et));break}}}jr.defineInitHook=function(n){return Rr.push(n)};var Si=null;function Lo(n){Si=n}function ki(n,o,e,t,r){var i=n.doc;n.display.shift=!1,t||(t=i.sel);var u=+new Date-200,L=r=="paste"||n.state.pasteIncoming>u,ue=rn(o),pe=null;if(L&&t.ranges.length>1)if(Si&&Si.text.join(`
`)==o){if(t.ranges.length%Si.text.length==0){pe=[];for(var ke=0;ke<Si.text.length;ke++)pe.push(i.splitLines(Si.text[ke]))}}else ue.length==t.ranges.length&&n.options.pasteLinesPerSelection&&(pe=V(ue,function(jt){return[jt]}));for(var xe=n.curOp.updateInput,Je=t.ranges.length-1;Je>=0;Je--){var et=t.ranges[Je],pt=et.from(),wt=et.to();et.empty()&&(e&&e>0?pt=en(pt.line,pt.ch-e):n.state.overwrite&&!L?wt=en(wt.line,Math.min(cn(i,wt.line).text.length,wt.ch+G(ue).length)):L&&Si&&Si.lineWise&&Si.text.join(`
`)==ue.join(`
`)&&(pt=wt=en(pt.line,0)));var Et={from:pt,to:wt,text:pe?pe[Je%pe.length]:ue,origin:r||(L?"paste":n.state.cutIncoming>u?"cut":"+input")};Jo(n.doc,Et),Mr(n,"inputRead",n,Et)}o&&!L&&$a(n,o),So(n),n.curOp.updateInput<2&&(n.curOp.updateInput=xe),n.curOp.typing=!0,n.state.pasteIncoming=n.state.cutIncoming=-1}function ua(n,o){var e=n.clipboardData&&n.clipboardData.getData("Text");if(e)return n.preventDefault(),o.isReadOnly()||o.options.disableInput||!o.hasFocus()||wi(o,function(){return ki(o,e,0,null,"paste")}),!0}function $a(n,o){if(n.options.electricChars&&n.options.smartIndent)for(var e=n.doc.sel,t=e.ranges.length-1;t>=0;t--){var r=e.ranges[t];if(!(r.head.ch>100||t&&e.ranges[t-1].head.line==r.head.line)){var i=n.getModeAt(r.head),u=!1;if(i.electricChars){for(var L=0;L<i.electricChars.length;L++)if(o.indexOf(i.electricChars.charAt(L))>-1){u=la(n,r.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(cn(n.doc,r.head.line).text.slice(0,r.head.ch))&&(u=la(n,r.head.line,"smart"));u&&Mr(n,"electricInput",n,r.head.line)}}}function Fc(n){for(var o=[],e=[],t=0;t<n.doc.sel.ranges.length;t++){var r=n.doc.sel.ranges[t].head.line,i={anchor:en(r,0),head:en(r+1,0)};e.push(i),o.push(n.getRange(i.anchor,i.head))}return{text:o,ranges:e}}function Bc(n,o,e,t){n.setAttribute("autocorrect",e?"":"off"),n.setAttribute("autocapitalize",t?"":"off"),n.setAttribute("spellcheck",!!o)}function Hc(){var n=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),o=M("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?n.style.width="1000px":n.setAttribute("wrap","off"),I&&(n.style.border="1px solid black"),Bc(n),o}function Vl(n){var o=n.optionHandlers,e=n.helpers={};n.prototype={constructor:n,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,r){var i=this.options,u=i[t];i[t]==r&&t!="mode"||(i[t]=r,o.hasOwnProperty(t)&&Jr(this,o[t])(this,r,u),Ve(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,r){this.state.keyMaps[r?"push":"unshift"](ia(t))},removeKeyMap:function(t){for(var r=this.state.keyMaps,i=0;i<r.length;++i)if(r[i]==t||r[i].name==t)return r.splice(i,1),!0},addOverlay:kr(function(t,r){var i=t.token?t:n.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");le(this.state.overlays,{mode:i,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(u){return u.priority}),this.state.modeGen++,Kr(this)}),removeOverlay:kr(function(t){for(var r=this.state.overlays,i=0;i<r.length;++i){var u=r[i].modeSpec;if(u==t||typeof t=="string"&&u.name==t)return r.splice(i,1),this.state.modeGen++,void Kr(this)}}),indentLine:kr(function(t,r,i){typeof r!="string"&&typeof r!="number"&&(r=r==null?this.options.smartIndent?"smart":"prev":r?"add":"subtract"),Rn(this.doc,t)&&la(this,t,r,i)}),indentSelection:kr(function(t){for(var r=this.doc.sel.ranges,i=-1,u=0;u<r.length;u++){var L=r[u];if(L.empty())L.head.line>i&&(la(this,L.head.line,t,!0),i=L.head.line,u==this.doc.sel.primIndex&&So(this));else{var ue=L.from(),pe=L.to(),ke=Math.max(i,ue.line);i=Math.min(this.lastLine(),pe.line-(pe.ch?0:1))+1;for(var xe=ke;xe<i;++xe)la(this,xe,t);var Je=this.doc.sel.ranges;ue.ch==0&&r.length==Je.length&&Je[u].from().ch>0&&Cs(this.doc,u,new yr(ue,Je[u].to()),h)}}}),getTokenAt:function(t,r){return Yn(this,t,r)},getLineTokens:function(t,r){return Yn(this,en(t),r,!0)},getTokenTypeAt:function(t){t=Ht(this.doc,t);var r,i=or(this,cn(this.doc,t.line)),u=0,L=(i.length-1)/2,ue=t.ch;if(ue==0)r=i[2];else for(;;){var pe=u+L>>1;if((pe?i[2*pe-1]:0)>=ue)L=pe;else{if(!(i[2*pe+1]<ue)){r=i[2*pe+2];break}u=pe+1}}var ke=r?r.indexOf("overlay "):-1;return ke<0?r:ke==0?null:r.slice(0,ke-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?n.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(t,r){return this.getHelpers(t,r)[0]},getHelpers:function(t,r){var i=[];if(!e.hasOwnProperty(r))return i;var u=e[r],L=this.getModeAt(t);if(typeof L[r]=="string")u[L[r]]&&i.push(u[L[r]]);else if(L[r])for(var ue=0;ue<L[r].length;ue++){var pe=u[L[r][ue]];pe&&i.push(pe)}else L.helperType&&u[L.helperType]?i.push(u[L.helperType]):u[L.name]&&i.push(u[L.name]);for(var ke=0;ke<u._global.length;ke++){var xe=u._global[ke];xe.pred(L,this)&&b(i,xe.val)==-1&&i.push(xe.val)}return i},getStateAfter:function(t,r){var i=this.doc;return pr(this,(t=Kt(i,t==null?i.first+i.size-1:t))+1,r).state},cursorCoords:function(t,r){var i=this.doc.sel.primary();return Mi(this,t==null?i.head:typeof t=="object"?Ht(this.doc,t):t?i.from():i.to(),r||"page")},charCoords:function(t,r){return Fo(this,Ht(this.doc,t),r||"page")},coordsChar:function(t,r){return Ca(this,(t=Oa(this,t,r||"page")).left,t.top)},lineAtHeight:function(t,r){return t=Oa(this,{top:t,left:0},r||"page").top,yn(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,r,i){var u,L=!1;if(typeof t=="number"){var ue=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>ue&&(t=ue,L=!0),u=cn(this.doc,t)}else u=t;return Zs(this,u,{top:0,left:0},r||"page",i||L).top+(L?this.doc.height-En(u):0)},defaultTextHeight:function(){return ms(this.display)},defaultCharWidth:function(){return vs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,r,i,u,L){var ue=this.display,pe=(t=Mi(this,Ht(this.doc,t))).bottom,ke=t.left;if(r.style.position="absolute",r.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(r),ue.sizer.appendChild(r),u=="over")pe=t.top;else if(u=="above"||u=="near"){var xe=Math.max(ue.wrapper.clientHeight,this.doc.height),Je=Math.max(ue.sizer.clientWidth,ue.lineSpace.clientWidth);(u=="above"||t.bottom+r.offsetHeight>xe)&&t.top>r.offsetHeight?pe=t.top-r.offsetHeight:t.bottom+r.offsetHeight<=xe&&(pe=t.bottom),ke+r.offsetWidth>Je&&(ke=Je-r.offsetWidth)}r.style.top=pe+"px",r.style.left=r.style.right="",L=="right"?(ke=ue.sizer.clientWidth-r.offsetWidth,r.style.right="0px"):(L=="left"?ke=0:L=="middle"&&(ke=(ue.sizer.clientWidth-r.offsetWidth)/2),r.style.left=ke+"px"),i&&nu(this,{left:ke,top:pe,right:ke+r.offsetWidth,bottom:pe+r.offsetHeight})},triggerOnKeyDown:kr(jl),triggerOnKeyPress:kr(Ll),triggerOnKeyUp:Nc,triggerOnMouseDown:kr(qa),execCommand:function(t){if(rs.hasOwnProperty(t))return rs[t].call(null,this)},triggerElectric:kr(function(t){$a(this,t)}),findPosH:function(t,r,i,u){var L=1;r<0&&(L=-1,r=-r);for(var ue=Ht(this.doc,t),pe=0;pe<r&&!(ue=Ga(this.doc,ue,L,i,u)).hitSide;++pe);return ue},moveH:kr(function(t,r){var i=this;this.extendSelectionsBy(function(u){return i.display.shift||i.doc.extend||u.empty()?Ga(i.doc,u.head,t,r,i.options.rtlMoveVisually):t<0?u.from():u.to()},A)}),deleteH:kr(function(t,r){var i=this.doc.sel,u=this.doc;i.somethingSelected()?u.replaceSelection("",null,"+delete"):ns(this,function(L){var ue=Ga(u,L.head,t,r,!1);return t<0?{from:ue,to:L.head}:{from:L.head,to:ue}})}),findPosV:function(t,r,i,u){var L=1,ue=u;r<0&&(L=-1,r=-r);for(var pe=Ht(this.doc,t),ke=0;ke<r;++ke){var xe=Mi(this,pe,"div");if(ue==null?ue=xe.left:xe.left=ue,(pe=Ul(this,xe,L,i)).hitSide)break}return pe},moveV:kr(function(t,r){var i=this,u=this.doc,L=[],ue=!this.display.shift&&!u.extend&&u.sel.somethingSelected();if(u.extendSelectionsBy(function(ke){if(ue)return t<0?ke.from():ke.to();var xe=Mi(i,ke.head,"div");ke.goalColumn!=null&&(xe.left=ke.goalColumn),L.push(xe.left);var Je=Ul(i,xe,t,r);return r=="page"&&ke==u.sel.primary()&&ac(i,Fo(i,Je,"div").top-xe.top),Je},A),L.length)for(var pe=0;pe<u.sel.ranges.length;pe++)u.sel.ranges[pe].goalColumn=L[pe]}),findWordAt:function(t){var r=cn(this.doc,t.line).text,i=t.ch,u=t.ch;if(r){var L=this.getHelper(t,"wordChars");t.sticky!="before"&&u!=r.length||!i?++u:--i;for(var ue=r.charAt(i),pe=je(ue,L)?function(ke){return je(ke,L)}:/\s/.test(ue)?function(ke){return/\s/.test(ke)}:function(ke){return!/\s/.test(ke)&&!je(ke)};i>0&&pe(r.charAt(i-1));)--i;for(;u<r.length&&pe(r.charAt(u));)++u}return new yr(en(t.line,i),en(t.line,u))},toggleOverwrite:function(t){t!=null&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?p(this.display.cursorDiv,"CodeMirror-overwrite"):j(this.display.cursorDiv,"CodeMirror-overwrite"),Ve(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==s()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:kr(function(t,r){Uo(this,t,r)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-nt(this)-this.display.barHeight,width:t.scrollWidth-nt(this)-this.display.barWidth,clientHeight:Tt(this),clientWidth:_t(this)}},scrollIntoView:kr(function(t,r){t==null?(t={from:this.doc.sel.primary().head,to:null},r==null&&(r=this.options.cursorScrollMargin)):typeof t=="number"?t={from:en(t,0),to:null}:t.from==null&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=r||0,t.from.line!=null?ws(this,t):fl(this,t.from,t.to,t.margin)}),setSize:kr(function(t,r){var i=this,u=function(ue){return typeof ue=="number"||/^\d+$/.test(String(ue))?ue+"px":ue};t!=null&&(this.display.wrapper.style.width=u(t)),r!=null&&(this.display.wrapper.style.height=u(r)),this.options.lineWrapping&&al(this);var L=this.display.viewFrom;this.doc.iter(L,this.display.viewTo,function(ue){if(ue.widgets){for(var pe=0;pe<ue.widgets.length;pe++)if(ue.widgets[pe].noHScroll){bi(i,L,"widget");break}}++L}),this.curOp.forceUpdate=!0,Ve(this,"refresh",this)}),operation:function(t){return wi(this,t)},startOperation:function(){return Po(this)},endOperation:function(){return qo(this)},refresh:kr(function(){var t=this.display.cachedTextHeight;Kr(this),this.curOp.forceUpdate=!0,ds(this),Uo(this,this.doc.scrollLeft,this.doc.scrollTop),Ws(this.display),(t==null||Math.abs(t-ms(this.display))>.5||this.options.lineWrapping)&&Bs(this),Ve(this,"refresh",this)}),swapDoc:kr(function(t){var r=this.doc;return r.cm=null,this.state.selectingText&&this.state.selectingText(),Ia(this,t),ds(this),this.display.input.reset(),Uo(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Mr(this,"swapDoc",this,r),r}),phrase:function(t){var r=this.options.phrases;return r&&Object.prototype.hasOwnProperty.call(r,t)?r[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},mt(n),n.registerHelper=function(t,r,i){e.hasOwnProperty(t)||(e[t]=n[t]={_global:[]}),e[t][r]=i},n.registerGlobalHelper=function(t,r,i,u){n.registerHelper(t,r,u),e[t]._global.push({pred:i,val:u})}}function Ga(n,o,e,t,r){var i=o,u=e,L=cn(n,o.line),ue=r&&n.direction=="rtl"?-e:e;function pe(){var zt=o.line+ue;return!(zt<n.first||zt>=n.first+n.size)&&(o=new en(zt,o.ch,o.sticky),L=cn(n,zt))}function ke(zt){var qt;if(t=="codepoint"){var Jt=L.text.charCodeAt(o.ch+(e>0?0:-1));if(isNaN(Jt))qt=null;else{var Wt=e>0?Jt>=55296&&Jt<56320:Jt>=56320&&Jt<57343;qt=new en(o.line,Math.max(0,Math.min(L.text.length,o.ch+e*(Wt?2:1))),-e)}}else qt=r?Ac(n.cm,L,o,e):jo(L,o,e);if(qt==null){if(zt||!pe())return!1;o=oa(r,n.cm,L,o.line,ue)}else o=qt;return!0}if(t=="char"||t=="codepoint")ke();else if(t=="column")ke(!0);else if(t=="word"||t=="group")for(var xe=null,Je=t=="group",et=n.cm&&n.cm.getHelper(o,"wordChars"),pt=!0;!(e<0)||ke(!pt);pt=!1){var wt=L.text.charAt(o.ch)||`
`,Et=je(wt,et)?"w":Je&&wt==`
`?"n":!Je||/\s/.test(wt)?null:"p";if(!Je||pt||Et||(Et="s"),xe&&xe!=Et){e<0&&(e=1,ke(),o.sticky="after");break}if(Et&&(xe=Et),e>0&&!ke(!pt))break}var jt=Qs(n,o,i,u,!0);return at(i,jt)&&(jt.hitSide=!0),jt}function Ul(n,o,e,t){var r,i,u=n.doc,L=o.left;if(t=="page"){var ue=Math.min(n.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),pe=Math.max(ue-.5*ms(n.display),3);r=(e>0?o.bottom:o.top)+e*pe}else t=="line"&&(r=e>0?o.bottom+3:o.top-3);for(;(i=Ca(n,L,r)).outside;){if(e<0?r<=0:r>=u.height){i.hitSide=!0;break}r+=5*e}return i}var Or=function(n){this.cm=n,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new v,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Vc(n,o){var e=Er(n,o.line);if(!e||e.hidden)return null;var t=cn(n.doc,o.line),r=tn(e,t,o.line),i=Ut(t,n.doc.direction),u="left";i&&(u=lt(i,o.ch)%2?"right":"left");var L=wo(r.map,o.ch,u);return L.offset=L.collapse=="right"?L.end:L.start,L}function Sr(n){for(var o=n;o;o=o.parentNode)if(/CodeMirror-gutter-wrapper/.test(o.className))return!0;return!1}function os(n,o){return o&&(n.bad=!0),n}function _u(n,o,e,t,r){var i="",u=!1,L=n.doc.lineSeparator(),ue=!1;function pe(et){return function(pt){return pt.id==et}}function ke(){u&&(i+=L,ue&&(i+=L),u=ue=!1)}function xe(et){et&&(ke(),i+=et)}function Je(et){if(et.nodeType==1){var pt=et.getAttribute("cm-text");if(pt)return void xe(pt);var wt,Et=et.getAttribute("cm-marker");if(Et){var jt=n.findMarks(en(t,0),en(r+1,0),pe(+Et));return void(jt.length&&(wt=jt[0].find(0))&&xe(Tn(n.doc,wt.from,wt.to).join(L)))}if(et.getAttribute("contenteditable")=="false")return;var zt=/^(pre|div|p|li|table|br)$/i.test(et.nodeName);if(!/^br$/i.test(et.nodeName)&&et.textContent.length==0)return;zt&&ke();for(var qt=0;qt<et.childNodes.length;qt++)Je(et.childNodes[qt]);/^(pre|p)$/i.test(et.nodeName)&&(ue=!0),zt&&(u=!0)}else et.nodeType==3&&xe(et.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Je(o),o!=e;)o=o.nextSibling,ue=!1;return i}function mo(n,o,e){var t;if(o==n.display.lineDiv){if(!(t=n.display.lineDiv.childNodes[e]))return os(n.clipPos(en(n.display.viewTo-1)),!0);o=null,e=0}else for(t=o;;t=t.parentNode){if(!t||t==n.display.lineDiv)return null;if(t.parentNode&&t.parentNode==n.display.lineDiv)break}for(var r=0;r<n.display.view.length;r++){var i=n.display.view[r];if(i.node==t)return Tu(i,o,e)}}function Tu(n,o,e){var t=n.text.firstChild,r=!1;if(!o||!d(t,o))return os(en(On(n.line),0),!0);if(o==t&&(r=!0,o=t.childNodes[e],e=0,!o)){var i=n.rest?G(n.rest):n.line;return os(en(On(i),i.text.length),r)}var u=o.nodeType==3?o:null,L=o;for(u||o.childNodes.length!=1||o.firstChild.nodeType!=3||(u=o.firstChild,e&&(e=u.nodeValue.length));L.parentNode!=t;)L=L.parentNode;var ue=n.measure,pe=ue.maps;function ke(Et,jt,zt){for(var qt=-1;qt<(pe?pe.length:0);qt++)for(var Jt=qt<0?ue.map:pe[qt],Wt=0;Wt<Jt.length;Wt+=3){var on=Jt[Wt+2];if(on==Et||on==jt){var _n=On(qt<0?n.line:n.rest[qt]),Cn=Jt[Wt]+zt;return(zt<0||on!=Et)&&(Cn=Jt[Wt+(zt?1:0)]),en(_n,Cn)}}}var xe=ke(u,L,e);if(xe)return os(xe,r);for(var Je=L.nextSibling,et=u?u.nodeValue.length-e:0;Je;Je=Je.nextSibling){if(xe=ke(Je,Je.firstChild,0))return os(en(xe.line,xe.ch-et),r);et+=Je.textContent.length}for(var pt=L.previousSibling,wt=e;pt;pt=pt.previousSibling){if(xe=ke(pt,pt.firstChild,-1))return os(en(xe.line,xe.ch+wt),r);wt+=pt.textContent.length}}Or.prototype.init=function(n){var o=this,e=this,t=e.cm,r=e.div=n.lineDiv;function i(L){for(var ue=L.target;ue;ue=ue.parentNode){if(ue==r)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ue.className))break}return!1}function u(L){if(i(L)&&!Ge(t,L)){if(t.somethingSelected())Lo({lineWise:!1,text:t.getSelections()}),L.type=="cut"&&t.replaceSelection("",null,"cut");else{if(!t.options.lineWiseCopyCut)return;var ue=Fc(t);Lo({lineWise:!0,text:ue.text}),L.type=="cut"&&t.operation(function(){t.setSelections(ue.ranges,0,h),t.replaceSelection("",null,"cut")})}if(L.clipboardData){L.clipboardData.clearData();var pe=Si.text.join(`
`);if(L.clipboardData.setData("Text",pe),L.clipboardData.getData("Text")==pe)return void L.preventDefault()}var ke=Hc(),xe=ke.firstChild;t.display.lineSpace.insertBefore(ke,t.display.lineSpace.firstChild),xe.value=Si.text.join(`
`);var Je=s();K(xe),setTimeout(function(){t.display.lineSpace.removeChild(ke),Je.focus(),Je==r&&e.showPrimarySelection()},50)}}r.contentEditable=!0,Bc(r,t.options.spellcheck,t.options.autocorrect,t.options.autocapitalize),Dt(r,"paste",function(L){!i(L)||Ge(t,L)||ua(L,t)||q<=11&&setTimeout(Jr(t,function(){return o.updateFromDOM()}),20)}),Dt(r,"compositionstart",function(L){o.composing={data:L.data,done:!1}}),Dt(r,"compositionupdate",function(L){o.composing||(o.composing={data:L.data,done:!1})}),Dt(r,"compositionend",function(L){o.composing&&(L.data!=o.composing.data&&o.readFromDOMSoon(),o.composing.done=!0)}),Dt(r,"touchstart",function(){return e.forceCompositionEnd()}),Dt(r,"input",function(){o.composing||o.readFromDOMSoon()}),Dt(r,"copy",u),Dt(r,"cut",u)},Or.prototype.screenReaderLabelChanged=function(n){n?this.div.setAttribute("aria-label",n):this.div.removeAttribute("aria-label")},Or.prototype.prepareSelection=function(){var n=ic(this.cm,!1);return n.focus=s()==this.div,n},Or.prototype.showSelection=function(n,o){n&&this.cm.display.view.length&&((n.focus||o)&&this.showPrimarySelection(),this.showMultipleSelections(n))},Or.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Or.prototype.showPrimarySelection=function(){var n=this.getSelection(),o=this.cm,e=o.doc.sel.primary(),t=e.from(),r=e.to();if(o.display.viewTo==o.display.viewFrom||t.line>=o.display.viewTo||r.line<o.display.viewFrom)n.removeAllRanges();else{var i=mo(o,n.anchorNode,n.anchorOffset),u=mo(o,n.focusNode,n.focusOffset);if(!i||i.bad||!u||u.bad||Qe(xt(i,u),t)!=0||Qe(ut(i,u),r)!=0){var L=o.display.view,ue=t.line>=o.display.viewFrom&&Vc(o,t)||{node:L[0].measure.map[2],offset:0},pe=r.line<o.display.viewTo&&Vc(o,r);if(!pe){var ke=L[L.length-1].measure,xe=ke.maps?ke.maps[ke.maps.length-1]:ke.map;pe={node:xe[xe.length-1],offset:xe[xe.length-2]-xe[xe.length-3]}}if(ue&&pe){var Je,et=n.rangeCount&&n.getRangeAt(0);try{Je=T(ue.node,ue.offset,pe.offset,pe.node)}catch{}Je&&(!ie&&o.state.focused?(n.collapse(ue.node,ue.offset),Je.collapsed||(n.removeAllRanges(),n.addRange(Je))):(n.removeAllRanges(),n.addRange(Je)),et&&n.anchorNode==null?n.addRange(et):ie&&this.startGracePeriod()),this.rememberSelection()}else n.removeAllRanges()}}},Or.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){n.gracePeriod=!1,n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)},Or.prototype.showMultipleSelections=function(n){E(this.cm.display.cursorDiv,n.cursors),E(this.cm.display.selectionDiv,n.selection)},Or.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode,this.lastAnchorOffset=n.anchorOffset,this.lastFocusNode=n.focusNode,this.lastFocusOffset=n.focusOffset},Or.prototype.selectionInEditor=function(){var n=this.getSelection();if(!n.rangeCount)return!1;var o=n.getRangeAt(0).commonAncestorContainer;return d(this.div,o)},Or.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&s()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Or.prototype.blur=function(){this.div.blur()},Or.prototype.getField=function(){return this.div},Or.prototype.supportsTouch=function(){return!0},Or.prototype.receivedFocus=function(){var n=this,o=this;function e(){o.cm.state.focused&&(o.pollSelection(),o.polling.set(o.cm.options.pollInterval,e))}this.selectionInEditor()?setTimeout(function(){return n.pollSelection()},20):wi(this.cm,function(){return o.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},Or.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset},Or.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var n=this.getSelection(),o=this.cm;if(H&&N&&this.cm.display.gutterSpecs.length&&Sr(n.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var e=mo(o,n.anchorNode,n.anchorOffset),t=mo(o,n.focusNode,n.focusOffset);e&&t&&wi(o,function(){ai(o.doc,sr(e,t),h),(e.bad||t.bad)&&(o.curOp.selectionChanged=!0)})}}},Or.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var n,o,e,t=this.cm,r=t.display,i=t.doc.sel.primary(),u=i.from(),L=i.to();if(u.ch==0&&u.line>t.firstLine()&&(u=en(u.line-1,cn(t.doc,u.line-1).length)),L.ch==cn(t.doc,L.line).text.length&&L.line<t.lastLine()&&(L=en(L.line+1,0)),u.line<r.viewFrom||L.line>r.viewTo-1)return!1;u.line==r.viewFrom||(n=to(t,u.line))==0?(o=On(r.view[0].line),e=r.view[0].node):(o=On(r.view[n].line),e=r.view[n-1].node.nextSibling);var ue,pe,ke=to(t,L.line);if(ke==r.view.length-1?(ue=r.viewTo-1,pe=r.lineDiv.lastChild):(ue=On(r.view[ke+1].line)-1,pe=r.view[ke+1].node.previousSibling),!e)return!1;for(var xe=t.doc.splitLines(_u(t,e,pe,o,ue)),Je=Tn(t.doc,en(o,0),en(ue,cn(t.doc,ue).text.length));xe.length>1&&Je.length>1;)if(G(xe)==G(Je))xe.pop(),Je.pop(),ue--;else{if(xe[0]!=Je[0])break;xe.shift(),Je.shift(),o++}for(var et=0,pt=0,wt=xe[0],Et=Je[0],jt=Math.min(wt.length,Et.length);et<jt&&wt.charCodeAt(et)==Et.charCodeAt(et);)++et;for(var zt=G(xe),qt=G(Je),Jt=Math.min(zt.length-(xe.length==1?et:0),qt.length-(Je.length==1?et:0));pt<Jt&&zt.charCodeAt(zt.length-pt-1)==qt.charCodeAt(qt.length-pt-1);)++pt;if(xe.length==1&&Je.length==1&&o==u.line)for(;et&&et>u.ch&&zt.charCodeAt(zt.length-pt-1)==qt.charCodeAt(qt.length-pt-1);)et--,pt++;xe[xe.length-1]=zt.slice(0,zt.length-pt).replace(/^\u200b+/,""),xe[0]=xe[0].slice(et).replace(/\u200b+$/,"");var Wt=en(o,et),on=en(ue,Je.length?G(Je).length-pt:0);return xe.length>1||xe[0]||Qe(Wt,on)?(Qi(t.doc,xe,Wt,on,"+input"),!0):void 0},Or.prototype.ensurePolled=function(){this.forceCompositionEnd()},Or.prototype.reset=function(){this.forceCompositionEnd()},Or.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Or.prototype.readFromDOMSoon=function(){var n=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing){if(!n.composing.done)return;n.composing=null}n.updateFromDOM()},80))},Or.prototype.updateFromDOM=function(){var n=this;!this.cm.isReadOnly()&&this.pollContent()||wi(this.cm,function(){return Kr(n.cm)})},Or.prototype.setUneditable=function(n){n.contentEditable="false"},Or.prototype.onKeyPress=function(n){n.charCode==0||this.composing||(n.preventDefault(),this.cm.isReadOnly()||Jr(this.cm,ki)(this.cm,String.fromCharCode(n.charCode==null?n.keyCode:n.charCode),0))},Or.prototype.readOnlyChanged=function(n){this.div.contentEditable=String(n!="nocursor")},Or.prototype.onContextMenu=function(){},Or.prototype.resetPosition=function(){},Or.prototype.needsContentAttribute=!0;var Lr=function(n){this.cm=n,this.prevInput="",this.pollingFast=!1,this.polling=new v,this.hasSelection=!1,this.composing=null};function Ou(n,o){if((o=o?ne(o):{}).value=n.value,!o.tabindex&&n.tabIndex&&(o.tabindex=n.tabIndex),!o.placeholder&&n.placeholder&&(o.placeholder=n.placeholder),o.autofocus==null){var e=s();o.autofocus=e==n||n.getAttribute("autofocus")!=null&&e==document.body}function t(){n.value=L.getValue()}var r;if(n.form&&(Dt(n.form,"submit",t),!o.leaveSubmitMethodAlone)){var i=n.form;r=i.submit;try{var u=i.submit=function(){t(),i.submit=r,i.submit(),i.submit=u}}catch{}}o.finishInit=function(ue){ue.save=t,ue.getTextArea=function(){return n},ue.toTextArea=function(){ue.toTextArea=isNaN,t(),n.parentNode.removeChild(ue.getWrapperElement()),n.style.display="",n.form&&(st(n.form,"submit",t),o.leaveSubmitMethodAlone||typeof n.form.submit!="function"||(n.form.submit=r))}},n.style.display="none";var L=jr(function(ue){return n.parentNode.insertBefore(ue,n.nextSibling)},o);return L}function qr(n){n.off=st,n.on=Dt,n.wheelEventPixels=io,n.Doc=pi,n.splitLines=rn,n.countColumn=R,n.findColumn=J,n.isWordChar=Me,n.Pass=f,n.signal=Ve,n.Line=Pe,n.changeEnd=ri,n.scrollbarModel=zo,n.Pos=en,n.cmpPos=Qe,n.modes=Zn,n.mimeModes=Fn,n.resolveMode=Vn,n.getMode=Sn,n.modeExtensions=ln,n.extendMode=ze,n.copyState=bn,n.startState=In,n.innerMode=zn,n.commands=rs,n.keyMap=Ii,n.keyName=Pc,n.isModifierKey=Al,n.lookupKey=As,n.normalizeKeyMap=po,n.StringStream=Mn,n.SharedTextMarker=Li,n.TextMarker=No,n.LineWidget=fo,n.e_preventDefault=Ke,n.e_stopPropagation=gt,n.e_stop=Ct,n.addClass=p,n.contains=d,n.rmClass=j,n.keyNames=Mo}Lr.prototype.init=function(n){var o=this,e=this,t=this.cm;this.createField(n);var r=this.textarea;function i(u){if(!Ge(t,u)){if(t.somethingSelected())Lo({lineWise:!1,text:t.getSelections()});else{if(!t.options.lineWiseCopyCut)return;var L=Fc(t);Lo({lineWise:!0,text:L.text}),u.type=="cut"?t.setSelections(L.ranges,null,h):(e.prevInput="",r.value=L.text.join(`
`),K(r))}u.type=="cut"&&(t.state.cutIncoming=+new Date)}}n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),I&&(r.style.width="0px"),Dt(r,"input",function(){D&&q>=9&&o.hasSelection&&(o.hasSelection=null),e.poll()}),Dt(r,"paste",function(u){Ge(t,u)||ua(u,t)||(t.state.pasteIncoming=+new Date,e.fastPoll())}),Dt(r,"cut",i),Dt(r,"copy",i),Dt(n.scroller,"paste",function(u){if(!ct(n,u)&&!Ge(t,u)){if(!r.dispatchEvent)return t.state.pasteIncoming=+new Date,void e.focus();var L=new Event("paste");L.clipboardData=u.clipboardData,r.dispatchEvent(L)}}),Dt(n.lineSpace,"selectstart",function(u){ct(n,u)||Ke(u)}),Dt(r,"compositionstart",function(){var u=t.getCursor("from");e.composing&&e.composing.range.clear(),e.composing={start:u,range:t.markText(u,t.getCursor("to"),{className:"CodeMirror-composing"})}}),Dt(r,"compositionend",function(){e.composing&&(e.poll(),e.composing.range.clear(),e.composing=null)})},Lr.prototype.createField=function(n){this.wrapper=Hc(),this.textarea=this.wrapper.firstChild},Lr.prototype.screenReaderLabelChanged=function(n){n?this.textarea.setAttribute("aria-label",n):this.textarea.removeAttribute("aria-label")},Lr.prototype.prepareSelection=function(){var n=this.cm,o=n.display,e=n.doc,t=ic(n);if(n.options.moveInputWithCursor){var r=Mi(n,e.sel.primary().head,"div"),i=o.wrapper.getBoundingClientRect(),u=o.lineDiv.getBoundingClientRect();t.teTop=Math.max(0,Math.min(o.wrapper.clientHeight-10,r.top+u.top-i.top)),t.teLeft=Math.max(0,Math.min(o.wrapper.clientWidth-10,r.left+u.left-i.left))}return t},Lr.prototype.showSelection=function(n){var o=this.cm.display;E(o.cursorDiv,n.cursors),E(o.selectionDiv,n.selection),n.teTop!=null&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")},Lr.prototype.reset=function(n){if(!this.contextMenuPending&&!this.composing){var o=this.cm;if(o.somethingSelected()){this.prevInput="";var e=o.getSelection();this.textarea.value=e,o.state.focused&&K(this.textarea),D&&q>=9&&(this.hasSelection=e)}else n||(this.prevInput=this.textarea.value="",D&&q>=9&&(this.hasSelection=null))}},Lr.prototype.getField=function(){return this.textarea},Lr.prototype.supportsTouch=function(){return!1},Lr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!X||s()!=this.textarea))try{this.textarea.focus()}catch{}},Lr.prototype.blur=function(){this.textarea.blur()},Lr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Lr.prototype.receivedFocus=function(){this.slowPoll()},Lr.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll(),n.cm.state.focused&&n.slowPoll()})},Lr.prototype.fastPoll=function(){var n=!1,o=this;function e(){o.poll()||n?(o.pollingFast=!1,o.slowPoll()):(n=!0,o.polling.set(60,e))}o.pollingFast=!0,o.polling.set(20,e)},Lr.prototype.poll=function(){var n=this,o=this.cm,e=this.textarea,t=this.prevInput;if(this.contextMenuPending||!o.state.focused||nn(e)&&!t&&!this.composing||o.isReadOnly()||o.options.disableInput||o.state.keySeq)return!1;var r=e.value;if(r==t&&!o.somethingSelected())return!1;if(D&&q>=9&&this.hasSelection===r||Y&&/[\uf700-\uf7ff]/.test(r))return o.display.input.reset(),!1;if(o.doc.sel==o.display.selForContextMenu){var i=r.charCodeAt(0);if(i!=8203||t||(t="\u200B"),i==8666)return this.reset(),this.cm.execCommand("undo")}for(var u=0,L=Math.min(t.length,r.length);u<L&&t.charCodeAt(u)==r.charCodeAt(u);)++u;return wi(o,function(){ki(o,r.slice(u),t.length-u,null,n.composing?"*compose":null),r.length>1e3||r.indexOf(`
`)>-1?e.value=n.prevInput="":n.prevInput=r,n.composing&&(n.composing.range.clear(),n.composing.range=o.markText(n.composing.start,o.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Lr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Lr.prototype.onKeyPress=function(){D&&q>=9&&(this.hasSelection=null),this.fastPoll()},Lr.prototype.onContextMenu=function(n){var o=this,e=o.cm,t=e.display,r=o.textarea;o.contextMenuPending&&o.contextMenuPending();var i=Oo(e,n),u=t.scroller.scrollTop;if(i&&!y){e.options.resetSelectionOnContextMenu&&e.doc.sel.contains(i)==-1&&Jr(e,ai)(e.doc,sr(i),h);var L,ue=r.style.cssText,pe=o.wrapper.style.cssText,ke=o.wrapper.offsetParent.getBoundingClientRect();if(o.wrapper.style.cssText="position: static",r.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(n.clientY-ke.top-5)+"px; left: "+(n.clientX-ke.left-5)+`px;
      z-index: 1000; background: `+(D?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,l&&(L=window.scrollY),t.input.focus(),l&&window.scrollTo(null,L),t.input.reset(),e.somethingSelected()||(r.value=o.prevInput=" "),o.contextMenuPending=et,t.selForContextMenu=e.doc.sel,clearTimeout(t.detectingSelectAll),D&&q>=9&&Je(),Z){Ct(n);var xe=function(){st(window,"mouseup",xe),setTimeout(et,20)};Dt(window,"mouseup",xe)}else setTimeout(et,50)}function Je(){if(r.selectionStart!=null){var pt=e.somethingSelected(),wt="\u200B"+(pt?r.value:"");r.value="\u21DA",r.value=wt,o.prevInput=pt?"":"\u200B",r.selectionStart=1,r.selectionEnd=wt.length,t.selForContextMenu=e.doc.sel}}function et(){if(o.contextMenuPending==et&&(o.contextMenuPending=!1,o.wrapper.style.cssText=pe,r.style.cssText=ue,D&&q<9&&t.scrollbars.setScrollTop(t.scroller.scrollTop=u),r.selectionStart!=null)){(!D||D&&q<9)&&Je();var pt=0,wt=function(){t.selForContextMenu==e.doc.sel&&r.selectionStart==0&&r.selectionEnd>0&&o.prevInput=="\u200B"?Jr(e,ea)(e):pt++<10?t.detectingSelectAll=setTimeout(wt,500):(t.selForContextMenu=null,t.input.reset())};t.detectingSelectAll=setTimeout(wt,200)}}},Lr.prototype.readOnlyChanged=function(n){n||this.reset(),this.textarea.disabled=n=="nocursor",this.textarea.readOnly=!!n},Lr.prototype.setUneditable=function(){},Lr.prototype.needsContentAttribute=!1,Hl(jr),Vl(jr);var Cu="iter insert remove copy getEditor constructor".split(" ");for(var Ka in pi.prototype)pi.prototype.hasOwnProperty(Ka)&&b(Cu,Ka)<0&&(jr.prototype[Ka]=function(n){return function(){return n.apply(this.doc,arguments)}}(pi.prototype[Ka]));return mt(pi),jr.inputStyles={textarea:Lr,contenteditable:Or},jr.defineMode=function(n){jr.defaults.mode||n=="null"||(jr.defaults.mode=n),xn.apply(this,arguments)},jr.defineMIME=Nn,jr.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),jr.defineMIME("text/plain","null"),jr.defineExtension=function(n,o){jr.prototype[n]=o},jr.defineDocExtension=function(n,o){pi.prototype[n]=o},jr.fromTextArea=Ou,qr(jr),jr.version="5.65.6",jr}()},6629:(ge,_e,z)=>{(function(ie){function w(Z){for(var B={},T=0;T<Z.length;++T)B[Z[T].toLowerCase()]=!0;return B}ie.defineMode("css",function(Z,B){var T=B.inline;B.propertyKeywords||(B=ie.resolveMode("text/css"));var j,U,E=Z.indentUnit,M=B.tokenHooks,c=B.documentTypes||{},d=B.mediaTypes||{},s=B.mediaFeatures||{},p=B.mediaValueKeywords||{},O=B.propertyKeywords||{},K=B.nonStandardPropertyKeywords||{},Q=B.fontProperties||{},ne=B.counterDescriptors||{},R=B.colorKeywords||{},v=B.valueKeywords||{},b=B.allowNested,a=B.lineComment,f=B.supportsAtComponent===!0,h=Z.highlightNonStandardPropertyKeywords!==!1;function _(Me,je){return j=je,Me}function A(Me,je){var ae=Me.next();if(M[ae]){var be=M[ae](Me,je);if(be!==!1)return be}return ae=="@"?(Me.eatWhile(/[\w\\\-]/),_("def",Me.current())):ae=="="||(ae=="~"||ae=="|")&&Me.eat("=")?_(null,"compare"):ae=='"'||ae=="'"?(je.tokenize=J(ae),je.tokenize(Me,je)):ae=="#"?(Me.eatWhile(/[\w\\\-]/),_("atom","hash")):ae=="!"?(Me.match(/^\s*\w*/),_("keyword","important")):/\d/.test(ae)||ae=="."&&Me.eat(/\d/)?(Me.eatWhile(/[\w.%]/),_("number","unit")):ae!=="-"?/[,+>*\/]/.test(ae)?_(null,"select-op"):ae=="."&&Me.match(/^-?[_a-z][_a-z0-9-]*/i)?_("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(ae)?_(null,ae):Me.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Me.current())&&(je.tokenize=te),_("variable callee","variable")):/[\w\\\-]/.test(ae)?(Me.eatWhile(/[\w\\\-]/),_("property","word")):_(null,null):/[\d.]/.test(Me.peek())?(Me.eatWhile(/[\w.%]/),_("number","unit")):Me.match(/^-[\w\\\-]*/)?(Me.eatWhile(/[\w\\\-]/),Me.match(/^\s*:/,!1)?_("variable-2","variable-definition"):_("variable-2","variable")):Me.match(/^\w+-/)?_("meta","meta"):void 0}function J(Me){return function(je,ae){for(var be,re=!1;(be=je.next())!=null;){if(be==Me&&!re){Me==")"&&je.backUp(1);break}re=!re&&be=="\\"}return(be==Me||!re&&Me!=")")&&(ae.tokenize=null),_("string","string")}}function te(Me,je){return Me.next(),Me.match(/^\s*[\"\')]/,!1)?je.tokenize=null:je.tokenize=J(")"),_(null,"(")}function F(Me,je,ae){this.type=Me,this.indent=je,this.prev=ae}function G(Me,je,ae,be){return Me.context=new F(ae,je.indentation()+(be===!1?0:E),Me.context),ae}function V(Me){return Me.context.prev&&(Me.context=Me.context.prev),Me.context.type}function le(Me,je,ae){return Ze[ae.context.type](Me,je,ae)}function ve(Me,je,ae,be){for(var re=be||1;re>0;re--)ae.context=ae.context.prev;return le(Me,je,ae)}function Ne(Me){var je=Me.current().toLowerCase();U=v.hasOwnProperty(je)?"atom":R.hasOwnProperty(je)?"keyword":"variable"}var Ze={top:function(Me,je,ae){if(Me=="{")return G(ae,je,"block");if(Me=="}"&&ae.context.prev)return V(ae);if(f&&/@component/i.test(Me))return G(ae,je,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Me))return G(ae,je,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Me))return G(ae,je,"atBlock");if(/^@(font-face|counter-style)/i.test(Me))return ae.stateArg=Me,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Me))return"keyframes";if(Me&&Me.charAt(0)=="@")return G(ae,je,"at");if(Me=="hash")U="builtin";else if(Me=="word")U="tag";else{if(Me=="variable-definition")return"maybeprop";if(Me=="interpolation")return G(ae,je,"interpolation");if(Me==":")return"pseudo";if(b&&Me=="(")return G(ae,je,"parens")}return ae.context.type},block:function(Me,je,ae){if(Me=="word"){var be=je.current().toLowerCase();return O.hasOwnProperty(be)?(U="property","maybeprop"):K.hasOwnProperty(be)?(U=h?"string-2":"property","maybeprop"):b?(U=je.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(U+=" error","maybeprop")}return Me=="meta"?"block":b||Me!="hash"&&Me!="qualifier"?Ze.top(Me,je,ae):(U="error","block")},maybeprop:function(Me,je,ae){return Me==":"?G(ae,je,"prop"):le(Me,je,ae)},prop:function(Me,je,ae){if(Me==";")return V(ae);if(Me=="{"&&b)return G(ae,je,"propBlock");if(Me=="}"||Me=="{")return ve(Me,je,ae);if(Me=="(")return G(ae,je,"parens");if(Me!="hash"||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(je.current())){if(Me=="word")Ne(je);else if(Me=="interpolation")return G(ae,je,"interpolation")}else U+=" error";return"prop"},propBlock:function(Me,je,ae){return Me=="}"?V(ae):Me=="word"?(U="property","maybeprop"):ae.context.type},parens:function(Me,je,ae){return Me=="{"||Me=="}"?ve(Me,je,ae):Me==")"?V(ae):Me=="("?G(ae,je,"parens"):Me=="interpolation"?G(ae,je,"interpolation"):(Me=="word"&&Ne(je),"parens")},pseudo:function(Me,je,ae){return Me=="meta"?"pseudo":Me=="word"?(U="variable-3",ae.context.type):le(Me,je,ae)},documentTypes:function(Me,je,ae){return Me=="word"&&c.hasOwnProperty(je.current())?(U="tag",ae.context.type):Ze.atBlock(Me,je,ae)},atBlock:function(Me,je,ae){if(Me=="(")return G(ae,je,"atBlock_parens");if(Me=="}"||Me==";")return ve(Me,je,ae);if(Me=="{")return V(ae)&&G(ae,je,b?"block":"top");if(Me=="interpolation")return G(ae,je,"interpolation");if(Me=="word"){var be=je.current().toLowerCase();U=be=="only"||be=="not"||be=="and"||be=="or"?"keyword":d.hasOwnProperty(be)?"attribute":s.hasOwnProperty(be)?"property":p.hasOwnProperty(be)?"keyword":O.hasOwnProperty(be)?"property":K.hasOwnProperty(be)?h?"string-2":"property":v.hasOwnProperty(be)?"atom":R.hasOwnProperty(be)?"keyword":"error"}return ae.context.type},atComponentBlock:function(Me,je,ae){return Me=="}"?ve(Me,je,ae):Me=="{"?V(ae)&&G(ae,je,b?"block":"top",!1):(Me=="word"&&(U="error"),ae.context.type)},atBlock_parens:function(Me,je,ae){return Me==")"?V(ae):Me=="{"||Me=="}"?ve(Me,je,ae,2):Ze.atBlock(Me,je,ae)},restricted_atBlock_before:function(Me,je,ae){return Me=="{"?G(ae,je,"restricted_atBlock"):Me=="word"&&ae.stateArg=="@counter-style"?(U="variable","restricted_atBlock_before"):le(Me,je,ae)},restricted_atBlock:function(Me,je,ae){return Me=="}"?(ae.stateArg=null,V(ae)):Me=="word"?(U=ae.stateArg=="@font-face"&&!Q.hasOwnProperty(je.current().toLowerCase())||ae.stateArg=="@counter-style"&&!ne.hasOwnProperty(je.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(Me,je,ae){return Me=="word"?(U="variable","keyframes"):Me=="{"?G(ae,je,"top"):le(Me,je,ae)},at:function(Me,je,ae){return Me==";"?V(ae):Me=="{"||Me=="}"?ve(Me,je,ae):(Me=="word"?U="tag":Me=="hash"&&(U="builtin"),"at")},interpolation:function(Me,je,ae){return Me=="}"?V(ae):Me=="{"||Me==";"?ve(Me,je,ae):(Me=="word"?U="variable":Me!="variable"&&Me!="("&&Me!=")"&&(U="error"),"interpolation")}};return{startState:function(Me){return{tokenize:null,state:T?"block":"top",stateArg:null,context:new F(T?"block":"top",Me||0,null)}},token:function(Me,je){if(!je.tokenize&&Me.eatSpace())return null;var ae=(je.tokenize||A)(Me,je);return ae&&typeof ae=="object"&&(j=ae[1],ae=ae[0]),U=ae,j!="comment"&&(je.state=Ze[je.state](j,Me,je)),U},indent:function(Me,je){var ae=Me.context,be=je&&je.charAt(0),re=ae.indent;return ae.type!="prop"||be!="}"&&be!=")"||(ae=ae.prev),ae.prev&&(be!="}"||ae.type!="block"&&ae.type!="top"&&ae.type!="interpolation"&&ae.type!="restricted_atBlock"?(be!=")"||ae.type!="parens"&&ae.type!="atBlock_parens")&&(be!="{"||ae.type!="at"&&ae.type!="atBlock")||(re=Math.max(0,ae.indent-E)):re=(ae=ae.prev).indent),re},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:a,fold:"brace"}});var k=["domain","regexp","url","url-prefix"],$=w(k),D=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],q=w(D),l=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],P=w(l),N=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],C=w(N),y=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],m=w(y),g=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],S=w(g),I=w(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),H=w(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),X=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Y=w(X),x=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],W=w(x),oe=k.concat(D).concat(l).concat(N).concat(y).concat(g).concat(X).concat(x);function se(Z,B){for(var T,j=!1;(T=Z.next())!=null;){if(j&&T=="/"){B.tokenize=null;break}j=T=="*"}return["comment","comment"]}ie.registerHelper("hintWords","css",oe),ie.defineMIME("text/css",{documentTypes:$,mediaTypes:q,mediaFeatures:P,mediaValueKeywords:C,propertyKeywords:m,nonStandardPropertyKeywords:S,fontProperties:I,counterDescriptors:H,colorKeywords:Y,valueKeywords:W,tokenHooks:{"/":function(Z,B){return!!Z.eat("*")&&(B.tokenize=se,se(Z,B))}},name:"css"}),ie.defineMIME("text/x-scss",{mediaTypes:q,mediaFeatures:P,mediaValueKeywords:C,propertyKeywords:m,nonStandardPropertyKeywords:S,colorKeywords:Y,valueKeywords:W,fontProperties:I,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(Z,B){return Z.eat("/")?(Z.skipToEnd(),["comment","comment"]):Z.eat("*")?(B.tokenize=se,se(Z,B)):["operator","operator"]},":":function(Z){return!!Z.match(/^\s*\{/,!1)&&[null,null]},$:function(Z){return Z.match(/^[\w-]+/),Z.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(Z){return!!Z.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),ie.defineMIME("text/x-less",{mediaTypes:q,mediaFeatures:P,mediaValueKeywords:C,propertyKeywords:m,nonStandardPropertyKeywords:S,colorKeywords:Y,valueKeywords:W,fontProperties:I,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(Z,B){return Z.eat("/")?(Z.skipToEnd(),["comment","comment"]):Z.eat("*")?(B.tokenize=se,se(Z,B)):["operator","operator"]},"@":function(Z){return Z.eat("{")?[null,"interpolation"]:!Z.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(Z.eatWhile(/[\w\\\-]/),Z.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),ie.defineMIME("text/x-gss",{documentTypes:$,mediaTypes:q,mediaFeatures:P,propertyKeywords:m,nonStandardPropertyKeywords:S,fontProperties:I,counterDescriptors:H,colorKeywords:Y,valueKeywords:W,supportsAtComponent:!0,tokenHooks:{"/":function(Z,B){return!!Z.eat("*")&&(B.tokenize=se,se(Z,B))}},name:"css",helperType:"gss"})})(z(4631))},6531:(ge,_e,z)=>{(function(ie){var w={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function k(C,y,m){var g=C.current(),S=g.search(y);return S>-1?C.backUp(g.length-S):g.match(/<\/?$/)&&(C.backUp(g.length),C.match(y,!1)||C.match(g)),m}var $={};function D(C){var y=$[C];return y||($[C]=new RegExp("\\s+"+C+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function q(C,y){var m=C.match(D(y));return m?/^\s*(.*?)\s*$/.exec(m[2])[1]:""}function l(C,y){return new RegExp((y?"^":"")+"</\\s*"+C+"\\s*>","i")}function P(C,y){for(var m in C)for(var g=y[m]||(y[m]=[]),S=C[m],I=S.length-1;I>=0;I--)g.unshift(S[I])}function N(C,y){for(var m=0;m<C.length;m++){var g=C[m];if(!g[0]||g[1].test(q(y,g[0])))return g[2]}}ie.defineMode("htmlmixed",function(C,y){var m=ie.getMode(C,{name:"xml",htmlMode:!0,multilineTagIndentFactor:y.multilineTagIndentFactor,multilineTagIndentPastTag:y.multilineTagIndentPastTag,allowMissingTagName:y.allowMissingTagName}),g={},S=y&&y.tags,I=y&&y.scriptTypes;if(P(w,g),S&&P(S,g),I)for(var H=I.length-1;H>=0;H--)g.script.unshift(["type",I[H].matches,I[H].mode]);function X(Y,x){var W,oe=m.token(Y,x.htmlState),se=/\btag\b/.test(oe);if(se&&!/[<>\s\/]/.test(Y.current())&&(W=x.htmlState.tagName&&x.htmlState.tagName.toLowerCase())&&g.hasOwnProperty(W))x.inTag=W+" ";else if(x.inTag&&se&&/>$/.test(Y.current())){var Z=/^([\S]+) (.*)/.exec(x.inTag);x.inTag=null;var B=Y.current()==">"&&N(g[Z[1]],Z[2]),T=ie.getMode(C,B),j=l(Z[1],!0),U=l(Z[1],!1);x.token=function(E,M){return E.match(j,!1)?(M.token=X,M.localState=M.localMode=null,null):k(E,U,M.localMode.token(E,M.localState))},x.localMode=T,x.localState=ie.startState(T,m.indent(x.htmlState,"",""))}else x.inTag&&(x.inTag+=Y.current(),Y.eol()&&(x.inTag+=" "));return oe}return{startState:function(){return{token:X,inTag:null,localMode:null,localState:null,htmlState:ie.startState(m)}},copyState:function(Y){var x;return Y.localState&&(x=ie.copyState(Y.localMode,Y.localState)),{token:Y.token,inTag:Y.inTag,localMode:Y.localMode,localState:x,htmlState:ie.copyState(m,Y.htmlState)}},token:function(Y,x){return x.token(Y,x)},indent:function(Y,x,W){return!Y.localMode||/^\s*<\//.test(x)?m.indent(Y.htmlState,x,W):Y.localMode.indent?Y.localMode.indent(Y.localState,x,W):ie.Pass},innerMode:function(Y){return{state:Y.localState||Y.htmlState,mode:Y.localMode||m}}}},"xml","javascript","css"),ie.defineMIME("text/html","htmlmixed")})(z(4631),z(9589),z(6876),z(6629))},6876:(ge,_e,z)=>{(function(ie){ie.defineMode("javascript",function(w,k){var $,D,q=w.indentUnit,l=k.statementIndent,P=k.jsonld,N=k.json||P,C=k.trackScope!==!1,y=k.typescript,m=k.wordCharacters||/[\w$\xa1-\uffff]/,g=function(){function Qe(kn){return{type:kn,style:"keyword"}}var at=Qe("keyword a"),Be=Qe("keyword b"),ut=Qe("keyword c"),xt=Qe("keyword d"),Kt=Qe("operator"),Ht={type:"atom",style:"atom"};return{if:Qe("if"),while:at,with:at,else:Be,do:Be,try:Be,finally:Be,return:xt,break:xt,continue:xt,new:Qe("new"),delete:ut,void:ut,throw:ut,debugger:Qe("debugger"),var:Qe("var"),const:Qe("var"),let:Qe("var"),function:Qe("function"),catch:Qe("catch"),for:Qe("for"),switch:Qe("switch"),case:Qe("case"),default:Qe("default"),in:Kt,typeof:Kt,instanceof:Kt,true:Ht,false:Ht,null:Ht,undefined:Ht,NaN:Ht,Infinity:Ht,this:Qe("this"),class:Qe("class"),super:Qe("atom"),yield:ut,export:Qe("export"),import:Qe("import"),extends:ut,await:ut}}(),S=/[+\-*&%=<>!?|~^@]/,I=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function H(Qe){for(var at,Be=!1,ut=!1;(at=Qe.next())!=null;){if(!Be){if(at=="/"&&!ut)return;at=="["?ut=!0:ut&&at=="]"&&(ut=!1)}Be=!Be&&at=="\\"}}function X(Qe,at,Be){return $=Qe,D=Be,at}function Y(Qe,at){var Be=Qe.next();if(Be=='"'||Be=="'")return at.tokenize=x(Be),at.tokenize(Qe,at);if(Be=="."&&Qe.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return X("number","number");if(Be=="."&&Qe.match(".."))return X("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Be))return X(Be);if(Be=="="&&Qe.eat(">"))return X("=>","operator");if(Be=="0"&&Qe.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return X("number","number");if(/\d/.test(Be))return Qe.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),X("number","number");if(Be=="/")return Qe.eat("*")?(at.tokenize=W,W(Qe,at)):Qe.eat("/")?(Qe.skipToEnd(),X("comment","comment")):en(Qe,at,1)?(H(Qe),Qe.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),X("regexp","string-2")):(Qe.eat("="),X("operator","operator",Qe.current()));if(Be=="`")return at.tokenize=oe,oe(Qe,at);if(Be=="#"&&Qe.peek()=="!")return Qe.skipToEnd(),X("meta","meta");if(Be=="#"&&Qe.eatWhile(m))return X("variable","property");if(Be=="<"&&Qe.match("!--")||Be=="-"&&Qe.match("->")&&!/\S/.test(Qe.string.slice(0,Qe.start)))return Qe.skipToEnd(),X("comment","comment");if(S.test(Be))return Be==">"&&at.lexical&&at.lexical.type==">"||(Qe.eat("=")?Be!="!"&&Be!="="||Qe.eat("="):/[<>*+\-|&?]/.test(Be)&&(Qe.eat(Be),Be==">"&&Qe.eat(Be))),Be=="?"&&Qe.eat(".")?X("."):X("operator","operator",Qe.current());if(m.test(Be)){Qe.eatWhile(m);var ut=Qe.current();if(at.lastType!="."){if(g.propertyIsEnumerable(ut)){var xt=g[ut];return X(xt.type,xt.style,ut)}if(ut=="async"&&Qe.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return X("async","keyword",ut)}return X("variable","variable",ut)}}function x(Qe){return function(at,Be){var ut,xt=!1;if(P&&at.peek()=="@"&&at.match(I))return Be.tokenize=Y,X("jsonld-keyword","meta");for(;(ut=at.next())!=null&&(ut!=Qe||xt);)xt=!xt&&ut=="\\";return xt||(Be.tokenize=Y),X("string","string")}}function W(Qe,at){for(var Be,ut=!1;Be=Qe.next();){if(Be=="/"&&ut){at.tokenize=Y;break}ut=Be=="*"}return X("comment","comment")}function oe(Qe,at){for(var Be,ut=!1;(Be=Qe.next())!=null;){if(!ut&&(Be=="`"||Be=="$"&&Qe.eat("{"))){at.tokenize=Y;break}ut=!ut&&Be=="\\"}return X("quasi","string-2",Qe.current())}var se="([{}])";function Z(Qe,at){at.fatArrowAt&&(at.fatArrowAt=null);var Be=Qe.string.indexOf("=>",Qe.start);if(!(Be<0)){if(y){var ut=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Qe.string.slice(Qe.start,Be));ut&&(Be=ut.index)}for(var xt=0,Kt=!1,Ht=Be-1;Ht>=0;--Ht){var kn=Qe.string.charAt(Ht),an=se.indexOf(kn);if(an>=0&&an<3){if(!xt){++Ht;break}if(--xt==0){kn=="("&&(Kt=!0);break}}else if(an>=3&&an<6)++xt;else if(m.test(kn))Kt=!0;else if(/["'\/`]/.test(kn))for(;;--Ht){if(Ht==0)return;if(Qe.string.charAt(Ht-1)==kn&&Qe.string.charAt(Ht-2)!="\\"){Ht--;break}}else if(Kt&&!xt){++Ht;break}}Kt&&!xt&&(at.fatArrowAt=Ht)}}var B={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function T(Qe,at,Be,ut,xt,Kt){this.indented=Qe,this.column=at,this.type=Be,this.prev=xt,this.info=Kt,ut!=null&&(this.align=ut)}function j(Qe,at){if(!C)return!1;for(var Be=Qe.localVars;Be;Be=Be.next)if(Be.name==at)return!0;for(var ut=Qe.context;ut;ut=ut.prev)for(Be=ut.vars;Be;Be=Be.next)if(Be.name==at)return!0}function U(Qe,at,Be,ut,xt){var Kt=Qe.cc;for(E.state=Qe,E.stream=xt,E.marked=null,E.cc=Kt,E.style=at,Qe.lexical.hasOwnProperty("align")||(Qe.lexical.align=!0);;)if((Kt.length?Kt.pop():N?J:_)(Be,ut)){for(;Kt.length&&Kt[Kt.length-1].lex;)Kt.pop()();return E.marked?E.marked:Be=="variable"&&j(Qe,ut)?"variable-2":at}}var E={state:null,column:null,marked:null,cc:null};function M(){for(var Qe=arguments.length-1;Qe>=0;Qe--)E.cc.push(arguments[Qe])}function c(){return M.apply(null,arguments),!0}function d(Qe,at){for(var Be=at;Be;Be=Be.next)if(Be.name==Qe)return!0;return!1}function s(Qe){var at=E.state;if(E.marked="def",C){if(at.context){if(at.lexical.info=="var"&&at.context&&at.context.block){var Be=p(Qe,at.context);if(Be!=null)return void(at.context=Be)}else if(!d(Qe,at.localVars))return void(at.localVars=new Q(Qe,at.localVars))}k.globalVars&&!d(Qe,at.globalVars)&&(at.globalVars=new Q(Qe,at.globalVars))}}function p(Qe,at){if(at){if(at.block){var Be=p(Qe,at.prev);return Be?Be==at.prev?at:new K(Be,at.vars,!0):null}return d(Qe,at.vars)?at:new K(at.prev,new Q(Qe,at.vars),!1)}return null}function O(Qe){return Qe=="public"||Qe=="private"||Qe=="protected"||Qe=="abstract"||Qe=="readonly"}function K(Qe,at,Be){this.prev=Qe,this.vars=at,this.block=Be}function Q(Qe,at){this.name=Qe,this.next=at}var ne=new Q("this",new Q("arguments",null));function R(){E.state.context=new K(E.state.context,E.state.localVars,!1),E.state.localVars=ne}function v(){E.state.context=new K(E.state.context,E.state.localVars,!0),E.state.localVars=null}function b(){E.state.localVars=E.state.context.vars,E.state.context=E.state.context.prev}function a(Qe,at){var Be=function(){var ut=E.state,xt=ut.indented;if(ut.lexical.type=="stat")xt=ut.lexical.indented;else for(var Kt=ut.lexical;Kt&&Kt.type==")"&&Kt.align;Kt=Kt.prev)xt=Kt.indented;ut.lexical=new T(xt,E.stream.column(),Qe,null,ut.lexical,at)};return Be.lex=!0,Be}function f(){var Qe=E.state;Qe.lexical.prev&&(Qe.lexical.type==")"&&(Qe.indented=Qe.lexical.indented),Qe.lexical=Qe.lexical.prev)}function h(Qe){function at(Be){return Be==Qe?c():Qe==";"||Be=="}"||Be==")"||Be=="]"?M():c(at)}return at}function _(Qe,at){return Qe=="var"?c(a("vardef",at),mn,h(";"),f):Qe=="keyword a"?c(a("form"),F,_,f):Qe=="keyword b"?c(a("form"),_,f):Qe=="keyword d"?E.stream.match(/^\s*$/,!1)?c():c(a("stat"),V,h(";"),f):Qe=="debugger"?c(h(";")):Qe=="{"?c(a("}"),v,Xt,f,b):Qe==";"?c():Qe=="if"?(E.state.lexical.info=="else"&&E.state.cc[E.state.cc.length-1]==f&&E.state.cc.pop()(),c(a("form"),F,_,f,nn)):Qe=="function"?c(Zn):Qe=="for"?c(a("form"),v,wn,_,b,f):Qe=="class"||y&&at=="interface"?(E.marked="keyword",c(a("form",Qe=="class"?Qe:at),Sn,f)):Qe=="variable"?y&&at=="declare"?(E.marked="keyword",c(_)):y&&(at=="module"||at=="enum"||at=="type")&&E.stream.match(/^\s*\w/,!1)?(E.marked="keyword",at=="enum"?c(yn):at=="type"?c(xn,h("operator"),Ge,h(";")):c(a("form"),hn,h("{"),a("}"),Xt,f,f)):y&&at=="namespace"?(E.marked="keyword",c(a("form"),J,_,f)):y&&at=="abstract"?(E.marked="keyword",c(_)):c(a("stat"),Te):Qe=="switch"?c(a("form"),F,h("{"),a("}","switch"),v,Xt,f,f,b):Qe=="case"?c(J,h(":")):Qe=="default"?c(h(":")):Qe=="catch"?c(a("form"),R,A,_,f,b):Qe=="export"?c(a("stat"),zn,f):Qe=="import"?c(a("stat"),Mn,f):Qe=="async"?c(_):at=="@"?c(J,_):M(a("stat"),J,h(";"),f)}function A(Qe){if(Qe=="(")return c(Nn,h(")"))}function J(Qe,at){return G(Qe,at,!1)}function te(Qe,at){return G(Qe,at,!0)}function F(Qe){return Qe!="("?M():c(a(")"),V,h(")"),f)}function G(Qe,at,Be){if(E.state.fatArrowAt==E.stream.start){var ut=Be?je:Me;if(Qe=="(")return c(R,a(")"),St(Nn,")"),f,h("=>"),ut,b);if(Qe=="variable")return M(R,hn,h("=>"),ut,b)}var xt=Be?ve:le;return B.hasOwnProperty(Qe)?c(xt):Qe=="function"?c(Zn,xt):Qe=="class"||y&&at=="interface"?(E.marked="keyword",c(a("form"),Vn,f)):Qe=="keyword c"||Qe=="async"?c(Be?te:J):Qe=="("?c(a(")"),V,h(")"),f,xt):Qe=="operator"||Qe=="spread"?c(Be?te:J):Qe=="["?c(a("]"),On,f,xt):Qe=="{"?Ut(Fe,"}",null,xt):Qe=="quasi"?M(Ne,xt):Qe=="new"?c(ae(Be)):c()}function V(Qe){return Qe.match(/[;\}\)\],]/)?M():M(J)}function le(Qe,at){return Qe==","?c(V):ve(Qe,at,!1)}function ve(Qe,at,Be){var ut=Be==0?le:ve,xt=Be==0?J:te;return Qe=="=>"?c(R,Be?je:Me,b):Qe=="operator"?/\+\+|--/.test(at)||y&&at=="!"?c(ut):y&&at=="<"&&E.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?c(a(">"),St(Ge,">"),f,ut):at=="?"?c(J,h(":"),xt):c(xt):Qe=="quasi"?M(Ne,ut):Qe!=";"?Qe=="("?Ut(te,")","call",ut):Qe=="."?c(Re,ut):Qe=="["?c(a("]"),V,h("]"),f,ut):y&&at=="as"?(E.marked="keyword",c(Ge,ut)):Qe=="regexp"?(E.state.lastType=E.marked="operator",E.stream.backUp(E.stream.pos-E.stream.start-1),c(xt)):void 0:void 0}function Ne(Qe,at){return Qe!="quasi"?M():at.slice(at.length-2)!="${"?c(Ne):c(V,Ze)}function Ze(Qe){if(Qe=="}")return E.marked="string-2",E.state.tokenize=oe,c(Ne)}function Me(Qe){return Z(E.stream,E.state),M(Qe=="{"?_:J)}function je(Qe){return Z(E.stream,E.state),M(Qe=="{"?_:te)}function ae(Qe){return function(at){return at=="."?c(Qe?re:be):at=="variable"&&y?c(It,Qe?ve:le):M(Qe?te:J)}}function be(Qe,at){if(at=="target")return E.marked="keyword",c(le)}function re(Qe,at){if(at=="target")return E.marked="keyword",c(ve)}function Te(Qe){return Qe==":"?c(f,_):M(le,h(";"),f)}function Re(Qe){if(Qe=="variable")return E.marked="property",c()}function Fe(Qe,at){return Qe=="async"?(E.marked="property",c(Fe)):Qe=="variable"||E.style=="keyword"?(E.marked="property",at=="get"||at=="set"?c(it):(y&&E.state.fatArrowAt==E.stream.start&&(Be=E.stream.match(/^\s*:\s*/,!1))&&(E.state.fatArrowAt=E.stream.pos+Be[0].length),c(lt))):Qe=="number"||Qe=="string"?(E.marked=P?"property":E.style+" property",c(lt)):Qe=="jsonld-keyword"?c(lt):y&&O(at)?(E.marked="keyword",c(Fe)):Qe=="["?c(J,Dt,h("]"),lt):Qe=="spread"?c(te,lt):at=="*"?(E.marked="keyword",c(Fe)):Qe==":"?M(lt):void 0;var Be}function it(Qe){return Qe!="variable"?M(lt):(E.marked="property",c(Zn))}function lt(Qe){return Qe==":"?c(te):Qe=="("?M(Zn):void 0}function St(Qe,at,Be){function ut(xt,Kt){if(Be?Be.indexOf(xt)>-1:xt==","){var Ht=E.state.lexical;return Ht.info=="call"&&(Ht.pos=(Ht.pos||0)+1),c(function(kn,an){return kn==at||an==at?M():M(Qe)},ut)}return xt==at||Kt==at?c():Be&&Be.indexOf(";")>-1?M(Qe):c(h(at))}return function(xt,Kt){return xt==at||Kt==at?c():M(Qe,ut)}}function Ut(Qe,at,Be){for(var ut=3;ut<arguments.length;ut++)E.cc.push(arguments[ut]);return c(a(at,Be),St(Qe,at),f)}function Xt(Qe){return Qe=="}"?c():M(_,Xt)}function Dt(Qe,at){if(y){if(Qe==":")return c(Ge);if(at=="?")return c(Dt)}}function ot(Qe,at){if(y&&(Qe==":"||at=="in"))return c(Ge)}function st(Qe){if(y&&Qe==":")return E.stream.match(/^\s*\w+\s+is\b/,!1)?c(J,Ve,Ge):c(Ge)}function Ve(Qe,at){if(at=="is")return E.marked="keyword",c()}function Ge(Qe,at){return at=="keyof"||at=="typeof"||at=="infer"||at=="readonly"?(E.marked="keyword",c(at=="typeof"?te:Ge)):Qe=="variable"||at=="void"?(E.marked="type",c(Ct)):at=="|"||at=="&"?c(Ge):Qe=="string"||Qe=="number"||Qe=="atom"?c(Ct):Qe=="["?c(a("]"),St(Ge,"]",","),f,Ct):Qe=="{"?c(a("}"),We,f,Ct):Qe=="("?c(St(vt,")"),dt,Ct):Qe=="<"?c(St(Ge,">"),Ge):Qe=="quasi"?M(Ke,Ct):void 0}function dt(Qe){if(Qe=="=>")return c(Ge)}function We(Qe){return Qe.match(/[\}\)\]]/)?c():Qe==","||Qe==";"?c(We):M(mt,We)}function mt(Qe,at){return Qe=="variable"||E.style=="keyword"?(E.marked="property",c(mt)):at=="?"||Qe=="number"||Qe=="string"?c(mt):Qe==":"?c(Ge):Qe=="["?c(h("variable"),ot,h("]"),mt):Qe=="("?M(Fn,mt):Qe.match(/[;\}\)\],]/)?void 0:c()}function Ke(Qe,at){return Qe!="quasi"?M():at.slice(at.length-2)!="${"?c(Ke):c(Ge,gt)}function gt(Qe){if(Qe=="}")return E.marked="string-2",E.state.tokenize=oe,c(Ke)}function vt(Qe,at){return Qe=="variable"&&E.stream.match(/^\s*[?:]/,!1)||at=="?"?c(vt):Qe==":"?c(Ge):Qe=="spread"?c(vt):M(Ge)}function Ct(Qe,at){return at=="<"?c(a(">"),St(Ge,">"),f,Ct):at=="|"||Qe=="."||at=="&"?c(Ge):Qe=="["?c(Ge,h("]"),Ct):at=="extends"||at=="implements"?(E.marked="keyword",c(Ge)):at=="?"?c(Ge,h(":"),Ge):void 0}function It(Qe,at){if(at=="<")return c(a(">"),St(Ge,">"),f,Ct)}function Nt(){return M(Ge,sn)}function sn(Qe,at){if(at=="=")return c(Ge)}function mn(Qe,at){return at=="enum"?(E.marked="keyword",c(yn)):M(hn,Dt,Qt,rn)}function hn(Qe,at){return y&&O(at)?(E.marked="keyword",c(hn)):Qe=="variable"?(s(at),c()):Qe=="spread"?c(hn):Qe=="["?Ut(pn,"]"):Qe=="{"?Ut(fn,"}"):void 0}function fn(Qe,at){return Qe!="variable"||E.stream.match(/^\s*:/,!1)?(Qe=="variable"&&(E.marked="property"),Qe=="spread"?c(hn):Qe=="}"?M():Qe=="["?c(J,h("]"),h(":"),fn):c(h(":"),hn,Qt)):(s(at),c(Qt))}function pn(){return M(hn,Qt)}function Qt(Qe,at){if(at=="=")return c(te)}function rn(Qe){if(Qe==",")return c(mn)}function nn(Qe,at){if(Qe=="keyword b"&&at=="else")return c(a("form","else"),_,f)}function wn(Qe,at){return at=="await"?c(wn):Qe=="("?c(a(")"),Bn,f):void 0}function Bn(Qe){return Qe=="var"?c(mn,Hn):Qe=="variable"?c(Hn):M(Hn)}function Hn(Qe,at){return Qe==")"?c():Qe==";"?c(Hn):at=="in"||at=="of"?(E.marked="keyword",c(J,Hn)):M(J,Hn)}function Zn(Qe,at){return at=="*"?(E.marked="keyword",c(Zn)):Qe=="variable"?(s(at),c(Zn)):Qe=="("?c(R,a(")"),St(Nn,")"),f,st,_,b):y&&at=="<"?c(a(">"),St(Nt,">"),f,Zn):void 0}function Fn(Qe,at){return at=="*"?(E.marked="keyword",c(Fn)):Qe=="variable"?(s(at),c(Fn)):Qe=="("?c(R,a(")"),St(Nn,")"),f,st,b):y&&at=="<"?c(a(">"),St(Nt,">"),f,Fn):void 0}function xn(Qe,at){return Qe=="keyword"||Qe=="variable"?(E.marked="type",c(xn)):at=="<"?c(a(">"),St(Nt,">"),f):void 0}function Nn(Qe,at){return at=="@"&&c(J,Nn),Qe=="spread"?c(Nn):y&&O(at)?(E.marked="keyword",c(Nn)):y&&Qe=="this"?c(Dt,Qt):M(hn,Dt,Qt)}function Vn(Qe,at){return Qe=="variable"?Sn(Qe,at):ln(Qe,at)}function Sn(Qe,at){if(Qe=="variable")return s(at),c(ln)}function ln(Qe,at){return at=="<"?c(a(">"),St(Nt,">"),f,ln):at=="extends"||at=="implements"||y&&Qe==","?(at=="implements"&&(E.marked="keyword"),c(y?Ge:J,ln)):Qe=="{"?c(a("}"),ze,f):void 0}function ze(Qe,at){return Qe=="async"||Qe=="variable"&&(at=="static"||at=="get"||at=="set"||y&&O(at))&&E.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(E.marked="keyword",c(ze)):Qe=="variable"||E.style=="keyword"?(E.marked="property",c(bn,ze)):Qe=="number"||Qe=="string"?c(bn,ze):Qe=="["?c(J,Dt,h("]"),bn,ze):at=="*"?(E.marked="keyword",c(ze)):y&&Qe=="("?M(Fn,ze):Qe==";"||Qe==","?c(ze):Qe=="}"?c():at=="@"?c(J,ze):void 0}function bn(Qe,at){if(at=="!"||at=="?")return c(bn);if(Qe==":")return c(Ge,Qt);if(at=="=")return c(te);var Be=E.state.lexical.prev;return M(Be&&Be.info=="interface"?Fn:Zn)}function zn(Qe,at){return at=="*"?(E.marked="keyword",c(jn,h(";"))):at=="default"?(E.marked="keyword",c(J,h(";"))):Qe=="{"?c(St(In,"}"),jn,h(";")):M(_)}function In(Qe,at){return at=="as"?(E.marked="keyword",c(h("variable"))):Qe=="variable"?M(te,In):void 0}function Mn(Qe){return Qe=="string"?c():Qe=="("?M(J):Qe=="."?M(le):M(cn,Tn,jn)}function cn(Qe,at){return Qe=="{"?Ut(cn,"}"):(Qe=="variable"&&s(at),at=="*"&&(E.marked="keyword"),c(gn))}function Tn(Qe){if(Qe==",")return c(cn,Tn)}function gn(Qe,at){if(at=="as")return E.marked="keyword",c(cn)}function jn(Qe,at){if(at=="from")return E.marked="keyword",c(J)}function On(Qe){return Qe=="]"?c():M(St(te,"]"))}function yn(){return M(a("form"),hn,h("{"),a("}"),St(Rn,"}"),f,f)}function Rn(){return M(hn,Qt)}function Dn(Qe,at){return Qe.lastType=="operator"||Qe.lastType==","||S.test(at.charAt(0))||/[,.]/.test(at.charAt(0))}function en(Qe,at,Be){return at.tokenize==Y&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(at.lastType)||at.lastType=="quasi"&&/\{\s*$/.test(Qe.string.slice(0,Qe.pos-(Be||0)))}return R.lex=v.lex=!0,b.lex=!0,f.lex=!0,{startState:function(Qe){var at={tokenize:Y,lastType:"sof",cc:[],lexical:new T((Qe||0)-q,0,"block",!1),localVars:k.localVars,context:k.localVars&&new K(null,null,!1),indented:Qe||0};return k.globalVars&&typeof k.globalVars=="object"&&(at.globalVars=k.globalVars),at},token:function(Qe,at){if(Qe.sol()&&(at.lexical.hasOwnProperty("align")||(at.lexical.align=!1),at.indented=Qe.indentation(),Z(Qe,at)),at.tokenize!=W&&Qe.eatSpace())return null;var Be=at.tokenize(Qe,at);return $=="comment"?Be:(at.lastType=$!="operator"||D!="++"&&D!="--"?$:"incdec",U(at,Be,$,D,Qe))},indent:function(Qe,at){if(Qe.tokenize==W||Qe.tokenize==oe)return ie.Pass;if(Qe.tokenize!=Y)return 0;var Be,ut=at&&at.charAt(0),xt=Qe.lexical;if(!/^\s*else\b/.test(at))for(var Kt=Qe.cc.length-1;Kt>=0;--Kt){var Ht=Qe.cc[Kt];if(Ht==f)xt=xt.prev;else if(Ht!=nn&&Ht!=b)break}for(;(xt.type=="stat"||xt.type=="form")&&(ut=="}"||(Be=Qe.cc[Qe.cc.length-1])&&(Be==le||Be==ve)&&!/^[,\.=+\-*:?[\(]/.test(at));)xt=xt.prev;l&&xt.type==")"&&xt.prev.type=="stat"&&(xt=xt.prev);var kn=xt.type,an=ut==kn;return kn=="vardef"?xt.indented+(Qe.lastType=="operator"||Qe.lastType==","?xt.info.length+1:0):kn=="form"&&ut=="{"?xt.indented:kn=="form"?xt.indented+q:kn=="stat"?xt.indented+(Dn(Qe,at)?l||q:0):xt.info!="switch"||an||k.doubleIndentSwitch==0?xt.align?xt.column+(an?0:1):xt.indented+(an?0:q):xt.indented+(/^(?:case|default)\b/.test(at)?q:2*q)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:N?null:"/*",blockCommentEnd:N?null:"*/",blockCommentContinue:N?null:" * ",lineComment:N?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:N?"json":"javascript",jsonldMode:P,jsonMode:N,expressionAllowed:en,skipExpression:function(Qe){U(Qe,"atom","atom","true",new ie.StringStream("",2,null))}}}),ie.registerHelper("wordChars","javascript",/[\w$]/),ie.defineMIME("text/javascript","javascript"),ie.defineMIME("text/ecmascript","javascript"),ie.defineMIME("application/javascript","javascript"),ie.defineMIME("application/x-javascript","javascript"),ie.defineMIME("application/ecmascript","javascript"),ie.defineMIME("application/json",{name:"javascript",json:!0}),ie.defineMIME("application/x-json",{name:"javascript",json:!0}),ie.defineMIME("application/manifest+json",{name:"javascript",json:!0}),ie.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),ie.defineMIME("text/typescript",{name:"javascript",typescript:!0}),ie.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(z(4631))},9589:(ge,_e,z)=>{(function(ie){var w={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},k={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};ie.defineMode("xml",function($,D){var q,l,P=$.indentUnit,N={},C=D.htmlMode?w:k;for(var y in C)N[y]=C[y];for(var y in D)N[y]=D[y];function m(c,d){function s(O){return d.tokenize=O,O(c,d)}var p=c.next();return p=="<"?c.eat("!")?c.eat("[")?c.match("CDATA[")?s(I("atom","]]>")):null:c.match("--")?s(I("comment","-->")):c.match("DOCTYPE",!0,!0)?(c.eatWhile(/[\w\._\-]/),s(H(1))):null:c.eat("?")?(c.eatWhile(/[\w\._\-]/),d.tokenize=I("meta","?>"),"meta"):(q=c.eat("/")?"closeTag":"openTag",d.tokenize=g,"tag bracket"):p=="&"?(c.eat("#")?c.eat("x")?c.eatWhile(/[a-fA-F\d]/)&&c.eat(";"):c.eatWhile(/[\d]/)&&c.eat(";"):c.eatWhile(/[\w\.\-:]/)&&c.eat(";"))?"atom":"error":(c.eatWhile(/[^&<]/),null)}function g(c,d){var s=c.next();if(s==">"||s=="/"&&c.eat(">"))return d.tokenize=m,q=s==">"?"endTag":"selfcloseTag","tag bracket";if(s=="=")return q="equals",null;if(s=="<"){d.tokenize=m,d.state=oe,d.tagName=d.tagStart=null;var p=d.tokenize(c,d);return p?p+" tag error":"tag error"}return/[\'\"]/.test(s)?(d.tokenize=S(s),d.stringStartCol=c.column(),d.tokenize(c,d)):(c.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function S(c){var d=function(s,p){for(;!s.eol();)if(s.next()==c){p.tokenize=g;break}return"string"};return d.isInAttribute=!0,d}function I(c,d){return function(s,p){for(;!s.eol();){if(s.match(d)){p.tokenize=m;break}s.next()}return c}}function H(c){return function(d,s){for(var p;(p=d.next())!=null;){if(p=="<")return s.tokenize=H(c+1),s.tokenize(d,s);if(p==">"){if(c==1){s.tokenize=m;break}return s.tokenize=H(c-1),s.tokenize(d,s)}}return"meta"}}function X(c){return c&&c.toLowerCase()}function Y(c,d,s){this.prev=c.context,this.tagName=d||"",this.indent=c.indented,this.startOfLine=s,(N.doNotIndent.hasOwnProperty(d)||c.context&&c.context.noIndent)&&(this.noIndent=!0)}function x(c){c.context&&(c.context=c.context.prev)}function W(c,d){for(var s;;){if(!c.context||(s=c.context.tagName,!N.contextGrabbers.hasOwnProperty(X(s))||!N.contextGrabbers[X(s)].hasOwnProperty(X(d))))return;x(c)}}function oe(c,d,s){return c=="openTag"?(s.tagStart=d.column(),se):c=="closeTag"?Z:oe}function se(c,d,s){return c=="word"?(s.tagName=d.current(),l="tag",j):N.allowMissingTagName&&c=="endTag"?(l="tag bracket",j(c,d,s)):(l="error",se)}function Z(c,d,s){if(c=="word"){var p=d.current();return s.context&&s.context.tagName!=p&&N.implicitlyClosed.hasOwnProperty(X(s.context.tagName))&&x(s),s.context&&s.context.tagName==p||N.matchClosing===!1?(l="tag",B):(l="tag error",T)}return N.allowMissingTagName&&c=="endTag"?(l="tag bracket",B(c,d,s)):(l="error",T)}function B(c,d,s){return c!="endTag"?(l="error",B):(x(s),oe)}function T(c,d,s){return l="error",B(c,d,s)}function j(c,d,s){if(c=="word")return l="attribute",U;if(c=="endTag"||c=="selfcloseTag"){var p=s.tagName,O=s.tagStart;return s.tagName=s.tagStart=null,c=="selfcloseTag"||N.autoSelfClosers.hasOwnProperty(X(p))?W(s,p):(W(s,p),s.context=new Y(s,p,O==s.indented)),oe}return l="error",j}function U(c,d,s){return c=="equals"?E:(N.allowMissing||(l="error"),j(c,d,s))}function E(c,d,s){return c=="string"?M:c=="word"&&N.allowUnquoted?(l="string",j):(l="error",j(c,d,s))}function M(c,d,s){return c=="string"?M:j(c,d,s)}return m.isInText=!0,{startState:function(c){var d={tokenize:m,state:oe,indented:c||0,tagName:null,tagStart:null,context:null};return c!=null&&(d.baseIndent=c),d},token:function(c,d){if(!d.tagName&&c.sol()&&(d.indented=c.indentation()),c.eatSpace())return null;q=null;var s=d.tokenize(c,d);return(s||q)&&s!="comment"&&(l=null,d.state=d.state(q||s,c,d),l&&(s=l=="error"?s+" error":l)),s},indent:function(c,d,s){var p=c.context;if(c.tokenize.isInAttribute)return c.tagStart==c.indented?c.stringStartCol+1:c.indented+P;if(p&&p.noIndent)return ie.Pass;if(c.tokenize!=g&&c.tokenize!=m)return s?s.match(/^(\s*)/)[0].length:0;if(c.tagName)return N.multilineTagIndentPastTag!==!1?c.tagStart+c.tagName.length+2:c.tagStart+P*(N.multilineTagIndentFactor||1);if(N.alignCDATA&&/<!\[CDATA\[/.test(d))return 0;var O=d&&/^<(\/)?([\w_:\.-]*)/.exec(d);if(O&&O[1])for(;p;){if(p.tagName==O[2]){p=p.prev;break}if(!N.implicitlyClosed.hasOwnProperty(X(p.tagName)))break;p=p.prev}else if(O)for(;p;){var K=N.contextGrabbers[X(p.tagName)];if(!K||!K.hasOwnProperty(X(O[2])))break;p=p.prev}for(;p&&p.prev&&!p.startOfLine;)p=p.prev;return p?p.indent+P:c.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:N.htmlMode?"html":"xml",helperType:N.htmlMode?"html":"xml",skipAttribute:function(c){c.state==E&&(c.state=j)},xmlCurrentTag:function(c){return c.tagName?{name:c.tagName,close:c.type=="closeTag"}:null},xmlCurrentContext:function(c){for(var d=[],s=c.context;s;s=s.prev)d.push(s.tagName);return d.reverse()}}}),ie.defineMIME("text/xml","xml"),ie.defineMIME("application/xml","xml"),ie.mimeModes.hasOwnProperty("text/html")||ie.defineMIME("text/html",{name:"xml",htmlMode:!0})})(z(4631))},9714:(ge,_e,z)=>{z.d(_e,{Z:()=>N});var ie=z(4942),w=z(2982),k=z(5671),$=z(3144),D=z(9050),q=z(1163);function l(C,y){var m=Object.keys(C);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(C);y&&(g=g.filter(function(S){return Object.getOwnPropertyDescriptor(C,S).enumerable})),m.push.apply(m,g)}return m}function P(C){for(var y=1;y<arguments.length;y++){var m=arguments[y]!=null?arguments[y]:{};y%2?l(Object(m),!0).forEach(function(g){(0,ie.Z)(C,g,m[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(m)):l(Object(m)).forEach(function(g){Object.defineProperty(C,g,Object.getOwnPropertyDescriptor(m,g))})}return C}var N=function(){function C(){(0,k.Z)(this,C)}return(0,$.Z)(C,[{key:"getConfig",value:function(y){return this.__getConfig(y)}},{key:"getProjectData",value:function(y){var m={},g=this.storageKey;return g&&(m[g]=y||this.getAll()),m}},{key:"loadProjectData",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=m.all,S=m.onResult,I=m.reset,H=this.storageKey,X={action:"load"},Y=g||this.getAll(),x=y[H];if(typeof x=="string")try{x=JSON.parse(x)}catch{this.__logWarn("Data parsing failed",{input:x})}return I&&x&&Y.reset(null,X),S?x&&S(x,X):x&&(0,q.isDef)(x.length)&&Y.reset(x,X),x}},{key:"clear",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=this.all;return m&&m.reset(null,y),this}},{key:"__getConfig",value:function(y){var m=this.config||{};return y?m[y]:m}},{key:"getAll",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.all?y.array?(0,w.Z)(this.all.models):this.all:[]}},{key:"getAllMap",value:function(){return this.getAll().reduce(function(y,m){return y[m.get(m.idAttribute)]=m,y},{})}},{key:"__initConfig",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=(0,q.deepMerge)(y,m),this.em=this.config.em,this.cls=[]}},{key:"__initListen",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=this.all,g=this.em,S=this.events;m&&g&&m.on("add",function(I,H,X){return g.trigger(S.add,I,X)}).on("remove",function(I,H,X){return g.trigger(S.remove,I,X)}).on("change",function(I,H){return g.trigger(S.update,I,I.changedAttributes(),H)}).on("all",this.__catchAllEvent,this),this.cls=[m].concat(y.collections||[]),(y.propagate||[]).forEach(function(I){var H=I.entity,X=I.event;H.on("all",function(Y,x,W,oe){var se=P({event:Y},oe||W);[g,m].map(function(Z){return Z.trigger(X,x,se)})})})}},{key:"__remove",value:function(y){var m=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=this.em,I=(0,D.isString)(y)?this.get(y):y,H=function(){return I&&m.all.remove(I,g),I};return!g.silent&&S&&S.trigger(this.events.removeBefore,I,H,g),!g.abort&&H()}},{key:"__catchAllEvent",value:function(y,m,g,S){var I=this.em,H=this.events,X=S||g;I&&H.all&&I.trigger(H.all,{event:y,model:m,options:X}),this.__onAllEvent()}},{key:"__appendTo",value:function(){var y=this.getConfig().appendTo;if(y){var m=(0,D.isElement)(y)?y:document.querySelector(y);if(!m)return this.__logWarn('"appendTo" element not found');m.appendChild(this.render())}}},{key:"__onAllEvent",value:function(){}},{key:"__logWarn",value:function(y,m){this.em.logWarning("[".concat(this.name,"]: ").concat(y),m)}},{key:"_createId",value:function(){var y,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,g=this.getAll(),S=g.length+m,I=this.getAllMap();do y=(0,q.createId)(S);while(I[y]);return y}},{key:"__listenAdd",value:function(y,m){var g=this;y.on("add",function(S,I,H){return g.em.trigger(m,S,H)})}},{key:"__listenRemove",value:function(y,m){var g=this;y.on("remove",function(S,I,H){return g.em.trigger(m,S,H)})}},{key:"__listenUpdate",value:function(y,m){var g=this;y.on("change",function(S,I){return g.em.trigger(m,S,S.changedAttributes(),I)})}},{key:"__destroy",value:function(){var y;this.cls.forEach(function(m){m.stopListening(),m.reset()}),this.em=0,this.config=0,(y=this.view)===null||y===void 0||y.remove(),this.view=0}}]),C}()},1030:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>Ne,evAdd:()=>f,evAll:()=>R,evClose:()=>te,evCustom:()=>A,evOpen:()=>J,evPfx:()=>v,evRemove:()=>h,evRemoveBefore:()=>_,evSelect:()=>b,evUpdate:()=>a,evUpload:()=>F,evUploadEnd:()=>V,evUploadError:()=>le,evUploadRes:()=>ve,evUploadStart:()=>G});var ie=z(4942),w=z(9050),k=z(9304);const $={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:null,uploadFile:null,embedAsBase64:!0,handleAdd:null,beforeUpload:null,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:1,dropzoneContent:""};var D=z(3144),q=z(5671),l=z(9340),P=z(2963),N=z(1120),C=z(2316);function y(Ze){var Me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,ae=(0,N.Z)(Ze);if(Me){var be=(0,N.Z)(this).constructor;je=Reflect.construct(ae,arguments,be)}else je=ae.apply(this,arguments);return(0,P.Z)(this,je)}}var m=function(Ze){(0,l.Z)(je,Ze);var Me=y(je);function je(){return(0,q.Z)(this,je),Me.apply(this,arguments)}return(0,D.Z)(je,[{key:"defaults",value:function(){return{type:"",src:""}}},{key:"getType",value:function(){return this.get("type")}},{key:"getSrc",value:function(){return this.get("src")}},{key:"getFilename",value:function(){return this.get("src").split("/").pop().split("?").shift()}},{key:"getExtension",value:function(){return this.getFilename().split(".").pop()}}]),je}(C.Model);function g(Ze,Me){var je=Object.keys(Ze);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(Ze);Me&&(ae=ae.filter(function(be){return Object.getOwnPropertyDescriptor(Ze,be).enumerable})),je.push.apply(je,ae)}return je}function S(Ze){for(var Me=1;Me<arguments.length;Me++){var je=arguments[Me]!=null?arguments[Me]:{};Me%2?g(Object(je),!0).forEach(function(ae){(0,ie.Z)(Ze,ae,je[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ze,Object.getOwnPropertyDescriptors(je)):g(Object(je)).forEach(function(ae){Object.defineProperty(Ze,ae,Object.getOwnPropertyDescriptor(je,ae))})}return Ze}function I(Ze){var Me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,ae=(0,N.Z)(Ze);if(Me){var be=(0,N.Z)(this).constructor;je=Reflect.construct(ae,arguments,be)}else je=ae.apply(this,arguments);return(0,P.Z)(this,je)}}m.prototype.idAttribute="src",m.getDefaults=function(){return(0,w.result)(this.prototype,"defaults")};var H=function(Ze){(0,l.Z)(je,Ze);var Me=I(je);function je(){return(0,q.Z)(this,je),Me.apply(this,arguments)}return(0,D.Z)(je,[{key:"defaults",value:function(){return S(S({},m.getDefaults()),{},{type:"image",unitDim:"px",height:0,width:0})}}]),je}(m),X=z(168);function Y(Ze){var Me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,ae=(0,N.Z)(Ze);if(Me){var be=(0,N.Z)(this).constructor;je=Reflect.construct(ae,arguments,be)}else je=ae.apply(this,arguments);return(0,P.Z)(this,je)}}var x,W,oe=function(Ze){(0,l.Z)(je,Ze);var Me=Y(je);function je(){return(0,q.Z)(this,je),Me.apply(this,arguments)}return(0,D.Z)(je,[{key:"initialize",value:function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=ae,this.collection=ae.collection;var be=ae.config||{};this.config=be,this.pfx=be.stylePrefix||"",this.ppfx=be.pStylePrefix||"",this.em=be.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove),this.model.view=this;var re=this.init&&this.init.bind(this);re&&re(ae)}},{key:"__getBhv",value:function(){var ae=this.em,be=ae&&ae.get("AssetManager");return be&&be.__getBehaviour()||{}}},{key:"template",value:function(){var ae=this.pfx;return`
      <div class="`.concat(ae,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(ae,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(ae,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)}},{key:"updateTarget",value:function(ae){ae&&ae.set&&(ae.set("attributes",(0,w.clone)(ae.get("attributes"))),ae.set("src",this.model.get("src")))}},{key:"getPreview",value:function(){return""}},{key:"getInfo",value:function(){return""}},{key:"render",value:function(){var ae=this.el;return ae.innerHTML=this.template(this,this.model),ae.className=this.className,this}}]),je}(C.View),se=z(7539);function Z(Ze){var Me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,ae=(0,N.Z)(Ze);if(Me){var be=(0,N.Z)(this).constructor;je=Reflect.construct(ae,arguments,be)}else je=ae.apply(this,arguments);return(0,P.Z)(this,je)}}var B=function(Ze){(0,l.Z)(je,Ze);var Me=Z(je);function je(){return(0,q.Z)(this,je),Me.apply(this,arguments)}return(0,D.Z)(je,[{key:"getPreview",value:function(){var ae=this.pfx,be=this.ppfx,re=this.model.get("src");return(0,se.Z)(x||(x=(0,X.Z)([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),ae,re,ae,be)}},{key:"getInfo",value:function(){var ae=this.pfx,be=this.model,re=be.get("name"),Te=be.get("width"),Re=be.get("height"),Fe=be.get("unitDim"),it=Te&&Re?"".concat(Te,"x").concat(Re).concat(Fe):"";return re=re||be.getFilename(),(0,se.Z)(W||(W=(0,X.Z)([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),ae,re,ae,it)}},{key:"init",value:function(ae){var be=this.pfx;this.className+=" ".concat(be,"asset-image")}},{key:"onClick",value:function(){var ae=this.model,be=this.pfx,re=this.__getBhv().select,Te=this.config.onClick,Re=this.collection;Re.trigger("deselectAll"),this.$el.addClass(be+"highlight"),(0,w.isFunction)(re)?re(ae,!1):(0,w.isFunction)(Te)?Te(ae):this.updateTarget(Re.target)}},{key:"onDblClick",value:function(){var ae=this.em,be=this.model,re=this.__getBhv().select,Te=this.config.onDblClick,Re=this.collection,Fe=Re.target,it=Re.onSelect;(0,w.isFunction)(re)?re(be,!0):(0,w.isFunction)(Te)?Te(be):(this.updateTarget(Fe),ae&&ae.get("Modal").close()),(0,w.isFunction)(it)&&it(be)}},{key:"onRemove",value:function(ae){ae.stopImmediatePropagation(),this.model.collection.remove(this.model)}}]),je}(oe);B.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var T=z(793);function j(Ze){var Me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,ae=(0,N.Z)(Ze);if(Me){var be=(0,N.Z)(this).constructor;je=Reflect.construct(ae,arguments,be)}else je=ae.apply(this,arguments);return(0,P.Z)(this,je)}}var U=function(Ze){(0,l.Z)(je,Ze);var Me=j(je);function je(){return(0,q.Z)(this,je),Me.apply(this,arguments)}return(0,D.Z)(je)}(C.Collection.extend(T.Z));function E(Ze){var Me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,ae=(0,N.Z)(Ze);if(Me){var be=(0,N.Z)(this).constructor;je=Reflect.construct(ae,arguments,be)}else je=ae.apply(this,arguments);return(0,P.Z)(this,je)}}U.prototype.types=[{id:"image",model:H,view:B,isType:function(Ze){return typeof Ze=="string"?{type:"image",src:Ze}:Ze}}];var M=function(Ze){(0,l.Z)(je,Ze);var Me=E(je);function je(){return(0,q.Z)(this,je),Me.apply(this,arguments)}return(0,D.Z)(je,[{key:"template",value:function(ae){var be=ae.pfx,re=ae.ppfx,Te=ae.em,Re="";return this.config.showUrlInput&&(Re=`
          <form class="`.concat(be,`add-asset">
            <div class="`).concat(re,"field ").concat(be,`add-field">
              <input placeholder="`).concat(Te&&Te.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(re,'btn-prim">').concat(Te&&Te.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(be,`assets-cont">
      <div class="`).concat(be,`assets-header">
        `).concat(Re,`
      </div>
      <div class="`).concat(be,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)}},{key:"initialize",value:function(ae){this.options=ae,this.config=ae.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var be=this.collection;this.listenTo(be,"reset",this.renderAssets),this.listenTo(be,"add",this.addToAsset),this.listenTo(be,"remove",this.removedAsset),this.listenTo(be,"deselectAll",this.deselectAll)}},{key:"handleSubmit",value:function(ae){ae.preventDefault();var be=this.getAddInput(),re=be&&be.value.trim(),Te=this.config.handleAdd;re&&(be.value="",this.getAssetsEl().scrollTop=0,Te?Te.bind(this)(re):this.options.globalCollection.add(re,{at:0}))}},{key:"getAssetsEl",value:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))}},{key:"getAddInput",value:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl}},{key:"removedAsset",value:function(ae){this.collection.length||this.toggleNoAssets()}},{key:"addToAsset",value:function(ae){this.collection.length==1&&this.toggleNoAssets(1),this.addAsset(ae)}},{key:"addAsset",value:function(ae){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,re=be,Te=this.collection,Re=this.config,Fe=new ae.typeView({model:ae,collection:Te,config:Re}).render().el;if(re)re.appendChild(Fe);else{var it=this.getAssetsEl();it&&it.insertBefore(Fe,it.firstChild)}return Fe}},{key:"toggleNoAssets",value:function(ae){var be=this.$el.find(".".concat(this.pfx,"assets"));if(ae)be.empty();else{var re=this.config.noAssets;re&&be.append(re)}}},{key:"deselectAll",value:function(){var ae=this.pfx;this.$el.find(".".concat(ae,"highlight")).removeClass("".concat(ae,"highlight"))}},{key:"renderAssets",value:function(){var ae=this,be=document.createDocumentFragment(),re=this.$el.find(".".concat(this.pfx,"assets"));re.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(Te){return ae.addAsset(Te,be)}),re.append(be)}},{key:"render",value:function(){var ae=this.options.fu.render().el;return this.$el.empty(),this.$el.append(ae).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this}}]),je}(C.View);M.prototype.events={submit:"handleSubmit"};var c,d=z(9661);function s(Ze,Me){var je=typeof Symbol<"u"&&Ze[Symbol.iterator]||Ze["@@iterator"];if(!je){if(Array.isArray(Ze)||(je=function(Fe,it){if(!!Fe){if(typeof Fe=="string")return p(Fe,it);var lt=Object.prototype.toString.call(Fe).slice(8,-1);if(lt==="Object"&&Fe.constructor&&(lt=Fe.constructor.name),lt==="Map"||lt==="Set")return Array.from(Fe);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return p(Fe,it)}}(Ze))||Me&&Ze&&typeof Ze.length=="number"){je&&(Ze=je);var ae=0,be=function(){};return{s:be,n:function(){return ae>=Ze.length?{done:!0}:{done:!1,value:Ze[ae++]}},e:function(Fe){throw Fe},f:be}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re,Te=!0,Re=!1;return{s:function(){je=je.call(Ze)},n:function(){var Fe=je.next();return Te=Fe.done,Fe},e:function(Fe){Re=!0,re=Fe},f:function(){try{Te||je.return==null||je.return()}finally{if(Re)throw re}}}}function p(Ze,Me){(Me==null||Me>Ze.length)&&(Me=Ze.length);for(var je=0,ae=new Array(Me);je<Me;je++)ae[je]=Ze[je];return ae}function O(Ze){var Me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,ae=(0,N.Z)(Ze);if(Me){var be=(0,N.Z)(this).constructor;je=Reflect.construct(ae,arguments,be)}else je=ae.apply(this,arguments);return(0,P.Z)(this,je)}}var K=function(Ze){(0,l.Z)(je,Ze);var Me=O(je);function je(){return(0,q.Z)(this,je),Me.apply(this,arguments)}return(0,D.Z)(je,[{key:"template",value:function(ae){var be=ae.pfx,re=ae.title,Te=ae.uploadId,Re=ae.disabled,Fe=ae.multiUpload;return(0,se.Z)(c||(c=(0,X.Z)([`
      <form>
        <div id="`,'title">',`</div>
        <input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),be,re,Te,Re?"disabled":"",Fe?"multiple":"")}},{key:"initialize",value:function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=ae;var be=ae.config||{};this.module=ae.module,this.config=be,this.em=this.config.em,this.pfx=be.stylePrefix||"",this.ppfx=be.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=be.disableUpload!==void 0?be.disableUpload:!be.upload&&!be.embedAsBase64,this.multiUpload=be.multiUpload===void 0||be.multiUpload,this.events={["change #".concat(this.uploadId)]:"uploadFile"};var re=be.uploadFile;re?this.uploadFile=re.bind(this):!be.upload&&be.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()}},{key:"onUploadStart",value:function(){var ae=this.module;ae&&ae.__propEv("asset:upload:start")}},{key:"onUploadEnd",value:function(ae){var be=this.$el,re=this.module;re&&re.__propEv("asset:upload:end",ae);var Te=be.find("input");Te&&Te.val("")}},{key:"onUploadError",value:function(ae){var be=this.module;console.error(ae),this.onUploadEnd(ae),be&&be.__propEv("asset:upload:error",ae)}},{key:"onUploadResponse",value:function(ae,be){var re,Te=this.module,Re=this.config,Fe=this.target;try{re=typeof ae=="string"?JSON.parse(ae):ae}catch{re=ae}Te&&Te.__propEv("asset:upload:response",re),Re.autoAdd&&Fe&&Fe.add(re.data,{at:0}),this.onUploadEnd(ae),be&&be(re)}},{key:"uploadFile",value:function(ae,be){var re=this,Te=ae.dataTransfer?ae.dataTransfer.files:ae.target.files,Re=this.config,Fe=Re.beforeUpload;if((Fe&&Fe(Te))!==!1){var it=new FormData,lt=Re.params,St=Re.customFetch;for(var Ut in lt)it.append(Ut,lt[Ut]);if(this.multiUpload)for(var Xt=0;Xt<Te.length;Xt++)it.append("".concat(Re.uploadName,"[]"),Te[Xt]);else Te.length&&it.append(Re.uploadName,Te[0]);this.target;var Dt=Re.upload,ot=Re.headers,st="X-Requested-With";if(ot[st]===void 0&&(ot[st]="XMLHttpRequest"),Dt){this.onUploadStart();var Ve={method:"post",credentials:Re.credentials||"include",headers:ot,body:it};return(St?St(Dt,Ve):(0,d.Z)(Dt,Ve).then(function(Ge){return(Ge.status/200|0)==1?Ge.text():Ge.text().then(function(dt){return Promise.reject(dt)})})).then(function(Ge){return re.onUploadResponse(Ge,be)}).catch(function(Ge){return re.onUploadError(Ge)})}}}},{key:"initDrop",value:function(){var ae=this;!this.uploadForm&&(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm)&&(this.uploadFile,this.uploadForm.ondragover=function(){return this.className=ae.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(be){this.className="",be.preventDefault(),ae.uploadFile(be)})}},{key:"initDropzone",value:function(ae){var be=this,re=0,Te=this.config,Re=ae.model,Fe=ae.el,it=Re.get("Editor"),lt=(Re.get("Config").el,Re.get("Canvas").getBody()),St=this.ppfx,Ut="".concat(St,"dropzone-active"),Xt="".concat(St,"dropzone"),Dt=function(){Fe.className=Fe.className.replace(Ut,"").trim(),re=0},ot=function(){return re||(Fe.className+=" ".concat(Ut),re=1),!1},st=function(){return Dt(),!1},Ve=function(Ge){if(Dt(),Ge.preventDefault(),Ge.stopPropagation(),be.uploadFile(Ge),Te.openAssetsOnDrop&&it){var dt=it.getSelected();it.runCommand("open-assets",{target:dt,onSelect:function(){it.Modal.close(),it.AssetManager.setTarget(null)}})}return!1};ae.$el.append('<div class="'.concat(Xt,'">').concat(Te.dropzoneContent,"</div>")),Dt(),"draggable"in Fe&&[Fe,lt].forEach(function(Ge){Ge.ondragover=ot,Ge.ondragleave=st,Ge.ondrop=Ve})}},{key:"render",value:function(){var ae=this.$el,be=this.pfx,re=this.em;return ae.html(this.template({title:re&&re.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:be})),this.initDrop(),ae.attr("class",be+"file-uploader"),this}}]),je}(C.View);function Q(Ze,Me){var je=Object.keys(Ze);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(Ze);Me&&(ae=ae.filter(function(be){return Object.getOwnPropertyDescriptor(Ze,be).enumerable})),je.push.apply(je,ae)}return je}function ne(Ze){for(var Me=1;Me<arguments.length;Me++){var je=arguments[Me]!=null?arguments[Me]:{};Me%2?Q(Object(je),!0).forEach(function(ae){(0,ie.Z)(Ze,ae,je[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ze,Object.getOwnPropertyDescriptors(je)):Q(Object(je)).forEach(function(ae){Object.defineProperty(Ze,ae,Object.getOwnPropertyDescriptor(je,ae))})}return Ze}K.embedAsBase64=function(Ze,Me){var je=this,ae=Ze.dataTransfer?Ze.dataTransfer.files:Ze.target.files,be={data:[]};if(FileReader){var re,Te=[],Re=/^(.+)\/(.+)$/,Fe=s(ae);try{var it=function(){var lt=re.value,St=new Promise(function(Ut,Xt){var Dt=new FileReader;Dt.addEventListener("load",function(ot){var st,Ve=lt.name,Ge=Re.exec(lt.type);if((st=Ge?Ge[1]:lt.type)==="image"){var dt={src:Dt.result,name:Ve,type:st,height:0,width:0},We=new Image;We.addEventListener("error",function(mt){Xt(mt)}),We.addEventListener("load",function(){dt.height=We.height,dt.width=We.width,Ut(dt)}),We.src=dt.src}else Ut(st?{src:Dt.result,name:Ve,type:st}:Dt.result)}),Dt.addEventListener("error",function(ot){Xt(ot)}),Dt.addEventListener("abort",function(ot){Xt("Aborted")}),Dt.readAsDataURL(lt)});Te.push(St)};for(Fe.s();!(re=Fe.n()).done;)it()}catch(lt){Fe.e(lt)}finally{Fe.f()}Promise.all(Te).then(function(lt){be.data=lt,je.onUploadResponse(be,Me)},function(lt){je.onUploadError(lt)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))};var R="asset",v="".concat(R,":"),b="".concat(v,"select"),a="".concat(v,"update"),f="".concat(v,"add"),h="".concat(v,"remove"),_="".concat(h,":before"),A="".concat(v,"custom"),J="".concat(v,"open"),te="".concat(v,"close"),F="".concat(v,"upload"),G="".concat(F,":start"),V="".concat(F,":end"),le="".concat(F,":error"),ve="".concat(F,":response");const Ne=function(){var Ze,Me,je,ae,be={},re="open-assets";return ne(ne({},k.Z),{},{name:"AssetManager",storageKey:"assets",Asset:U,Assets:U,events:{all:R,select:b,update:a,add:f,remove:h,removeBefore:_,custom:A,open:J,close:te,uploadStart:G,uploadEnd:V,uploadError:le,uploadResponse:ve},init:function(){var Te=this,Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=(be=ne(ne({},$),Re)).pStylePrefix,it=be,lt=it.em;return this.config=be,this.em=lt,Fe&&(be.stylePrefix=Fe+be.stylePrefix),Ze=new U([]),Me=new U([]),this.all=Ze,this.__initListen(),Ze.on("add",function(St){return Te.getAllVisible().add(St)}),Ze.on("remove",function(St){return Te.getAllVisible().remove(St)}),this},__propEv:function(Te){for(var Re,Fe,it=arguments.length,lt=new Array(it>1?it-1:0),St=1;St<it;St++)lt[St-1]=arguments[St];(Re=this.em).trigger.apply(Re,[Te].concat(lt)),(Fe=this.getAll()).trigger.apply(Fe,[Te].concat(lt))},__onAllEvent:(0,w.debounce)(function(){this.__trgCustom()}),__trgCustom:function(){(this.__getBehaviour().container||this.getConfig().custom.open)&&this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var Te=this,Re=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:Re.types||[],container:Re.container,close:function(){return Te.close()},remove:function(){return Te.remove.apply(Te,arguments)},select:function(Fe,it){var lt=Te.add(Fe);(0,w.isFunction)(Re.select)&&Re.select(lt,it)},options:Re.options||{}}},open:function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=this.em.get("Commands");Re.run(re,ne({types:["image"],select:function(){}},Te))},close:function(){this.em.get("Commands").stop(re)},isOpen:function(){var Te=this.em.get("Commands");return!(!Te||!Te.isActive(re))},add:function(Te){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Re.at===void 0&&(Re.at=0),Ze.add(Te,Re)},get:function(Te){return Ze.where({src:Te})[0]||null},getAll:function(){return Ze},getAllVisible:function(){return Me},remove:function(Te,Re){return this.__remove(Te,Re)},store:function(){return this.getProjectData()},load:function(Te){return this.loadProjectData(Te)},getContainer:function(){return this.__getBehaviour().container||je&&je.el},getAssetsEl:function(){return je.el.querySelector("[data-el=assets]")},render:function(Te){if(!this.getConfig().custom){var Re=Te||this.getAll().models;if(!je){var Fe=this.__viewParams();Fe.fu=this.FileUploader();var it=je&&je.el;(je=new M(ne({el:it},Fe))).render()}return Me.reset(Re),this.getContainer()}},__viewParams:function(){return{collection:Me,globalCollection:Ze,config:be,module:this}},addType:function(Te,Re){this.getAll().addType(Te,Re)},getType:function(Te){return this.getAll().getType(Te)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return je},FileUploader:function(){return ae||(ae=new K(this.__viewParams())),ae},onLoad:function(){var Te=this;this.getAll().reset(be.assets);var Re=this.em,Fe=this.events;Re.on("run:".concat(re),function(){return Te.__propEv(Fe.open)}),Re.on("stop:".concat(re),function(){return Te.__propEv(Fe.close)})},postRender:function(Te){be.dropzone&&ae&&ae.initDropzone(Te)},setTarget:function(Te){Me.target=Te},onSelect:function(Te){Me.onSelect=Te},onClick:function(Te){be.onClick=Te},onDblClick:function(Te){be.onDblClick=Te},__behaviour:function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._bhv=ne(ne({},this._bhv||{}),Te)},__getBehaviour:function(){return this._bhv||{}},destroy:function(){Ze.stopListening(),Me.stopListening(),Ze.reset(),Me.reset(),ae&&ae.remove(),je&&je.remove(),this._bhv={},this.all={},be={}}})}},6407:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>A,evAdd:()=>ne,evAll:()=>K,evCustom:()=>_,evDrag:()=>a,evDragStart:()=>f,evDragStop:()=>h,evPfx:()=>Q,evRemove:()=>v,evRemoveBefore:()=>b,evUpdate:()=>R});var ie=z(5671),w=z(3144),k=z(7326),$=z(9340),D=z(2963),q=z(1120),l=z(4942),P=z(9050),N=z(9714);const C={appendTo:"",appendOnClick:!1,blocks:[],custom:!1};var y=z(2316);function m(J){var te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,q.Z)(J);if(te){var V=(0,q.Z)(this).constructor;F=Reflect.construct(G,arguments,V)}else F=G.apply(this,arguments);return(0,D.Z)(this,F)}}var g=function(J){(0,$.Z)(F,J);var te=m(F);function F(){return(0,ie.Z)(this,F),te.apply(this,arguments)}return(0,w.Z)(F,[{key:"defaults",value:function(){return{label:"",content:"",media:"",category:"",activate:!1,select:null,resetId:!1,disable:!1,onClick:null,attributes:{}}}},{key:"getId",value:function(){return this.id}},{key:"getLabel",value:function(){return this.get("label")}},{key:"getMedia",value:function(){return this.get("media")}},{key:"getContent",value:function(){return this.get("content")}},{key:"getCategoryLabel",value:function(){var G=this.get("category");return(0,P.isFunction)(G.get)?G.get("label"):G.label?G.label:G}}]),F}(y.Model);function S(J){var te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,q.Z)(J);if(te){var V=(0,q.Z)(this).constructor;F=Reflect.construct(G,arguments,V)}else F=G.apply(this,arguments);return(0,D.Z)(this,F)}}var I=function(J){(0,$.Z)(F,J);var te=S(F);function F(){return(0,ie.Z)(this,F),te.apply(this,arguments)}return(0,w.Z)(F)}(y.Collection);function H(J){var te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,q.Z)(J);if(te){var V=(0,q.Z)(this).constructor;F=Reflect.construct(G,arguments,V)}else F=G.apply(this,arguments);return(0,D.Z)(this,F)}}I.prototype.model=g;var X=function(J){(0,$.Z)(F,J);var te=H(F);function F(){return(0,ie.Z)(this,F),te.apply(this,arguments)}return(0,w.Z)(F,[{key:"defaults",value:function(){return{id:"",label:"",open:!0,attributes:{}}}}]),F}(y.Model);function Y(J){var te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,q.Z)(J);if(te){var V=(0,q.Z)(this).constructor;F=Reflect.construct(G,arguments,V)}else F=G.apply(this,arguments);return(0,D.Z)(this,F)}}var x=function(J){(0,$.Z)(F,J);var te=Y(F);function F(){return(0,ie.Z)(this,F),te.apply(this,arguments)}return(0,w.Z)(F)}(y.Collection);x.prototype.model=X;var W=z(1163);function oe(J){var te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,q.Z)(J);if(te){var V=(0,q.Z)(this).constructor;F=Reflect.construct(G,arguments,V)}else F=G.apply(this,arguments);return(0,D.Z)(this,F)}}var se,Z=function(J){(0,$.Z)(F,J);var te=oe(F);function F(){return(0,ie.Z)(this,F),te.apply(this,arguments)}return(0,w.Z)(F,[{key:"events",value:function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}}},{key:"initialize",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=this.model;this.em=V.em,this.config=V,this.endDrag=this.endDrag.bind(this),this.ppfx=V.pStylePrefix||"",this.listenTo(le,"destroy remove",this.remove),this.listenTo(le,"change",this.render)}},{key:"__getModule",value:function(){return this.em.get("BlockManager")}},{key:"handleClick",value:function(G){var V=this.config,le=this.model,ve=this.em,Ne=le.get("onClick")||V.appendOnClick;if(ve.trigger("block:click",le,G),Ne){if((0,P.isFunction)(Ne))return Ne(le,ve.getEditor(),{event:G});var Ze,Me,je=V.getSorter(),ae=le.get("content"),be=ve.getSelected();if(je.setDropContent(ae),be)if(je.validTarget(be.getEl(),ae).valid)Ze=be;else{var re=be.parent();je.validTarget(re.getEl(),ae).valid&&(Ze=re,Me=re.components().indexOf(be)+1)}if(!Ze){var Te=ve.getWrapper();je.validTarget(Te.getEl(),ae).valid&&(Ze=Te)}var Re=Ze&&Ze.append(ae,{at:Me})[0];Re&&ve.setSelected(Re,{scroll:1})}}},{key:"startDrag",value:function(G){var V=this.config,le=this.em,ve=this.model.get("disable");if(G.button===0&&V.getSorter&&!this.el.draggable&&!ve){le.refreshCanvas();var Ne=V.getSorter();Ne.setDragHelper(this.el,G),Ne.setDropContent(this.model.get("content")),Ne.startSort(this.el),(0,W.on)(document,"mouseup",this.endDrag)}}},{key:"handleDragStart",value:function(G){this.__getModule().__startDrag(this.model,G)}},{key:"handleDrag",value:function(G){this.__getModule().__drag(G)}},{key:"handleDragEnd",value:function(){this.__getModule().__endDrag()}},{key:"endDrag",value:function(G){(0,W.off)(document,"mouseup",this.endDrag);var V=this.config.getSorter();V.moved=0,V.endMove()}},{key:"render",value:function(){var G=this.em,V=this.el,le=this.$el,ve=this.ppfx,Ne=this.model,Ze=Ne.get("disable"),Me=Ne.get("attributes")||{},je=Me.class||"",ae="".concat(ve,"block"),be=G&&G.t("blockManager.labels.".concat(Ne.id))||Ne.get("label"),re=Ne.get("render"),Te=Ne.get("media"),Re=Ze?"".concat(ae,"--disable"):"".concat(ve,"four-color-h");le.attr(Me),V.className="".concat(je," ").concat(ae," ").concat(ve,"one-bg ").concat(Re).trim(),V.innerHTML=`
      `.concat(Te?'<div class="'.concat(ae,'__media">').concat(Te,"</div>"):"",`
      <div class="`).concat(ae,'-label">').concat(be,`</div>
    `),V.title=Me.title||V.textContent.trim(),V.setAttribute("draggable",!(!(0,W.hasDnd)(G)||Ze));var Fe=re&&re({el:V,model:Ne,className:ae,prefix:ve});return Fe&&(V.innerHTML=Fe),this}}]),F}(y.View),B=z(168),T=z(7539);function j(J){var te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,q.Z)(J);if(te){var V=(0,q.Z)(this).constructor;F=Reflect.construct(G,arguments,V)}else F=G.apply(this,arguments);return(0,D.Z)(this,F)}}var U=function(J){(0,$.Z)(F,J);var te=j(F);function F(){return(0,ie.Z)(this,F),te.apply(this,arguments)}return(0,w.Z)(F,[{key:"template",value:function(G){var V=G.pfx,le=G.label;return(0,T.Z)(se||(se=(0,B.Z)([`
      <div class="`,`title">
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `])),V,V,le,V)}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=G;var V=G.pStylePrefix||"";this.em=G.em,this.pfx=V,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(V,"caret-icon"),this.activeClass="".concat(V,"open"),this.className="".concat(V,"block-category"),this.events={},this.events["click .".concat(V,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents(),this.model.view=this}},{key:"updateVisibility",value:function(){this.model.get("open")?this.open():this.close()}},{key:"open",value:function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""}},{key:"close",value:function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"}},{key:"toggle",value:function(){var G=this.model;G.set("open",!G.get("open"))}},{key:"getIconEl",value:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl}},{key:"append",value:function(G){this.getBlocksEl().appendChild(G)}},{key:"render",value:function(){var G=this.em,V=this.el,le=this.$el,ve=this.model,Ne=this.pfx,Ze=G.t("blockManager.categories.".concat(ve.id))||ve.get("label");return V.innerHTML=this.template({pfx:Ne,label:Ze}),le.addClass(this.className),le.css({order:ve.get("order")}),this.updateVisibility(),this}}]),F}(y.View);function E(J,te){var F=Object.keys(J);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(J);te&&(G=G.filter(function(V){return Object.getOwnPropertyDescriptor(J,V).enumerable})),F.push.apply(F,G)}return F}function M(J){for(var te=1;te<arguments.length;te++){var F=arguments[te]!=null?arguments[te]:{};te%2?E(Object(F),!0).forEach(function(G){(0,l.Z)(J,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(F)):E(Object(F)).forEach(function(G){Object.defineProperty(J,G,Object.getOwnPropertyDescriptor(F,G))})}return J}function c(J){var te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,q.Z)(J);if(te){var V=(0,q.Z)(this).constructor;F=Reflect.construct(G,arguments,V)}else F=G.apply(this,arguments);return(0,D.Z)(this,F)}}var d=function(J){(0,$.Z)(F,J);var te=c(F);function F(){return(0,ie.Z)(this,F),te.apply(this,arguments)}return(0,w.Z)(F,[{key:"initialize",value:function(G,V){(0,P.bindAll)(this,"getSorter","onDrag","onDrop","onMove"),this.config=V||{},this.categories=G.categories||"",this.renderedCategories=[];var le=this.config.pStylePrefix||"";this.ppfx=le,this.noCatClass="".concat(le,"blocks-no-cat"),this.blockContClass="".concat(le,"blocks-c"),this.catsClass="".concat(le,"block-categories");var ve=this.collection;this.listenTo(ve,"add",this.addTo),this.listenTo(ve,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))}},{key:"updateConfig",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=M(M({},this.config),G)}},{key:"getSorter",value:function(){if(this.em){if(!this.sorter){var G=this.em.get("Utils"),V=this.canvas;this.sorter=new G.Sorter({container:V.getBody(),placer:V.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:V.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})}return this.sorter}}},{key:"onDrag",value:function(G){this.em.stopDefault(),this.em.trigger("block:drag:start",G)}},{key:"onMove",value:function(G){this.em.trigger("block:drag:move",G)}},{key:"onDrop",value:function(G){var V=this.em;if(V.runDefault(),G&&G.get){var le="activeOnRender";G.get(le)&&(G.trigger("active"),G.unset(le)),V.trigger("block:drag:stop",G)}}},{key:"addTo",value:function(G){this.add(G)}},{key:"add",value:function(G,V){var le=this.config,ve=V||null,Ne=new Z({model:G,attributes:G.get("attributes")},le).render().el,Ze=G.get("category");if(Ze&&this.categories&&!le.ignoreCategories){(0,P.isString)(Ze)?Ze={id:Ze,label:Ze}:(0,P.isObject)(Ze)&&!Ze.id&&(Ze.id=Ze.label);var Me=this.categories.add(Ze),je=Me.get("id"),ae=this.renderedCategories[je],be=this.getCategoriesEl();return G.set("category",Me,{silent:!0}),!ae&&be&&(ae=new U({model:Me},this.config).render(),this.renderedCategories[je]=ae,be.appendChild(ae.el)),void(ae&&ae.append(Ne))}ve?ve.appendChild(Ne):this.append(Ne)}},{key:"getCategoriesEl",value:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl}},{key:"append",value:function(G){var V=this.getBlocksEl();V&&V.appendChild(G)}},{key:"render",value:function(){var G=this,V=this.ppfx,le=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(Ne){return G.add(Ne,le)}),this.append(le);var ve="".concat(this.blockContClass,"s ").concat(V,"one-bg ").concat(V,"two-color");return this.$el.addClass(ve),this.rendered=!0,this}}]),F}(y.View);function s(J,te){var F=Object.keys(J);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(J);te&&(G=G.filter(function(V){return Object.getOwnPropertyDescriptor(J,V).enumerable})),F.push.apply(F,G)}return F}function p(J){for(var te=1;te<arguments.length;te++){var F=arguments[te]!=null?arguments[te]:{};te%2?s(Object(F),!0).forEach(function(G){(0,l.Z)(J,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(F)):s(Object(F)).forEach(function(G){Object.defineProperty(J,G,Object.getOwnPropertyDescriptor(F,G))})}return J}function O(J){var te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,q.Z)(J);if(te){var V=(0,q.Z)(this).constructor;F=Reflect.construct(G,arguments,V)}else F=G.apply(this,arguments);return(0,D.Z)(this,F)}}var K="block",Q="".concat(K,":"),ne="".concat(Q,"add"),R="".concat(Q,"update"),v="".concat(Q,"remove"),b="".concat(v,":before"),a="".concat(Q,"drag"),f="".concat(a,":start"),h="".concat(a,":stop"),_="".concat(Q,"custom"),A=function(J){(0,$.Z)(F,J);var te=O(F);function F(){var G;(0,ie.Z)(this,F);for(var V=arguments.length,le=new Array(V),ve=0;ve<V;ve++)le[ve]=arguments[ve];return G=te.call.apply(te,[this].concat(le)),(0,l.Z)((0,k.Z)(G),"name","BlockManager"),(0,l.Z)((0,k.Z)(G),"Block",g),(0,l.Z)((0,k.Z)(G),"Blocks",I),(0,l.Z)((0,k.Z)(G),"Category",X),(0,l.Z)((0,k.Z)(G),"Categories",x),(0,l.Z)((0,k.Z)(G),"events",{all:K,update:R,add:ne,remove:v,removeBefore:b,drag:a,dragStart:f,dragEnd:h,custom:_}),G}return(0,w.Z)(F,[{key:"init",value:function(){var G=this,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=p(p({},C),V);var le=this.c.em;return this.em=le,this.blocks=new I(this.c.blocks),this.blocksVisible=new I(this.blocks.models),this.categories=new x,this.all=this.blocks,this.__initListen(),this.blocks.on("add",function(ve){return G.blocksVisible.add(ve)}),this.blocks.on("remove",function(ve){return G.blocksVisible.remove(ve)}),this.blocks.on("reset",function(ve){return G.blocksVisible.reset(ve.models)}),this}},{key:"__trgCustom",value:function(){this.em.trigger(this.events.custom,this.__customData())}},{key:"__customData",value:function(){var G=this,V=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:V.container,dragStart:function(le,ve){return G.startDrag(le,ve)},drag:function(le){return G.__drag(le)},dragStop:function(le){return G.endDrag(le)}}}},{key:"__startDrag",value:function(G,V){var le=this.em,ve=this.events,Ne=this.blocks,Ze=G.getContent?G.getContent():G;this._dragBlock=G,le.set({dragResult:null,dragContent:Ze}),[le,Ne].map(function(Me){return Me.trigger(ve.dragStart,G,V)})}},{key:"__drag",value:function(G){var V=this.em,le=this.events,ve=this.blocks,Ne=this._dragBlock;[V,ve].map(function(Ze){return Ze.trigger(le.drag,Ne,G)})}},{key:"__endDrag",value:function(){var G=this.em,V=this.events,le=this.blocks,ve=this._dragBlock,Ne=G.get("dragResult");if(this._dragBlock=null,Ne){var Ze="activeOnRender",Me=Ne.get&&Ne.get(Ze),je=ve.get("activate")||Me,ae=ve.get("select"),be=(0,P.isArray)(Ne)?Ne[0]:Ne;(ae||je&&ae!==!1)&&G.setSelected(be),je&&(be.trigger("active"),Me&&be.unset(Ze)),ve.get("resetId")&&be.onAll(function(re){return re.resetId()})}G.set({dragResult:null,dragContent:null}),[G,le].map(function(re){return re.trigger(V.dragEnd,Ne,ve)})}},{key:"__getFrameViews",value:function(){return this.em.get("Canvas").getFrames().map(function(G){return G.view})}},{key:"__behaviour",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._bhv=p(p({},this._bhv||{}),G)}},{key:"__getBehaviour",value:function(){return this._bhv||{}}},{key:"startDrag",value:function(G,V){this.__startDrag(G,V),this.__getFrameViews().forEach(function(le){return le.droppable.startCustom()})}},{key:"endDrag",value:function(G){this.__getFrameViews().forEach(function(V){return V.droppable.endCustom(G)}),this.__endDrag()}},{key:"getConfig",value:function(){return this.c}},{key:"postRender",value:function(){var G=this.categories,V=this.blocksVisible;this.blocksView=new d({collection:V,categories:G},this.c);var le=this.getConfig().appendTo;if(le){var ve=(0,P.isElement)(le)?le:document.querySelector(le);if(!ve)return this.__logWarn('"appendTo" element not found');ve.appendChild(this.render(this.blocksVisible.models))}this.__trgCustom()}},{key:"add",value:function(G,V){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ve=V||{};return ve.id=G,this.blocks.add(ve,le)}},{key:"get",value:function(G){return this.blocks.get(G)}},{key:"getAll",value:function(){return this.blocks}},{key:"getAllVisible",value:function(){return this.blocksVisible}},{key:"remove",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__remove(G,V)}},{key:"getCategories",value:function(){return this.categories}},{key:"getContainer",value:function(){return this.blocksView.el}},{key:"render",value:function(G){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=this.categories.categories,ve=G||this.getAll().models;if(V.external){var Ne=new I(ve);return new d({collection:Ne,categories:le},p(p({},this.c),V)).render().el}return this.blocksView&&(this.blocksView.updateConfig(V),this.blocksView.collection.reset(ve),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=1)),this.getContainer()}},{key:"destroy",value:function(){var G,V=[this.blocks,this.blocksVisible,this.categories];V.map(function(le){return le.stopListening()}),V.map(function(le){return le.reset()}),(G=this.blocksView)===null||G===void 0||G.remove(),this.c={},this.blocks={},this.blocksVisible={},this.blocksView={},this.categories=[],this.all={}}}]),F}(N.Z)},7619:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>E});var ie=z(9050);const w={stylePrefix:"cm-",inlineCss:!1};var k=z(4925),$=z(5671),D=z(3144),q=z(9340),l=z(2963),P=z(1120),N=z(2316),C=["em"];function y(M){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,s=(0,P.Z)(M);if(c){var p=(0,P.Z)(this).constructor;d=Reflect.construct(s,arguments,p)}else d=s.apply(this,arguments);return(0,l.Z)(this,d)}}var m=function(M){(0,q.Z)(d,M);var c=y(d);function d(){return(0,$.Z)(this,d),c.apply(this,arguments)}return(0,D.Z)(d,[{key:"build",value:function(s){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=p.em,K=(0,k.Z)(p,C),Q=K;if(p.cleanId&&O){var ne=O.get("CssComposer").getAll(),R=ne.toJSON().map(function(v){var b=v.selectors,a=b&&b.length===1&&b.models[0];return a&&a.isId()&&a.get("name")}).filter(function(v){return v});Q.attributes||(Q.attributes=function(v,b){var a=b.id;return a&&a[0]==="i"&&!v.get("script")&&!v.get("attributes").id&&R.indexOf(a)<0&&delete b.id,b})}return s.toHTML(Q)}}]),d}(N.Model),g=z(8795);function S(M){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,s=(0,P.Z)(M);if(c){var p=(0,P.Z)(this).constructor;d=Reflect.construct(s,arguments,p)}else d=s.apply(this,arguments);return(0,l.Z)(this,d)}}var I=function(M){(0,q.Z)(d,M);var c=S(d);function d(){return(0,$.Z)(this,d),c.apply(this,arguments)}return(0,D.Z)(d,[{key:"build",value:function(s){var p=s.toJSON();return this.beforeEach(p),(0,ie.each)(p,function(O,K){var Q=p[K];if(Q instanceof N.Model)p[K]=this.build(Q);else if(Q instanceof N.Collection){var ne=Q;p[K]=[],ne.length&&ne.each(function(R,v){p[K][v]=this.build(R)},this)}},this),p}},{key:"beforeEach",value:function(s){delete s.status}}]),d}(N.Model);function H(M){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,s=(0,P.Z)(M);if(c){var p=(0,P.Z)(this).constructor;d=Reflect.construct(s,arguments,p)}else d=s.apply(this,arguments);return(0,l.Z)(this,d)}}var X,Y=function(M){(0,q.Z)(d,M);var c=H(d);function d(){return(0,$.Z)(this,d),c.apply(this,arguments)}return(0,D.Z)(d,[{key:"mapModel",value:function(s){var p="",O=s.get("script-export")||s.get("script"),K=s.get("type"),Q=s.get("components"),ne=s.getId();if(O){var R=s.get("attributes");R=(0,ie.extend)({},R,{id:ne}),s.set("attributes",R,{silent:1});var v=s.getScriptString(O),b=s.get("script-props");if(s.get("scriptUpdated")&&!b)this.mapJs[K+"-"+ne]={ids:[ne],code:v};else{var a,f=this.mapJs[K];if(b&&(a=s.__getScriptProps()),f)f.ids.push(ne),a&&(f.props[ne]=a);else{var h={ids:[ne],code:v};a&&(h.props={[ne]:a}),this.mapJs[K]=h}}}return Q.each(function(_){p+=this.mapModel(_)},this),p}},{key:"build",value:function(s){this.mapJs={},this.mapModel(s);var p="";for(var O in this.mapJs){var K=this.mapJs[O];if(K.code)if(K.props){if(K.code.toString().match(/\{([\s\S]*)\}/m)[1].replace(/^\s*\/\/.*$/gm,"").trim().length===0)continue;p+=`
          var props = `.concat(JSON.stringify(K.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(K.code,`.bind(el))(props[el.id]);
          }`)}else{var Q="#"+K.ids.join(", #");p+=`
          var items = document.querySelectorAll('`.concat(Q,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(K.code,`
}.bind(items[i]))();
          }`)}}return p}}]),d}(N.Model),x=z(4942);function W(M,c){var d=Object.keys(M);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(M);c&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(M,p).enumerable})),d.push.apply(d,s)}return d}function oe(M){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,s=(0,P.Z)(M);if(c){var p=(0,P.Z)(this).constructor;d=Reflect.construct(s,arguments,p)}else d=s.apply(this,arguments);return(0,l.Z)(this,d)}}(0,z(1163).hasWin)()&&(X=z(4631),z(6531),z(6629),z(9210));var se=function(M){(0,q.Z)(d,M);var c=oe(d);function d(){return(0,$.Z)(this,d),c.apply(this,arguments)}return(0,D.Z)(d,[{key:"defaults",value:function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0}}},{key:"init",value:function(s){return(0,ie.bindAll)(this,"onChange"),this.editor=X.fromTextArea(s,function(p){for(var O=1;O<arguments.length;O++){var K=arguments[O]!=null?arguments[O]:{};O%2?W(Object(K),!0).forEach(function(Q){(0,x.Z)(p,Q,K[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(K)):W(Object(K)).forEach(function(Q){Object.defineProperty(p,Q,Object.getOwnPropertyDescriptor(K,Q))})}return p}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=s,this.editor.on("change",this.onChange),this}},{key:"onChange",value:function(){this.trigger("update",this)}},{key:"getEditor",value:function(){return this.editor}},{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(s){return this.element=s,this}},{key:"refresh",value:function(){return this.getEditor().refresh(),this}},{key:"focus",value:function(){return this.getEditor().focus(),this}},{key:"getContent",value:function(){var s=this.getEditor();return s&&s.getValue()}},{key:"setContent",value:function(s){var p=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=this.editor;K&&(K.setValue(s),K.autoFormatRange&&(X.commands.selectAll(K),K.autoFormatRange(K.getCursor(!0),K.getCursor(!1)),X.commands.goDocStart(K)),!O.noRefresh&&setTimeout(function(){return p.refresh()}))}}]),d}(N.Model);se.prototype.CodeMirror=X;var Z,B=z(168),T=z(7539);function j(M){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,s=(0,P.Z)(M);if(c){var p=(0,P.Z)(this).constructor;d=Reflect.construct(s,arguments,p)}else d=s.apply(this,arguments);return(0,l.Z)(this,d)}}var U=function(M){(0,q.Z)(d,M);var c=j(d);function d(){return(0,$.Z)(this,d),c.apply(this,arguments)}return(0,D.Z)(d,[{key:"template",value:function(s){var p=s.pfx,O=s.codeName,K=s.label;return(0,T.Z)(Z||(Z=(0,B.Z)([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),p,p,O,p,K,p)}},{key:"initialize",value:function(s){this.config=s.config||{},this.pfx=this.config.stylePrefix}},{key:"render",value:function(){var s=this.model,p=this.pfx,O=this.$el,K=s.toJSON();return K.pfx=p,O.html(this.template(K)),O.attr("class","".concat(p,"editor-c")),O.find("#".concat(p,"code")).append(s.get("input")),this}}]),d}(N.View);const E=function(){var M={},c={},d={},s={},p={},O="CodeMirror";return{getConfig:function(){return M},config:M,EditorView:U,name:"CodeManager",init:function(K){for(var Q in M=K||{},w)Q in M||(M[Q]=w[Q]);var ne=M.pStylePrefix;return ne&&(M.stylePrefix=ne+M.stylePrefix),d.html=new m,d.css=new g.Z,d.json=new I,d.js=new Y,p.CodeMirror=new se,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(K,Q){return c[K]=Q,this},getGenerator:function(K){return c[K]||null},getGenerators:function(){return c},addViewer:function(K,Q){return s[K]=Q,this},getViewer:function(K){return s[K]||null},getViewers:function(){return s},createViewer:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=(0,ie.isUndefined)(K.type)?O:K.type,ne=this.getViewer(Q)&&this.getViewer(Q).clone(),R=document.createElement("div"),v=document.createElement("textarea");return R.appendChild(v),ne.set(K),ne.init(v),ne.setElement(R),ne},updateViewer:function(K,Q){K.setContent(Q)},getCode:function(K,Q){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ne.em=M.em;var R=this.getGenerator(Q);return R?R.build(K,ne):""},loadDefaultGenerators:function(){for(var K in d)this.addGenerator(K,d[K]);return this},loadDefaultViewers:function(){for(var K in p)this.addViewer(K,p[K]);return this},destroy:function(){}}}},8795:(ge,_e,z)=>{z.d(_e,{U:()=>y,Z:()=>m});var ie=z(5671),w=z(3144),k=z(9340),$=z(2963),D=z(1120),q=z(9050),l=z(2316),P=z(1163);function N(g){var S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,H=(0,D.Z)(g);if(S){var X=(0,D.Z)(this).constructor;I=Reflect.construct(H,arguments,X)}else I=H.apply(this,arguments);return(0,$.Z)(this,I)}}var C=Number.MAX_VALUE,y=function(g){var S=/(-?\d*\.?\d+)\w{0,}/.exec(g);return S?S[0]:""},m=function(g){(0,k.Z)(I,g);var S=N(I);function I(){return(0,ie.Z)(this,I),S.apply(this,arguments)}return(0,w.Z)(I,[{key:"initialize",value:function(){(0,q.bindAll)(this,"sortRules"),this.compCls=[],this.ids=[]}},{key:"buildFromModel",value:function(H){var X=this,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x="",W=this.em,oe=W&&W.getConfig().avoidInlineStyle,se=H.styleToString(),Z=H.get("classes");this.ids.push("#".concat(H.getId())),Z.each(function(T){return X.compCls.push(T.getFullName())}),!oe&&se&&(x="#".concat(H.getId(),"{").concat(se,"}"));var B=H.components();return B.each(function(T){return x+=X.buildFromModel(T,Y)}),x}},{key:"build",value:function(H){var X=this,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=Y.json,W=Y.em||"",oe=Y.cssc||W&&W.get("CssComposer");this.em=W,this.compCls=[],this.ids=[],this.model=H;var se=[],Z=H?this.buildFromModel(H,Y):"",B=(0,q.isUndefined)(Y.clearStyles)&&W?W.getConfig().clearStyles:Y.clearStyles;if(oe){var T=Y.rules||oe.getAll(),j={},U=[];Y.onlyMatched&&H&&(0,P.hasWin)()&&(T=this.matchedRules(H,T)),T.forEach(function(E){var M=E.getAtRule();if(M){var c=j[M];c?c.push(E):j[M]=[E]}else{var d=X.buildFromRule(E,U,Y);x?se.push(d):Z+=d}}),this.sortMediaObject(j).forEach(function(E){var M="",c=E.key;E.value.forEach(function(d){var s=X.buildFromRule(d,U,Y);d.get("singleAtRule")?Z+="".concat(c,"{").concat(s,"}"):M+=s,x&&se.push(s)}),M&&(Z+="".concat(c,"{").concat(M,"}"))}),W&&B&&T.remove&&T.remove(U)}return x?se.filter(function(E){return E}):Z}},{key:"buildFromRule",value:function(H,X){var Y,x=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},oe="",se=this.model,Z=H.selectorsToString({skipAdd:1}),B=H.get("selectorsAdd"),T=H.get("singleAtRule");if(H.get("selectors").each(function(U){var E=U.getFullName();(x.compCls.indexOf(E)>=0||x.ids.indexOf(E)>=0||W.keepUnusedStyles)&&(Y=1)}),Z&&Y||B||T||!se){var j=H.getDeclaration({body:1});j&&(W.json?oe=H:oe+=j)}else X.push(H);return oe}},{key:"matchedRules",value:function(H,X){var Y=this,x=H.getEl(),W=[];return X.forEach(function(oe){try{oe.selectorsToString().split(",").some(function(se){return x.matches(Y.__cleanSelector(se))})&&W.push(oe)}catch{}}),H.components().forEach(function(oe){W=W.concat(Y.matchedRules(oe,X))}),W=W.filter(function(oe,se){return W.indexOf(oe)===se})}},{key:"getQueryLength",value:function(H){var X=/(-?\d*\.?\d+)\w{0,}/.exec(H);return X?parseFloat(X[1]):C}},{key:"sortMediaObject",value:function(){var H=this,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=[];return(0,q.each)(X,function(x,W){return Y.push({key:W,value:x})}),Y.sort(function(x,W){var oe=[x.key,W.key].every(function(B){return B.indexOf("min-width")!==-1}),se=oe?x.key:W.key,Z=oe?W.key:x.key;return H.getQueryLength(se)-H.getQueryLength(Z)})}},{key:"sortRules",value:function(H,X){var Y=function(se){return se.get("mediaText")},x=[Y(H),Y(X)].every(function(se){return se.indexOf("min-width")!==-1}),W=Y(x?H:X),oe=Y(x?X:H);return this.getQueryLength(W)-this.getQueryLength(oe)}},{key:"__cleanSelector",value:function(H){return H.split(" ").map(function(X){return X.split(":")[0]}).join(" ")}}]),I}(l.Model)},289:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>C});var ie=z(2982),w=z(4942),k=z(9050),$=z(238);const D={stylePrefix:"com-",defaults:[],strict:1};var q=z(9138);function l(y,m){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);m&&(S=S.filter(function(I){return Object.getOwnPropertyDescriptor(y,I).enumerable})),g.push.apply(g,S)}return g}function P(y){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?l(Object(g),!0).forEach(function(S){(0,w.Z)(y,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(g)):l(Object(g)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(g,S))})}return y}var N=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];const C=function(){var y,m={},g={},S={},I={};return{CommandAbstract:$.default,name:"Commands",init:function(){var H=this,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m=P(P({},D),X),y=m.em;var Y=m.pStylePrefix;return Y&&(m.stylePrefix=Y+m.stylePrefix),Object.keys(m.defaults).forEach(function(x){var W=m.defaults[x];W.id&&H.add(W.id,W)}),S["tlb-delete"]={run:function(x){return x.runCommand("core:component-delete")}},S["tlb-clone"]={run:function(x){x.runCommand("core:copy"),x.runCommand("core:paste",{action:"clone-component"})}},S["tlb-move"]={run:function(x,W){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=x.getModel(),Z=oe&&oe.event,B=oe.target,T=B||x.getSelected(),j=B?[B]:(0,ie.Z)(x.getSelectedAll()),U=Z&&Z.type=="dragstart",E={preserveSelected:1},M=["absolute","translate"];if(!T||!T.get("draggable"))return se.logWarning("The element is not draggable");var c=T.get("dmode")||se.get("dmode"),d=function(){return se.stopDefault(E)},s=(0,k.includes)(M,c);j.forEach(function(ne){return ne.trigger("disable")}),U?setTimeout(d,0):d();var p=function(ne){se.trigger("".concat(q.OA,":start"),ne)},O=function(ne){se.trigger(q.OA,ne)},K=function(ne,R,v){j.forEach(function(b){return b.set("status","selected")}),x.select(j),T.emitUpdate(),se.trigger("".concat(q.OA,":end"),v),setTimeout(function(){return se.runDefault(E)}),(s||v.cancelled)&&se.set("_cmpDrag",1)};if(s)x.runCommand("core:component-drag",{guidesInfo:1,mode:c,target:T,onStart:p,onDrag:O,onEnd:K,event:Z});else{U&&Z.dataTransfer.setDragImage(T.view.el,0,0);var Q=x.Commands.get("move-comp");Q.onStart=p,Q.onDrag=O,Q.onEndMoveFromModel=K,Q.initSorterFromModels(j)}j.forEach(function(ne){return ne.set("status","freezed-selected")})}},S["core:undo"]=function(x){return x.UndoManager.undo()},S["core:redo"]=function(x){return x.UndoManager.redo()},N.forEach(function(x){var W=x[2],oe=z(2828)("./".concat(x[1])).default,se="core:".concat(x[0]);S[se]=oe,W&&(S[W]=oe,["run","stop"].forEach(function(Z){y.on("".concat(Z,":").concat(W),function(){for(var B,T=arguments.length,j=new Array(T),U=0;U<T;U++)j[U]=arguments[U];return(B=y).trigger.apply(B,["".concat(Z,":").concat(se)].concat(j))})}))}),m.em&&(m.model=m.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(H,X){return(0,k.isFunction)(X)&&(X={run:X}),X.stop||(X.noStop=1),delete X.initialize,X.id=H,g[H]=$.default.extend(X),this},get:function(H){var X=g[H];return(0,k.isFunction)(X)?(X=new X(m),g[H]=X):X||y.logWarning("'".concat(H,"' command not found")),X},extend:function(H){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=this.get(H);if(Y){var x=P(P({},Y.constructor.prototype),X);this.add(H,x);var W=N.filter(function(oe){return"core:".concat(oe[0])===H&&oe[2]})[0];W&&this.add(W[2],x)}return this},has:function(H){return!!g[H]},getAll:function(){return g},run:function(H){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.runCommand(this.get(H),X)},stop:function(H){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.stopCommand(this.get(H),X)},isActive:function(H){return this.getActive().hasOwnProperty(H)},getActive:function(){return I},loadDefaultCommands:function(){for(var H in S)this.add(H,S[H]);return this},runCommand:function(H){var X,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(H&&H.run){var x=H.id,W=y.get("Editor");this.isActive(x)&&!Y.force&&m.strict||(X=W&&H.callRun(W,Y),x&&H.stop&&!H.noStop&&!Y.abort&&(I[x]=X))}return X},stopCommand:function(H){var X,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(H&&H.run){var x=H.id,W=y.get("Editor");(this.isActive(x)||Y.force||!m.strict)&&(x&&delete I[x],X=H.callStop(W,Y))}return X},create:function(H){return H.stop||(H.noStop=1),new($.default.extend(H))(m)},destroy:function(){}}}},7202:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>ie});const ie={run:function(w){w.DomComponents.clear(),w.CssComposer.clear()}}},327:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>$});var ie=z(9050),w=z(1163),k=z(5610);const $={run:function(D){(0,ie.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=D,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(D){this.toggleMove(),this.disableDragger()},onKeyUp:function(D){(0,w.getKeyChar)(D)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(D){this.toggleDragger(1,D)},disableDragger:function(D){this.toggleDragger(0,D)},toggleDragger:function(D,q){var l=this.canvasModel,P=this.em,N=this.dragger,C=D?"add":"remove";this.getCanvas().classList[C]("".concat(this.ppfx,"is__grabbing")),N||(N=new k.Z({getPosition:function(){return{x:l.get("x"),y:l.get("y")}},setPosition:function(y){var m=y.x,g=y.y;l.set({x:m,y:g})},onStart:function(y,m){P.trigger("canvas:move:start",m)},onDrag:function(y,m){P.trigger("canvas:move",m)},onEnd:function(y,m){P.trigger("canvas:move:end",m)}}),this.dragger=N),D?N.start(q):N.stop()},toggleMove:function(D){var q=this.ppfx,l=D?"add":"remove",P=D?"on":"off",N={on:w.on,off:w.off},C=this.getCanvas(),y=["".concat(q,"is__grab")];!D&&y.push("".concat(q,"is__grabbing")),y.forEach(function(m){return C.classList[l](m)}),N[P](document,"keyup",this.onKeyUp),N[P](C,"mousedown",this.enableDragger),N[P](document,"mouseup",this.disableDragger)}}},238:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>P});var ie=z(5671),w=z(3144),k=z(9340),$=z(2963),D=z(1120),q=z(2316);function l(N){var C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,m=(0,D.Z)(N);if(C){var g=(0,D.Z)(this).constructor;y=Reflect.construct(m,arguments,g)}else y=m.apply(this,arguments);return(0,$.Z)(this,y)}}var P=function(N){(0,k.Z)(y,N);var C=l(y);function y(){return(0,ie.Z)(this,y),C.apply(this,arguments)}return(0,w.Z)(y,[{key:"initialize",value:function(m){this.config=m||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.init(this.config)}},{key:"onFrameScroll",value:function(m){}},{key:"getCanvas",value:function(){return this.canvas.getElement()}},{key:"getCanvasBody",value:function(){return this.canvas.getBody()}},{key:"getCanvasTools",value:function(){return this.canvas.getToolsEl()}},{key:"offset",value:function(m){var g=m.getBoundingClientRect();return{top:g.top+m.ownerDocument.body.scrollTop,left:g.left+m.ownerDocument.body.scrollLeft}}},{key:"init",value:function(m){}},{key:"callRun",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=this.id;if(m.trigger("run:".concat(S,":before"),g),!g||!g.abort){var I=g.sender||m,H=this.run(m,I,g);return m.trigger("run:".concat(S),H,g),m.trigger("run",S,H,g),H}m.trigger("abort:".concat(S),g)}},{key:"callStop",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=this.id,I=g.sender||m;m.trigger("stop:".concat(S,":before"),g);var H=this.stop(m,I,g);return m.trigger("stop:".concat(S),H,g),m.trigger("stop",S,H,g),H}},{key:"stopCommand",value:function(){this.em.get("Commands").stop(this.id)}},{key:"run",value:function(m,g){}},{key:"stop",value:function(m,g){}}]),y}(q.Model)},5820:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>k});var ie=z(2982),w=z(9050);const k={run:function($,D){var q=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=[],N=l.component||$.getSelectedAll();return(N=(0,w.isArray)(N)?(0,ie.Z)(N):[N]).filter(Boolean).forEach(function(C){if(!C.get("removable"))return P.push(C),q.em.logWarning("The element is not removable",{component:C});C.remove()}),$.select(P),N}}},6694:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>l});var ie=z(4942),w=z(9050),k=z(5610);function $(P,N){var C=Object.keys(P);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(P);N&&(y=y.filter(function(m){return Object.getOwnPropertyDescriptor(P,m).enumerable})),C.push.apply(C,y)}return C}function D(P){for(var N=1;N<arguments.length;N++){var C=arguments[N]!=null?arguments[N]:{};N%2?$(Object(C),!0).forEach(function(y){(0,ie.Z)(P,y,C[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(C)):$(Object(C)).forEach(function(y){Object.defineProperty(P,y,Object.getOwnPropertyDescriptor(C,y))})}return P}var q="dmode";const l={run:function(P,N){var C=this,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,w.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var m=y.target,g=y.event,S=y.mode,I=y.dragger,H=I===void 0?{}:I,X=m.getEl(),Y=D({doc:X.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return C.guidesStatic},guidesTarget:function(){return C.guidesTarget}},H);this.setupGuides(),this.opts=y,this.editor=P,this.em=P.getModel(),this.target=m,this.isTran=S=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var x=this.dragger;return x?x.setOptions(Y):(x=new k.Z(Y),this.dragger=x),g&&x.start(g),this.toggleDrag(1),this.em.trigger("".concat(q,":start"),this.getEventOpts()),x},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(P){var N=P.guide;N&&N.parentNode.removeChild(N)}),this.guides=[]},getGuidesContainer:function(){var P=this,N=this.guidesEl;if(!N){var C=this.editor,y=this.em,m=this.opts,g=C.getConfig().stylePrefix,S=document.createElement("div"),I=document.createElement("div"),H='<div class="'.concat(g,"guide-info__line ").concat(g,`danger-bg">
        <div class="`).concat(g,"guide-info__content ").concat(g,`danger-color"></div>
      </div>`);(N=document.createElement("div")).className="".concat(g,"guides"),S.className="".concat(g,"guide-info ").concat(g,"guide-info__x"),I.className="".concat(g,"guide-info ").concat(g,"guide-info__y"),S.innerHTML=H,I.innerHTML=H,N.appendChild(S),N.appendChild(I),C.Canvas.getGlobalToolsEl().appendChild(N),this.guidesEl=N,this.elGuideInfoX=S,this.elGuideInfoY=I,this.elGuideInfoContentX=S.querySelector(".".concat(g,"guide-info__content")),this.elGuideInfoContentY=I.querySelector(".".concat(g,"guide-info__content")),y.on("canvas:update frame:scroll",(0,w.debounce)(function(){P.updateGuides(),m.debug&&P.guides.forEach(function(X){return P.renderGuide(X)})},200))}return N},getGuidesStatic:function(){var P=this,N=[],C=this.target.getEl(),y=C.parentNode,m=y===void 0?{}:y;return(0,w.each)(m.children,function(g){return N=N.concat(C!==g?P.getElementGuides(g):[])}),N.concat(this.getElementGuides(m))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(P){var N,C,y=this;(P||this.guides).forEach(function(m){var g=m.origin,S=N===g?C:y.getElementPos(g);N=g,C=S,(0,w.each)(y.getGuidePosUpdate(m,S),function(I,H){return m[H]=I}),m.originRect=S})},getGuidePosUpdate:function(P,N){var C={},y=N.top,m=N.height,g=N.left,S=N.width;switch(P.type){case"t":C.y=y;break;case"b":C.y=y+m;break;case"l":C.x=g;break;case"r":C.x=g+S;break;case"x":C.x=g+S/2;break;case"y":C.y=y+m/2}return C},renderGuide:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=P.guide||document.createElement("div"),C="px",y=P.active?2:1,m=N.children[0];return N.style="position: absolute; background-color: ".concat(P.active?"green":"red",";"),N.children.length||((m=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",N.appendChild(m)),P.y?(N.style.width="100%",N.style.height="".concat(y).concat(C),N.style.top="".concat(P.y).concat(C),N.style.left=0):(N.style.width="".concat(y).concat(C),N.style.height="100%",N.style.left="".concat(P.x).concat(C),N.style.top="0".concat(C)),!P.guide&&this.guidesContainer.appendChild(N),N},getElementPos:function(P){return this.editor.Canvas.getElementPos(P,{noScroll:1})},getElementGuides:function(P){var N=this,C=this.opts,y=this.getElementPos(P),m=y.top,g=y.height,S=y.left,I=y.width,H=[{type:"t",y:m},{type:"b",y:m+g},{type:"l",x:S},{type:"r",x:S+I},{type:"x",x:S+I/2},{type:"y",y:m+g/2}].map(function(X){return D(D({},X),{},{origin:P,originRect:y,guide:C.debug&&N.renderGuide(X)})});return H.forEach(function(X){return N.guides.push(X)}),H},getTranslate:function(P){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",C=0;return(P||"").split(" ").forEach(function(y){var m=y.trim(),g="translate".concat(N.toUpperCase(),"(");m.indexOf(g)===0&&(C=parseFloat(m.replace(g,"")))}),C},setTranslate:function(P,N,C){var y="translate".concat(N.toUpperCase(),"("),m="".concat(y).concat(C,")"),g=(P||"").split(" ").map(function(S){return S.trim().indexOf(y)===0&&(S=m),S}).join(" ");return g.indexOf(y)<0&&(g+=" ".concat(m)),g},getPosition:function(){var P=this.target,N=this.isTran,C=P.getStyle(),y=C.left,m=C.top,g=C.transform,S=0,I=0;return N?(S=this.getTranslate(g),I=this.getTranslate(g,"y")):(S=parseFloat(y||0),I=parseFloat(m||0)),{x:S,y:I}},setPosition:function(P){var N=P.x,C=P.y,y=P.end,m=P.position,g=P.width,S=P.height,I=this.target,H=this.isTran,X=this.em,Y="px",x=y?"":1,W="".concat(N).concat(Y),oe="".concat(C).concat(Y),se={};if(H){var Z=I.getStyle().transform||"";Z=this.setTranslate(Z,"x",W),se={transform:Z=this.setTranslate(Z,"y",oe),en:x},I.addStyle(se,{avoidStore:!y})}else{var B={position:m,width:g,height:S},T={left:W,top:oe,en:x};(0,w.keys)(B).forEach(function(j){var U=B[j];U&&(T[j]=U)}),se=T,I.addStyle(se,{avoidStore:!y})}X.getSelected()&&(0,w.keys)(se).forEach(function(j){return X.trigger("update:component:style:".concat(j))})},_getDragData:function(){var P=this.target;return{target:P,parent:P.parent(),index:P.index()}},onStart:function(P){var N=this.target,C=this.editor,y=this.isTran,m=this.opts,g=m.center,S=m.onStart,I=C.Canvas,H=N.getStyle(),X="absolute",Y=[X,"relative"];if(S&&S(this._getDragData()),!y&&H.position!==X){var x,W=I.offset(N.getEl()),oe=W.left,se=W.top,Z=W.width,B=W.height,T=N.parent();do{var j=T.getStyle();x=Y.indexOf(j.position)>=0?T:null,T=T.parent()}while(T&&!x);if(g){var U=I.getMouseRelativeCanvas(P);oe=U.x,se=U.y}else if(x){var E=I.offset(x.getEl());oe-=E.left,se-=E.top}this.setPosition({x:oe,y:se,width:"".concat(Z,"px"),height:"".concat(B,"px"),position:X})}},onDrag:function(){var P=this,N=this.guidesTarget,C=this.opts,y=C.onDrag;this.updateGuides(N),C.debug&&N.forEach(function(m){return P.renderGuide(m)}),C.guidesInfo&&this.renderGuideInfo(N.filter(function(m){return m.active})),y&&y(this._getDragData())},onEnd:function(P,N){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=this.editor,m=this.opts,g=this.id,S=m.onEnd;S&&S(P,C,D(D({event:P},C),this._getDragData())),y.stopCommand(g),this.hideGuidesInfo(),this.em.trigger("".concat(q,":end"),this.getEventOpts())},hideGuidesInfo:function(){var P=this;["X","Y"].forEach(function(N){var C=P["elGuideInfo".concat(N)];C&&(C.style.display="none")})},renderGuideInfo:function(){var P=this,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],C=this.guidesStatic;this.hideGuidesInfo(),N.forEach(function(y){var m=y.origin,g=y.x,S=P.getElementPos(m),I=(0,w.isUndefined)(g)?"y":"x",H=I==="y",X=S[H?"left":"top"],Y=S.rect[H?"left":"top"],x=H?X+S.width:X+S.height,W=H?Y+S.rect.width:Y+S.rect.height,oe=P["elGuideInfo".concat(I.toUpperCase())],se=P["elGuideInfoContent".concat(I.toUpperCase())],Z=oe.style,B=C.filter(function(a){return a.type===y.type}).map(function(a){var f=a.originRect,h=f.left,_=f.width,A=f.top,J=f.height,te=H?h+_:A+J;return{gap:te<X?X-te:(H?h:A)-x,guide:a}}).filter(function(a){return a.gap>0}).sort(function(a,f){return a.gap-f.gap}).map(function(a){return a.guide})[0];if(B){var T=B.originRect,j=T.left,U=T.width,E=T.top,M=T.height,c=T.rect,d=H?j<S.left:E<S.top,s=H?j:E,p=H?c.left:c.top,O=H?j+U:E+M,K=H?c.left+c.width:c.top+c.height,Q=H?y.y:y.x,ne=d?O:x,R="".concat(Q,"px"),v=d?X-O:s-x,b=d?Y-K:p-W;Z.display="",Z[H?"top":"left"]=R,Z[H?"left":"top"]="".concat(ne,"px"),Z[H?"width":"height"]="".concat(v,"px"),se.innerHTML="".concat(Math.round(b),"px"),P.em.trigger("".concat(q,":active"),D(D({},P.getEventOpts()),{},{guide:y,guidesStatic:C,matched:B,posFirst:Q,posSecond:ne,size:v,sizeRaw:b,elGuideInfo:oe,elGuideInfoCnt:se}))}})},toggleDrag:function(P){var N=this.ppfx,C=this.editor,y=P?"add":"remove",m=["".concat(N,"is__grabbing")],g=C.Canvas,S=g.getBody();m.forEach(function(I){return S.classList[y](I)}),g[P?"startAutoscroll":"stopAutoscroll"]()}}},1947:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>ie});const ie={run:function(w){if(w.Canvas.hasFocus()){var k=[];w.getSelectedAll().forEach(function($){var D=$.components(),q=D&&D.filter(function(l){return l.get("selectable")})[0];q&&k.push(q)}),k.length&&w.select(k)}}}},3888:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>ie});const ie={run:function(w,k){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(w.Canvas.hasFocus()||$.force){var D=[];w.getSelectedAll().forEach(function(q){for(var l=q.parent();l&&!l.get("selectable");)l=l.parent();l&&D.push(l)}),D.length&&w.select(D)}}}},5883:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>ie});const ie={run:function(w){if(w.Canvas.hasFocus()){var k=[];w.getSelectedAll().forEach(function($){var D=$.parent();if(D){var q,l=D.components().length,P=0,N=0;do P++,q=(N=$.index()+P)<=l?D.getChildAt(N):null;while(q&&!q.get("selectable"));k.push(q||$)}}),k.length&&w.select(k)}}}},7508:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>ie});const ie={run:function(w){if(w.Canvas.hasFocus()){var k=[];w.getSelectedAll().forEach(function($){var D=$.parent();if(D){var q,l=0,P=0;do l++,q=(P=$.index()-l)>=0?D.getChildAt(P):null;while(q&&!q.get("selectable"));k.push(q||$)}}),k.length&&w.select(k)}}}},8769:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>w});var ie=z(9050);const w={run:function(k,$){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=D.target,l=[];if(!q.get("styles"))return l;var P=q.get("type"),N=k.Pages.getAllWrappers(),C=(0,ie.flatten)(N.map(function(m){return m.findType(P)})).length;if(!C){var y=k.CssComposer.getAll();l=y.filter(function(m){return m.get("group")==="cmp:".concat(P)}),y.remove(l)}return l}}},2213:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>w});var ie=z(2982);const w={run:function(k){var $=k.getModel(),D=(0,ie.Z)(k.getSelectedAll());D.length&&$.set("clipboard",D)}}},5049:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>q});var ie=z(9050),w=z(2316),k=z.n(w),$=z(2620),D=k().$;const q=(0,ie.extend)({},$.default,{init:function(l){(0,ie.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(l){l.stopPropagation();var P=D(l.target);P.data("model").get("removable")&&(P.addClass(this.hoverClass),this.attachBadge(P.get(0)))},stopDelete:function(l){l.stopPropagation(),D(l.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(l){l.stopPropagation();var P=D(l.target);P.data("model").get("removable")&&(P.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(l){this.badge.html("Remove "+l.getName())}})},3775:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>k});var ie=z(2316),w=z.n(ie)().$;const k={run:function($,D){var q=this;D&&D.set&&D.set("active",0);var l=$.getConfig(),P=$.Modal,N=l.stylePrefix;if(this.cm=$.CodeManager||null,!this.$editors){var C=this.buildEditor("htmlmixed","hopscotch","HTML"),y=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=C.el,this.cssEditor=y.el;var m=w('<div class="'.concat(N,'export-dl"></div>'));m.append(C.$el).append(y.$el),this.$editors=m}P.open({title:l.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return $.stopCommand(q.id)}),this.htmlEditor.setContent($.getHtml()),this.cssEditor.setContent($.getCss())},stop:function($){var D=$.Modal;D&&D.close()},buildEditor:function($,D,q){var l=document.createElement("textarea");!this.codeMirror&&(this.codeMirror=this.cm.getViewer("CodeMirror"));var P=this.codeMirror.clone().set({label:q,codeName:$,theme:D,input:l}),N=new this.cm.EditorView({model:P,config:this.cm.getConfig()}).render().$el;return P.init(l),{el:P,$el:N}}}},58:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>w});var ie=z(9050);const w={isEnabled:function(){var k=document;return k.fullscreenElement||k.webkitFullscreenElement||k.mozFullScreenElement?1:0},enable:function(k){var $="";return k.requestFullscreen?k.requestFullscreen():k.webkitRequestFullscreen?($="webkit",k.webkitRequestFullscreen()):k.mozRequestFullScreen?($="moz",k.mozRequestFullScreen()):k.msRequestFullscreen?k.msRequestFullscreen():console.warn("Fullscreen not supported"),$},disable:function(){var k=document;this.isEnabled()&&(k.exitFullscreen?k.exitFullscreen():k.webkitExitFullscreen?k.webkitExitFullscreen():k.mozCancelFullScreen?k.mozCancelFullScreen():k.msExitFullscreen&&k.msExitFullscreen())},fsChanged:function(k,$){var D=(k||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(D,this.fsChanged))},run:function(k,$){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.sender=$;var q=D.target,l=(0,ie.isElement)(q)?q:document.querySelector(q),P=this.enable(l||k.getContainer());this.fsChanged=this.fsChanged.bind(this,P),document.addEventListener(P+"fullscreenchange",this.fsChanged),k.trigger("change:canvasOffset")},stop:function(k,$){$&&$.set&&$.set("active",!1),this.disable(),k&&k.trigger("change:canvasOffset")}}},8658:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>P});var ie=z(9050),w=z(2316),k=z.n(w),$=z(1163),D=z(2620),q=z(8463),l=k().$;const P=(0,ie.extend)({},q.default,D.default,{init:function(N){D.default.init.apply(this,arguments),(0,ie.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=N,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var N=arguments.length,C=new Array(N),y=0;y<N;y++)C[y]=arguments[y];D.default.enable.apply(this,C),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var m=this.$wrapper;m.css("cursor","move"),m.on("mousedown",this.initSorter),m.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(N){var C=l(N.target).data("model").get("draggable");C&&(this.cacheEl=null,this.startSelectPosition(N.target,this.frameEl.contentDocument),this.sorter.draggable=C,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,$.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(N){var C=N.get("draggable");if(C){this.cacheEl=null;var y=N.view.el;this.startSelectPosition(y,this.frameEl.contentDocument),this.sorter.draggable=C,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,$.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(N){this.cacheEl=null;var C=N[N.length-1],y=(this.em.get("currentFrame")||{}).model,m=C.getEl(y),g=m.ownerDocument;this.startSelectPosition(m,g,{onStart:this.onStart}),this.sorter.draggable=C.get("draggable"),this.sorter.toMove=N,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,$.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,$.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,$.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(N,C){},rollback:function(N,C){((N.which||N.keyCode)==27||C)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=l(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=l(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var N=arguments.length,C=new Array(N),y=0;y<N;y++)C[y]=arguments[y];D.default.stop.apply(this,C),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var m=this.$wrapper;m.css("cursor","").unbind().removeClass(this.noSelClass)}})},9617:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>k});var ie=z(9050),w=z(9283);const k={open:function($){var D=this,q=this.editor,l=this.title,P=this.config,N=this.am,C=P.custom;if((0,ie.isFunction)(C.open))return C.open(N.__customData());q.Modal.open({title:l,content:$}).onceClose(function(){return q.stopCommand(D.id)})},close:function(){var $=this.config.custom;if((0,ie.isFunction)($.close))return $.close(this.am.__customData());var D=this.editor.Modal;D&&D.close()},run:function($,D){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=$.AssetManager,P=l.getConfig(),N=q.types,C=N===void 0?[]:N,y=q.accept,m=q.select;if(this.title=q.modalTitle||$.t("assetManager.modalTitle")||"",this.editor=$,this.config=P,this.am=l,l.setTarget(q.target),l.onClick(q.onClick),l.onDblClick(q.onDblClick),l.onSelect(q.onSelect),l.__behaviour({select:m,types:C,options:q}),P.custom)this.rendered=this.rendered||(0,w.ut)("div"),this.rendered.className="".concat(P.stylePrefix,"custom-wrp"),l.__behaviour({container:this.rendered}),l.__trgCustom();else{if(!this.rendered||C){var g=l.getAll().filter(function(I){return I});C&&C.length&&(g=g.filter(function(I){return C.indexOf(I.get("type"))!==-1})),l.render(g),this.rendered=l.getContainer()}if(y){var S=this.rendered.querySelector("input#".concat(P.stylePrefix,"uploadFile"));S&&S.setAttribute("accept",y)}}return this.open(this.rendered),this},stop:function($){this.editor=$,this.close(this.rendered)}}},5821:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>k});var ie=z(9050),w=z(9283);const k={open:function(){var $=this.container,D=this.editor,q=this.bm,l=this.config,P=l.custom,N=l.appendTo;if((0,ie.isFunction)(P.open))return P.open(q.__customData());if(this.firstRender&&!N){var C="views-container",y=D.Panels;(y.getPanel(C)||y.addPanel({id:C})).set("appendContent",$).trigger("change:appendContent"),P||$.appendChild(q.render())}$&&($.style.display="block")},close:function(){var $=this.container,D=this.config.custom;if((0,ie.isFunction)(D.close))return D.close(this.bm.__customData());$&&($.style.display="none")},run:function($){var D=$.Blocks;this.config=D.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,w.ut)("div"),this.editor=$,this.bm=D;var q=this.container;D.__behaviour({container:q}),this.config.custom&&D.__trgCustom(),this.open()},stop:function(){this.close()}}},3452:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>ie});const ie={run:function(w){var k=w.LayerManager,$=w.Panels,D=k.getConfig();if(!D.appendTo){if(!this.layers){var q="views-container",l=document.createElement("div"),P=$.getPanel(q)||$.addPanel({id:q});D.custom?k.__trgCustom({container:l}):l.appendChild(k.render()),P.set("appendContent",l).trigger("change:appendContent"),this.layers=l}this.layers.style.display="block"}},stop:function(){var w=this.layers;w&&(w.style.display="none")}}},2840:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>k});var ie=z(2316),w=z.n(ie)().$;const k={run:function($,D){if(this.sender=D,!this.$cn){var q=$.getConfig(),l=$.Panels,P="change:appendContent";this.$cn=w("<div></div>"),this.$cn2=w("<div></div>"),this.$cn.append(this.$cn2);var N=$.DeviceManager;if(N&&q.showDevices){var C=l.addPanel({id:"devices-c"}),y=N.render();C.set("appendContent",y).trigger(P)}var m=$.SelectorManager;this.slm=m;var g=m.getConfig();g.custom?m.__trgCustom({container:this.$cn2.get(0)}):g.appendTo||this.$cn2.append(m.render([]));var S=$.StyleManager;this.sm=S;var I=S.getConfig(),H=I.stylePrefix;this.$header=w('<div class="'.concat(H,'header">').concat($.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header),I.custom?S.__trgCustom({container:this.$cn2.get(0)}):I.appendTo||this.$cn2.append(S.render());var X="views-container";this.panel=l.getPanel(X),this.panel||(this.panel=l.addPanel({id:X})),this.panel.set("appendContent",this.$cn).trigger(P),this.em=$.getModel(),this.listenTo(this.em,S.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var $,D,q,l,P=this.sender,N=this.sm;P&&P.get&&!P.get("active")||!N||(N.getSelected()?(($=this.$cn2)===null||$===void 0||$.show(),(D=this.$header)===null||D===void 0||D.hide()):((q=this.$cn2)===null||q===void 0||q.hide(),(l=this.$header)===null||l===void 0||l.show()))},stop:function(){var $,D;($=this.$cn2)===null||$===void 0||$.hide(),(D=this.$header)===null||D===void 0||D.hide()}}},8644:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>k});var ie=z(2316),w=z.n(ie)().$;const k={run:function($,D){this.sender=D;var q=$.getModel(),l=$.Config.stylePrefix,P=$.TraitManager,N=P.getConfig();if(!N.appendTo){if(!this.$cn){this.$cn=w("<div></div>"),this.$cn2=w("<div></div>"),this.$cn.append(this.$cn2),this.$header=w("<div>").append('<div class="'.concat(N.stylePrefix,'header">').concat(q.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(l,'traits-label">').concat(q.t("traitManager.label"),"</div>")),this.$cn2.append(P.render());var C=$.Panels;(C.getPanel("views-container")?C.getPanel("views-container"):C.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=$.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var $=this.sender;$&&$.get&&!$.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},560:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>w});var ie=z(9050);const w={run:function(k,$){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=k.getModel(),l=q.get("clipboard"),P=k.getSelected();l&&P&&(k.getSelectedAll().forEach(function(N){var C=N.collection;if(C){var y,m={at:N.index()+1,action:D.action||"paste-component"};if((0,ie.contains)(l,N)&&N.get("copyable"))y=C.add(N.clone(),m);else{var g=l.filter(function(S){return S.get("copyable")}).filter(function(S){return k.Components.canMove(N.parent(),S).result});y=C.add(g.map(function(S){return S.clone()}),m)}(y=(0,ie.isArray)(y)?y:[y]).forEach(function(S){return k.trigger("component:paste",S)})}}),P.emitUpdate())}}},4944:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>$});var ie=z(2982),w=z(9050),k="sw-visibility";const $={getPanels:function(D){return this.panels||(this.panels=D.Panels.getPanels()),this.panels},preventDrag:function(D){D.abort=1},tglEffects:function(D){var q=this.em,l=D?"on":"off";if(q){var P=q.get("Canvas"),N=P.getBody(),C=P.getToolbarEl();C&&(C.style.display=D?"none":"");var y=N.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,w.each)(y,function(m){return m.style.pointerEvents=D?"all":""}),q[l]("run:tlb-move:before",this.preventDrag)}},run:function(D,q){var l=this;this.sender=q,this.selected=(0,ie.Z)(D.getSelectedAll()),D.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=D.Commands.isActive(k)),this.shouldRunSwVisibility&&D.stopCommand(k),D.getModel().stopDefault();var P=this.getPanels(D),N=D.Canvas.getElement(),C=D.getEl(),y=D.Config.stylePrefix;if(!this.helper){var m=document.createElement("span");m.className="".concat(y,"off-prv fa fa-eye-slash"),C.appendChild(m),m.onclick=function(){return l.stopCommand()},this.helper=m}this.helper.style.display="inline-block",P.forEach(function(S){return S.set("visible",!1)});var g=N.style;g.width="100%",g.height="100%",g.top="0",g.left="0",g.padding="0",g.margin="0",D.refresh(),this.tglEffects(1)},stop:function(D){var q=this.sender,l=q===void 0?{}:q,P=this.selected;l.set&&l.set("active",0);var N=this.getPanels(D);this.shouldRunSwVisibility&&(D.runCommand(k),this.shouldRunSwVisibility=!1),D.getModel().runDefault(),N.forEach(function(C){return C.set("visible",!0)}),D.Canvas.getElement().setAttribute("style",""),P&&D.select(P),delete this.selected,this.helper&&(this.helper.style.display="none"),D.refresh(),this.tglEffects()}}},7538:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>k});var ie=z(4942);function w($,D){var q=Object.keys($);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols($);D&&(l=l.filter(function(P){return Object.getOwnPropertyDescriptor($,P).enumerable})),q.push.apply(q,l)}return q}const k={run:function($,D,q){var l=q||{},P=$.Canvas,N=P.getCanvasView(),C=function(m){for(var g=1;g<arguments.length;g++){var S=arguments[g]!=null?arguments[g]:{};g%2?w(Object(S),!0).forEach(function(I){(0,ie.Z)(m,I,S[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):w(Object(S)).forEach(function(I){Object.defineProperty(m,I,Object.getOwnPropertyDescriptor(S,I))})}return m}({appendTo:P.getResizerEl(),prefix:$.getConfig().stylePrefix,posFetcher:N.getElementPos.bind(N),mousePosFetcher:P.getMouseRelativePos},l.options||{}),y=this.canvasResizer;return y&&!l.forceNew||(this.canvasResizer=$.Utils.Resizer.init(C),y=this.canvasResizer),y.setOptions(C),y.blur(),y.focus(l.el),y},stop:function(){var $;($=this.canvasResizer)===null||$===void 0||$.blur()}}},2620:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>U});var ie=z(1002),w=z(4942),k=z(2316),$=z.n(k),D=z(9050),q=z(1163),l=z(9283),P=z(3144),N=z(5671),C=z(9340),y=z(2963),m=z(1120),g=z(6602);function S(E,M){var c=Object.keys(E);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(E);M&&(d=d.filter(function(s){return Object.getOwnPropertyDescriptor(E,s).enumerable})),c.push.apply(c,d)}return c}function I(E){for(var M=1;M<arguments.length;M++){var c=arguments[M]!=null?arguments[M]:{};M%2?S(Object(c),!0).forEach(function(d){(0,w.Z)(E,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(c)):S(Object(c)).forEach(function(d){Object.defineProperty(E,d,Object.getOwnPropertyDescriptor(c,d))})}return E}function H(E){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,d=(0,m.Z)(E);if(M){var s=(0,m.Z)(this).constructor;c=Reflect.construct(d,arguments,s)}else c=d.apply(this,arguments);return(0,y.Z)(this,c)}}var X=function(E){(0,C.Z)(c,E);var M=H(c);function c(){return(0,N.Z)(this,c),M.apply(this,arguments)}return(0,P.Z)(c,[{key:"events",value:function(){return this.model.get("events")||{mousedown:"handleClick"}}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=d.config,p=s===void 0?{}:s;this.em=p.em,this.editor=p.editor}},{key:"handleClick",value:function(d){d.preventDefault(),d.stopPropagation();var s=this.editor,p=this.em,O=s.Canvas.getFrameEl().getBoundingClientRect(),K=O.left,Q=O.top,ne=I(I({},d),{},{clientX:d.clientX-K,clientY:d.clientY-Q});p.trigger("toolbar:run:before"),this.execCommand(ne)}},{key:"execCommand",value:function(d){var s={event:d},p=this.model.get("command"),O=this.editor;typeof p=="function"&&p(O,null,s),typeof p=="string"&&O.runCommand(p,s)}},{key:"render",value:function(){var d=this.editor,s=this.$el,p=this.model,O=p.get("id"),K=p.get("label"),Q=d.getConfig().stylePrefix;return s.addClass("".concat(Q,"toolbar-item")),O&&s.addClass("".concat(Q,"toolbar-item__").concat(O)),K&&s.append(K),this}}]),c}($().View);function Y(E){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,d=(0,m.Z)(E);if(M){var s=(0,m.Z)(this).constructor;c=Reflect.construct(d,arguments,s)}else c=d.apply(this,arguments);return(0,y.Z)(this,c)}}var x=function(E){(0,C.Z)(c,E);var M=Y(c);function c(){var d,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0;return(0,N.Z)(this,c),(d=M.call(this,s,p)).config={editor:s.editor||"",em:s.em},d.listenTo(d.collection,"reset",d.render),d}return(0,P.Z)(c)}(g.Z);function W(E){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,d=(0,m.Z)(E);if(M){var s=(0,m.Z)(this).constructor;c=Reflect.construct(d,arguments,s)}else c=d.apply(this,arguments);return(0,y.Z)(this,c)}}x.prototype.itemView=X;var oe=function(E){(0,C.Z)(c,E);var M=W(c);function c(){return(0,N.Z)(this,c),M.apply(this,arguments)}return(0,P.Z)(c,[{key:"defaults",value:function(){return{command:"",attributes:{}}}}]),c}($().Model);const se=$().Collection.extend({model:oe});function Z(E,M){var c=Object.keys(E);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(E);M&&(d=d.filter(function(s){return Object.getOwnPropertyDescriptor(E,s).enumerable})),c.push.apply(c,d)}return c}function B(E){for(var M=1;M<arguments.length;M++){var c=arguments[M]!=null?arguments[M]:{};M%2?Z(Object(c),!0).forEach(function(d){(0,w.Z)(E,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(c)):Z(Object(c)).forEach(function(d){Object.defineProperty(E,d,Object.getOwnPropertyDescriptor(c,d))})}return E}var T,j=$().$;const U={init:function(E){(0,D.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),T=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(E){var M=this,c=this.em,d=c.getConfig().listenToEl,s=c.getContainer().parentNode,p=E?"on":"off",O={on:q.on,off:q.off};!d.length&&s&&d.push(s),O[p](window,"resize",this.onFrameUpdated),O[p](d,"scroll",this.onContainerChange),c[p]("component:toggled component:update undo redo",this.onSelect,this),c[p]("change:componentHovered",this.onHovered,this),c[p]("component:resize styleable:change component:input",this.updateGlobalPos,this),c[p]("component:update:toolbar",this._upToolbar,this),c[p]("change:canvasOffset",this.updateAttached,this),c[p]("frame:updated",this.onFrameUpdated,this),c[p]("canvas:updateTools",this.onFrameUpdated,this),c.get("Canvas").getFrames().forEach(function(K){var Q=K.view,ne=Q==null?void 0:Q.getWindow();ne&&function(R,v){O[p](v,"mouseover",M.onHover),O[p](v,"mouseleave",M.onOut),O[p](v,"click touchend",M.onClick),O[p](R,"scroll",M.onFrameScroll,!0)}(ne,Q.getBody())})},onHover:function(E){E.stopPropagation();var M=this.em,c=E.target,d=(0,q.getViewEl)(c),s=d&&d._getFrame(),p=j(c),O=p.data("model");if(!O)for(var K=p.parent();!O&&K.length&&!(0,l.Mx)(K[0]);)O=K.data("model"),K=K.parent();this.currentDoc=c.ownerDocument,M.setHovered(O,{useValid:!0}),s&&M.set("currentFrame",s)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(E,M){var c=this,d={};M?M.views.forEach(function(s){var p=s.el,O=c.getElementPos(p);d={el:p,pos:O,component:M,view:(0,q.getViewEl)(p)},c.updateToolsLocal(d),p.ownerDocument===c.currentDoc&&(c.elHovered=d)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(s){var p=s.view,O=p&&p.getToolsEl();O&&c.toggleToolsEl(0,0,{el:O})}))},onSelect:(0,D.debounce)(function(){var E=this.em,M=E.getSelected(),c=E.get("currentFrame")||{},d=M&&M.getView(c.model),s=d&&d.el,p={};s&&(0,l.pn)(s)&&(p={el:s,pos:this.getElementPos(s),component:M,view:(0,q.getViewEl)(s)}),this.elSelected=p,this.updateToolsGlobal(),this.updateLocalPos(p),this.initResize(M)}),updateGlobalPos:function(){var E=this.getElSelected();E.el&&(E.pos=this.getElementPos(E.el),this.updateToolsGlobal())},updateLocalPos:function(E){var M=this.getElHovered();M.el&&(M.pos=this.getElementPos(M.el),this.updateToolsLocal(E))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(E,M){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=c.el||this.canvas.getToolsEl(M);return d&&(d.style.display=E?"":"none"),d||{}},showElementOffset:function(E,M){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};T&&this.editor.runCommand("show-offset",{el:E,elPos:M,view:c.view,force:1,top:0,left:0})},hideElementOffset:function(E){this.editor.stopCommand("show-offset",{view:E})},showFixedElementOffset:function(E,M){this.editor.runCommand("show-offset",{el:E,elPos:M,state:"Fixed"})},hideFixedElementOffset:function(E,M){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(E){this.canvas.getHighlighter(E).style.opacity=0},onClick:function(E){E.stopPropagation(),E.preventDefault();var M=this.em;if(M.get("_cmpDrag"))return M.set("_cmpDrag");var c=j(E.target),d=c.data("model");if(!d)for(var s=c.parent();!d&&s.length&&!(0,l.Mx)(s[0]);)d=s.data("model"),s=s.parent();if(d){if(M.isEditing()&&!d.get("textable")&&d.isChildOf("text"))return;this.select(d,E)}},select:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E&&(this.editor.select(E,{event:M,useValid:!0}),this.initResize(E))},updateBadge:function(E,M){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=this.canvas,s=j(E).data("model");if(s&&s.get("badgable")){var p=this.getBadge(c);if(!c.posOnly){var O=this.canvas.getConfig(),K=s.getIcon(),Q=O.pStylePrefix||"",ne="".concat(Q,"badge"),R=O.customBadgeLabel,v="".concat(K?'<div class="'.concat(ne,'__icon">').concat(K,"</div>"):"",`
        <div class="`).concat(ne,'__name">').concat(s.getName(),"</div>");p.innerHTML=R?R(s):v}var b="px",a=p.style;a.display="block";var f=d.getTargetToElementFixed(E,p,{pos:M}),h=f.top,_=c.leftOff<0?-c.leftOff:0;a.top=h+b,a.left=_+b}},showHighlighter:function(E){this.canvas.getHighlighter(E).style.opacity=""},initResize:function(E){var M,c=this.em,d=this.canvas,s=c?c.get("Editor"):"",p=(c?c.get("Config"):"").stylePrefix||"",O="".concat(p,"resizing"),K=!(0,D.isElement)(E)&&(0,q.isTaggableNode)(E)?E:c.getSelected(),Q=K&&K.get("resizable"),ne={},R=function(b,a,f){var h=f.docs;h&&h.forEach(function(_){var A=_.body,J=A.className||"";A.className=(b=="add"?"".concat(J," ").concat(O):J.replace(O,"")).trim()})};if(s&&Q){var v=(0,D.isElement)(E)?E:K.getEl();ne={onStart:function(b){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=a.el,h=a.config,_=a.resizer,A=h.keyHeight,J=h.keyWidth,te=h.currentUnit,F=h.keepAutoHeight,G=h.keepAutoWidth;R("add",0,a),M=c.get("StyleManager").getModelToStyle(K),d.toggleFramesEvents();var V=getComputedStyle(f),le=M.getStyle(),ve=le[J];h.autoWidth=G&&ve==="auto",isNaN(parseFloat(ve))&&(ve=V[J]);var Ne=le[A];h.autoHeight=F&&Ne==="auto",isNaN(parseFloat(Ne))&&(Ne=V[A]),_.startDim.w=parseFloat(ve),_.startDim.h=parseFloat(Ne),T=0,te&&(h.unitHeight=(0,q.getUnitFromValue)(Ne),h.unitWidth=(0,q.getUnitFromValue)(ve))},onMove:function(){s.trigger("component:resize")},onEnd:function(b,a){R("remove",0,a),s.trigger("component:resize"),d.toggleFramesEvents(1),T=1},updateTarget:function(b,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(M){var h=f.store,_=f.selectedHandler,A=f.config,J=A.keyHeight,te=A.keyWidth,F=A.autoHeight,G=A.autoWidth,V=A.unitWidth,le=A.unitHeight,ve=["tc","bc"].indexOf(_)>=0,Ne=["cl","cr"].indexOf(_)>=0,Ze={},Me=h?"":1;if(!ve){var je=d.getBody().offsetWidth,ae=a.w<je?a.w:je;Ze[te]=G?"auto":"".concat(ae).concat(V)}Ne||(Ze[J]=F?"auto":"".concat(a.h).concat(le)),M.addStyle(B(B({},Ze),{},{en:Me}),{avoidStore:!h});var be="update:component:style",re="".concat(be,":").concat(J," ").concat(be,":").concat(te);c&&c.trigger(re,null,null,{noEmit:1})}}},(0,ie.Z)(Q)=="object"&&(ne=B(B(B({},ne),Q),{},{parent:ne})),this.resizer=s.runCommand("resize",{el:v,options:ne,force:1})}else s.stopCommand("resize"),this.resizer=null},updateToolbar:function(E){var M=this.config.em,c=E==M?M.getSelected():E,d=this.canvas.getToolbarEl(),s=d.style,p=c.get("toolbar"),O=M.get("Config").showToolbar;if(c&&O&&p&&p.length){if(s.display="",!this.toolbar){d.innerHTML="",this.toolbar=new se(p);var K=new x({collection:this.toolbar,editor:this.editor,em:M});d.appendChild(K.render().el)}this.toolbar.reset(p),s.top="-100px",s.left=0}else s.display="none"},updateToolbarPos:function(E){var M="px",c=this.canvas.getToolbarEl().style;c.top="".concat(E.top).concat(M),c.left="".concat(E.left).concat(M),c.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.canvas.getBadgeEl(E.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(E){return E&&E.get("status")==="selected"},updateToolsLocal:function(E){var M=E||this.getElHovered(),c=M.el,d=M.pos,s=M.view,p=M.component;if(c){var O=p.get("hoverable"),K=this.lastHovered!==c,Q=K?{}:{posOnly:1};K&&O&&(this.lastHovered=c,this.showHighlighter(s),this.showElementOffset(c,d,{view:s})),this.isCompSelected(p)&&(this.hideHighlighter(s),this.hideElementOffset(s));var ne="px",R=this.toggleToolsEl(1,s),v=R.style,b=this.canvas.canvasRectOffset(c,d),a=b.top,f=b.left;this.updateBadge(c,d,B(B({},Q),{},{view:s,topOff:a,leftOff:f})),v.top=a+ne,v.left=f+ne,v.width=d.width+ne,v.height=d.height+ne,this._trgToolUp("local",{component:p,el:R,top:a,left:f,width:d.width,height:d.height})}else this.lastHovered=0},_upToolbar:(0,D.debounce)(function(){this.updateToolsGlobal({force:1})}),_trgToolUp:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em.trigger("canvas:tools:update",B({type:E},M))},updateToolsGlobal:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=this.getElSelected(),c=M.el,d=M.pos,s=M.component;if(!c)return this.toggleToolsEl(),void(this.lastSelected=0);var p=this.canvas,O=this.lastSelected!==c;(O||E.force)&&(this.lastSelected=c,this.updateToolbar(s));var K="px",Q=this.toggleToolsEl(1),ne=Q.style,R=p.getTargetToElementFixed(c,p.getToolbarEl(),{pos:d}),v=R.canvasOffsetTop,b=R.canvasOffsetLeft;ne.top=v+K,ne.left=b+K,ne.width=d.width+K,ne.height=d.height+K,this.updateToolbarPos({top:R.top,left:R.left}),this._trgToolUp("global",{component:s,el:Q,top:v,left:b,width:d.width,height:d.height})},updateAttached:(0,D.debounce)(function(){this.updateGlobalPos()}),onContainerChange:(0,D.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(E){return this.canvas.getCanvasView().getElementPos(E)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(E){E&&E.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(E){(0,q.hasWin)()&&(this.editor=E&&E.get("Editor"),this.enable())},stop:function(E,M){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,q.hasWin)()){var d=this.em,s=this.editor;this.onHovered(),this.stopSelectComponent(),!c.preserveSelected&&d.setSelected(null),this.toggleToolsEl(),s&&s.stopCommand("resize")}}}},8463:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>k});var ie=z(2316),w=z.n(ie)().$;const k={startSelectPosition:function($,D){var q=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.isPointed=!1;var P=this.editorModel.get("Utils"),N=$.ownerDocument.body;P&&!this.sorter&&(this.sorter=new P.Sorter({container:N,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:D,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return q.em.getZoomDecimal()}})),l.onStart&&(this.sorter.onStart=l.onStart),$&&this.sorter.startSort($,{container:N})},getOffsetDim:function(){var $=this.offset(this.canvas.getFrameEl()),D=this.offset(this.canvas.getElement());return{top:$.top-D.top,left:$.left-D.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?w(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?w(this.cDim[this.posIndex][5]).parent():w(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function($,D,q){var l=$||0,P=D||"before",N=q.length,C=N!==0&&P=="after"&&l==N;return N!==0&&(!C&&!q[l][4]||q[l-1]&&!q[l-1][4]||C&&!q[l-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},7994:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>P});var ie=z(4942),w=z(2316),k=z.n(w),$=z(9050),D=z(1163);function q(N,C){var y=Object.keys(N);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(N);C&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(N,g).enumerable})),y.push.apply(y,m)}return y}var l=k().$;const P={getOffsetMethod:function(N){return"get"+(N||"")+"OffsetViewerEl"},run:function(N,C,y){var m=y||{},g=m.state||"",S=N.getConfig(),I=this.em.getZoomDecimal(),H=m.el||"";if(!S.showOffsets||(0,D.isTextNode)(H)||!S.showOffsetsSelected&&g=="Fixed")N.stopCommand(this.id,y);else{var X=N.Canvas,Y=function(Re){for(var Fe=1;Fe<arguments.length;Fe++){var it=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?q(Object(it),!0).forEach(function(lt){(0,ie.Z)(Re,lt,it[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(it)):q(Object(it)).forEach(function(lt){Object.defineProperty(Re,lt,Object.getOwnPropertyDescriptor(it,lt))})}return Re}({},m.elPos||X.getElementPos(H));(0,$.isUndefined)(m.top)||(Y.top=m.top),(0,$.isUndefined)(m.left)||(Y.left=m.left);var x=window.getComputedStyle(H),W=this.ppfx,oe=g+"State",se=X[this.getOffsetMethod(g)](y.view);se.style.opacity="";var Z=this["marginT"+g],B=this["marginB"+g],T=this["marginL"+g],j=this["marginR"+g],U=this["padT"+g],E=this["padB"+g],M=this["padL"+g],c=this["padR"+g];if(se.childNodes.length&&(this[oe]="1",Z=se.querySelector("[data-offset-m-t]"),B=se.querySelector("[data-offset-m-b]"),T=se.querySelector("[data-offset-m-l]"),j=se.querySelector("[data-offset-m-r]"),U=se.querySelector("[data-offset-p-t]"),E=se.querySelector("[data-offset-p-b]"),M=se.querySelector("[data-offset-p-l]"),c=se.querySelector("[data-offset-p-r]")),!this[oe]){var d=g.toLowerCase(),s=d+"margin-v",p=d+"padding-v",O=l('<div class="'.concat(W,'marginName">')).get(0),K=l('<div class="'.concat(W,'paddingName">')).get(0),Q=W+p+"-el",ne="".concat(W+s+"-el"," ").concat(W+s),R="".concat(Q," ").concat(W+p);Z=l('<div class="'.concat(ne,'-top"></div>')).get(0),B=l('<div class="'.concat(ne,'-bottom"></div>')).get(0),T=l('<div class="'.concat(ne,'-left"></div>')).get(0),j=l('<div class="'.concat(ne,'-right"></div>')).get(0),U=l('<div class="'.concat(R,'-top"></div>')).get(0),E=l('<div class="'.concat(R,'-bottom"></div>')).get(0),M=l('<div class="'.concat(R,'-left"></div>')).get(0),c=l('<div class="'.concat(R,'-right"></div>')).get(0),this["marginT"+g]=Z,this["marginB"+g]=B,this["marginL"+g]=T,this["marginR"+g]=j,this["padT"+g]=U,this["padB"+g]=E,this["padL"+g]=M,this["padR"+g]=c,O.appendChild(Z),O.appendChild(B),O.appendChild(T),O.appendChild(j),K.appendChild(U),K.appendChild(E),K.appendChild(M),K.appendChild(c),se.appendChild(O),se.appendChild(K),this[oe]="1"}var v="px",b=parseFloat(x.marginLeft.replace(v,""))*I,a=parseFloat(x.marginRight.replace(v,""))*I,f=parseFloat(x.marginTop.replace(v,""))*I,h=parseFloat(x.marginBottom.replace(v,""))*I,_=Z.style,A=B.style,J=T.style,te=j.style,F=U.style,G=E.style,V=M.style,le=c.style,ve=parseFloat(Y.left),Ne=parseFloat(x.width)*I+v;_.height=f+v,_.width=Ne,_.top=Y.top-f+v,_.left=ve+v,A.height=h+v,A.width=Ne,A.top=Y.top+Y.height+v,A.left=ve+v;var Ze=Y.height+f+h+v,Me=Y.top-f+v;J.height=Ze,J.width=b+v,J.top=Me,J.left=ve-b+v,te.height=Ze,te.width=a+v,te.top=Me,te.left=ve+Y.width+v;var je=parseFloat(x.paddingTop)*I;F.height=je+v;var ae=parseFloat(x.paddingBottom)*I;G.height=ae+v;var be=Y.height-ae-je+v,re=Y.top+je+v;V.height=be,V.width=parseFloat(x.paddingLeft)*I+v,V.top=re;var Te=parseFloat(x.paddingRight)*I;le.height=be,le.width=Te+v,le.top=re}},stop:function(N,C){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=y||{},g=m.state||"",S=this.getOffsetMethod(g),I=N.Canvas,H=I[S](y.view);H.style.opacity=0}}},8352:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>w});var ie=z(9050);const w={init:function(){(0,ie.bindAll)(this,"_onFramesChange")},run:function(k){this.toggleVis(k)},stop:function(k){this.toggleVis(k,0)},toggleVis:function(k){var $=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!k.Commands.isActive("preview")){var q=k.Canvas,l=D?"on":"off";q.getFrames().forEach(function(P){return $._upFrame(P,D)}),q.getModel()[l]("change:frames",this._onFramesChange)}},_onFramesChange:function(k,$){var D=this;$.forEach(function(q){return q.once("loaded",function(){return D._upFrame(q,!0)})})},_upFrame:function(k,$){var D=$?"add":"remove";k.view.getBody().classList[D]("".concat(this.ppfx,"dashed"))}}},9304:(ge,_e,z)=>{z.d(_e,{Z:()=>l});var ie=z(4942),w=z(2982),k=z(9050),$=z(1163);function D(P,N){var C=Object.keys(P);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(P);N&&(y=y.filter(function(m){return Object.getOwnPropertyDescriptor(P,m).enumerable})),C.push.apply(C,y)}return C}function q(P){for(var N=1;N<arguments.length;N++){var C=arguments[N]!=null?arguments[N]:{};N%2?D(Object(C),!0).forEach(function(y){(0,ie.Z)(P,y,C[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(C)):D(Object(C)).forEach(function(y){Object.defineProperty(P,y,Object.getOwnPropertyDescriptor(C,y))})}return P}const l={getConfig:function(P){return this.__getConfig(P)},getProjectData:function(P){var N={},C=this.storageKey;return C&&(N[C]=P||this.getAll()),N},loadProjectData:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=N.all,y=N.onResult,m=N.reset,g=this.storageKey,S={action:"load"},I=C||this.getAll(),H=P[g];if(typeof H=="string")try{H=JSON.parse(H)}catch{this.__logWarn("Data parsing failed",{input:H})}return m&&H&&I.reset(null,S),y?H&&y(H,S):H&&(0,$.isDef)(H.length)&&I.reset(H,S),H},clear:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=this.all;return N&&N.reset(null,P),this},__getConfig:function(P){var N=this.config||{};return P?N[P]:N},getAll:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.all?P.array?(0,w.Z)(this.all.models):this.all:[]},getAllMap:function(){return this.getAll().reduce(function(P,N){return P[N.get(N.idAttribute)]=N,P},{})},__initConfig:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=(0,$.deepMerge)(P,N),this.em=this.config.em,this.cls=[]},__initListen:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=this.all,C=this.em,y=this.events;N&&C&&N.on("add",function(m,g,S){return C.trigger(y.add,m,S)}).on("remove",function(m,g,S){return C.trigger(y.remove,m,S)}).on("change",function(m,g){return C.trigger(y.update,m,m.changedAttributes(),g)}).on("all",this.__catchAllEvent,this),this.cls=[N].concat(P.collections||[]),(P.propagate||[]).forEach(function(m){var g=m.entity,S=m.event;g.on("all",function(I,H,X,Y){var x=q({event:I},Y||X);[C,N].map(function(W){return W.trigger(S,H,x)})})})},__remove:function(P){var N=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=this.em,m=(0,k.isString)(P)?this.get(P):P,g=function(){return m&&N.all.remove(m,C),m};return!C.silent&&y&&y.trigger(this.events.removeBefore,m,g,C),!C.abort&&g()},__catchAllEvent:function(P,N,C,y){var m=this.em,g=this.events,S=y||C;m&&g.all&&m.trigger(g.all,{event:P,model:N,options:S}),this.__onAllEvent()},__appendTo:function(){var P=this.getConfig().appendTo;if(P){var N=(0,k.isElement)(P)?P:document.querySelector(P);if(!N)return this.__logWarn('"appendTo" element not found');N.appendChild(this.render())}},__onAllEvent:function(){},__logWarn:function(P,N){this.em.logWarning("[".concat(this.name,"]: ").concat(P),N)},_createId:function(){var P,N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,C=this.getAll(),y=C.length+N,m=this.getAllMap();do P=(0,$.createId)(y);while(m[P]);return P},__listenAdd:function(P,N){var C=this;P.on("add",function(y,m,g){return C.em.trigger(N,y,g)})},__listenRemove:function(P,N){var C=this;P.on("remove",function(y,m,g){return C.em.trigger(N,y,g)})},__listenUpdate:function(P,N){var C=this;P.on("change",function(y,m){return C.em.trigger(N,y,y.changedAttributes(),m)})},__destroy:function(){var P;this.cls.forEach(function(N){N.stopListening(),N.reset()}),this.em=0,this.config=0,(P=this.view)===null||P===void 0||P.remove(),this.view=0}}},672:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>M});var ie=z(2982),w=z(5671),k=z(3144),$=z(7326),D=z(9340),q=z(2963),l=z(1120),P=z(4942),N=z(9050),C=z(1163),y=z(9714),m=z(966),g=z(5963);const S={stylePrefix:"css-",rules:[]};var I=z(2316),H=z(9524),X=z(8795);function Y(c,d){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);d&&(p=p.filter(function(O){return Object.getOwnPropertyDescriptor(c,O).enumerable})),s.push.apply(s,p)}return s}function x(c){for(var d=1;d<arguments.length;d++){var s=arguments[d]!=null?arguments[d]:{};d%2?Y(Object(s),!0).forEach(function(p){(0,P.Z)(c,p,s[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)):Y(Object(s)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(s,p))})}return c}function W(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,p=(0,l.Z)(c);if(d){var O=(0,l.Z)(this).constructor;s=Reflect.construct(p,arguments,O)}else s=p.apply(this,arguments);return(0,q.Z)(this,s)}}var oe=((0,C.hasWin)()?window:{}).CSS,se=function(c){(0,D.Z)(s,c);var d=W(s);function s(){return(0,w.Z)(this,s),d.apply(this,arguments)}return(0,k.Z)(s,[{key:"defaults",value:function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}}},{key:"initialize",value:function(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=p||{},this.opt=O,this.em=O.em,this.ensureSelectors(),this.on("change",this.__onChange)}},{key:"__onChange",value:function(p,O){var K=this.em,Q=this.changedAttributes();!(0,C.isEmptyObj)(Q)&&K&&K.changesUp(O)}},{key:"clone",value:function(){var p=x({},this.opt),O=x({},this.attributes);return O.selectors=this.get("selectors").map(function(K){return K.clone()}),new this.constructor(O,p)}},{key:"ensureSelectors",value:function(p,O,K){var Q=this.em,ne=Q&&Q.get("SelectorManager"),R=[this,"change:selectors",this.ensureSelectors],v=this.getSelectors();if(this.stopListening.apply(this,R),v.models&&(v=(0,ie.Z)(v.models)),v=(0,N.isString)(v)?[v]:v,Array.isArray(v)){var b=v.filter(function(a){return a}).map(function(a){return ne?ne.add(a):a});v=new m.Z(b)}this.set("selectors",v,K),this.listenTo.apply(this,R)}},{key:"getAtRule",value:function(){var p=this.get("atRuleType"),O=this.get("mediaText"),K=p?"@".concat(p):O?"@media":"";return K+(O&&K?" ".concat(O):"")}},{key:"selectorsToString",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=[],K=this.get("state"),Q=this.get("selectorsAdd"),ne={escape:function(b){return oe&&oe.escape?oe.escape(b):b}},R=this.get("selectors").getFullString(0,ne),v=K&&!p.skipState?":".concat(K):"";return R&&O.push("".concat(R).concat(v)),Q&&!p.skipAdd&&O.push(Q),O.join(", ")}},{key:"getDeclaration",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O="",K=this.attributes.important,Q=this.selectorsToString(p),ne=this.styleToString(x({important:K},p)),R=this.get("singleAtRule");return(Q||R)&&(ne||p.allowEmpty)&&(O=R?ne:"".concat(Q,"{").concat(ne,"}")),O}},{key:"getDevice",value:function(){var p=this.em,O=this.attributes,K=O.atRuleType,Q=O.mediaText,ne=(p==null?void 0:p.get("DeviceManager").getDevices())||[],R=ne.filter(function(v){return v.getWidthMedia()===""})[0];return K==="media"&&Q?ne.filter(function(v){return v.getWidthMedia()===(0,X.U)(Q)})[0]||null:R||null}},{key:"getState",value:function(){var p=this.em,O=this.get("state");return(p.get("SelectorManager").getStates()||[]).filter(function(K){return K.getName()===O})[0]||null}},{key:"getComponent",value:function(){var p,O=this.getSelectors(),K=O.length==1&&O.at(0),Q=K&&K.isId()&&K.get("name");return Q&&((p=this.em)===null||p===void 0?void 0:p.get("DomComponents").getById(Q))||null}},{key:"toCSS",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O="",K=this.getAtRule(),Q=this.getDeclaration(p);return(Q||p.allowEmpty)&&(O=Q),K&&O&&(O="".concat(K,"{").concat(O,"}")),O}},{key:"toJSON",value:function(){for(var p=arguments.length,O=new Array(p),K=0;K<p;K++)O[K]=arguments[K];var Q=I.Model.prototype.toJSON.apply(this,O);if(this.em.getConfig().avoidDefaults){var ne=this.defaults();(0,N.forEach)(ne,function(R,v){Q[v]===R&&delete Q[v]}),delete Q.style.__p,(0,N.isEmpty)(Q.selectors)&&delete Q.selectors,(0,N.isEmpty)(Q.style)&&delete Q.style}return Q}},{key:"compare",value:function(p,O,K){var Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ne=O||"",R=K||"",v=Q.selectorsAdd||"",b=Q.atRuleType||"",a=(0,N.isArray)(p)||p.models?p.models||p:[p];R&&!b&&(b="media");var f=a.map(function(J){return J.getFullName()}),h=this.get("selectors").map(function(J){return J.getFullName()}),_=f.slice().sort(),A=h.slice().sort();return!(f.length!==h.length||!_.every(function(J,te){return J===A[te]}))&&this.get("state")===ne&&this.get("mediaText")===R&&this.get("selectorsAdd")===v&&this.get("atRuleType")===b}}]),s}(H.Z);function Z(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,p=(0,l.Z)(c);if(d){var O=(0,l.Z)(this).constructor;s=Reflect.construct(p,arguments,O)}else s=p.apply(this,arguments);return(0,q.Z)(this,s)}}var B=function(c){(0,D.Z)(s,c);var d=Z(s);function s(){return(0,w.Z)(this,s),d.apply(this,arguments)}return(0,k.Z)(s,[{key:"initialize",value:function(p,O){var K=this;O&&O.em&&(this.editor=O.em),setTimeout(function(){K.on("remove",K.onRemove),K.on("add",K.onAdd)})}},{key:"toJSON",value:function(p){return I.Collection.prototype.toJSON.call(this,p).filter(function(O){return O.style&&!O.shallow})}},{key:"onAdd",value:function(p,O,K){p.ensureSelectors(p,O,K)}},{key:"onRemove",value:function(p){var O=this.editor;O.stopListening(p),O.get("UndoManager").remove(p)}},{key:"add",value:function(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof p=="string"&&(p=this.editor.get("Parser").parseCss(p)),O.em=this.editor,I.Collection.prototype.add.apply(this,[p,O])}}]),s}(I.Collection);B.prototype.model=se;var T=z(4868);function j(c,d){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);d&&(p=p.filter(function(O){return Object.getOwnPropertyDescriptor(c,O).enumerable})),s.push.apply(s,p)}return s}function U(c){for(var d=1;d<arguments.length;d++){var s=arguments[d]!=null?arguments[d]:{};d%2?j(Object(s),!0).forEach(function(p){(0,P.Z)(c,p,s[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(s,p))})}return c}function E(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,p=(0,l.Z)(c);if(d){var O=(0,l.Z)(this).constructor;s=Reflect.construct(p,arguments,O)}else s=p.apply(this,arguments);return(0,q.Z)(this,s)}}var M=function(c){(0,D.Z)(s,c);var d=E(s);function s(){var p;(0,w.Z)(this,s);for(var O=arguments.length,K=new Array(O),Q=0;Q<O;Q++)K[Q]=arguments[Q];return p=d.call.apply(d,[this].concat(K)),(0,P.Z)((0,$.Z)(p),"Selectors",m.Z),(0,P.Z)((0,$.Z)(p),"name","CssComposer"),(0,P.Z)((0,$.Z)(p),"storageKey","styles"),p}return(0,k.Z)(s,[{key:"getConfig",value:function(){return this.c}},{key:"init",value:function(p){for(var O in this.c=p||{},S)O in this.c||(this.c[O]=S[O]);var K=this.c.pStylePrefix;K&&(this.c.stylePrefix=K+this.c.stylePrefix);var Q=this.c.em&&this.c.em.config.style||"";return this.c.rules=Q||this.c.rules,this.em=this.c.em,this.rules=new B([],this.c),this}},{key:"onLoad",value:function(){this.rules.add(this.c.rules,{silent:1})}},{key:"postLoad",value:function(){var p,O=(p=this.em)===null||p===void 0?void 0:p.get("UndoManager");O&&O.add(this.getAll())}},{key:"store",value:function(){return this.getProjectData()}},{key:"load",value:function(p){return this.loadProjectData(p)}},{key:"add",value:function(p,O,K){var Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ne=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},R=O||"",v=K||"",b=U({},Q),a=this.get(p,R,v,b);return a&&a.config&&!a.config.singleAtRule||(b.state=R,b.mediaText=v,b.selectors=[],v&&(b.atRuleType="media"),(a=new se(b,this.c)).get("selectors").add(p,ne),this.rules.add(a,ne)),a}},{key:"get",value:function(p,O,K,Q){var ne=p;if((0,N.isString)(p)){var R=this.em.get("SelectorManager"),v=p.split(",")[0].trim(),b=this.em.get("Parser").parserCss.checkNode({selectors:v})[0];ne=R.get(b.selectors)}return this.rules.find(function(a){return a.compare(ne,O,K,Q)})||null}},{key:"getAll",value:function(){return this.rules}},{key:"addCollection",value:function(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=[];(0,N.isString)(p)&&(p=this.em.get("Parser").parseCss(p));for(var ne=p instanceof Array?p:[p],R=0,v=ne.length;R<v;R++){var b,a=ne[R]||{};if(a.selectors){var f=(b=this.em)===null||b===void 0?void 0:b.get("SelectorManager");f||console.warn("Selector Manager not found");for(var h=a.selectors,_=h instanceof Array?h:[h],A=[],J=0,te=_.length;J<te;J++){var F=f.add(_[J]);A.push(F)}var G=this.get(A,a.state,a.mediaText,a),V=this.add(A,a.state,a.mediaText,a,O),le=!G||!O.avoidUpdateStyle,ve=a.style||{};if((0,C.isObject)(K)&&V.set(K,O),le){var Ne=O.extend?U(U({},V.get("style")),ve):ve;V.set("style",Ne,O)}Q.push(V)}}return Q}},{key:"addRules",value:function(p){return this.addCollection(p)}},{key:"setRule",value:function(p,O){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=K.atRuleType,ne=K.atRuleParams,R=this.em.get("Parser").parserCss.checkNode({selectors:p,style:O})[0],v=R.state,b=R.selectorsAdd,a=this.em.get("SelectorManager"),f=a.add(R.selectors),h=this.add(f,v,ne,{selectorsAdd:b,atRule:Q});return h.setStyle(O,K),h}},{key:"getRule",value:function(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=this.em.get("SelectorManager"),Q=this.em.get("Parser").parserCss.checkNode({selectors:p})[0],ne=K.get(Q.selectors),R=Q.state,v=Q.selectorsAdd,b=O.atRuleType,a=O.atRuleParams;return ne&&this.get(ne,R,a,{selectorsAdd:v,atRule:b})}},{key:"getRules",value:function(p){var O=this.getAll();if(!p)return(0,ie.Z)(O.models);var K={sort:!0},Q=(0,N.isString)(p)?p.split(",").map(function(ne){return ne.trim()}):p;return O.filter(function(ne){return Q.indexOf(ne.getSelectors().getFullString(null,K))>=0})}},{key:"setIdRule",value:function(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=K.addOpts,ne=Q===void 0?{}:Q,R=K.mediaText,v=K.state||"",b=(0,N.isUndefined)(R)?this.em.getCurrentMedia():R,a=this.em.get("SelectorManager"),f=a.add({name:p,type:g.Z.TYPE_ID},ne),h=this.add(f,v,b,{},ne);return h.setStyle(O,U(U({},K),ne)),h}},{key:"getIdRule",value:function(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=O.mediaText,Q=O.state||"",ne=(0,N.isUndefined)(K)?this.em.getCurrentMedia():K,R=this.em.get("SelectorManager").get(p,g.Z.TYPE_ID);return R&&this.get(R,Q,ne)}},{key:"setClassRule",value:function(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=K.state||"",ne=K.mediaText||this.em.getCurrentMedia(),R=this.em.get("SelectorManager"),v=R.add({name:p,type:g.Z.TYPE_CLASS}),b=this.add(v,Q,ne);return b.setStyle(O,K),b}},{key:"getClassRule",value:function(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=O.state||"",Q=O.mediaText||this.em.getCurrentMedia(),ne=this.em.get("SelectorManager").get(p,g.Z.TYPE_CLASS);return ne&&this.get(ne,K,Q)}},{key:"remove",value:function(p,O){var K=(0,N.isString)(p)?this.getRules(p):p,Q=this.getAll().remove(K,O);return(0,N.isArray)(Q)?Q:[Q]}},{key:"clear",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getAll().reset(null,p),this}},{key:"getComponentRules",value:function(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=O.state,Q=O.mediaText,ne=O.current;ne&&(K=this.em.get("state")||"",Q=this.em.getCurrentMedia());var R=p.getId(),v=this.getAll().filter(function(b){if(((0,N.isUndefined)(K)||b.get("state")===K)&&((0,N.isUndefined)(Q)||b.get("mediaText")===Q))return b.getSelectorsString()==="#".concat(R)});return v}},{key:"render",value:function(){var p;return(p=this.rulesView)===null||p===void 0||p.remove(),this.rulesView=new T.Z({collection:this.rules,config:this.c}),this.rulesView.render().el}},{key:"destroy",value:function(){var p;this.rules.reset(),this.rules.stopListening(),(p=this.rulesView)===null||p===void 0||p.remove(),[this.em,this.rules,this.rulesView].forEach(function(O){return null}),this.c={}}}]),s}(y.Z)},4868:(ge,_e,z)=>{z.d(_e,{Z:()=>H});var ie=z(5671),w=z(3144),k=z(7326),$=z(9340),D=z(2963),q=z(1120),l=z(9050),P=z(2316),N=z(9283);function C(X){var Y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,W=(0,q.Z)(X);if(Y){var oe=(0,q.Z)(this).constructor;x=Reflect.construct(W,arguments,oe)}else x=W.apply(this,arguments);return(0,D.Z)(this,x)}}var y=function(X){(0,$.Z)(x,X);var Y=C(x);function x(){return(0,ie.Z)(this,x),Y.apply(this,arguments)}return(0,w.Z)(x,[{key:"tagName",value:function(){return"style"}},{key:"initialize",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=W.config||{};var oe=this.model;this.listenTo(oe,"change",this.render),this.listenTo(oe,"destroy remove",this.remove),this.listenTo(oe.get("selectors"),"change",this.render)}},{key:"render",value:function(){var W=this.model,oe=this.el,se=W.get("important");return oe.innerHTML=W.toCSS({important:se}),this}}]),x}(P.View);function m(X){var Y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,W=(0,q.Z)(X);if(Y){var oe=(0,q.Z)(this).constructor;x=Reflect.construct(W,arguments,oe)}else x=W.apply(this,arguments);return(0,D.Z)(this,x)}}var g=function(X){(0,$.Z)(x,X);var Y=m(x);function x(){return(0,ie.Z)(this,x),Y.apply(this,arguments)}return(0,w.Z)(x,[{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var W=this.model,oe=W.get("important");return this.el.textContent=W.getDeclaration({important:oe}),this}}]),x}(y);function S(X){var Y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,W=(0,q.Z)(X);if(Y){var oe=(0,q.Z)(this).constructor;x=Reflect.construct(W,arguments,oe)}else x=W.apply(this,arguments);return(0,D.Z)(this,x)}}var I=function(X,Y){return"".concat(X).concat(Y?"-".concat(parseFloat(Y)):"")},H=function(X){(0,$.Z)(x,X);var Y=S(x);function x(W){var oe;return(0,ie.Z)(this,x),oe=Y.call(this,W),(0,l.bindAll)((0,k.Z)(oe),"sortRules"),oe}return(0,w.Z)(x,[{key:"initialize",value:function(W){var oe=W.config||{};this.atRules={},this.config=oe,this.em=oe.em,this.pfx=oe.stylePrefix||"",this.className=this.pfx+"rules";var se=this.collection;this.listenTo(se,"add",this.addTo),this.listenTo(se,"reset",this.render)}},{key:"addTo",value:function(W){this.addToCollection(W)}},{key:"addToCollection",value:function(W,oe){if(this.renderStarted){var se,Z,B=oe||null,T={model:W,config:this.config};if(W.get("atRuleType")==="keyframes"){var j=W.getAtRule(),U=this.atRules[j];if(!U){var E=document.createElement("style");U=document.createTextNode(""),E.appendChild(document.createTextNode("".concat(j,"{"))),E.appendChild(U),E.appendChild(document.createTextNode("}")),this.atRules[j]=U,se=E}Z=new g(T),U.appendData(Z.render().el.textContent)}else se=(Z=new y(T)).render().el;var M=this.className,c=W.get("mediaText"),d=I(M),s=d;if(c&&(s=I(M,this.getMediaWidth(c))),se){var p,O=B||this.el;try{p=O.querySelector("#".concat(s))}catch{}p||(p=O.querySelector("#".concat(d))),p.appendChild(se)}return se}}},{key:"getMediaWidth",value:function(W){return W&&W.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")}},{key:"sortRules",value:function(W,oe){var se=(this.em.getConfig().mediaCondition||"").indexOf("min-width")!==-1;return se?(se?W:oe)-(se?oe:W):0}},{key:"render",value:function(){var W=this;this.renderStarted=1,this.atRules={};var oe=this.em,se=this.$el,Z=this.className,B=this.collection,T=document.createDocumentFragment();se.empty();var j=oe.get("DeviceManager").getAll().pluck("priority").sort(this.sortRules);return j.every(function(U){return U})&&j.unshift(0),j.forEach(function(U){return T.appendChild((0,N.ut)("div",{id:I(Z,U)}))}),B.each(function(U){return W.addToCollection(U,T)}),se.append(T),se.attr("class",Z),this}}]),x}(P.View)},2004:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>O,evAdd:()=>M,evAddBefore:()=>c,evAll:()=>B,evPfx:()=>T,evRemove:()=>d,evRemoveBefore:()=>s,evSelect:()=>j,evSelectBefore:()=>U,evUpdate:()=>E});var ie=z(5671),w=z(3144),k=z(7326),$=z(9340),D=z(2963),q=z(1120),l=z(4942),P=z(9050),N=z(9714);const C={default:null,devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};var y=z(2316);function m(K){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ne,R=(0,q.Z)(K);if(Q){var v=(0,q.Z)(this).constructor;ne=Reflect.construct(R,arguments,v)}else ne=R.apply(this,arguments);return(0,D.Z)(this,ne)}}var g=function(K){(0,$.Z)(ne,K);var Q=m(ne);function ne(){return(0,ie.Z)(this,ne),Q.apply(this,arguments)}return(0,w.Z)(ne,[{key:"defaults",value:function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}}},{key:"initialize",value:function(){var R=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(v){return R.checkUnit(v)})}},{key:"checkUnit",value:function(R){var v=this.get(R)||"";(parseFloat(v)||0).toString()===v.toString()&&this.set(R,"".concat(v,"px"))}},{key:"getName",value:function(){return this.get("name")||this.get("id")}},{key:"getWidthMedia",value:function(){return this.get("widthMedia")||""}}]),ne}(y.Model);function S(K){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ne,R=(0,q.Z)(K);if(Q){var v=(0,q.Z)(this).constructor;ne=Reflect.construct(R,arguments,v)}else ne=R.apply(this,arguments);return(0,D.Z)(this,ne)}}var I=function(K){(0,$.Z)(ne,K);var Q=S(ne);function ne(){return(0,ie.Z)(this,ne),Q.apply(this,arguments)}return(0,w.Z)(ne)}(y.Collection);I.prototype.model=g;var H,X=z(168),Y=z(7539);function x(K){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ne,R=(0,q.Z)(K);if(Q){var v=(0,q.Z)(this).constructor;ne=Reflect.construct(R,arguments,v)}else ne=R.apply(this,arguments);return(0,D.Z)(this,ne)}}var W=function(K){(0,$.Z)(ne,K);var Q=x(ne);function ne(){return(0,ie.Z)(this,ne),Q.apply(this,arguments)}return(0,w.Z)(ne,[{key:"template",value:function(R){var v=R.ppfx,b=R.label;return(0,Y.Z)(H||(H=(0,X.Z)([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp">+</button>
    `])),v,b,v,v,v,v,v,v,v)}},{key:"events",value:function(){return{change:"updateDevice"}}},{key:"initialize",value:function(R){this.config=R.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()}},{key:"startAdd",value:function(){}},{key:"updateDevice",value:function(){var R=this.em;if(R){var v=this.devicesEl,b=v?v.val():"";R.set("device",b)}}},{key:"updateSelect",value:function(){var R=this.em,v=this.devicesEl;if(R&&R.getDeviceModel&&v){var b=R.getDeviceModel(),a=b?b.get("id"):"";v.val(a)}}},{key:"getOptions",value:function(){var R=this.collection,v=this.em,b="";return R.each(function(a){var f=a.attributes,h=f.name,_=f.id,A=v&&v.t&&v.t("deviceManager.devices.".concat(_))||h;b+='<option value="'.concat(_||h,'">').concat(A,"</option>")}),b}},{key:"render",value:function(){var R=this.em,v=this.ppfx,b=this.$el,a=this.el,f=R&&R.t&&R.t("deviceManager.device");return b.html(this.template({ppfx:v,label:f})),this.devicesEl=b.find(".".concat(v,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(R.get("device")),a.className="".concat(v,"devices-c"),this}}]),ne}(y.View);function oe(K,Q){var ne=Object.keys(K);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(K);Q&&(R=R.filter(function(v){return Object.getOwnPropertyDescriptor(K,v).enumerable})),ne.push.apply(ne,R)}return ne}function se(K){for(var Q=1;Q<arguments.length;Q++){var ne=arguments[Q]!=null?arguments[Q]:{};Q%2?oe(Object(ne),!0).forEach(function(R){(0,l.Z)(K,R,ne[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(ne)):oe(Object(ne)).forEach(function(R){Object.defineProperty(K,R,Object.getOwnPropertyDescriptor(ne,R))})}return K}function Z(K){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ne,R=(0,q.Z)(K);if(Q){var v=(0,q.Z)(this).constructor;ne=Reflect.construct(R,arguments,v)}else ne=R.apply(this,arguments);return(0,D.Z)(this,ne)}}var B="device",T="".concat(B,":"),j="".concat(T,"select"),U="".concat(j,":before"),E="".concat(T,"update"),M="".concat(T,"add"),c="".concat(M,":before"),d="".concat(T,"remove"),s="".concat(d,":before"),p="change:device",O=function(K){(0,$.Z)(ne,K);var Q=Z(ne);function ne(){var R;(0,ie.Z)(this,ne);for(var v=arguments.length,b=new Array(v),a=0;a<v;a++)b[a]=arguments[a];return R=Q.call.apply(Q,[this].concat(b)),(0,l.Z)((0,k.Z)(R),"name","DeviceManager"),(0,l.Z)((0,k.Z)(R),"Device",g),(0,l.Z)((0,k.Z)(R),"Devices",I),(0,l.Z)((0,k.Z)(R),"events",{all:B,select:j,update:E,add:M,remove:d,removeBefore:s}),R}return(0,w.Z)(ne,[{key:"init",value:function(){var R=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=se(se({},C),v);var b=this.c.em;return this.devices=new I,this.c.devices.forEach(function(a){return R.add(a)}),this.em=b,this.all=this.devices,this.select(this.c.default||this.devices.at(0)),this.__initListen(),b.on(p,this._onSelect,this),this}},{key:"_onSelect",value:function(R,v,b){var a=this.em,f=this.events,h=R.previous("device"),_=this.get(v),A=f.select;a.trigger(A,_,this.get(h)),this.__catchAllEvent(A,_,b)}},{key:"add",value:function(R){var v,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=b;if((0,P.isString)(R)){var f=b;v=se(se({},a=arguments[2]||{}),{},{id:R,name:a.name||R,width:f})}else v=R;return v.id||(v.id=v.name||this._createId()),this.devices.add(v,a)}},{key:"get",value:function(R){return this.getAll().filter(function(v){return v.get("name")===R})[0]||this.devices.get(R)||null}},{key:"remove",value:function(R){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__remove(R,v)}},{key:"getDevices",value:function(){return this.devices.models}},{key:"select",value:function(R){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=(0,P.isString)(R)?this.get(R):R;return b&&this.em.set("device",b.get("id"),v),this}},{key:"getSelected",value:function(){return this.get(this.em.get("device"))}},{key:"getAll",value:function(){return this.devices}},{key:"render",value:function(){var R;return(R=this.view)===null||R===void 0||R.remove(),this.view=new W({collection:this.devices,config:this.c}),this.view.render().el}},{key:"destroy",value:function(){var R;this.devices.stopListening(),this.devices.reset(),(R=this.view)===null||R===void 0||R.remove(),[this.devices,this.view].forEach(function(v){return null}),this.c={}}}]),ne}(N.Z)},9138:(ge,_e,z)=>{z.d(_e,{ZP:()=>K,OA:()=>M,GN:()=>p,xH:()=>O});var ie=z(1002),w=z(2982),k=z(885),$=z(4942),D=z(5671),q=z(3144),l=z(1752),P=z(9340),N=z(2963),C=z(1120),y=z(9050),m=z(1163),g=z(9524),S=z(2316),I=z(8431),H=z(5963),X=z(966);function Y(Q,ne){var R=Object.keys(Q);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(Q);ne&&(v=v.filter(function(b){return Object.getOwnPropertyDescriptor(Q,b).enumerable})),R.push.apply(R,v)}return R}function x(Q){for(var ne=1;ne<arguments.length;ne++){var R=arguments[ne]!=null?arguments[ne]:{};ne%2?Y(Object(R),!0).forEach(function(v){(0,$.Z)(Q,v,R[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(R)):Y(Object(R)).forEach(function(v){Object.defineProperty(Q,v,Object.getOwnPropertyDescriptor(R,v))})}return Q}function W(Q){var ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,v=(0,C.Z)(Q);if(ne){var b=(0,C.Z)(this).constructor;R=Reflect.construct(v,arguments,b)}else R=v.apply(this,arguments);return(0,N.Z)(this,R)}}var oe=function(Q){(0,P.Z)(R,Q);var ne=W(R);function R(){return(0,D.Z)(this,R),ne.apply(this,arguments)}return(0,q.Z)(R,[{key:"initialize",value:function(){var v=this.attributes,b=v.target,a=v.name,f=v.changeProp;if(!this.get("id")&&this.set("id",a),b){this.target=b,this.unset("target");var h=f?"change:".concat(a):"change:attributes:".concat(a);this.listenTo(b,h,this.targetUpdated)}}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("name")}},{key:"getLabel",value:function(){var v,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=b.locale,f=a===void 0||a,h=this.getId(),_=this.get("label")||this.getName();return f&&((v=this.em)===null||v===void 0?void 0:v.t("traitManager.traits.labels.".concat(h)))||_}},{key:"getValue",value:function(){return this.getTargetValue()}},{key:"setValue",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={};b.partial&&(a.avoidStore=!0),this.setTargetValue(v,a),b.partial===!1&&(this.setTargetValue(""),this.setTargetValue(v))}},{key:"props",value:function(){return this.attributes}},{key:"targetUpdated",value:function(){var v,b=this.getTargetValue();this.set({value:b},{fromTarget:1}),(v=this.em)===null||v===void 0||v.trigger("trait:update",{trait:this,component:this.target})}},{key:"getTargetValue",value:function(){var v,b=this.get("name"),a=this.target;return v=this.get("changeProp")?a.get(b):a.getAttributes()[b],(0,y.isUndefined)(v)?"":v}},{key:"setTargetValue",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.target,f=this.get("name");if(!(0,y.isUndefined)(v)){var h=v;if(v==="false"?h=!1:v==="true"&&(h=!0),this.get("changeProp"))a.set(f,h,b);else{var _=x({},a.get("attributes"));_[f]=h,a.set("attributes",_,b)}}}},{key:"setValueFromInput",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f={value:v};this.set(f,x(x({},a),{},{avoidStore:1})),b&&(this.set("value","",a),this.set(f,a))}},{key:"getInitValue",value:function(){var v,b=this.target,a=this.get("name");if(b){var f=b.get("attributes");v=this.get("changeProp")?b.get(a):f[a]}return v||this.get("value")||this.get("default")}}]),R}(S.Model);oe.prototype.defaults={type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]};function se(Q){var ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,v=(0,C.Z)(Q);if(ne){var b=(0,C.Z)(this).constructor;R=Reflect.construct(v,arguments,b)}else R=v.apply(this,arguments);return(0,N.Z)(this,R)}}var Z=function(Q){(0,P.Z)(R,Q);var ne=se(R);function R(){return(0,D.Z)(this,R),ne.apply(this,arguments)}return(0,q.Z)(R,[{key:"initialize",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em=b.em,this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)}},{key:"handleReset",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=b.previousModels,f=a===void 0?[]:a;f.forEach(function(h){return h.trigger("remove")})}},{key:"handleAdd",value:function(v){v.em=this.em;var b=this.target;b&&(v.target=b)}},{key:"setTarget",value:function(v){this.target=v}},{key:"add",value:function(v,b){var a=this.em;if((0,y.isString)(v)||(0,y.isArray)(v)){var f=a&&a.get&&a.get("TraitManager"),h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{build:function(G){var V=[];typeof G=="string"&&(G=[G]);for(var le=0;le<G.length;le++){var ve={},Ne=G[le];ve.name=Ne,Ne==="target"&&(ve.type="select",ve.default=!1,ve.options=F.optionsTarget),V.push(ve)}return V}}}(f&&f.getConfig());(0,y.isString)(v)&&(v=[v]);for(var _=0,A=v.length;_<A;_++){var J=v[_],te=(0,y.isString)(J)?h.build(J)[0]:J;te.target=this.target,v[_]=te}}return S.Collection.prototype.add.apply(this,[v,b])}}]),R}(S.Collection);function B(Q,ne){var R=Object.keys(Q);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(Q);ne&&(v=v.filter(function(b){return Object.getOwnPropertyDescriptor(Q,b).enumerable})),R.push.apply(R,v)}return R}function T(Q){for(var ne=1;ne<arguments.length;ne++){var R=arguments[ne]!=null?arguments[ne]:{};ne%2?B(Object(R),!0).forEach(function(v){(0,$.Z)(Q,v,R[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(R)):B(Object(R)).forEach(function(v){Object.defineProperty(Q,v,Object.getOwnPropertyDescriptor(R,v))})}return Q}function j(Q){var ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,v=(0,C.Z)(Q);if(ne){var b=(0,C.Z)(this).constructor;R=Reflect.construct(v,arguments,b)}else R=v.apply(this,arguments);return(0,N.Z)(this,R)}}Z.prototype.model=oe;var U=function(Q){return Q.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},E=function(Q){return Q&&Q.getConfig().avoidInlineStyle},M="component:drag",c="__symbols",d="__symbol",s="__symbol_ovrd",p="component:update",O="".concat(p,"-inside"),K=function(Q){(0,P.Z)(R,Q);var ne=j(R);function R(){return(0,D.Z)(this,R),ne.apply(this,arguments)}return(0,q.Z)(R,[{key:"defaults",get:function(){return{tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,locked:!1,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null,[d]:0,[c]:0,[s]:0,_undo:!0,_undoexc:["status","open"]}}},{key:"init",value:function(){}},{key:"updated",value:function(v,b,a){}},{key:"removed",value:function(){}},{key:"initialize",value:function(){var v=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,y.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var f=a.em,h=this.parent(),_=h&&h.attributes,A=this.get("propagate");if(A&&this.set("propagate",(0,y.isArray)(A)?A:[A]),_&&_.propagate&&!A){var J={},te=_.propagate;te.forEach(function(ve){return J[ve]=h.get(ve)}),J.propagate=te,this.set(T(T({},J),b))}if(a&&a.config&&a.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),a.em=f,this.opt=a,this.em=f,this.frame=a.frame,this.config=a.config||{},this.set("attributes",T(T({},(0,y.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=R.createId(this,a),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(O,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(ve){var Ne="add remove ".concat(ve!=="components"?"change":"");v.listenTo(v.get(ve),Ne.trim(),function(){for(var Ze=arguments.length,Me=new Array(Ze),je=0;je<Ze;je++)Me[je]=arguments[je];return v.emitUpdate.apply(v,[ve].concat(Me))})}),!a.temporary){var F=f&&f.get("CssComposer"),G=this.attributes,V=G.styles,le=G.type;V&&F&&F.addCollection(V,{},{group:"cmp:".concat(le)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),f&&f.trigger("component:create",this)}}},{key:"__postAdd",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=this.em,a=b&&b.get("UndoManager"),f=this.components();a&&!this.__hasUm&&(a.add(f),a.add(this.getSelectors()),this.__hasUm=1),v.recursive&&f.map(function(h){return h.__postAdd(v)})}},{key:"__postRemove",value:function(){var v=this.em,b=v&&v.get("UndoManager");b&&(b.remove(this.components()),b.remove(this.getSelectors()),delete this.__hasUm)}},{key:"__onChange",value:function(v,b){var a=this,f=this.changedAttributes();(0,y.keys)(f).forEach(function(h){return a.emitUpdate(h)}),["status","open","toolbar","traits"].forEach(function(h){return delete f[h]}),(0,m.isEmptyObj)(f)||(this.__changesUp(b),this.__propSelfToParent({component:this,changed:f,options:b}))}},{key:"__changesUp",value:function(v){var b=this.em;[this.frame,b].forEach(function(a){return a&&a.changesUp(v)})}},{key:"__propSelfToParent",value:function(v){this.trigger(p,v),this.__propToParent(v)}},{key:"__propToParent",value:function(v){var b=this.parent();b&&b.trigger(O,v)}},{key:"__emitUpdateTlb",value:function(){this.emitUpdate("toolbar")}},{key:"is",value:function(v){return this.get("type")==v}},{key:"props",value:function(){return this.attributes}},{key:"index",value:function(){var v=this.collection;return v?v.indexOf(this):0}},{key:"setDragMode",value:function(v){return this.set("dmode",v)}},{key:"find",value:function(v){var b=[],a=this.view.$el.find(v);return a.each(function(f){var h=a.eq(f).data("model");h&&b.push(h)}),b}},{key:"findType",value:function(v){var b=[];return function a(f){return f.forEach(function(h){h.is(v)&&b.push(h),a(h.components())})}(this.components()),b}},{key:"closest",value:function(v){var b=this.view.$el.closest(v);return b.length&&b.data("model")}},{key:"closestType",value:function(v){for(var b=this.parent();b&&!b.is(v);)b=b.parent();return b}},{key:"contains",value:function(v){var b=!1;if(!v)return b;var a=function f(h){!b&&h.forEach(function(_){_===v&&(b=!0),!b&&f(_.components())})};return a(this.components()),b}},{key:"tagUpdated",value:function(){this.trigger("rerender")}},{key:"replaceWith",value:function(v){var b=this.collection,a=b.indexOf(this);return b.remove(this),b.add(v,{at:a})}},{key:"attrUpdated",value:function(v,b){var a=this,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=this.get("attributes"),_=h.class;_&&this.setClass(_),delete h.class;var A=h.style;A&&this.setStyle(A),delete h.style;var J=T({},this.previous("attributes")),te=(0,m.shallowDiff)(J,this.get("attributes"));(0,y.keys)(te).forEach(function(F){return a.trigger("change:attributes:".concat(F),a,te[F],f)})}},{key:"setAttributes",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.set("attributes",T({},v),b),this}},{key:"addAttributes",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.setAttributes(T(T({},this.getAttributes({noClass:1})),v),b)}},{key:"removeAttributes",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=Array.isArray(v)?v:[v],f=this.getAttributes();return a.map(function(h){return delete f[h]}),this.setAttributes(f,b)}},{key:"getStyle",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.em,f=(0,y.isString)(v)?v:"",h=f?b:v;if(a&&a.getConfig().avoidInlineStyle&&!h.inline){var _=a.get("state"),A=a.get("CssComposer"),J=A.getIdRule(this.getId(),T({state:_},h));if(this.rule=J,J)return J.getStyle(f)}return(0,l.Z)((0,C.Z)(R.prototype),"getStyle",this).call(this,f)}},{key:"setStyle",value:function(){var v=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=this.em,h=this.opt;if(f&&f.getConfig().avoidInlineStyle&&!h.temporary&&!a.inline){var _=this.get("style")||{};b=T(T({},b=(0,y.isString)(b)?this.parseStyle(b):b),_);var A=f.get("state"),J=f.get("CssComposer"),te=this.getStyle(a);this.rule=J.setIdRule(this.getId(),b,T(T({},a),{},{state:A}));var F=(0,m.shallowDiff)(te,b);this.set("style","",{silent:1}),(0,y.keys)(F).forEach(function(G){return v.trigger("change:style:".concat(G))})}else b=(0,l.Z)((0,C.Z)(R.prototype),"setStyle",this).apply(this,arguments);return b}},{key:"getAttributes",value:function(){var v,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=this.em,f=[],h=T({},this.get("attributes")),_=a&&a.get("SelectorManager"),A=this.getId();if(b.noClass||(this.get("classes").forEach(function(te){return f.push((0,y.isString)(te)?te:te.get("name"))}),f.length&&(h.class=f.join(" "))),!b.noStyle){var J=this.get("style");(0,m.isObject)(J)&&!(0,m.isEmptyObj)(J)&&(h.style=this.styleToString({inline:1}))}return(0,y.has)(h,"id")||(E(a)?v=_&&_.get(A,_.Selector.TYPE_ID):(0,y.isEmpty)(this.getStyle())||(v=1),(this.__getSymbol()||this.__getSymbols())&&(v=1),v&&(h.id=A)),h}},{key:"addClass",value:function(v){var b=this.em.get("SelectorManager").addClass(v);return this.get("classes").add(b)}},{key:"setClass",value:function(v){return this.get("classes").reset(),this.addClass(v)}},{key:"removeClass",value:function(v){var b=[];v=(0,y.isArray)(v)?v:[v];var a=this.get("classes"),f=H.Z.TYPE_CLASS;return v.forEach(function(h){h.split(" ").forEach(function(_){var A=a.where({name:_,type:f})[0];A&&b.push(a.remove(A))})}),b}},{key:"getClasses",value:function(){var v=this.getAttributes().class;return v?v.split(" "):[]}},{key:"__logSymbol",value:function(v,b){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=this.__getSymbol(),h=this.__getSymbols();(f||h)&&this.em.log(v,{model:this,toUp:b,context:"symbols",opts:a})}},{key:"__initSymb",value:function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=1)}},{key:"__isSymbol",value:function(){return(0,y.isArray)(this.get(c))}},{key:"__isSymbolOrInst",value:function(){return!(!this.__isSymbol()&&!this.get(d))}},{key:"__isSymbolTop",value:function(){var v=this.parent();return this.__isSymbolOrInst()&&(!v||v&&!v.__isSymbol()&&!v.__getSymbol())}},{key:"__isSymbolNested",value:function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var v=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),b=this.__getSymbTop();return(b.__isSymbol()?b:b.__getSymbol())!==v}},{key:"__getAllById",value:function(){var v=this.em;return v?v.get("DomComponents").allById():{}}},{key:"__getSymbol",value:function(){var v=this.get(d);if(v&&(0,y.isString)(v)){var b=this.__getAllById()[v];b?(v=b,this.set(d,b)):v=0}return v}},{key:"__getSymbols",value:function(){var v=this,b=this.get(c);return b&&(0,y.isArray)(b)&&(b.forEach(function(a,f){a&&(0,y.isString)(a)&&(b[f]=v.__getAllById()[a])}),b=b.filter(function(a){return a&&!(0,y.isString)(a)})),b}},{key:"__isSymbOvrd",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=this.get(s),a=v.split(":"),f=(0,k.Z)(a,1),h=f[0],_=v!==h?[v,h]:[v];return b===!0||(0,y.isArray)(b)&&_.some(function(A){return b.indexOf(A)>=0})}},{key:"__getSymbToUp",value:function(){var v=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=[],f=this.em,h=b.changed,_=f&&f.config.symbols;if(b.fromInstance||b.noPropagate||b.fromUndo||!_||h&&this.__isSymbOvrd(h))return a;var A=this.__getSymbols()||[],J=this.__getSymbol(),te=J?[J].concat((0,w.Z)(J.__getSymbols()||[])):A;return a=te.filter(function(F){return F!==v}).filter(function(F){return!(h&&F.__isSymbOvrd(h))})}},{key:"__getSymbTop",value:function(v){for(var b=this,a=this.parent(v);a&&(a.__isSymbol()||a.__getSymbol());)b=a,a=a.parent(v);return b}},{key:"__upSymbProps",value:function(v){var b=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=this.changedAttributes(),h=f.attributes||{};if(delete f.status,delete f.open,delete f[c],delete f[d],delete f[s],delete f.attributes,delete h.id,(0,m.isEmptyObj)(h)||(f.attributes=h),!(0,m.isEmptyObj)(f)){var _=this.__getSymbToUp(a);(0,y.keys)(f).map(function(A){b.__isSymbOvrd(A)&&delete f[A]}),this.__logSymbol("props",_,{opts:a,changed:f}),_.forEach(function(A){var J=T({},f);(0,y.keys)(J).map(function(te){A.__isSymbOvrd(te)&&delete J[te]}),A.set(J,T({fromInstance:b},a))})}}},{key:"__upSymbCls",value:function(v,b){var a=this,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=this.__getSymbToUp(f);this.__logSymbol("classes",h,{opts:f}),h.forEach(function(_){_.set("classes",a.get("classes"),{fromInstance:a})}),this.__changesUp(f)}},{key:"__upSymbComps",value:function(v,b,a){var f=this,h=a||b||{},_={fromInstance:h.fromInstance,fromUndo:h.fromUndo},A=v.opt.temporary;if(a)if(a.add){var J=[],te=!!this.__getSymbols(),F=this.__getSymbToUp(T(T({},_),{},{changed:"components:add"}));if(F.length){var G=v.__getSymbol();J=(G?G.__getSymbols():v.__getSymbols())||[],(J=(0,w.Z)(J)).push(G||v)}!A&&this.__logSymbol("add",F,{opts:a,addedInstances:J.map(function(re){return re.cid}),added:v.cid}),F.forEach(function(re){var Te=re.__getSymbTop(),Re=J.filter(function(Fe){var it=Fe.__getSymbTop({prev:1});return Te&&it&&it===Te})[0]||v.clone({symbol:1,symbolInv:te});re.append(Re,T({fromInstance:f},a))})}else{var V=v.__getSymbol();if(V&&!a.temporary&&V.set(c,V.__getSymbols().filter(function(re){return re!==v})),!v.__isSymbolTop()){var le="components:remove",ve=a.index,Ne=v.parent(),Ze=T({fromInstance:v},a),Me=v.__isSymbolNested(),je=function(re){var Te=re.parent();Te&&!Te.__isSymbOvrd(le)&&re.remove(Ze)},ae=Ne.__isSymbOvrd(le)?[]:v.__getSymbToUp(_);Me&&(ae=Ne.__getSymbToUp(T(T({},_),{},{changed:le})),je=function(re){var Te=re.components().at(ve);Te&&Te.remove(T({fromInstance:Ne},Ze))}),!A&&this.__logSymbol("remove",ae,{opts:a,removed:v.cid,isSymbNested:Me}),ae.forEach(je)}}else{var be=this.__getSymbToUp(T(T({},_),{},{changed:"components:reset"}));this.__logSymbol("reset",be,{components:v.models}),be.forEach(function(re){var Te=v.models.map(function(Re){return Re.clone({symbol:1})});re.components().reset(Te,T({fromInstance:f},b))})}this.__changesUp(h)}},{key:"initClasses",value:function(v,b){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f="change:classes",h=this.get("attributes").class||[],_=[this,f,this.initClasses],A=this.get("classes")||h,J=(0,y.isString)(A)?A.split(" "):A;this.stopListening.apply(this,_);var te=this.normalizeClasses(J),F=new X.Z([]);return this.set("classes",F,a),F.add(te),F.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,_),this}},{key:"initComponents",value:function(){var v=[this,"change:components",this.initComponents];this.stopListening.apply(this,v);var b=new I.Z(null,this.opt);b.parent=this;var a=this.get("components"),f=!this.opt.avoidChildren;return this.set("components",b),f&&a&&b.add((0,y.isFunction)(a)?a(this):a,this.opt),b.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,v),this}},{key:"initTraits",value:function(v){var b=this.em,a="change:traits";this.off(a,this.initTraits),this.__loadTraits();var f=T({},this.get("attributes")),h=this.get("traits");return h.each(function(_){if(!_.get("changeProp")){var A=_.get("name"),J=_.getInitValue();A&&J&&(f[A]=J)}}),h.length&&this.set("attributes",f),this.on(a,this.initTraits),v&&b&&b.trigger("component:toggled"),this}},{key:"initScriptProps",value:function(){if(!this.opt.temporary){var v="script-props",b=["change:".concat(v),this.initScriptProps];this.off.apply(this,b);var a=this.previous(v)||[],f=this.get(v)||[],h=a.map(function(A){return"change:".concat(A)}).join(" "),_=f.map(function(A){return"change:".concat(A)}).join(" ");h&&this.off(h,this.__scriptPropsChange),_&&this.on(_,this.__scriptPropsChange),this.on.apply(this,b)}}},{key:"__scriptPropsChange",value:function(v,b){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};a.avoidStore||this.trigger("rerender")}},{key:"append",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(0,y.isArray)(v)?v:[v],f=a.map(function(_){return(0,y.isString)(_)||_.collection&&_.collection.remove(_,{temporary:1}),_}),h=this.components().add(f,b);return(0,y.isArray)(h)?h:[h]}},{key:"components",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.get("components");return(0,y.isUndefined)(v)?a:(a.reset(null,b),v?this.append(v,b):[])}},{key:"getChildAt",value:function(v){return this.components().at(v||0)||null}},{key:"getLastChild",value:function(){var v=this.components();return v.at(v.length-1)||null}},{key:"empty",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.components().reset(null,v),this}},{key:"parent",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=this.collection||v.prev&&this.prevColl;return b?b.parent:null}},{key:"parents",value:function(){var v=this.parent();return v?[v].concat(v.parents()):[]}},{key:"scriptUpdated",value:function(){this.set("scriptUpdated",1)}},{key:"initToolbar",value:function(){var v=this.em,b=this,a=v&&v.getConfig().stylePrefix||"";if(!b.get("toolbar")&&v){var f=[];b.collection&&f.push({label:v.getIcon("arrowUp"),command:function(h){return h.runCommand("core:component-exit",{force:1})}}),b.get("draggable")&&f.push({attributes:{class:"".concat(a,"no-touch-actions"),draggable:!0},label:v.getIcon("move"),command:"tlb-move"}),b.get("copyable")&&f.push({label:v.getIcon("copy"),command:"tlb-clone"}),b.get("removable")&&f.push({label:v.getIcon("delete"),command:"tlb-delete"}),b.set("toolbar",f)}}},{key:"__loadTraits",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=v||this.get("traits");if(!(a instanceof Z)){a=(0,y.isFunction)(a)?a(this):a;var f=new Z([],this.opt);f.setTarget(this),a.length&&(a.forEach(function(h){return h.attributes&&delete h.attributes.value}),f.add(a)),this.set({traits:f},b)}return this}},{key:"getTraits",value:function(){return this.__loadTraits(),(0,w.Z)(this.get("traits").models)}},{key:"setTraits",value:function(v){var b=(0,y.isArray)(v)?v:[v];return this.set({traits:b}),this.getTraits()}},{key:"getTrait",value:function(v){return this.getTraits().filter(function(b){return b.get("id")===v||b.get("name")===v})[0]||null}},{key:"updateTrait",value:function(v,b){var a,f=this.getTrait(v);return f&&f.set(b),(a=this.em)===null||a===void 0||a.trigger("component:toggled"),this}},{key:"getTraitIndex",value:function(v){var b=this.getTrait(v);return b?this.get("traits").indexOf(b):-1}},{key:"removeTrait",value:function(v){var b,a=this,f=((0,y.isArray)(v)?v:[v]).map(function(A){return a.getTrait(A)}),h=this.get("traits"),_=f.length?h.remove(f):[];return(b=this.em)===null||b===void 0||b.trigger("component:toggled"),(0,y.isArray)(_)?_:[_]}},{key:"addTrait",value:function(v){var b,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__loadTraits();var f=this.get("traits").add(v,a);return(b=this.em)===null||b===void 0||b.trigger("component:toggled"),(0,y.isArray)(f)?f:[f]}},{key:"normalizeClasses",value:function(v){var b=[],a=this.em,f=a&&a.get("SelectorManager");if(f)return v.models?(0,w.Z)(v.models):(v.forEach(function(h){return b.push(f.add(h))}),b)}},{key:"clone",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=this.em,a=T({},this.attributes),f=T({},this.opt),h=this.getId(),_=b&&b.get("CssComposer");a.attributes=T({},a.attributes),delete a.attributes.id,a.components=[],a.classes=[],a.traits=[],this.__isSymbolTop()&&(v.symbol=1),this.get("components").each(function(le,ve){a.components[ve]=le.clone(T(T({},v),{},{_inner:1}))}),this.get("traits").each(function(le,ve){a.traits[ve]=le.clone()}),this.get("classes").each(function(le,ve){a.classes[ve]=le.get("name")}),a.status="",f.collection=null;var A=new this.constructor(a,f),J="#".concat(A.getId()),te=_?_.getRules("#".concat(h)):[];te.forEach(function(le){var ve=le.clone();ve.set("selectors",[J]),_.getAll().add(ve)}),A.set(c,0);var F=this.__getSymbol(),G=this.__getSymbols();v.symbol||!F&&!G?F?(F.set(c,[].concat((0,w.Z)(F.__getSymbols()),[A])),A.__initSymb()):v.symbol&&(this.__isSymbol()?(this.set(c,[].concat((0,w.Z)(G),[A])),A.set(d,this),A.__initSymb()):v.symbolInv?(this.set(c,[A]),A.set(d,this),[this,A].map(function(le){return le.__initSymb()})):(A.set(c,[this]),[this,A].map(function(le){return le.__initSymb()}),this.set(d,A))):(A.set(d,0),A.set(c,0));var V="component:clone";return b&&b.trigger(V,A),this.trigger(V,A),A}},{key:"getName",value:function(){var v=this.em,b=this.attributes,a=b.type,f=b.tagName,h=b.name,_=a||f,A=!a&&f,J="domComponents.names.",te=h&&(v==null?void 0:v.t("".concat(J).concat(h))),F=A&&(v==null?void 0:v.t("".concat(J).concat(A))),G=v&&(v.t("".concat(J).concat(a))||v.t("".concat(J).concat(f)));return this.get("custom-name")||te||h||F||(0,m.capitalize)(A)||G||(0,m.capitalize)(_)}},{key:"getIcon",value:function(){var v=this.get("icon");return v?v+" ":""}},{key:"toHTML",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=this,a=[],f=v.tag,h=f||b.get("tagName"),_=b.get("void"),A=v.attributes,J=this.getAttrToHTML();if(delete v.tag,A&&((0,y.isFunction)(A)?J=A(b,J)||{}:(0,m.isObject)(A)&&(J=A)),v.withProps){var te=this.toJSON();(0,y.forEach)(te,function(Me,je){je[0]!=="_"&&["classes","attributes","components"].indexOf(je)<0&&(J["data-gjs-".concat(je)]=(0,y.isArray)(Me)||(0,m.isObject)(Me)?JSON.stringify(Me):Me)})}for(var F in J){var G=J[F];if(!(0,y.isUndefined)(G)&&G!==null)if((0,y.isBoolean)(G))G&&a.push(F);else{var V="";if(v.altQuoteAttr&&(0,y.isString)(G)&&G.indexOf('"')>=0)V="'".concat(G.replace(/'/g,"&apos;"),"'");else{var le=(0,y.isString)(G)?G.replace(/"/g,"&quot;"):G;V='"'.concat(le,'"')}a.push("".concat(F,"=").concat(V))}}var ve=a.length?" ".concat(a.join(" ")):"",Ne=b.getInnerHTML(v),Ze="<".concat(h).concat(ve).concat(_?"/":"",">").concat(Ne);return!_&&(Ze+="</".concat(h,">")),Ze}},{key:"getInnerHTML",value:function(v){return this.__innerHTML(v)}},{key:"__innerHTML",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=this.components();return b.length?b.map(function(a){return a.toHTML(v)}).join(""):this.get("content")}},{key:"getAttrToHTML",value:function(){var v=this.getAttributes();return delete v.style,v}},{key:"toJSON",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=S.Model.prototype.toJSON.call(this,v);if(b.attributes=this.getAttributes(),delete b.attributes.class,delete b.toolbar,delete b.traits,delete b.status,delete b.open,!v.fromUndo){var a=b[d],f=b[c];f&&(0,y.isArray)(f)&&(b[c]=f.filter(function(h){return h}).map(function(h){return h.getId?h.getId():h})),a&&!(0,y.isString)(a)&&(b[d]=a.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(b),b}},{key:"getChangedProps",value:function(v){var b=v||S.Model.prototype.toJSON.apply(this),a=(0,y.result)(this,"defaults");return(0,y.forEach)(a,function(f,h){["type"].indexOf(h)===-1&&b[h]===f&&delete b[h]}),(0,y.isEmpty)(b.type)&&delete b.type,(0,y.forEach)(["attributes","style"],function(f){(0,y.isEmpty)(a[f])&&(0,y.isEmpty)(b[f])&&delete b[f]}),(0,y.forEach)(["classes","components"],function(f){(!b[f]||(0,y.isEmpty)(a[f])&&!b[f].length)&&delete b[f]}),b}},{key:"getId",value:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid}},{key:"setId",value:function(v,b){var a=T({},this.get("attributes"));return a.id=v,this.set("attributes",a,b),this}},{key:"getEl",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,b=this.getView(v);return b&&b.el}},{key:"getView",value:function(v){var b=this.view,a=this.views;return v&&(b=a.filter(function(f){return f._getFrame()===v.view})[0]),b}},{key:"getCurrentView",value:function(){var v=(this.em.get("currentFrame")||{}).model;return this.getView(v)}},{key:"__getScriptProps",value:function(){var v=this.props();return(this.get("script-props")||[]).reduce(function(b,a){return b[a]=v[a],b},{})}},{key:"getScriptString",value:function(v){var b=this,a=v||this.get("script");if(!a)return a;if(this.get("script-props"))a=a.toString().trim();else{if(typeof a=="function"){var f=a.toString().trim();a=(f=f.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var h=this.em.getConfig(),_=U(h.tagVarStart||"{[ "),A=U(h.tagVarEnd||" ]}"),J=new RegExp("".concat(_,"([\\w\\d-]*)").concat(A),"g");a=a.replace(J,function(te,F){b.scriptUpdated();var G=b.attributes[F]||"";return(0,y.isArray)(G)||(0,ie.Z)(G)=="object"?JSON.stringify(G):G})}return a}},{key:"emitUpdate",value:function(v){for(var b=this.em,a=p+(v?":".concat(v):""),f=v&&this.get(v),h=arguments.length,_=new Array(h>1?h-1:0),A=1;A<h;A++)_[A-1]=arguments[A];v&&this.updated.apply(this,[v,f,v&&this.previous(v)].concat(_)),this.trigger.apply(this,[a].concat(_)),b&&b.trigger.apply(b,[a,this].concat(_)),["components","classes"].indexOf(v)>=0&&this.__propSelfToParent({component:this,changed:{[v]:f},options:_[2]||_[1]||{}})}},{key:"onAll",value:function(v){return(0,y.isFunction)(v)&&(v(this),this.components().forEach(function(b){return b.onAll(v)})),this}},{key:"remove",value:function(){var v=this,b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=this.em,f=this.collection,h=function(){f&&f.remove(v,T(T({},b),{},{action:"remove-component"})),f||(v.components("",b),v.components().removeChildren(v,null,b))},_=T({},b);return[this,a].map(function(A){return A.trigger("component:remove:before",v,h,_)}),!_.abort&&h(),this}},{key:"move",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(v){var a=b.at,f=this.index(),h=v===this.parent(),_=f===a||f===a-1;h&&_||(h&&a&&a>f&&(b.at=a-1),this.remove({temporary:1}),v.append(this,b),this.emitUpdate())}return this}},{key:"isInstanceOf",value:function(v){var b,a,f=(b=this.em)===null||b===void 0||(a=b.get("DomComponents").getType(v))===null||a===void 0?void 0:a.model;return!!f&&this instanceof f}},{key:"isChildOf",value:function(v){for(var b=(0,y.isString)(v),a=this.parent();a;){if(b){if(a.isInstanceOf(v))return!0}else if(a===v)return!0;a=a.parent()}return!1}},{key:"resetId",value:function(){var v=this.em,b=this.getId();if(b){var a=R.createId(this);this.setId(a);var f=v&&v.get("CssComposer").getIdRule(b),h=f&&f.get("selectors").at(0);return h&&h.set("name",a),this}}},{key:"_getStyleRule",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=v.id,a=this.em,f=b||this.getId();return a&&a.get("CssComposer").getIdRule(f)}},{key:"_getStyleSelector",value:function(v){var b=this._getStyleRule(v);return b&&b.get("selectors").at(0)}},{key:"_idUpdated",value:function(v,b){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!a.idUpdate){var f=this.ccid,h=this.get("attributes")||{},_=h.id,A=(this.previous("attributes")||{}).id||f,J=R.getList(this);if(J[_]||!_&&A)return this.setId(A,{idUpdate:1});delete J[A],J[_]=this,this.ccid=_;var te=this._getStyleSelector({id:A});te&&te.set({name:_,label:_})}}}]),R}(g.Z);K.getDefaults=function(){return(0,y.result)(this.prototype,"defaults")},K.isComponent=function(Q){return{tagName:(0,m.toLowerCase)(Q.tagName)}},K.ensureInList=function(Q){var ne=K.getList(Q),R=Q.getId(),v=ne[R];if(v){if(v!==Q){var b=K.getIncrementId(R,ne);Q.setId(b),ne[b]=Q}}else ne[R]=Q;Q.components().forEach(function(a){return K.ensureInList(a)})},K.createId=function(Q){var ne,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=K.getList(Q),b=R.idMap,a=b===void 0?{}:b,f=Q.get("attributes"),h=f.id;return h?(ne=K.getIncrementId(h,v,R),Q.setId(ne),h!==ne&&(a[h]=ne)):ne=K.getNewId(v),v[ne]=Q,ne},K.getNewId=function(Q){for(var ne=Object.keys(Q).length.toString().length+2,R=(Math.random()+1.1).toString(36).slice(-ne),v="i".concat(R);Q[v];)v=K.getNewId(Q);return v},K.getIncrementId=function(Q,ne){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=R.keepIds,b=v===void 0?[]:v,a=1,f=Q;if(b.indexOf(Q)<0)for(;ne[f];)a++,f="".concat(Q,"-").concat(a);return f},K.getList=function(Q){var ne=Q.opt,R=ne===void 0?{}:ne,v=R.domc,b=R.em,a=v||b&&b.get("DomComponents");return a?a.componentsById:{}},K.checkId=function(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=(0,y.isArray)(Q)?Q:[Q],a=v.keepIds,f=a===void 0?[]:a;b.forEach(function(h){var _=h.attributes,A=_===void 0?{}:_,J=h.components,te=A.id;if(te&&R[te]&&f.indexOf(te)<0){var F=K.getIncrementId(te,R);A.id=F,(0,y.isArray)(ne)&&ne.forEach(function(G){var V=G.selectors;V.forEach(function(le,ve){le==="#".concat(te)&&(V[ve]="#".concat(F))})})}J&&K.checkId(J,ne,R,v)})}},8431:(ge,_e,z)=>{z.d(_e,{Z:()=>se});var ie=z(1002),w=z(2982),k=z(5671),$=z(3144),D=z(7326),q=z(9340),l=z(2963),P=z(1120),N=z(4942),C=z(4925),y=z(2316),m=z.n(y),g=z(9050),S=z(9138),I=["id","draggable"],H=["at"];function X(Z){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var T,j=(0,P.Z)(Z);if(B){var U=(0,P.Z)(this).constructor;T=Reflect.construct(j,arguments,U)}else T=j.apply(this,arguments);return(0,l.Z)(this,T)}}function Y(Z,B){var T=Object.keys(Z);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(Z);B&&(j=j.filter(function(U){return Object.getOwnPropertyDescriptor(Z,U).enumerable})),T.push.apply(T,j)}return T}function x(Z){for(var B=1;B<arguments.length;B++){var T=arguments[B]!=null?arguments[B]:{};B%2?Y(Object(T),!0).forEach(function(j){(0,N.Z)(Z,j,T[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(T)):Y(Object(T)).forEach(function(j){Object.defineProperty(Z,j,Object.getOwnPropertyDescriptor(T,j))})}return Z}var W=function Z(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!B)return[];var j=(0,g.isArray)(B)||(0,g.isFunction)(B.map)?B:[B];return j.map(function(U){T.push(U.getId()),Z(U.components().models,T)}),T},oe=function Z(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};j.visitedCmps=j.visitedCmps||{};var U=j.visitedCmps,E=(0,g.isArray)(B)?B:[B];return E.map(function(M){var c=M.attributes,d=c===void 0?{}:c,s=M.components,p=M.tagName,O=d.id,K=(d.draggable,(0,C.Z)(d,I)),Q=M;if(O&&(U[O]?(U[O].push(Q),O=S.ZP.getNewId(T),Q.attributes.id=O):(U[O]=[],T[O]&&(Q=T[O],p&&Q.set({tagName:p},x(x({},j),{},{silent:!0})),(0,g.keys)(K).length&&Q.addAttributes(K,x({},j))))),s){var ne=Z(s,T);if((0,g.isFunction)(Q.components)){var R=Q.components();R.length>0&&R.reset(ne,j)}else Q.components=ne}return Q})},se=function(Z){(0,q.Z)(T,Z);var B=X(T);function T(){var j;(0,k.Z)(this,T);for(var U=arguments.length,E=new Array(U),M=0;M<U;M++)E[M]=arguments[M];return j=B.call.apply(B,[this].concat(E)),(0,N.Z)((0,D.Z)(j),"__onAddEnd",(0,g.debounce)(function(){})),j}return(0,$.Z)(T,[{key:"initialize",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.opt=U,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var E=U.em,M=U.config;this.config=M,this.em=E,this.domc=U.domc||E&&E.get("DomComponents")}},{key:"resetChildren",value:function(j){var U=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=this,c=E.previousModels||[],d=c.filter(function(p){return!j.get(p.cid)}),s=W(j);E.keepIds=W(c).filter(function(p){return s.indexOf(p)>=0}),d.forEach(function(p){return U.removeChildren(p,M,E)}),j.each(function(p){return U.onAdd(p)})}},{key:"resetFromString",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};U.keepIds=W(this);var E=this.domc,M=this.em,c=this.parent,d=M==null?void 0:M.get("CssComposer"),s=(E==null?void 0:E.allById())||{},p=this.parseString(j,U),O=oe(p,s,U),K=U.visitedCmps,Q=K===void 0?{}:K;Object.keys(Q).forEach(function(ne){var R=Q[ne];if(R.length){var v=(d==null?void 0:d.getRules("#".concat(ne)))||[];v.length&&R.forEach(function(b){v.forEach(function(a){var f=a.clone();f.set("selectors",["#".concat(b.attributes.id)]),d.getAll().add(f)})})}}),this.reset(O,U),M==null||M.trigger("component:content",c,U,j)}},{key:"removeChildren",value:function(j,U){var E=this,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(j){var c=this.domc,d=this.em,s=M.temporary||M.fromUndo;if(j.prevColl=this,!s){var p=j.getId(),O=d.get("SelectorManager").getAll(),K=d.get("CssComposer").getAll(),Q=(M.keepIds||[]).indexOf(p)<0,ne=c?c.allById():{};delete ne[p];var R=Q?K.remove(K.filter(function(a){return a.getSelectors().getFullString()==="#".concat(p)}),M):[];O.remove(R.map(function(a){return a.getSelectors().at(0)})),j.opt.temporary||(d.get("Commands").run("core:component-style-clear",{target:j}),j.removed(),j.trigger("removed"),d.trigger("component:remove",j));var v=j.components();v.forEach(function(a){return E.removeChildren(a,U,M)})}var b=j.components();d.stopListening(b),d.stopListening(j),d.stopListening(j.get("classes")),j.__postRemove()}}},{key:"model",value:function(j,U){var E,M=U.collection.opt,c=M.em,d=c.get("DomComponents").componentTypes;U.em=c,U.config=M.config,U.componentTypes=d,U.domc=M.domc;for(var s=0;s<d.length;s++)if(d[s].id==j.type){E=d[s].model;break}return E||(E=d[d.length-1].model,c&&j.type&&c.logWarning("Component type '".concat(j.type,"' not found"),{attrs:j,options:U})),new E(j,U)}},{key:"parseString",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=this.em,M=this.domc,c=E.get("CssComposer"),d=E.get("Parser").parseHtml(j);if(S.ZP.checkId(d.html,d.css,M.componentsById,U),d.css&&c&&!U.temporary){U.at;var s=(0,C.Z)(U,H);c.addCollection(d.css,x(x({},s),{},{extend:1}))}return d.html}},{key:"add",value:function(j){var U=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E.keepIds=[].concat((0,w.Z)(E.keepIds||[]),(0,w.Z)(W(E.previousModels))),(0,g.isString)(j)?j=this.parseString(j,E):(0,g.isArray)(j)&&(j=(0,w.Z)(j)).forEach(function(d,s){if((0,g.isString)(d)){var p=U.parseString(d,E);j[s]=(0,g.isArray)(p)&&!p.length?null:p}});var M=(0,g.isArray)(j);j=(M?j:[j]).filter(function(d){return d}).map(function(d){return U.processDef(d)}),j=M?(0,g.flatten)(j,1):j[0];var c=m().Collection.prototype.add.apply(this,[j,E]);return this.__firstAdd=c,c}},{key:"processDef",value:function(j){if(j.cid&&j.ccid)return j;var U=this.em,E=this.config,M=(E===void 0?{}:E).processor,c=j;if(M){var d=M(c=x({},c));d&&((0,g.each)(c,function(ne,R){return delete c[R]}),(0,g.extend)(c,d))}if(c.$$typeof&&(0,ie.Z)(c.props)=="object"){(c=x({},c)).props=x({},c.props);var s=U.get("DomComponents"),p=U.get("Parser").parserHtml;(0,g.each)(c,function(ne,R){(0,g.includes)(["props","type"],R)||delete c[R]});var O=c.props,K=O.children;delete O.children,delete c.props;var Q=p.splitPropsFromAttr(O);c.attributes=Q.attrs,K&&(c.components=K),c.type?s.getType(c.type)||(c.tagName=c.type,delete c.type):c.type="textnode",(0,g.extend)(c,Q.props)}return c}},{key:"onAdd",value:function(j,U){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=this.domc,c=this.em,d=j.getStyle(),s=c&&c.getConfig().avoidInlineStyle;if(M&&M.Component.ensureInList(j),!(0,g.isEmpty)(d)&&!s&&c&&c.get&&c.getConfig().forceClass&&!E.temporary){var p=j.cid;c.get("CssComposer").setClassRule(p,d),j.setStyle({}),j.addClass(p)}j.__postAdd({recursive:1}),this.__onAddEnd()}}]),T}(m().Collection)},2169:(ge,_e,z)=>{z.d(_e,{Z:()=>Y});var ie=z(4942),w=z(5671),k=z(3144),$=z(9340),D=z(2963),q=z(1120),l=z(2316),P=z.n(l),N=z(9050),C=z(8431),y=z(3505),m=z(966),g=z(9283),S=z(1163);function I(x,W){var oe=Object.keys(x);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(x);W&&(se=se.filter(function(Z){return Object.getOwnPropertyDescriptor(x,Z).enumerable})),oe.push.apply(oe,se)}return oe}function H(x){for(var W=1;W<arguments.length;W++){var oe=arguments[W]!=null?arguments[W]:{};W%2?I(Object(oe),!0).forEach(function(se){(0,ie.Z)(x,se,oe[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(oe)):I(Object(oe)).forEach(function(se){Object.defineProperty(x,se,Object.getOwnPropertyDescriptor(oe,se))})}return x}function X(x){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var oe,se=(0,q.Z)(x);if(W){var Z=(0,q.Z)(this).constructor;oe=Reflect.construct(se,arguments,Z)}else oe=se.apply(this,arguments);return(0,D.Z)(this,oe)}}var Y=function(x){(0,$.Z)(oe,x);var W=X(oe);function oe(){return(0,w.Z)(this,oe),W.apply(this,arguments)}return(0,k.Z)(oe,[{key:"className",value:function(){return this.getClasses()}},{key:"tagName",value:function(){return this.model.get("tagName")}},{key:"initialize",value:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=this.model,B=se.config||{},T=B.em,j=Z.opt||{},U=this.$el,E=this.el;this.opts=se,this.modelOpt=j,this.config=B,this.em=T||"",this.pfx=B.stylePrefix||"",this.ppfx=B.pStylePrefix||"",this.attr=Z.get("attributes"),this.classe=this.attr.class||[],this.listenTo(Z,"change:style",this.updateStyle),this.listenTo(Z,"change:attributes",this.renderAttributes),this.listenTo(Z,"change:highlightable",this.updateHighlight),this.listenTo(Z,"change:status change:locked",this.updateStatus),this.listenTo(Z,"change:script rerender",this.reset),this.listenTo(Z,"change:content",this.updateContent),this.listenTo(Z,"change",this.handleChange),this.listenTo(Z,"active",this.onActive),this.listenTo(Z,"disable",this.onDisable),U.data("model",Z),(0,S.setViewEl)(E,this),Z.view=this,this._getFrame()&&Z.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=H(H({},this.constructor.getEvents()),{},{dragstart:"handleDragStart"}),this.delegateEvents(),!j.temporary&&this.init(this._clbObj())}},{key:"__isDraggable",value:function(){var se=this.model,Z=this.config,B=se.attributes.draggable;return Z.draggableComponents&&B}},{key:"_clbObj",value:function(){var se=this.em,Z=this.model,B=this.el;return{editor:se&&se.getEditor(),model:Z,el:B}}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onActive",value:function(){}},{key:"onDisable",value:function(){}},{key:"remove",value:function(){var se;P().View.prototype.remove.apply(this,arguments);var Z=this.model,B=this.$el,T=Z.views,j=this._getFrame()||{};return Z.components().forEach(function(U){var E=U.getView(j.model);E==null||E.remove()}),(se=this.childrenView)===null||se===void 0||se.remove(),T.splice(T.indexOf(this),1),this.removed(this._clbObj()),B.data({model:"",collection:"",view:""}),this}},{key:"handleDragStart",value:function(se){if(!this.__isDraggable())return!1;se.stopPropagation(),se.preventDefault(),this.em.get("Commands").run("tlb-move",{target:this.model,event:se})}},{key:"initClasses",value:function(){var se=this.model,Z="change:classes",B=se.get("classes");B instanceof m.Z&&(this.stopListening(se,Z,this.initClasses),this.listenTo(se,Z,this.initClasses),this.listenTo(B,"add remove change",this.updateClasses),B.length&&this.importClasses())}},{key:"initComponents",value:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=this.model,B=this.$el,T=this.childrenView,j="change:components",U=Z.get("components"),E=[Z,j,this.initComponents];U instanceof C.Z&&(B.data("collection",U),T&&T.remove(),this.stopListening.apply(this,E),!se.avoidRender&&this.renderChildren(),this.listenTo.apply(this,E))}},{key:"handleChange",value:function(){var se=this.model,Z=(0,N.keys)(se.changed);if(Z.length!==1||Z[0]!=="status")for(var B in se.emitUpdate(),se.changed)se.emitUpdate(B)}},{key:"importClasses",value:function(){var se=this.config.em.get("SelectorManager");se&&this.model.get("classes").each(function(Z){se.add(Z.get("name"))})}},{key:"updateStatus",value:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=this.em,B=this.el,T=this.ppfx,j=this.model,U=Z?Z.get("Canvas").getConfig():{},E=U.extHl,M=j.get("status"),c="".concat(T,"selected"),d="".concat(c,"-parent"),s="".concat(T,"freezed"),p="".concat(T,"hovered"),O="".concat(T,"no-pointer"),K=[c,d,s,p,O],Q=E&&!se.noExtHl?"":c;this.$el.removeClass(K.join(" "));var ne=B.getAttribute("class")||"",R=[ne];switch(M){case"selected":R.push(Q);break;case"selected-parent":R.push(d);break;case"freezed":R.push(s);break;case"freezed-selected":R.push(s,Q);break;case"hovered":!se.avoidHover&&R.push(p)}j.get("locked")&&R.push(O);var v=R.filter(Boolean).join(" ");v&&B.setAttribute("class",v)}},{key:"updateHighlight",value:function(){var se=this.model,Z=se.get("textable"),B=se.get("highlightable")&&(Z||!se.isChildOf("text"));this.setAttribute("data-gjs-highlightable",!!B||"")}},{key:"updateStyle",value:function(se,Z){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=this.model,j=this.em;if(j&&j.getConfig().avoidInlineStyle&&!B.inline){var U=T.getStyle();!(0,N.isEmpty)(U)&&T.setStyle(U)}else this.setAttribute("style",T.styleToString(B))}},{key:"updateClasses",value:function(){var se=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",se),this.updateStatus(),this.onAttrUpdate()}},{key:"setAttribute",value:function(se,Z){var B=this.$el;Z?B.attr(se,Z):B.removeAttr(se)}},{key:"getClasses",value:function(){return this.model.getClasses().join(" ")}},{key:"updateAttributes",value:function(){var se=[],Z=this.model,B=this.$el,T=this.el,j=Z.attributes,U=j.textable,E=j.type,M=H(H({id:Z.getId(),"data-gjs-type":E||"default"},this.__isDraggable()&&{draggable:!0}),U&&{contenteditable:"false"});(0,N.each)(T.attributes,function(d){return se.push(d.nodeName)}),se.forEach(function(d){return B.removeAttr(d)}),this.updateStyle(),this.updateHighlight();var c=H(H({},M),Z.getAttributes());(0,N.keys)(c).forEach(function(d){return c[d]===!1&&delete c[d]}),B.attr(c)}},{key:"updateContent",value:function(){var se=this.model.get("content"),Z=this.model.components().length;this.getChildrenContainer().innerHTML=Z?"":se}},{key:"prevDef",value:function(se){se.preventDefault()}},{key:"updateScript",value:function(){var se=this.model,Z=this.em;se.get("script")&&Z&&Z.get("Canvas").getCanvasView().updateScript(this)}},{key:"getChildrenContainer",value:function(){var se=this.el;return typeof this.getChildrenSelector=="function"?se=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,se}},{key:"getOffsetRect",value:function(){var se={},Z=this.el,B=0,T=0;return function j(U){var E=U.offsetParent;E?(B+=E.offsetTop,T+=E.offsetLeft,j(E)):(se.top=Z.offsetTop+B,se.left=Z.offsetLeft+T,se.bottom=se.top+Z.offsetHeight,se.right=se.left+Z.offsetWidth)}(Z),se}},{key:"isInViewport",value:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=se.rect,B=this.el,T=B.ownerDocument,j=T.body,U=T.defaultView.frameElement,E=Z||this.getOffsetRect(),M=E.top,c=E.left,d=this._getFrame().getOffsetRect();return M>=d.scrollTop&&c>=d.scrollLeft&&M<=d.scrollBottom&&c<=U.offsetWidth+j.scrollLeft}},{key:"scrollIntoView",value:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=this.getOffsetRect(),B=this.isInViewport({rect:Z});if(!B||se.force){var T=this.el;se.behavior!=="smooth"?T.ownerDocument.defaultView.scrollTo(0,Z.top):T.scrollIntoView(H({behavior:"smooth",block:"nearest"},se))}}},{key:"reset",value:function(){var se=this.el;this.el="",this._ensureElement(),this._setData(),(0,g.dL)(se,this.el),this.render()}},{key:"_setData",value:function(){var se=this.model,Z=se.components();this.$el.data({model:se,collection:Z,view:this})}},{key:"_getFrame",value:function(){var se;return(se=this.config.em)===null||se===void 0?void 0:se.get("Canvas").config.frameView}},{key:"renderChildren",value:function(){this.updateContent();var se=this.getChildrenContainer(),Z=this.childrenView||new y.Z({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});Z.render(se),this.childrenView=Z;for(var B=Array.prototype.slice.call(Z.el.childNodes),T=0,j=B.length;T<j;T++)se.appendChild(B.shift())}},{key:"renderAttributes",value:function(){this.updateAttributes(),this.updateClasses()}},{key:"onAttrUpdate",value:function(){}},{key:"render",value:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),(0,S.setViewEl)(this.el,this),this.postRender()),this}},{key:"postRender",value:function(){this.modelOpt.temporary||this.onRender(this._clbObj())}},{key:"onRender",value:function(){}}]),oe}(P().View);Y.getEvents=function(){return(0,N.result)(this.prototype,"events")}},3505:(ge,_e,z)=>{z.d(_e,{Z:()=>y});var ie=z(5671),w=z(3144),k=z(9340),$=z(2963),D=z(1120),q=z(2316),l=z.n(q),P=z(9050),N=z(9283);function C(m){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,I=(0,D.Z)(m);if(g){var H=(0,D.Z)(this).constructor;S=Reflect.construct(I,arguments,H)}else S=I.apply(this,arguments);return(0,$.Z)(this,S)}}var y=function(m){(0,k.Z)(S,m);var g=C(S);function S(){return(0,ie.Z)(this,S),g.apply(this,arguments)}return(0,w.Z)(S,[{key:"initialize",value:function(I){this.opts=I||{},this.config=I.config||{},this.em=this.config.em;var H=this.collection;this.listenTo(H,"add",this.addTo),this.listenTo(H,"reset",this.resetChildren),this.listenTo(H,"remove",this.removeChildren)}},{key:"removeChildren",value:function(I,H){var X=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};I.views.forEach(function(W){if(W){var oe=W.childrenView,se=W.scriptContainer;oe&&oe.stopListening(),(0,N.L_)(se),W.remove.apply(W)}});var x=I.components();x.forEach(function(W){return X.removeChildren(W,H,Y)})}},{key:"addTo",value:function(I){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=this.config.em,Y=this.collection.indexOf(I);if(this.addToCollection(I,null,Y),X&&!H.temporary){var x=function W(oe){X.trigger("component:add",oe),oe.components().forEach(function(se){return W(se)})};x(I)}}},{key:"addToCollection",value:function(I,H,X){this.compView||(this.compView=z(2169).Z);for(var Y=this.config,x=this.opts,W=this.em,oe=H||null,se=Y.frameView,Z=se===void 0?{}:se,B=Z.model&&I.getView(Z.model),T=x.componentTypes||W&&W.get("DomComponents").getTypes(),j=I.get("type")||"default",U=this.compView,E=0;E<T.length;E++)if(T[E].id==j){U=T[E].view;break}var M,c=B||new U({model:I,config:Y,componentTypes:T});try{M=c.render().el}catch(O){M=document.createTextNode(""),W.logError(O)}if(oe)oe.appendChild(M);else{var d=this.parentEl,s=d.childNodes;if((0,P.isUndefined)(X))d.appendChild(M);else{var p=s.length==X;p&&X--,p||!s.length?d.appendChild(M):d.insertBefore(M,s[X])}}return I.opt.temporary||W==null||W.trigger("component:mount",I),M}},{key:"resetChildren",value:function(I){var H=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=X.previousModels,x=Y===void 0?[]:Y;this.parentEl.innerHTML="",x.forEach(function(W){return H.removeChildren(W,H.collection)}),I.each(function(W){return H.addToCollection(W)})}},{key:"render",value:function(I){var H=this,X=this.el,Y=document.createDocumentFragment();return this.parentEl=I||this.el,this.collection.each(function(x){return H.addToCollection(x,Y)}),X.innerHTML="",X.appendChild(Y),this}}]),S}(l().View)},9524:(ge,_e,z)=>{z.d(_e,{Z:()=>I});var ie=z(4942),w=z(5671),k=z(3144),$=z(9340),D=z(2963),q=z(1120),l=z(9050),P=z(1163),N=z(5311),C=z(2316);function y(H,X){var Y=Object.keys(H);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(H);X&&(x=x.filter(function(W){return Object.getOwnPropertyDescriptor(H,W).enumerable})),Y.push.apply(Y,x)}return Y}function m(H){for(var X=1;X<arguments.length;X++){var Y=arguments[X]!=null?arguments[X]:{};X%2?y(Object(Y),!0).forEach(function(x){(0,ie.Z)(H,x,Y[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(Y)):y(Object(Y)).forEach(function(x){Object.defineProperty(H,x,Object.getOwnPropertyDescriptor(Y,x))})}return H}function g(H){var X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,x=(0,q.Z)(H);if(X){var W=(0,q.Z)(this).constructor;Y=Reflect.construct(x,arguments,W)}else Y=x.apply(this,arguments);return(0,D.Z)(this,Y)}}var S=(0,N.Z)(),I=function(H){(0,$.Z)(Y,H);var X=g(Y);function Y(){return(0,w.Z)(this,Y),X.apply(this,arguments)}return(0,k.Z)(Y,[{key:"parseStyle",value:function(x){return S.parseStyle(x)}},{key:"extendStyle",value:function(x){return m(m({},this.getStyle()),x)}},{key:"getStyle",value:function(x){var W=m({},this.get("style")||{});return x&&(0,l.isString)(x)?W[x]:W}},{key:"setStyle",value:function(){var x=this,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,l.isString)(W)&&(W=this.parseStyle(W));var se=this.getStyle(oe),Z=m({},W),B=m({},Z);(0,l.keys)(B).forEach(function(j){B[j]===""&&delete B[j]}),this.set("style",B,oe);var T=(0,P.shallowDiff)(se,Z);return delete T.__p,(0,l.keys)(T).forEach(function(j){var U=x.em;oe.noEvent||(x.trigger("change:style:".concat(j)),U&&(U.trigger("styleable:change",x,j,oe),U.trigger("styleable:change:".concat(j),x,j,oe)))}),Z}},{key:"addStyle",value:function(x){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof x=="string"?x={prop:W}:oe=W||{},x=this.extendStyle(x),this.setStyle(x,oe)}},{key:"removeStyle",value:function(x){var W=this.getStyle();delete W[x],this.setStyle(W)}},{key:"styleToString",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=[],oe=this.getStyle(x);for(var se in oe){var Z=x.important,B=(0,l.isArray)(Z)?Z.indexOf(se)>=0:Z,T="".concat(oe[se]).concat(B?" !important":""),j=se.substr(0,2)=="__";T&&!j&&W.push("".concat(se,":").concat(T,";"))}return W.join("")}},{key:"getSelectors",value:function(){return this.get("selectors")||this.get("classes")}},{key:"getSelectorsString",value:function(x){return this.selectorsToString?this.selectorsToString(x):this.getSelectors().getFullString()}},{key:"_validate",value:function(x,W){return!0}}]),Y}(C.Model)},793:(ge,_e,z)=>{z.d(_e,{Z:()=>q});var ie=z(4942),w=z(9050),k=z(2316);function $(l,P){var N=Object.keys(l);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(l);P&&(C=C.filter(function(y){return Object.getOwnPropertyDescriptor(l,y).enumerable})),N.push.apply(N,C)}return N}function D(l){for(var P=1;P<arguments.length;P++){var N=arguments[P]!=null?arguments[P]:{};P%2?$(Object(N),!0).forEach(function(C){(0,ie.Z)(l,C,N[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(N)):$(Object(N)).forEach(function(C){Object.defineProperty(l,C,Object.getOwnPropertyDescriptor(N,C))})}return l}const q={types:[],initialize:function(l){var P=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=N.em;this.em=C,this.opts=N,this.model=function(){var m,g,S,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I&&I.type){var X=P.getBaseType();m=(S=P.getType(I.type))?S.model:X.model,g=S?S.view:X.view}else{var Y=P.recognizeType(I);m=(S=Y.type).model,g=S.view,I=Y.attributes}var x=new m(I,D(D({},H),{},{em:C}));return x.typeView=g,x};var y=this.init&&this.init.bind(this);y&&y()},recognizeType:function(l){for(var P=this.getTypes(),N=0;N<P.length;N++){var C=P[N],y=C.isType(l);if(y=typeof y=="boolean"&&y?{type:C.id}:y)return{type:C,attributes:y}}return{type:this.getBaseType(),attributes:l}},getBaseType:function(){var l=this.getTypes();return l[l.length-1]},getTypes:function(){return this.types},getType:function(l){for(var P=this.getTypes(),N=0;N<P.length;N++){var C=P[N];if(C.id===l)return C}},addType:function(l,P){var N=this.getType(l),C=this.getBaseType(),y=N?N.model:C.model,m=N?N.view:C.view,g=P.model,S=P.view,I=P.isType;g=g instanceof k.Model||(0,w.isFunction)(g)?g:y.extend(g||{}),S=S instanceof k.View||(0,w.isFunction)(S)?S:m.extend(S||{}),!this.extendViewApi||P.model||P.view||(S=S.extend(P)),N?(N.model=g,N.view=S,N.isType=I||N.isType):(P.id=l,P.model=g,P.view=S,P.isType=I||function(H){if(H&&H.type==l)return!0},this.getTypes().unshift(P))}}},8659:(ge,_e,z)=>{z.d(_e,{Z:()=>C});var ie=z(5671),w=z(3144),k=z(9340),$=z(2963),D=z(1120),q=z(2316),l=z.n(q);function P(y){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,S=(0,D.Z)(y);if(m){var I=(0,D.Z)(this).constructor;g=Reflect.construct(S,arguments,I)}else g=S.apply(this,arguments);return(0,$.Z)(this,g)}}var N=l().$,C=function(y){(0,k.Z)(g,y);var m=P(g);function g(){var S,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,ie.Z)(this,g),S=m.call(this,I);var H=I.ppfx||"";return S.opts=I,S.ppfx=H,S.em=I.target||{},!I.onChange&&S.listenTo(S.model,"change:value",S.handleModelChange),S}return(0,w.Z)(g,[{key:"template",value:function(){return'<span class="'.concat(this.holderClass(),'"></span>')}},{key:"inputClass",value:function(){return"".concat(this.ppfx,"field")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"setValue",value:function(S){var I=this.model,H=S||I.get("defaults"),X=this.getInputEl();X&&(X.value=H)}},{key:"handleModelChange",value:function(S,I,H){this.setValue(I,H)}},{key:"handleChange",value:function(S){S.stopPropagation();var I=this.getInputEl().value;this.__onInputChange(I),this.elementUpdated()}},{key:"__onInputChange",value:function(S){this.model.set({value:S},{fromInput:1})}},{key:"getInputEl",value:function(){if(!this.inputEl){var S=this.model,I=this.opts.type||"text",H=S.get("placeholder")||S.get("defaults")||S.get("default")||"";this.inputEl=N('<input type="'.concat(I,'" placeholder="').concat(H,'">'))}return this.inputEl.get(0)}},{key:"render",value:function(){this.inputEl=null;var S=this.$el;return S.addClass(this.inputClass()),S.html(this.template()),S.find(".".concat(this.holderClass())).append(this.getInputEl()),this}}]),g}(l().View);C.prototype.events={change:"handleChange"}},1511:(ge,_e,z)=>{z.d(_e,{Z:()=>Y});var ie=z(4942),w=z(5671),k=z(3144),$=z(9340),D=z(2963),q=z(1120),l=z(2316),P=z.n(l),N=z(9050),C=z(1002),y=z(1163),m=z(8659);function g(x,W){var oe=Object.keys(x);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(x);W&&(se=se.filter(function(Z){return Object.getOwnPropertyDescriptor(x,Z).enumerable})),oe.push.apply(oe,se)}return oe}function S(x){for(var W=1;W<arguments.length;W++){var oe=arguments[W]!=null?arguments[W]:{};W%2?g(Object(oe),!0).forEach(function(se){(0,ie.Z)(x,se,oe[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(oe)):g(Object(oe)).forEach(function(se){Object.defineProperty(x,se,Object.getOwnPropertyDescriptor(oe,se))})}return x}function I(x){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var oe,se=(0,q.Z)(x);if(W){var Z=(0,q.Z)(this).constructor;oe=Reflect.construct(se,arguments,Z)}else oe=se.apply(this,arguments);return(0,D.Z)(this,oe)}}var H=P().$;H&&function(x,W){if((0,y.hasWin)()){var oe={beforeShow:A,move:A,change:A,show:A,hide:A,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},se=[],Z=!!/msie/i.exec(window.navigator.userAgent),B=function(){function We(Ke,gt){return!!~(""+Ke).indexOf(gt)}var mt=document.createElement("div").style;return mt.cssText="background-color:rgba(0,0,0,.5)",We(mt.backgroundColor,"rgba")||We(mt.backgroundColor,"hsla")}(),T=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),j=function(){var We="";if(Z)for(var mt=1;mt<=6;mt++)We+="<div class='sp-"+mt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",We,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),U="spectrum.id";x.fn.spectrum=function(We,mt){if(typeof We=="string"){var Ke=this,gt=Array.prototype.slice.call(arguments,1);return this.each(function(){var vt=se[x(this).data(U)];if(vt){var Ct=vt[We];if(!Ct)throw new Error("Spectrum: no such method: '"+We+"'");We=="get"?Ke=vt.get():We=="container"?Ke=vt.container:We=="option"?Ke=vt.option.apply(vt,gt):We=="destroy"?(vt.destroy(),x(this).removeData(U)):Ct.apply(vt,gt)}}),Ke}return this.spectrum("destroy").each(function(){var vt=_(this,x.extend({},We,x(this).data()));x(this).data(U,vt.id)})},x.fn.spectrum.load=!0,x.fn.spectrum.loadOpts={},x.fn.spectrum.draggable=F,x.fn.spectrum.defaults=oe,x.fn.spectrum.inputTypeColorSupport=function We(){if(We._cachedResult===void 0){var mt=x("<input type='color'/>")[0];We._cachedResult=mt.type==="color"&&mt.value!==""}return We._cachedResult},x.spectrum={},x.spectrum.localization={},x.spectrum.palettes={},x.fn.spectrum.processNativeColorInputs=function(){var We=x("input[type=color]");We.length&&!G()&&We.spectrum({preferredFormat:"hex6"})};var E=/^[\s,#]+/,M=/\s+$/,c=0,d=Math,s=d.round,p=d.min,O=d.max,K=d.random,Q=function We(mt,Ke){if(Ke=Ke||{},(mt=mt||"")instanceof We)return mt;if(!(this instanceof We))return new We(mt,Ke);var gt=function(vt){var Ct={r:0,g:0,b:0},It=1,Nt=!1,sn=!1;typeof vt=="string"&&(vt=function(pn){pn=pn.replace(E,"").replace(M,"").toLowerCase();var Qt,rn=!1;if(b[pn])pn=b[pn],rn=!0;else if(pn=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Qt=f.rgb.exec(pn))?{r:Qt[1],g:Qt[2],b:Qt[3]}:(Qt=f.rgba.exec(pn))?{r:Qt[1],g:Qt[2],b:Qt[3],a:Qt[4]}:(Qt=f.hsl.exec(pn))?{h:Qt[1],s:Qt[2],l:Qt[3]}:(Qt=f.hsla.exec(pn))?{h:Qt[1],s:Qt[2],l:Qt[3],a:Qt[4]}:(Qt=f.hsv.exec(pn))?{h:Qt[1],s:Qt[2],v:Qt[3]}:(Qt=f.hsva.exec(pn))?{h:Qt[1],s:Qt[2],v:Qt[3],a:Qt[4]}:(Qt=f.hex8.exec(pn))?{a:dt(Qt[1]),r:st(Qt[2]),g:st(Qt[3]),b:st(Qt[4]),format:rn?"name":"hex8"}:(Qt=f.hex6.exec(pn))?{r:st(Qt[1]),g:st(Qt[2]),b:st(Qt[3]),format:rn?"name":"hex"}:(Qt=f.hex3.exec(pn))?{r:st(Qt[1]+""+Qt[1]),g:st(Qt[2]+""+Qt[2]),b:st(Qt[3]+""+Qt[3]),format:rn?"name":"hex"}:!1}(vt)),(0,C.Z)(vt)=="object"&&(vt.hasOwnProperty("r")&&vt.hasOwnProperty("g")&&vt.hasOwnProperty("b")?(mn=vt.r,hn=vt.g,fn=vt.b,Ct={r:255*Dt(mn,255),g:255*Dt(hn,255),b:255*Dt(fn,255)},Nt=!0,sn=String(vt.r).substr(-1)==="%"?"prgb":"rgb"):vt.hasOwnProperty("h")&&vt.hasOwnProperty("s")&&vt.hasOwnProperty("v")?(vt.s=Ge(vt.s),vt.v=Ge(vt.v),Ct=function(pn,Qt,rn){pn=6*Dt(pn,360),Qt=Dt(Qt,100),rn=Dt(rn,100);var nn=d.floor(pn),wn=pn-nn,Bn=rn*(1-Qt),Hn=rn*(1-wn*Qt),Zn=rn*(1-(1-wn)*Qt),Fn=nn%6;return{r:255*[rn,Hn,Bn,Bn,Zn,rn][Fn],g:255*[Zn,rn,rn,Hn,Bn,Bn][Fn],b:255*[Bn,Bn,Zn,rn,rn,Hn][Fn]}}(vt.h,vt.s,vt.v),Nt=!0,sn="hsv"):vt.hasOwnProperty("h")&&vt.hasOwnProperty("s")&&vt.hasOwnProperty("l")&&(vt.s=Ge(vt.s),vt.l=Ge(vt.l),Ct=function(pn,Qt,rn){var nn,wn,Bn;function Hn(xn,Nn,Vn){return Vn<0&&(Vn+=1),Vn>1&&(Vn-=1),Vn<1/6?xn+6*(Nn-xn)*Vn:Vn<1/2?Nn:Vn<2/3?xn+(Nn-xn)*(2/3-Vn)*6:xn}if(pn=Dt(pn,360),Qt=Dt(Qt,100),rn=Dt(rn,100),Qt===0)nn=wn=Bn=rn;else{var Zn=rn<.5?rn*(1+Qt):rn+Qt-rn*Qt,Fn=2*rn-Zn;nn=Hn(Fn,Zn,pn+1/3),wn=Hn(Fn,Zn,pn),Bn=Hn(Fn,Zn,pn-1/3)}return{r:255*nn,g:255*wn,b:255*Bn}}(vt.h,vt.s,vt.l),Nt=!0,sn="hsl"),vt.hasOwnProperty("a")&&(It=vt.a));var mn,hn,fn;return It=Xt(It),{ok:Nt,format:vt.format||sn,r:p(255,O(Ct.r,0)),g:p(255,O(Ct.g,0)),b:p(255,O(Ct.b,0)),a:It}}(mt);this._originalInput=mt,this._r=gt.r,this._g=gt.g,this._b=gt.b,this._a=gt.a,this._roundA=s(100*this._a)/100,this._format=Ke.format||gt.format,this._gradientType=Ke.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=gt.ok,this._tc_id=c++};Q.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var We=this.toRgb();return(299*We.r+587*We.g+114*We.b)/1e3},setAlpha:function(We){return this._a=Xt(We),this._roundA=s(100*this._a)/100,this},toHsv:function(){var We=le(this._r,this._g,this._b);return{h:360*We.h,s:We.s,v:We.v,a:this._a}},toHsvString:function(){var We=le(this._r,this._g,this._b),mt=s(360*We.h),Ke=s(100*We.s),gt=s(100*We.v);return this._a==1?"hsv("+mt+", "+Ke+"%, "+gt+"%)":"hsva("+mt+", "+Ke+"%, "+gt+"%, "+this._roundA+")"},toHsl:function(){var We=V(this._r,this._g,this._b);return{h:360*We.h,s:We.s,l:We.l,a:this._a}},toHslString:function(){var We=V(this._r,this._g,this._b),mt=s(360*We.h),Ke=s(100*We.s),gt=s(100*We.l);return this._a==1?"hsl("+mt+", "+Ke+"%, "+gt+"%)":"hsla("+mt+", "+Ke+"%, "+gt+"%, "+this._roundA+")"},toHex:function(We){return ve(this._r,this._g,this._b,We)},toHexString:function(We){return"#"+this.toHex(We)},toHex8:function(){return Ne(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*Dt(this._r,255))+"%",g:s(100*Dt(this._g,255))+"%",b:s(100*Dt(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+s(100*Dt(this._r,255))+"%, "+s(100*Dt(this._g,255))+"%, "+s(100*Dt(this._b,255))+"%)":"rgba("+s(100*Dt(this._r,255))+"%, "+s(100*Dt(this._g,255))+"%, "+s(100*Dt(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(a[ve(this._r,this._g,this._b,!0)]||!1)},toFilter:function(We){var mt="#"+Ne(this._r,this._g,this._b,this._a),Ke=mt,gt=this._gradientType?"GradientType = 1, ":"";return We&&(Ke=Q(We).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+gt+"startColorstr="+mt+",endColorstr="+Ke+")"},toString:function(We){var mt=!!We;We=We||this._format;var Ke=!1,gt=this._a<1&&this._a>=0;return mt||!gt||We!=="hex"&&We!=="hex6"&&We!=="hex3"&&We!=="name"?(We==="rgb"&&(Ke=this.toRgbString()),We==="prgb"&&(Ke=this.toPercentageRgbString()),We!=="hex"&&We!=="hex6"||(Ke=this.toHexString()),We==="hex3"&&(Ke=this.toHexString(!0)),We==="hex8"&&(Ke=this.toHex8String()),We==="name"&&(Ke=this.toName()),We==="hsl"&&(Ke=this.toHslString()),We==="hsv"&&(Ke=this.toHsvString()),Ke||this.toHexString()):We==="name"&&this._a===0?this.toName():this.toRgbString()},_applyModification:function(We,mt){var Ke=We.apply(null,[this].concat([].slice.call(mt)));return this._r=Ke._r,this._g=Ke._g,this._b=Ke._b,this.setAlpha(Ke._a),this},lighten:function(){return this._applyModification(ae,arguments)},brighten:function(){return this._applyModification(be,arguments)},darken:function(){return this._applyModification(re,arguments)},desaturate:function(){return this._applyModification(Ze,arguments)},saturate:function(){return this._applyModification(Me,arguments)},greyscale:function(){return this._applyModification(je,arguments)},spin:function(){return this._applyModification(Te,arguments)},_applyCombination:function(We,mt){return We.apply(null,[this].concat([].slice.call(mt)))},analogous:function(){return this._applyCombination(St,arguments)},complement:function(){return this._applyCombination(Re,arguments)},monochromatic:function(){return this._applyCombination(Ut,arguments)},splitcomplement:function(){return this._applyCombination(lt,arguments)},triad:function(){return this._applyCombination(Fe,arguments)},tetrad:function(){return this._applyCombination(it,arguments)}},Q.fromRatio=function(We,mt){if((0,C.Z)(We)=="object"){var Ke={};for(var gt in We)We.hasOwnProperty(gt)&&(Ke[gt]=gt==="a"?We[gt]:Ge(We[gt]));We=Ke}return Q(We,mt)},Q.equals=function(We,mt){return!(!We||!mt)&&Q(We).toRgbString()==Q(mt).toRgbString()},Q.random=function(){return Q.fromRatio({r:K(),g:K(),b:K()})},Q.mix=function(We,mt,Ke){Ke=Ke===0?0:Ke||50;var gt,vt=Q(We).toRgb(),Ct=Q(mt).toRgb(),It=Ke/100,Nt=2*It-1,sn=Ct.a-vt.a,mn=1-(gt=((gt=Nt*sn==-1?Nt:(Nt+sn)/(1+Nt*sn))+1)/2),hn={r:Ct.r*gt+vt.r*mn,g:Ct.g*gt+vt.g*mn,b:Ct.b*gt+vt.b*mn,a:Ct.a*It+vt.a*(1-It)};return Q(hn)},Q.readability=function(We,mt){var Ke=Q(We),gt=Q(mt),vt=Ke.toRgb(),Ct=gt.toRgb(),It=Ke.getBrightness(),Nt=gt.getBrightness(),sn=Math.max(vt.r,Ct.r)-Math.min(vt.r,Ct.r)+Math.max(vt.g,Ct.g)-Math.min(vt.g,Ct.g)+Math.max(vt.b,Ct.b)-Math.min(vt.b,Ct.b);return{brightness:Math.abs(It-Nt),color:sn}},Q.isReadable=function(We,mt){var Ke=Q.readability(We,mt);return Ke.brightness>125&&Ke.color>500},Q.mostReadable=function(We,mt){for(var Ke=null,gt=0,vt=!1,Ct=0;Ct<mt.length;Ct++){var It=Q.readability(We,mt[Ct]),Nt=It.brightness>125&&It.color>500,sn=3*(It.brightness/125)+It.color/500;(Nt&&!vt||Nt&&vt&&sn>gt||!Nt&&!vt&&sn>gt)&&(vt=Nt,gt=sn,Ke=Q(mt[Ct]))}return Ke};var ne,R,v,b=Q.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},a=Q.hexNames=function(We){var mt={};for(var Ke in We)We.hasOwnProperty(Ke)&&(mt[We[Ke]]=Ke);return mt}(b),f=(R="[\\s|\\(]+("+(ne="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?",v="[\\s|\\(]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")[,|\\s]+("+ne+")\\s*\\)?",{rgb:new RegExp("rgb"+R),rgba:new RegExp("rgba"+v),hsl:new RegExp("hsl"+R),hsla:new RegExp("hsla"+v),hsv:new RegExp("hsv"+R),hsva:new RegExp("hsva"+v),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=Q,x(function(){x.fn.spectrum.load&&x.fn.spectrum.processNativeColorInputs()})}function h(We,mt,Ke,gt){for(var vt=[],Ct=0;Ct<We.length;Ct++){var It=We[Ct];if(It){var Nt=Q(It),sn=Nt.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";sn+=Q.equals(mt,It)?" sp-thumb-active":"";var mn=Nt.toString(gt.preferredFormat||"rgb"),hn=B?"background-color:"+Nt.toRgbString():"filter:"+Nt.toFilter();vt.push('<span title="'+mn+'" data-color="'+Nt.toRgbString()+'" class="'+sn+'"><span class="sp-thumb-inner" style="'+hn+';"></span></span>')}else vt.push(x("<div />").append(x('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",gt.noColorSelectedText)).html())}return"<div class='sp-cf "+Ke+"'>"+vt.join("")+"</div>"}function _(We,mt){var Ke,gt,vt,Ct=function(Ft,Zt){var At=x.extend({},oe,Ft);return At.callbacks={move:te(At.move,Zt),change:te(At.change,Zt),show:te(At.show,Zt),hide:te(At.hide,Zt),beforeShow:te(At.beforeShow,Zt)},At}(mt,We),It=Ct.flat,Nt=Ct.showSelectionPalette,sn=Ct.localStorageKey,mn=Ct.theme,hn=Ct.callbacks,fn=(Ke=Ot,gt=10,function(){var Ft=this,Zt=arguments,At=function(){vt=null,Ke.apply(Ft,Zt)};vt||(vt=setTimeout(At,gt))}),pn=!1,Qt=!1,rn=!0,nn=0,wn=0,Bn=0,Hn=0,Zn=0,Fn=0,xn=0,Nn=0,Vn=0,Sn=0,ln=1,ze=[],bn=[],zn={},In=Ct.selectionPalette.slice(0),Mn=Ct.maxSelectionSize,cn="sp-dragging",Tn=null,gn=We.ownerDocument,jn=(gn.body,x(We)),On=!1,yn=x(j,gn).addClass(mn),Rn=yn.find(".sp-picker-container"),Dn=yn.find(".sp-color"),en=yn.find(".sp-dragger"),Qe=yn.find(".sp-hue"),at=yn.find(".sp-slider"),Be=yn.find(".sp-alpha-inner"),ut=yn.find(".sp-alpha"),xt=yn.find(".sp-alpha-handle"),Kt=yn.find(".sp-input"),Ht=yn.find(".sp-palette"),kn=yn.find(".sp-initial"),an=yn.find(".sp-cancel"),Qn=yn.find(".sp-clear"),Gn=yn.find(".sp-choose"),gr=yn.find(".sp-palette-toggle"),or=jn.is("input"),pr=or&&jn.attr("type")==="color"&&G(),mr=or&&!It,cr=mr?x(T).addClass(mn).addClass(Ct.className).addClass(Ct.replacerClassName):x([]),Xn=mr?cr:jn,tr=cr.find(".sp-preview-inner"),Yn=Ct.color||or&&jn.val(),Kn=!1,ft=Ct.preferredFormat,yt=!Ct.showButtons||Ct.clickoutFiresChange,Ce=!Yn,ce=Ct.allowEmpty&&!pr;function he(){if(Ct.showPaletteOnly&&(Ct.showPalette=!0),gr.text(Ct.showPaletteOnly?Ct.togglePaletteMoreText:Ct.togglePaletteLessText),Ct.palette){ze=Ct.palette.slice(0),bn=x.isArray(ze[0])?ze:[ze],zn={};for(var Ft=0;Ft<bn.length;Ft++)for(var Zt=0;Zt<bn[Ft].length;Zt++){var At=Q(bn[Ft][Zt]).toRgbString();zn[At]=!0}}yn.toggleClass("sp-flat",It),yn.toggleClass("sp-input-disabled",!Ct.showInput),yn.toggleClass("sp-alpha-enabled",Ct.showAlpha),yn.toggleClass("sp-clear-enabled",ce),yn.toggleClass("sp-buttons-disabled",!Ct.showButtons),yn.toggleClass("sp-palette-buttons-disabled",!Ct.togglePaletteOnly),yn.toggleClass("sp-palette-disabled",!Ct.showPalette),yn.toggleClass("sp-palette-only",Ct.showPaletteOnly),yn.toggleClass("sp-initial-disabled",!Ct.showInitial),yn.addClass(Ct.className).addClass(Ct.containerClassName),Ot()}function ee(){if(sn&&window.localStorage){try{var Ft=window.localStorage[sn].split(",#");Ft.length>1&&(delete window.localStorage[sn],x.each(Ft,function(Zt,At){we(At)}))}catch{}try{In=window.localStorage[sn].split(";")}catch{}}}function we(Ft){if(Nt){var Zt=Q(Ft).toRgbString();if(!zn[Zt]&&x.inArray(Zt,In)===-1)for(In.push(Zt);In.length>Mn;)In.shift();if(sn&&window.localStorage)try{window.localStorage[sn]=In.join(";")}catch{}}}function Ie(){var Ft=fe(),Zt=x.map(bn,function(At,Lt){return h(At,Ft,"sp-palette-row sp-palette-row-"+Lt,Ct)});ee(),In&&Zt.push(h(function(){var At=[];if(Ct.showPalette)for(var Lt=0;Lt<In.length;Lt++){var Gt=Q(In[Lt]).toRgbString();zn[Gt]||At.push(In[Lt])}return At.reverse().slice(0,Ct.maxSelectionSize)}(),Ft,"sp-palette-row sp-palette-row-selection",Ct)),Ht.html(Zt.join(""))}function qe(){if(Ct.showInitial){var Ft=Kn,Zt=fe();kn.html(h([Ft,Zt],Zt,"sp-palette-row-initial",Ct))}}function ht(){(wn<=0||nn<=0||Hn<=0)&&Ot(),Qt=!0,yn.addClass(cn),Tn=null,jn.trigger("dragstart.spectrum",[fe()])}function bt(){Qt=!1,yn.removeClass(cn),jn.trigger("dragstop.spectrum",[fe()])}function Pt(){var Ft=Kt.val();if(Ft!==null&&Ft!==""||!ce){var Zt=Q(Ft);Zt.isValid()?(tt(Zt),Ye(!0)):Kt.addClass("sp-validation-error")}else tt(null),Ye(!0)}function kt(){pn?dn():Mt()}function Mt(){var Ft=x.Event("beforeShow.spectrum");if(pn)Ot();else if(jn.trigger("beforeShow.spectrum",[fe()]),hn.beforeShow(fe())!==!1&&!Ft.isDefaultPrevented()){(function(){for(var At=0;At<se.length;At++)se[At]&&se[At].hide()})(),pn=!0;var Zt=x(gn);Zt.bind("keydown.spectrum",$t),Zt.bind("click.spectrum",Yt),x(window).bind("resize.spectrum",fn),cr.addClass("sp-active"),yn.removeClass("sp-hidden"),Ot(),de(),Kn=fe(),qe(),hn.show(Kn),jn.trigger("show.spectrum",[Kn])}}function $t(Ft){Ft.keyCode===27&&dn()}function Yt(Ft){Ft.button!=2&&(Qt||(yt?Ye(!0):Xe(),dn()))}function dn(){pn&&!It&&(pn=!1,x(gn).unbind("keydown.spectrum",$t),x(gn).unbind("click.spectrum",Yt),x(window).unbind("resize.spectrum",fn),cr.removeClass("sp-active"),yn.addClass("sp-hidden"),hn.hide(fe()),jn.trigger("hide.spectrum",[fe()]))}function Xe(){tt(Kn,!0)}function tt(Ft,Zt){var At,Lt;Q.equals(Ft,fe())?de():(!Ft&&ce?Ce=!0:(Ce=!1,rn=!Ft,Lt=(At=Q(Ft)).toHsv(),Nn=Lt.h%360/360,Vn=Lt.s,Sn=Lt.v,ln=Lt.a),de(),At&&At.isValid()&&!Zt&&(ft=Ct.preferredFormat||At.getFormat()))}function fe(Ft){return Ft=Ft||{},ce&&Ce?null:Q.fromRatio({h:Nn,s:Vn,v:Sn,a:Math.round(100*ln)/100},{format:Ft.format||ft})}function me(){de(),hn.move(fe()),jn.trigger("move.spectrum",[fe()])}function de(){Kt.removeClass("sp-validation-error"),Ee();var Ft=Q.fromRatio({h:Nn,s:1,v:1});Dn.css("background-color",Ft.toHexString());var Zt=ft;ln<1&&(ln!==0||Zt!=="name")&&(Zt!=="hex"&&Zt!=="hex3"&&Zt!=="hex6"&&Zt!=="name"||(Zt="rgb"));var At=fe({format:Zt}),Lt="";if(tr.removeClass("sp-clear-display"),tr.css("background-color","transparent"),!At&&ce)tr.addClass("sp-clear-display");else{var Gt=At.toHexString(),vn=At.toRgbString();if(B||At.alpha===1?tr.css("background-color",vn):(tr.css("background-color","transparent"),tr.css("filter",At.toFilter())),Ct.showAlpha){var En=At.toRgb();En.a=0;var Jn=Q(En).toRgbString(),ye="linear-gradient(left, "+Jn+", "+Gt+")";Z?Be.css("filter",Q(Jn).toFilter({gradientType:1},Gt)):(Be.css("background","-webkit-"+ye),Be.css("background","-moz-"+ye),Be.css("background","-ms-"+ye),Be.css("background","linear-gradient(to right, "+Jn+", "+Gt+")"))}Lt=At.toString(Zt)}Ct.showInput&&Kt.val(Lt),Ct.showPalette&&Ie(),qe()}function Ee(){var Ft=Vn,Zt=Sn;if(ce&&Ce)xt.hide(),at.hide(),en.hide();else{xt.show(),at.show(),en.show();var At=Ft*nn,Lt=wn-Zt*wn;At=Math.max(-Bn,Math.min(nn-Bn,At-Bn)),Lt=Math.max(-Bn,Math.min(wn-Bn,Lt-Bn)),en.css({top:Lt+"px",left:At+"px"});var Gt=ln*Zn;xt.css({left:Gt-Fn/2+"px"});var vn=Nn*Hn;at.css({top:vn-xn+"px"})}}function Ye(Ft){var Zt=fe(),At="",Lt=!!rn||!Q.equals(Zt,Kn);Zt&&(At=Zt.toString(ft),!pn&&we(Zt)),or&&jn.val(At),Ft&&Lt&&(hn.change(Zt),jn.trigger("change",[Zt]))}function Ot(){pn&&(nn=Dn.width(),wn=Dn.height(),Bn=en.height(),Qe.width(),Hn=Qe.height(),xn=at.height(),Zn=ut.width(),Fn=xt.width(),It||(yn.css("position","absolute"),Ct.offset?yn.offset(Ct.offset):yn.offset(function(Ft,Zt){var At=0,Lt=Ft.outerWidth(),Gt=Ft.outerHeight(),vn=Zt.outerHeight(),En=Ft[0].ownerDocument,Jn=En.documentElement,ye=Jn.clientWidth,Pe=Jn.clientHeight,De=x(En).scrollLeft(),un=x(En).scrollTop(),An=ye+De,$n=Pe+un,er=Zt.offset();return er.top+=vn,er.left-=Math.min(er.left,er.left+Lt>An&&An>Lt?Math.abs(er.left+Lt-An):0),er.top-=Math.min(er.top,er.top+Gt>$n&&$n>Gt?Math.abs(Gt+vn-At):At),er}(yn,Xn))),Ee(),Ct.showPalette&&Ie(),jn.trigger("reflow.spectrum"))}function Rt(){dn(),On=!0,jn.attr("disabled",!0),Xn.addClass("sp-disabled")}(function(){if(Z&&yn.find("*:not(input)").attr("unselectable","on"),he(),mr&&jn.after(cr).hide(),ce||Qn.hide(),It)jn.after(yn).hide();else{var Ft=Ct.appendTo==="parent"?jn.parent():x(Ct.appendTo);Ft.length!==1&&(Ft=x("body")),Ft.append(yn)}function Zt(Lt){return Lt.data&&Lt.data.ignore?(tt(x(Lt.target).closest(".sp-thumb-el").data("color")),me()):(tt(x(Lt.target).closest(".sp-thumb-el").data("color")),me(),Ct.hideAfterPaletteSelect&&(Ye(!0),dn())),!1}ee(),Xn.bind("click.spectrum touchstart.spectrum",function(Lt){On||kt(),Lt.stopPropagation(),x(Lt.target).is("input")||Lt.preventDefault()}),(jn.is(":disabled")||Ct.disabled===!0)&&Rt(),yn.click(J),Kt.change(Pt),Kt.bind("paste",function(){setTimeout(Pt,1)}),Kt.keydown(function(Lt){Lt.keyCode==13&&Pt()}),an.text(Ct.cancelText),an.bind("click.spectrum",function(Lt){Lt.stopPropagation(),Lt.preventDefault(),Xe(),dn()}),Qn.attr("title",Ct.clearText),Qn.bind("click.spectrum",function(Lt){Lt.stopPropagation(),Lt.preventDefault(),Ce=!0,me(),It&&Ye(!0)}),Gn.text(Ct.chooseText),Gn.bind("click.spectrum",function(Lt){Lt.stopPropagation(),Lt.preventDefault(),Z&&Kt.is(":focus")&&Kt.trigger("change"),Kt.hasClass("sp-validation-error")||(Ye(!0),dn())}),gr.text(Ct.showPaletteOnly?Ct.togglePaletteMoreText:Ct.togglePaletteLessText),gr.bind("click.spectrum",function(Lt){Lt.stopPropagation(),Lt.preventDefault(),Ct.showPaletteOnly=!Ct.showPaletteOnly,Ct.showPaletteOnly||It||yn.css("left","-="+(Rn.outerWidth(!0)+5)),he()}),F(ut,function(Lt,Gt,vn){ln=Lt/Zn,Ce=!1,vn.shiftKey&&(ln=Math.round(10*ln)/10),me()},ht,bt),F(Qe,function(Lt,Gt){Nn=parseFloat(Gt/Hn),Ce=!1,Ct.showAlpha||(ln=1),me()},ht,bt),F(Dn,function(Lt,Gt,vn){if(vn.shiftKey){if(!Tn){var En=Vn*nn,Jn=wn-Sn*wn,ye=Math.abs(Lt-En)>Math.abs(Gt-Jn);Tn=ye?"x":"y"}}else Tn=null;var Pe=!Tn||Tn==="y";(!Tn||Tn==="x")&&(Vn=parseFloat(Lt/nn)),Pe&&(Sn=parseFloat((wn-Gt)/wn)),Ce=!1,Ct.showAlpha||(ln=1),me()},ht,bt),Yn?(tt(Yn),de(),ft=Ct.preferredFormat||Q(Yn).getFormat(),we(Yn)):de(),It&&Mt();var At=Z?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ht.delegate(".sp-thumb-el",At,Zt),kn.delegate(".sp-thumb-el:nth-child(1)",At,{ignore:!0},Zt)})();var Vt={show:Mt,hide:dn,toggle:kt,reflow:Ot,option:function(Ft,Zt){return Ft===W?x.extend({},Ct):Zt===W?Ct[Ft]:(Ct[Ft]=Zt,Ft==="preferredFormat"&&(ft=Ct.preferredFormat),void he())},enable:function(){On=!1,jn.attr("disabled",!1),Xn.removeClass("sp-disabled")},disable:Rt,offset:function(Ft){Ct.offset=Ft,Ot()},set:function(Ft){tt(Ft),Ye()},get:fe,destroy:function(){jn.show(),Xn.unbind("click.spectrum touchstart.spectrum"),yn.remove(),cr.remove(),se[Vt.id]=null},container:yn};return Vt.id=se.push(Vt)-1,Vt}function A(){}function J(We){We.stopPropagation()}function te(We,mt){var Ke=Array.prototype.slice,gt=Ke.call(arguments,2);return function(){return We.apply(mt,gt.concat(Ke.call(arguments)))}}function F(We,mt,Ke,gt){mt=mt||function(){},Ke=Ke||function(){},gt=gt||function(){};var vt=document,Ct=!1,It={},Nt=0,sn=0,mn="ontouchstart"in window,hn={};function fn(rn){rn.stopPropagation&&rn.stopPropagation(),rn.preventDefault&&rn.preventDefault(),rn.returnValue=!1}function pn(rn){if(Ct){if(Z&&vt.documentMode<9&&!rn.button)return Qt();var nn=rn&&rn.touches&&rn.touches[0],wn=nn&&nn.pageX||rn.pageX,Bn=nn&&nn.pageY||rn.pageY,Hn=Math.max(0,Math.min(wn-It.left,sn)),Zn=Math.max(0,Math.min(Bn-It.top,Nt));mn&&fn(rn),mt.apply(We,[Hn,Zn,rn])}}function Qt(){Ct&&(x(vt).unbind(hn),x(vt.body).removeClass("sp-dragging"),setTimeout(function(){gt.apply(We,arguments)},0)),Ct=!1}hn.selectstart=fn,hn.dragstart=fn,hn["touchmove mousemove"]=pn,hn["touchend mouseup"]=Qt,x(We).bind("touchstart mousedown",function(rn){var nn=rn.which?rn.which==3:rn.button==2;nn||Ct||Ke.apply(We,arguments)!==!1&&(Ct=!0,Nt=x(We).height(),sn=x(We).width(),It=x(We).offset(),x(vt).bind(hn),x(vt.body).addClass("sp-dragging"),pn(rn),fn(rn))})}function G(){return x.fn.spectrum.inputTypeColorSupport()}function V(We,mt,Ke){We=Dt(We,255),mt=Dt(mt,255),Ke=Dt(Ke,255);var gt,vt,Ct=O(We,mt,Ke),It=p(We,mt,Ke),Nt=(Ct+It)/2;if(Ct==It)gt=vt=0;else{var sn=Ct-It;switch(vt=Nt>.5?sn/(2-Ct-It):sn/(Ct+It),Ct){case We:gt=(mt-Ke)/sn+(mt<Ke?6:0);break;case mt:gt=(Ke-We)/sn+2;break;case Ke:gt=(We-mt)/sn+4}gt/=6}return{h:gt,s:vt,l:Nt}}function le(We,mt,Ke){We=Dt(We,255),mt=Dt(mt,255),Ke=Dt(Ke,255);var gt,vt,Ct=O(We,mt,Ke),It=p(We,mt,Ke),Nt=Ct,sn=Ct-It;if(vt=Ct===0?0:sn/Ct,Ct==It)gt=0;else{switch(Ct){case We:gt=(mt-Ke)/sn+(mt<Ke?6:0);break;case mt:gt=(Ke-We)/sn+2;break;case Ke:gt=(We-mt)/sn+4}gt/=6}return{h:gt,s:vt,v:Nt}}function ve(We,mt,Ke,gt){var vt=[Ve(s(We).toString(16)),Ve(s(mt).toString(16)),Ve(s(Ke).toString(16))];return gt&&vt[0].charAt(0)==vt[0].charAt(1)&&vt[1].charAt(0)==vt[1].charAt(1)&&vt[2].charAt(0)==vt[2].charAt(1)?vt[0].charAt(0)+vt[1].charAt(0)+vt[2].charAt(0):vt.join("")}function Ne(We,mt,Ke,gt){var vt;return[Ve((vt=gt,Math.round(255*parseFloat(vt)).toString(16))),Ve(s(We).toString(16)),Ve(s(mt).toString(16)),Ve(s(Ke).toString(16))].join("")}function Ze(We,mt){mt=mt===0?0:mt||10;var Ke=Q(We).toHsl();return Ke.s-=mt/100,Ke.s=ot(Ke.s),Q(Ke)}function Me(We,mt){mt=mt===0?0:mt||10;var Ke=Q(We).toHsl();return Ke.s+=mt/100,Ke.s=ot(Ke.s),Q(Ke)}function je(We){return Q(We).desaturate(100)}function ae(We,mt){mt=mt===0?0:mt||10;var Ke=Q(We).toHsl();return Ke.l+=mt/100,Ke.l=ot(Ke.l),Q(Ke)}function be(We,mt){mt=mt===0?0:mt||10;var Ke=Q(We).toRgb();return Ke.r=O(0,p(255,Ke.r-s(255*(-mt/100)))),Ke.g=O(0,p(255,Ke.g-s(255*(-mt/100)))),Ke.b=O(0,p(255,Ke.b-s(255*(-mt/100)))),Q(Ke)}function re(We,mt){mt=mt===0?0:mt||10;var Ke=Q(We).toHsl();return Ke.l-=mt/100,Ke.l=ot(Ke.l),Q(Ke)}function Te(We,mt){var Ke=Q(We).toHsl(),gt=(s(Ke.h)+mt)%360;return Ke.h=gt<0?360+gt:gt,Q(Ke)}function Re(We){var mt=Q(We).toHsl();return mt.h=(mt.h+180)%360,Q(mt)}function Fe(We){var mt=Q(We).toHsl(),Ke=mt.h;return[Q(We),Q({h:(Ke+120)%360,s:mt.s,l:mt.l}),Q({h:(Ke+240)%360,s:mt.s,l:mt.l})]}function it(We){var mt=Q(We).toHsl(),Ke=mt.h;return[Q(We),Q({h:(Ke+90)%360,s:mt.s,l:mt.l}),Q({h:(Ke+180)%360,s:mt.s,l:mt.l}),Q({h:(Ke+270)%360,s:mt.s,l:mt.l})]}function lt(We){var mt=Q(We).toHsl(),Ke=mt.h;return[Q(We),Q({h:(Ke+72)%360,s:mt.s,l:mt.l}),Q({h:(Ke+216)%360,s:mt.s,l:mt.l})]}function St(We,mt,Ke){mt=mt||6,Ke=Ke||30;var gt=Q(We).toHsl(),vt=360/Ke,Ct=[Q(We)];for(gt.h=(gt.h-(vt*mt>>1)+720)%360;--mt;)gt.h=(gt.h+vt)%360,Ct.push(Q(gt));return Ct}function Ut(We,mt){mt=mt||6;for(var Ke=Q(We).toHsv(),gt=Ke.h,vt=Ke.s,Ct=Ke.v,It=[],Nt=1/mt;mt--;)It.push(Q({h:gt,s:vt,v:Ct})),Ct=(Ct+Nt)%1;return It}function Xt(We){return We=parseFloat(We),(isNaN(We)||We<0||We>1)&&(We=1),We}function Dt(We,mt){(function(gt){return typeof gt=="string"&&gt.indexOf(".")!=-1&&parseFloat(gt)===1})(We)&&(We="100%");var Ke=function(gt){return typeof gt=="string"&&gt.indexOf("%")!=-1}(We);return We=p(mt,O(0,parseFloat(We))),Ke&&(We=parseInt(We*mt,10)/100),d.abs(We-mt)<1e-6?1:We%mt/parseFloat(mt)}function ot(We){return p(1,O(0,We))}function st(We){return parseInt(We,16)}function Ve(We){return We.length==1?"0"+We:""+We}function Ge(We){return We<=1&&(We=100*We+"%"),We}function dt(We){return st(We)/255}}(H);var X=function(x){var W=x.getFormat()==="name"&&x.toName(),oe=x.getAlpha()==1?x.toHexString():x.toRgbString();return W||oe.replace(/ /g,"")},Y=function(x){(0,$.Z)(oe,x);var W=I(oe);function oe(){return(0,w.Z)(this,oe),W.apply(this,arguments)}return(0,k.Z)(oe,[{key:"template",value:function(){var se=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(se,`field-colorp">
        <div class="`).concat(se,`field-colorp-c" data-colorp-c>
          <div class="`).concat(se,`checker-bg"></div>
        </div>
      </div>
    `)}},{key:"inputClass",value:function(){var se=this.ppfx;return"".concat(se,"field ").concat(se,"field-color")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"remove",value:function(){m.Z.prototype.remove.apply(this,arguments),this.colorEl.spectrum("destroy")}},{key:"handleChange",value:function(se){se.stopPropagation();var Z=se.target.value;(0,N.isUndefined)(Z)||this.__onInputChange(Z)}},{key:"__onInputChange",value:function(se){var Z=this.model,B=this.opts.onChange,T=se,j=this.getColorEl();if(j){j.spectrum("set",T);var U=j.spectrum("get"),E=T&&X(U);E&&(T=E)}B?B(T):Z.set({value:T},{fromInput:1})}},{key:"setValue",value:function(se){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=this.model,T=(0,N.isUndefined)(Z.def)?B.get("defaults"):Z.def,j=(0,N.isUndefined)(se)?(0,N.isUndefined)(T)?"":T:se,U=this.getInputEl(),E=this.getColorEl(),M=j!="none"?j:"";U.value=j,E.get(0).style.backgroundColor=M,(Z.fromTarget||Z.fromInput&&!Z.avoidStore)&&(E.spectrum("set",M),this.noneColor=j=="none")}},{key:"getColorEl",value:function(){if(!this.colorEl){var se,Z=this.em,B=this.model,T=this.opts,j=this,U=this.ppfx,E=T.onChange,M=H('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),c=M.get(0).style,d=Z&&Z.config?Z.config.el:"",s=Z&&Z.getConfig&&Z.getConfig().colorPicker||{},p=!1,O="";this.$el.find("[data-colorp-c]").append(M);var K=function(Q){var ne=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];E?E(Q,!ne):(ne&&B.setValueFromInput(0,!1),B.setValueFromInput(Q,ne))};M.spectrum(S(S(S({color:B.getValue()||!1,containerClassName:"".concat(U,"one-bg ").concat(U,"two-color"),appendTo:d||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},s),B.get("colorPicker")||{}),{},{move:function(Q){var ne=X(Q);O=ne,c.backgroundColor=ne,K(ne,!1)},change:function(Q){p=!0;var ne=X(Q);c.backgroundColor=ne,K(ne),j.noneColor=0},show:function(Q){p=!1,O="",se=E?B.getValue({noDefault:!0}):X(Q)},hide:function(){p||!se&&!E||(j.noneColor&&(se=""),c.backgroundColor=se,M.spectrum("set",se),K(se,!1))}})),Z&&Z.on&&this.listenTo(Z,"component:selected",function(){O&&K(O),p=!0,O="",M.spectrum("hide")}),this.colorEl=M}return this.colorEl}},{key:"render",value:function(){return m.Z.prototype.render.call(this),this.getColorEl(),this}}]),oe}(m.Z)},7610:(ge,_e,z)=>{z.d(_e,{Z:()=>g});var ie=z(5671),w=z(3144),k=z(7326),$=z(9340),D=z(2963),q=z(1120),l=z(2316),P=z.n(l),N=z(9050),C=z(1163),y=z(8659);function m(S){var I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,X=(0,q.Z)(S);if(I){var Y=(0,q.Z)(this).constructor;H=Reflect.construct(X,arguments,Y)}else H=X.apply(this,arguments);return(0,D.Z)(this,H)}}P().$;var g=function(S){(0,$.Z)(H,S);var I=m(H);function H(){var X,Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ie.Z)(this,H),X=I.call(this,Y),(0,N.bindAll)((0,k.Z)(X),"moveIncrement","upIncrement"),X.doc=document,X.listenTo(X.model,"change:unit",X.handleModelChange),X}return(0,w.Z)(H,[{key:"template",value:function(){var X=this.ppfx;return`
      <span class="`.concat(X,`input-holder"></span>
      <span class="`).concat(X,`field-units"></span>
      <div class="`).concat(X,`field-arrows" data-arrows>
        <div class="`).concat(X,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(X,`field-arrow-d" data-arrow-down></div>
      </div>
    `)}},{key:"inputClass",value:function(){var X=this.ppfx;return this.opts.contClass||"".concat(X,"field ").concat(X,"field-integer")}},{key:"setValue",value:function(X,Y){var x=Y||{},W=this.validateInputValue(X,{deepCheck:1}),oe={value:W.value};(W.unit||W.force)&&(oe.unit=W.unit),this.model.set(oe,x),x.silent&&this.handleModelChange()}},{key:"handleChange",value:function(X){X.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()}},{key:"handleUnitChange",value:function(X){X.stopPropagation();var Y=this.getUnitEl().value;this.model.set("unit",Y),this.elementUpdated()}},{key:"handleKeyDown",value:function(X){X.key==="ArrowUp"&&(X.preventDefault(),this.upArrowClick()),X.key==="ArrowDown"&&(X.preventDefault(),this.downArrowClick())}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"handleModelChange",value:function(){var X=this.model;this.getInputEl().value=X.get("value");var Y=this.getUnitEl();Y&&(Y.value=X.get("unit")||"")}},{key:"getUnitEl",value:function(){if(!this.unitEl){var X=this.model,Y=X.get("units")||[];if(Y.length){var x=['<option value="" disabled hidden>-</option>'];Y.forEach(function(oe){var se=oe==X.get("unit")?"selected":"";x.push("<option ".concat(se,">").concat(oe,"</option>"))});var W=document.createElement("div");W.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(x.join(""),"</select>"),this.unitEl=W.firstChild}}return this.unitEl}},{key:"upArrowClick",value:function(){var X=this.model,Y=X.get("step"),x=parseFloat(X.get("value"));this.setValue(this.normalizeValue(x+Y)),this.elementUpdated()}},{key:"downArrowClick",value:function(){var X=this.model,Y=X.get("step"),x=parseFloat(X.get("value"));this.setValue(this.normalizeValue(x-Y)),this.elementUpdated()}},{key:"downIncrement",value:function(X){X.preventDefault(),this.moved=0;var Y=this.model.get("value")||0;Y=this.normalizeValue(Y),this.current={y:X.pageY,val:Y},(0,C.on)(this.doc,"mousemove",this.moveIncrement),(0,C.on)(this.doc,"mouseup",this.upIncrement)}},{key:"moveIncrement",value:function(X){this.moved=1;var Y=this.model,x=Y.get("step"),W=this.current,oe=this.normalizeValue(W.val+(W.y-X.pageY)*x),se=this.validateInputValue(oe),Z=se.value,B=se.unit;return this.prValue=Z,Y.set({value:Z,unit:B},{avoidStore:1}),!1}},{key:"upIncrement",value:function(){var X=this.model,Y=X.get("step");if((0,C.off)(this.doc,"mouseup",this.upIncrement),(0,C.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var x=this.prValue-Y;X.set("value",x,{avoidStore:1}).set("value",x+Y),this.elementUpdated()}}},{key:"normalizeValue",value:function(X){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=this.model,W=x.get("step"),oe=0;if(isNaN(X))return Y;if(X=parseFloat(X),Math.floor(X)!==X){var se=W.toString().split(".")[1];oe=se?se.length:0}return oe?parseFloat(X.toFixed(oe)):X}},{key:"validateInputValue",value:function(X){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=0,W=Y||{},oe=this.model,se="",Z=(0,N.isUndefined)(X)?se:X,B=Y.units||oe.get("units")||[],T=oe.get("unit")||B.length&&B[0]||"",j=(0,N.isUndefined)(Y.max)?oe.get("max"):Y.max,U=(0,N.isUndefined)(Y.min)?oe.get("min"):Y.min,E=!!oe.get("limitlessMax"),M=!!oe.get("limitlessMin");if(W.deepCheck){var c=oe.get("fixedValues")||[];if(Z===""&&(T=""),Z){var d=new RegExp("^"+c.join("|"),"g");if(c.length&&d.test(Z))Z=Z.match(d)[0],T="",x=1;else{var s=Z+"";Z+="",Z=parseFloat(Z.replace(",",".")),Z=isNaN(Z)?se:Z;var p=s.replace(Z,"");(0,N.indexOf)(B,p)>=0&&(T=p)}}}return E||(0,N.isUndefined)(j)||j===""||(Z=Z>j?j:Z),M||(0,N.isUndefined)(U)||U===""||(Z=Z<U?U:Z),{force:x,value:Z,unit:T}}},{key:"render",value:function(){y.Z.prototype.render.call(this),this.unitEl=null;var X=this.getUnitEl();return X&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(X),this}}]),H}(y.Z);g.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"}},6602:(ge,_e,z)=>{z.d(_e,{Z:()=>m});var ie=z(5671),w=z(3144),k=z(7326),$=z(9340),D=z(2963),q=z(1120),l=z(4942),P=z(9050),N=z(2316),C=z.n(N);function y(g){var S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,H=(0,q.Z)(g);if(S){var X=(0,q.Z)(this).constructor;I=Reflect.construct(H,arguments,X)}else I=H.apply(this,arguments);return(0,D.Z)(this,I)}}var m=function(g){(0,$.Z)(I,g);var S=y(I);function I(){var H,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=arguments.length>1?arguments[1]:void 0,x=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return(0,ie.Z)(this,I),H=S.call(this,X),(0,l.Z)((0,k.Z)(H),"itemsView",""),(0,l.Z)((0,k.Z)(H),"itemType","type"),(0,l.Z)((0,k.Z)(H),"reuseView",!1),H.config=Y||X.config||{},x&&H.listenTo(H.collection,"add",H.addTo),H.items=[],H}return(0,w.Z)(I,[{key:"addTo",value:function(H){this.add(H)}},{key:"itemViewNotFound",value:function(H){var X=this.config,Y=this.ns,x=X.em,W="".concat(Y?"[".concat(Y,"]: "):"","'").concat(H,"' type not found");x&&x.logWarning(W)}},{key:"add",value:function(H,X){var Y,x=this.config,W=this.reuseView,oe=this.items,se=this.itemsView,Z=se===void 0?{}:se,B=X||null,T=this.itemView,j=H.get(this.itemType);Z[j]?T=Z[j]:!j||Z[j]||(0,P.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],j)||this.itemViewNotFound(j),Y=H.view&&W?H.view:new T({model:H,config:x},x),oe&&oe.push(Y);var U=Y.render().el;B?B.appendChild(U):this.$el.append(U)}},{key:"render",value:function(){var H=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(X){this.add(X,H)},this),this.$el.append(H),this.onRender(),this}},{key:"onRender",value:function(){}},{key:"onRemoveBefore",value:function(){}},{key:"onRemove",value:function(){}},{key:"remove",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=this.items;this.onRemoveBefore(X,H),this.clearItems(),C().View.prototype.remove.apply(this,arguments),this.onRemove(X,H)}},{key:"clearItems",value:function(){this.items}}]),I}(C().View);m.prototype.itemView=""},4836:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>C});var ie=z(5671),w=z(3144),k=z(4942),$=z(9050),D=z(1163),q={placeholder:"eg. Text here"};const l={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:q,alt:q,title:q,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:null};function P(y,m){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);m&&(S=S.filter(function(I){return Object.getOwnPropertyDescriptor(y,I).enumerable})),g.push.apply(g,S)}return g}function N(y){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?P(Object(g),!0).forEach(function(S){(0,k.Z)(y,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(g)):P(Object(g)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(g,S))})}return y}var C=function(){function y(){(0,ie.Z)(this,y),(0,k.Z)(this,"name","I18n")}return(0,w.Z)(y,[{key:"init",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=N(N(N({},l),m),{},{messages:N(N({},l.messages),m.messages||{})});var g=this.config.messagesAdd;return g&&this.addMessages(g),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=m.em,this}},{key:"getConfig",value:function(){return this.config}},{key:"setLocale",value:function(m){var g=this.em,S=this.config,I={value:m,valuePrev:S.locale};return g&&g.trigger("i18n:locale",I),S.locale=m,this}},{key:"getLocale",value:function(){return this.config.locale}},{key:"getMessages",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=this.config.messages;return m&&!S[m]&&this._debug("'".concat(m,"' i18n lang not found"),g),m?S[m]:S}},{key:"setMessages",value:function(m){var g=this.em;return this.config.messages=m,g&&g.trigger("i18n:update",m),this}},{key:"addMessages",value:function(m){var g=this.em,S=this.config.messages;return g&&g.trigger("i18n:add",m),this.setMessages((0,D.deepMerge)(S,m)),this}},{key:"t",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=this.config,I=g.params||{},H=g.l||this.getLocale(),X=g.lFlb||S.localeFallback,Y=this._getMsg(m,H,g);return Y||(Y=this._getMsg(m,X,g)),!Y&&this._debug("'".concat(m,"' i18n key not found in '").concat(H,"' lang"),g),Y=Y&&(0,$.isString)(Y)?this._addParams(Y,I):Y}},{key:"_localLang",value:function(){var m=(0,D.hasWin)()&&window.navigator||{},g=m.language||m.userLanguage;return g?g.split("-")[0]:"en"}},{key:"_addParams",value:function(m,g){var S=new RegExp("{([\\w\\d-]*)}","g");return m.replace(S,function(I,H){return g[H]||""}).trim()}},{key:"_getMsg",value:function(m,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=this.getMessages(g,S);if(I){var H=I[m];return!H&&m.indexOf(".")>0&&(H=m.split(".").reduce(function(X,Y){if(!(0,$.isUndefined)(X))return X[Y]},I)),H}}},{key:"_debug",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=this.em,I=this.config;(g.debug||I.debug)&&S&&S.logWarning(m)}},{key:"destroy",value:function(){this.config={},this.em={}}}]),y}()},9788:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>U});var ie,w=z(1002),k=z(4942),$=z(9050),D=z(1163),q={},l={16:!1,18:!1,17:!1,91:!1},P="all",N={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},C={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},y=function(E){return C[E]||E.toUpperCase().charCodeAt(0)},m=[];for(ie=1;ie<20;ie++)C["f"+ie]=111+ie;function g(E,M){for(var c=E.length;c--;)if(E[c]===M)return c;return-1}function S(E,M){if(E.length!=M.length)return!1;for(var c=0;c<E.length;c++)if(E[c]!==M[c])return!1;return!0}var I={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function H(E){for(ie in l)l[ie]=E[I[ie]]}function X(E){var M,c=E.keyCode,d=g(m,c);if(d>=0&&m.splice(d,1),c!=93&&c!=224||(c=91),c in l)for(M in l[c]=!1,N)N[M]==c&&(x[M]=!1)}function Y(){for(ie in l)l[ie]=!1;for(ie in N)x[ie]=!1}function x(E,M,c){var d,s;d=oe(E),c===void 0&&(c=M,M="all");for(var p=0;p<d.length;p++)s=[],(E=d[p].split("+")).length>1&&(s=se(E),E=[E[E.length-1]]),E=E[0],(E=y(E))in q||(q[E]=[]),q[E].push({shortcut:d[p],scope:M,method:c,key:d[p],mods:s})}for(ie in N)x[ie]=!1;function W(){return P||"all"}function oe(E){var M;return(M=(E=E.replace(/\s/g,"")).split(","))[M.length-1]==""&&(M[M.length-2]+=","),M}function se(E){for(var M=E.slice(0,E.length-1),c=0;c<M.length;c++)M[c]=N[M[c]];return M}function Z(E,M,c){E.addEventListener?E.addEventListener(M,c,!1):E.attachEvent&&E.attachEvent("on"+M,function(){c(window.event)})}x.setScope=function(E){P=E||"all"},x.getScope=W,x.deleteScope=function(E){var M,c,d;for(M in q)for(c=q[M],d=0;d<c.length;)c[d].scope===E?c.splice(d,1):d++},x.filter=function(E){var M=(E.target||E.srcElement).tagName;return!(M=="INPUT"||M=="SELECT"||M=="TEXTAREA")},x.isPressed=function(E){return typeof E=="string"&&(E=y(E)),g(m,E)!=-1},x.getPressedKeyCodes=function(){return m.slice(0)},x.unbind=function(E,M){var c,d,s,p,O,K=[];for(c=oe(E),p=0;p<c.length;p++){if((d=c[p].split("+")).length>1&&(K=se(d)),E=d[d.length-1],E=y(E),M===void 0&&(M=W()),!q[E])return;for(s=0;s<q[E].length;s++)(O=q[E][s]).scope===M&&S(O.mods,K)&&(q[E][s]={})}},x.handlers=q,x.init=function(E){Z(E.document,"keydown",function(M){(function(c){var d,s,p,O,K,Q;if(d=c.keyCode,g(m,d)==-1&&m.push(d),d!=93&&d!=224||(d=91),d in l)for(p in l[d]=!0,N)N[p]==d&&(x[p]=!0);else if(H(c),x.filter.call(this,c)&&d in q){for(Q=W(),O=0;O<q[d].length;O++)if((s=q[d][O]).scope==Q||s.scope=="all"){for(p in K=s.mods.length>0,l)(!l[p]&&g(s.mods,+p)>-1||l[p]&&g(s.mods,+p)==-1)&&(K=!1);(s.mods.length!=0||l[16]||l[18]||l[17]||l[91])&&!K||s.method(c,s)===!1&&(c.preventDefault?c.preventDefault():c.returnValue=!1,c.stopPropagation&&c.stopPropagation(),c.cancelBubble&&(c.cancelBubble=!0))}}})(M)}),Z(E.document,"keyup",X),Z(E,"focus",Y)};const B=x;function T(E,M){var c=Object.keys(E);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(E);M&&(d=d.filter(function(s){return Object.getOwnPropertyDescriptor(E,s).enumerable})),c.push.apply(c,d)}return c}function j(E){for(var M=1;M<arguments.length;M++){var c=arguments[M]!=null?arguments[M]:{};M%2?T(Object(c),!0).forEach(function(d){(0,k.Z)(E,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(c)):T(Object(c)).forEach(function(d){Object.defineProperty(E,d,Object.getOwnPropertyDescriptor(c,d))})}return E}(0,D.hasWin)()&&B.init(window);const U=function(){var E={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:1}}}};return{keymaster:B,name:"Keymaps",getConfig:function(){return this.config},init:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.config=j(j({},E),M),this.em=this.config.em,this.keymaps={},this},onLoad:function(){var M=this.config.defaults;for(var c in M){var d=M[c];this.add(c,d.keys,d.handler,d.opts||{})}},add:function(M,c,d){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=this.em,O=p.get("Commands"),K=p.getEditor(),Q=p.get("Canvas"),ne={id:M,keys:c,handler:d},R=this.keymaps[M];return R&&this.remove(M),this.keymaps[M]=ne,B(c,function(v,b){var a={event:v,h:b};if(d=(0,$.isString)(d)?O.get(d):d,!p.isEditing()&&!K.Canvas.isInputFocused()||s.force){s.prevent&&Q.getCanvasView().preventDefault(v),(0,w.Z)(d)=="object"?O.runCommand(d,a):d(K,0,a);var f=[M,b.shortcut,v];p.trigger.apply(p,["keymap:emit"].concat(f)),p.trigger.apply(p,["keymap:emit:".concat(M)].concat(f))}}),p.trigger("keymap:add",ne),ne},get:function(M){return this.keymaps[M]},getAll:function(){return this.keymaps},remove:function(M){var c=this.em,d=this.get(M);if(d)return delete this.keymaps[M],d.keys.split(", ").forEach(function(s){return B.unbind(s.trim())}),c&&c.trigger("keymap:remove",d),d},removeAll:function(){var M=this;return Object.keys(this.keymaps).forEach(function(c){return M.remove(c)}),B.handlers={},this},destroy:function(){this.removeAll(),this.keymaps={},this.em={}}}}},4424:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>Y});var ie=z(4942);const w={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null,optionsHtml:{htmlType:null,allowScripts:!1,allowUnsafeAttr:!1}};var k=z(9050),$={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},D=(0,k.keys)($),q=["5","6","11","15"],l=["font-face","page","counter-style","viewport"],P=function(){for(var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",W=[],oe=[],se=x.split(","),Z=0,B=se.length;Z<B;Z++){var T=se[Z].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(T)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(T)){var j=T.split(".").filter(Boolean);oe.push(j)}else W.push(T)}return{result:oe,add:W}},N=function(x){for(var W=x.style,oe={},se=0,Z=W.length;se<Z;se++){var B=W[se],T=W.getPropertyValue(B),j=W.getPropertyPriority(B);oe[B]="".concat(T).concat(j?" !".concat(j):"")}return oe},C=function(x){return(x.conditionText||x.media&&x.media.mediaText||x.name||x.selectorText||"").trim()},y=function(x){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se={},Z=x.length,B=x[Z-1],T=B?B.split(/:(.+)/):[],j=T[1],U=oe.atRule,E=oe.selectorsAdd,M=oe.mediaText,c=l.indexOf(U)>=0;return c&&(se.singleAtRule=1),U&&(se.atRuleType=U),E&&(se.selectorsAdd=E),M&&(se.mediaText=M),j&&(x[Z-1]=T[0],se.state=j,T.splice(T.length-1,1)),se.selectors=x,se.style=W,se},m=function x(W){for(var oe=[],se=W.cssRules||[],Z=0,B=se.length;Z<B;Z++){var T=se[Z],j=T.type.toString(),U=0,E="",M="",c=T.selectorText||T.keyText,d=q.indexOf(j)>=0;if(d)U=1,E=$[j],M=C(T);else if(D.indexOf(j)>=0){var s=x(T);M=C(T);for(var p=0,O=s.length;p<O;p++){var K=s[p];M&&(K.mediaText=M),K.atRuleType=$[j]}oe=oe.concat(s)}if(c||d){for(var Q=N(T),ne=P(c),R=ne.add,v=void 0,b=0,a=(c=ne.result).length;b<a;b++){var f=y(c[b],Q,{atRule:$[j]});oe.push(f),v=f}if(R.length){var h=R.join(", ");if(v)v.selectorsAdd=h;else{var _={selectors:[],selectorsAdd:h,style:Q};U&&(_.singleAtRule=U),E&&(_.atRuleType=E),M&&(_.mediaText=M),oe.push(_)}}}}return oe};const g=function(x){var W=document.createElement("style");W.innerHTML=x,document.head.appendChild(W);var oe=W.sheet;return document.head.removeChild(W),m(oe)},S=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{parse:function(W){var oe=this,se=[],Z=x.parserCss,B=x.em,T=B&&B.get&&B.get("Editor");return(Z?Z(W,T):g(W)).forEach(function(j){return se=se.concat(oe.checkNode(j))}),B&&B.trigger("parse:css",{input:W,output:se}),se},checkNode:function(W){var oe=W,se=oe.selectors,Z=oe.style;if((0,k.isString)(se)){var B=[],T=P(se),j=T.result,U=T.add.join(", "),E={atRule:W.atRule,mediaText:W.params};j.length?j.forEach(function(M){B.push(y(M,Z,E))}):B.push(y([],Z,E)),U&&(B[B.length-1].selectorsAdd=U),W=B}return W}}};var I=z(5311);function H(x,W){var oe=Object.keys(x);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(x);W&&(se=se.filter(function(Z){return Object.getOwnPropertyDescriptor(x,Z).enumerable})),oe.push.apply(oe,se)}return oe}function X(x){for(var W=1;W<arguments.length;W++){var oe=arguments[W]!=null?arguments[W]:{};W%2?H(Object(oe),!0).forEach(function(se){(0,ie.Z)(x,se,oe[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(oe)):H(Object(oe)).forEach(function(se){Object.defineProperty(x,se,Object.getOwnPropertyDescriptor(oe,se))})}return x}const Y=function(){var x,W,oe={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",init:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(oe=X(X({},w),se)).Parser=this,x=new I.Z(oe),W=new S(oe),this.em=oe.em,this.parserCss=W,this.parserHtml=x,this},getConfig:function(){return oe},parseHtml:function(se){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=this.em,T=this.compTypes;return x.compTypes=B?B.get("DomComponents").getTypes():T,x.parse(se,W,Z)},parseCss:function(se){return W.parse(se)},destroy:function(){var se=this;["em","parserCss","parserHtml"].forEach(function(Z){return se[Z]={}})}}}},5311:(ge,_e,z)=>{z.d(_e,{Z:()=>N});var ie=z(4942),w=z(1002),k=z(9050),$="text/html",D=$;const q=function(C){var y,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=new DOMParser,S=m.htmlType||D,I=S===$,H=I?C:"<div>".concat(C,"</div>"),X=g.parseFromString(H,S);if(I){var Y=X.head,x=X.body,W=Y.querySelectorAll("script");(0,k.each)(W,function(se){return x.appendChild(se)});var oe=[];(0,k.each)(Y.children,function(se){return oe.push(se)}),(0,k.each)(oe,function(se,Z){return x.insertBefore(se,x.children[Z])}),y=x}else y=X.firstChild;return y};function l(C,y){var m=Object.keys(C);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(C);y&&(g=g.filter(function(S){return Object.getOwnPropertyDescriptor(C,S).enumerable})),m.push.apply(m,g)}return m}function P(C){for(var y=1;y<arguments.length;y++){var m=arguments[y]!=null?arguments[y]:{};y%2?l(Object(m),!0).forEach(function(g){(0,ie.Z)(C,g,m[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(m)):l(Object(m)).forEach(function(g){Object.defineProperty(C,g,Object.getOwnPropertyDescriptor(m,g))})}return C}const N=function(C){var y=C,m="data-gjs-",g="parse:html";return{compTypes:"",modelAttrStart:m,splitPropsFromAttr:function(){var S=this,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H={},X={};return(0,k.each)(I,function(Y,x){if(x.indexOf(S.modelAttrStart)===0){var W=x.replace(m,""),oe=Y.length,se=Y&&(0,k.isString)(Y),Z=se&&Y.substr(0,1),B=se&&Y.substr(oe-1);Y=(Y=Y==="true"||Y)!=="false"&&Y;try{Y=Z=="{"&&B=="}"||Z=="["&&B=="]"?JSON.parse(Y):Y}catch{}H[W]=Y}else X[x]=Y}),{props:H,attrs:X}},parseStyle:function(S){for(var I={},H=S.split(";"),X=0,Y=H.length;X<Y;X++){var x=H[X].trim();if(x){var W=x.split(":");I[W[0].trim()]=W.slice(1).join(":").trim()}}return I},parseClass:function(S){for(var I=[],H=S.split(" "),X=0,Y=H.length;X<Y;X++){var x=H[X].trim();x&&I.push(x)}return I},parseNode:function(S){for(var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=[],X=S.childNodes,Y=0,x=X.length;Y<x;Y++){var W=X[Y],oe=W.attributes||[],se=oe.length,Z=H[H.length-1],B=W.childNodes.length,T=this.compTypes,j={};if(T){var U="",E=W.getAttribute&&W.getAttribute("".concat(m,"type"));if(E)j={type:E};else{for(var M=0;M<T.length;M++){var c=T[M];if(U=c.model.isComponent(W,I)){(0,w.Z)(U)!=="object"&&(U={type:c.id});break}}j=U}}if(!j.tagName){var d=W.tagName||"",s=W.namespaceURI||"";j.tagName=d&&s==="http://www.w3.org/1999/xhtml"?d.toLowerCase():d}se&&(j.attributes={});for(var p=0;p<se;p++){var O=oe[p].nodeName,K=oe[p].nodeValue;if(O=="style")j.style=this.parseStyle(K);else if(O=="class")j.classes=this.parseClass(K);else{if(O=="contenteditable")continue;if(O.indexOf(m)===0){var Q=O.replace(m,""),ne=K.length,R=K&&K.substr(0,1),v=K&&K.substr(ne-1);K=(K=K==="true"||K)!=="false"&&K;try{K=R=="{"&&v=="}"||R=="["&&v=="]"?JSON.parse(K):K}catch{}j[Q]=K}else K===""&&W[O]===!0&&(K=!0),j.attributes[O]=K}}if(B&&!j.components){var b=W.childNodes[0];B===1&&b.nodeType===3?(!j.type&&(j.type="text"),j.components={type:"textnode",content:b.nodeValue}):j.components=this.parseNode(W,P(P({},I),{},{inSvg:I.inSvg||j.type==="svg"}))}if(j.type=="textnode"){if(Z&&Z.type=="textnode"){Z.content+=j.content;continue}if(!C.keepEmptyTextNodes){var a=W.nodeValue;if(a!=" "&&!a.trim())continue}}B||"".concat(W.outerHTML).slice(-2)!=="/>"||(j.void=!0);var f=j.components;if(!j.type&&f){for(var h=1,_=0,A=0;A<f.length;A++){var J=f[A],te=J.type;if(["text","textnode"].indexOf(te)<0&&y.textTags.indexOf(J.tagName)<0){h=0;break}te=="textnode"&&(_=1)}h&&_&&(j.type="text")}(j.tagName||j.type=="textnode")&&H.push(j)}return H},parse:function(S,I){var H,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Y=y.em,x=Y&&Y.get("Config")||{},W={html:null,css:null},oe=P(P({},C),X),se=P(P({},C.optionsHtml),{},{htmlType:((H=C.optionsHtml)===null||H===void 0?void 0:H.htmlType)||C.htmlType},X),Z=(0,k.isFunction)(oe.parserHtml)?oe.parserHtml(S,se):q(S,se),B=Z.querySelectorAll("script"),T=B.length,j=(0,k.isUndefined)(x.allowScripts)?se.allowScripts:x.allowScripts;if(!j)for(;T--;)B[T].parentNode.removeChild(B[T]);if(se.allowUnsafeAttr||this.__clearUnsafeAttr(Z),I){for(var U=Z.querySelectorAll("style"),E=U.length,M="";E--;)M=U[E].innerHTML+M,U[E].parentNode.removeChild(U[E]);M&&(W.css=I.parse(M))}Y&&Y.trigger("".concat(g,":root"),{input:S,root:Z});var c=this.parseNode(Z,oe),d=c.length!==1||y.returnArray?c:c[0];return W.html=d,Y&&Y.trigger(g,{input:S,output:W}),W},__clearUnsafeAttr:function(S){var I=this,H=S.attributes||[],X=S.childNodes||[],Y=[];(0,k.each)(H,function(x){var W=x.nodeName||"";W.indexOf("on")===0&&Y.push(W)}),Y.map(function(x){return S.removeAttribute(x)}),(0,k.each)(X,function(x){return I.__clearUnsafeAttr(x)})}}}},2012:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>B});var ie=z(5861),w=z(2982),k=z(4942),$=z(4687),D=z.n($),q=z(1163),l=z(5671),P=z(3144),N=z(9050);function C(T,j){var U=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);j&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable})),U.push.apply(U,E)}return U}function y(T){for(var j=1;j<arguments.length;j++){var U=arguments[j]!=null?arguments[j]:{};j%2?C(Object(U),!0).forEach(function(E){(0,k.Z)(T,E,U[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(U)):C(Object(U)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(U,E))})}return T}var m="_rte",g=1,S=0,I=-1,H=function(T){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"A",U=T.selection(),E=U.anchorNode,M=U.focusNode,c=E==null?void 0:E.parentNode,d=M==null?void 0:M.parentNode;return(c==null?void 0:c.nodeName)==j||(d==null?void 0:d.nodeName)==j},X="data-selectme",Y={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(T){return T.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(T){return T.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(T){return T.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(T){return T.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(T){return T&&T.selection()&&H(T)?g:S},result:function(T){H(T)?T.exec("unlink"):T.insertHTML('<a href="" '.concat(X,">").concat(T.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(T){return T!=null&&T.selection()&&H(T,"SPAN")?I:S},result:function(T){!H(T,"SPAN")&&T.insertHTML("<span ".concat(X,">").concat(T.selection(),"</span>"),{select:!0})}}},x=function(){function T(){var j=this,U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,l.Z)(this,T);var E=U.el,M=U.em;if(this.em=M,E[m])return E[m];E[m]=this,this.setEl(E),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var c=(U.actions||[]).map(function(K){var Q=K;return typeof K=="string"?Q=y({},Y[K]):Y[K.name]&&(Q=y(y({},Y[K.name]),K)),Q}),d=c.length?c:Object.keys(Y).map(function(K){return Y[K]});U.classes=y(y({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"}),U.classes);var s=U.classes,p=U.actionbar;if(this.actionbar=p,this.settings=U,this.classes=s,this.actions=d,!p){var O=U.actionbarContainer;(p=document.createElement("div")).className=s.actionbar,O.appendChild(p),this.actionbar=p,d.forEach(function(K){return j.addAction(K)})}return U.styleWithCSS&&this.exec("styleWithCSS"),this}return(0,P.Z)(T,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(j){this.el=j,this.doc=j.ownerDocument}},{key:"updateActiveActions",value:function(){var j=this;this.getActions().forEach(function(U){var E=U.btn,M=U.update,c=y({},j.classes),d=c.active,s=c.inactive,p=c.disabled,O=U.state,K=U.name,Q=j.doc;if(E.className=E.className.replace(d,"").trim(),E.className=E.className.replace(s,"").trim(),E.className=E.className.replace(p,"").trim(),O)switch(O(j,Q)){case g:E.className+=" ".concat(d);break;case S:E.className+=" ".concat(s);break;case I:E.className+=" ".concat(p)}else Q.queryCommandSupported(K)&&Q.queryCommandState(K)&&(E.className+=" ".concat(d));M&&M(j,U)})}},{key:"enable",value:function(j){return this.enabled?this:this.__toggleEffects(!0,j)}},{key:"disable",value:function(){return this.__toggleEffects(!1)}},{key:"__toggleEffects",value:function(){var j=arguments.length>0&&arguments[0]!==void 0&&arguments[0],U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=j?q.on:q.off,M=this.el,c=this.doc;if(this.actionbarEl().style.display=j?"":"none",M.contentEditable=!!j,E(M,"mouseup keyup",this.updateActiveActions),E(c,"keydown",this.__onKeydown),E(c,"paste",this.__onPaste),this.enabled=j,j){var d=U.event;if(this.syncActions(),this.updateActiveActions(),d){var s=null;if(c.caretRangeFromPoint){var p=(0,q.getPointerEvent)(d);s=c.caretRangeFromPoint(p.clientX,p.clientY)}else d.rangeParent&&(s=c.createRange()).setStart(d.rangeParent,d.rangeOffset);var O=c.getSelection();O.removeAllRanges(),s&&O.addRange(s)}M.focus()}return this}},{key:"__onKeydown",value:function(j){var U=this.doc;j.key!=="Enter"||["insertOrderedList","insertUnorderedList"].some(function(E){return U.queryCommandState(E)})||(U.execCommand("insertLineBreak"),j.preventDefault())}},{key:"__onPaste",value:function(j){var U=j.clipboardData||window.clipboardData,E=U.getData("text"),M=U.getData("text/html");if(E&&!M){j.preventDefault();var c=E.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,c)}}},{key:"syncActions",value:function(){var j=this;this.getActions().forEach(function(U){if(j.actionbar&&(!U.state||U.state&&U.state(j,j.doc)>=0)){var E=U.event||"click";U.btn["on".concat(E)]=function(M){U.result(j,U),j.updateActiveActions()}}})}},{key:"addAction",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=U.sync,M=document.createElement("span"),c=j.icon,d=j.attributes||{};for(var s in M.className=this.classes.button,j.btn=M,d)M.setAttribute(s,d[s]);typeof c=="string"?M.innerHTML=c:M.appendChild(c),this.actionbarEl().appendChild(M),E&&(this.actions.push(j),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.doc.execCommand(j,!1,U)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=U.select,M=this.em,c=this.doc,d=this.el,s=c.getSelection();if(s&&s.rangeCount){var p=(0,q.getModel)(d),O=c.createElement("div"),K=s.getRangeAt(0);K.deleteContents(),(0,N.isString)(j)?O.innerHTML=j:j&&O.appendChild(j),Array.prototype.slice.call(O.childNodes).forEach(function(Q){K.insertNode(Q)}),s.removeAllRanges(),s.addRange(K),d.focus(),E&&p&&(p.once("rte:disable",function(){var Q=p.find("[".concat(X,"]"))[0];Q&&(M.setSelected(Q),Q.removeAttributes(X))}),p.trigger("disable"))}}}]),T}();const W={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link","wrap"]};function oe(T,j){var U=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);j&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable})),U.push.apply(U,E)}return U}function se(T){for(var j=1;j<arguments.length;j++){var U=arguments[j]!=null?arguments[j]:{};j%2?oe(Object(U),!0).forEach(function(E){(0,k.Z)(T,E,U[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(U)):oe(Object(U)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(U,E))})}return T}var Z="change:canvasOffset frame:scroll component:update";const B=function(){var T,j=function(){var U=T.style,E="-1000px";U.top=E,U.left=E,U.display="none"};return{customRte:null,name:"RichTextEditor",getConfig:function(){return this.config},init:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=se(se({},W),U),M=E.pStylePrefix;return M&&(E.stylePrefix=M+E.stylePrefix),this.config=E,this.pfx=E.stylePrefix,this.em=E.em,this.actions=E.actions||[],(0,q.hasWin)()?((T=document.createElement("div")).className="".concat(M,"rte-toolbar ").concat(M,"one-bg"),this.initRte(document.createElement("div")),(0,q.on)(T,"mousedown",function(c){return c.stopPropagation()}),this):this},destroy:function(){var U,E,M,c=this;(U=this.globalRte)===null||U===void 0||U.destroy(),(E=this.customRte)===null||E===void 0||(M=E.destroy)===null||M===void 0||M.call(E),T=0,["actionbar","actions","em","config","globalRte","lastEl"].map(function(d){delete c[d]})},postRender:function(U){var E=U.model.get("Canvas");T.style.pointerEvents="all",j(),E.getToolsEl().appendChild(T)},initRte:function(U){var E=this.globalRte,M=this.em,c=this.pfx,d=this.actionbar,s=this.config,p=T,O=this.actions||(0,w.Z)(s.actions),K={actionbar:"".concat(c,"actionbar"),button:"".concat(c,"action"),active:"".concat(c,"active"),inactive:"".concat(c,"inactive"),disabled:"".concat(c,"disabled")};return E?(E.em=M,E.setEl(U)):(E=new x({em:M,el:U,classes:K,actions:O,actionbar:d,actionbarContainer:p}),this.globalRte=E),E.actionbar&&(this.actionbar=E.actionbar),E.actions&&(this.actions=E.actions),E},add:function(U){var E,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.name=U,(E=this.globalRte)===null||E===void 0||E.addAction(M,{sync:1})},get:function(U){var E,M;return(E=this.globalRte)===null||E===void 0||E.getActions().forEach(function(c){c.name==U&&(M=c)}),M},getAll:function(){var U;return(U=this.globalRte)===null||U===void 0?void 0:U.getActions()},remove:function(U){var E=this.getAll(),M=this.get(U);if(M){var c=M.btn,d=E.indexOf(M);c.parentNode.removeChild(c),E.splice(d,1)}return M},getToolbarEl:function(){return T},updatePosition:function(){var U="px",E=this.em.get("Canvas"),M=T.style,c=E.getTargetToElementFixed(this.lastEl,T,{event:"rteToolbarPosUpdate",left:0});M.top=(c.top||0)+U,M.left=(c.left||0)+U},enable:function(U,E,M){var c=this;return(0,ie.Z)(D().mark(function d(){var s,p,O,K;return D().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return c.lastEl=U.el,s=c.customRte,p=c.em,O=U.getChildrenContainer(),T.style.display="",Q.next=6,s?s.enable(O,E):c.initRte(O).enable(M);case 6:return K=Q.sent,p&&(setTimeout(c.updatePosition.bind(c),0),p.off(Z,c.updatePosition,c),p.on(Z,c.updatePosition,c),p.trigger("rte:enable",U,K)),Q.abrupt("return",K);case 9:case"end":return Q.stop()}},d)}))()},disable:function(U,E){var M=this.em,c=this.customRte,d=U.getChildrenContainer();c?c.disable(d,E):E&&E.disable(),j(),M&&(M.off(Z,this.updatePosition,this),M.trigger("rte:disable",U,E))}}}},4859:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>M});var ie=z(5861),w=z(5671),k=z(3144),$=z(7326),D=z(9340),q=z(2963),l=z(1120),P=z(4942),N=z(4687),C=z.n(N),y=z(9714);const m={id:"gjs-",type:"local",autosave:!0,autoload:!0,recovery:!1,stepsBeforeSave:1,onStore:function(c){return c},onLoad:function(c){return c},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(c){return c},onLoad:function(c){return c}}}};var g=z(1163),S=function(){function c(){(0,w.Z)(this,c)}var d,s;return(0,k.Z)(c,[{key:"store",value:(s=(0,ie.Z)(C().mark(function p(O){var K,Q=arguments;return C().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:K=Q.length>1&&Q[1]!==void 0?Q[1]:{},this.hasLocal(K,!0)&&localStorage.setItem(K.key,JSON.stringify(O));case 2:case"end":return ne.stop()}},p,this)})),function(p){return s.apply(this,arguments)})},{key:"load",value:(d=(0,ie.Z)(C().mark(function p(){var O,K,Q=arguments;return C().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return O=Q.length>0&&Q[0]!==void 0?Q[0]:{},K={},this.hasLocal(O,!0)&&(K=JSON.parse(localStorage.getItem(O.key)||"{}")),ne.abrupt("return",K);case 4:case"end":return ne.stop()}},p,this)})),function(){return d.apply(this,arguments)})},{key:"hasLocal",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=arguments.length>1?arguments[1]:void 0;if(p.checkLocal&&(!(0,g.hasWin)()||!localStorage)){if(O)throw new Error("localStorage not available");return!1}return!0}}]),c}(),I=z(9050),H=z(9661);function X(c,d){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);d&&(p=p.filter(function(O){return Object.getOwnPropertyDescriptor(c,O).enumerable})),s.push.apply(s,p)}return s}function Y(c){for(var d=1;d<arguments.length;d++){var s=arguments[d]!=null?arguments[d]:{};d%2?X(Object(s),!0).forEach(function(p){(0,P.Z)(c,p,s[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)):X(Object(s)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(s,p))})}return c}var x=function(){function c(){(0,w.Z)(this,c)}var d,s;return(0,k.Z)(c,[{key:"store",value:(s=(0,ie.Z)(C().mark(function p(O){var K,Q=arguments;return C().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return K=Q.length>1&&Q[1]!==void 0?Q[1]:{},ne.next=3,this.request(K.urlStore,this.__props(K,O),K);case 3:case"end":return ne.stop()}},p,this)})),function(p){return s.apply(this,arguments)})},{key:"load",value:(d=(0,ie.Z)(C().mark(function p(O){return C().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,this.request(O.urlLoad,this.__props(O),O);case 2:return K.abrupt("return",K.sent);case 3:case"end":return K.stop()}},p,this)})),function(p){return d.apply(this,arguments)})},{key:"request",value:function(p){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,H.Z)(p,O).then(function(Q){var ne=Q.text();return(Q.status/200|0)==1?ne:ne.then(Promise.reject)}).then(function(Q){var ne=Q&&(0,I.isString)(Q);return K.contentTypeJson&&ne?JSON.parse(Q):Q})}},{key:"__props",value:function(){var p,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=arguments.length>1?arguments[1]:void 0,Q=O.contentTypeJson,ne=O.headers||{},R=O.fetchOptions||{},v="X-Requested-With",b="Content-Type";if((0,I.isUndefined)(ne[v])&&(ne[v]="XMLHttpRequest"),(0,I.isUndefined)(ne[b])&&Q&&(ne[b]="application/json; charset=utf-8"),K)if(Q)p=JSON.stringify(K);else for(var a in p=new FormData,K)p.append(a,K[a]);var f={method:p?"POST":"GET",credentials:O.credentials,headers:ne,body:p};return Y(Y({},f),(0,I.isFunction)(R)?R(f):R)}}]),c}();function W(c,d){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);d&&(p=p.filter(function(O){return Object.getOwnPropertyDescriptor(c,O).enumerable})),s.push.apply(s,p)}return s}function oe(c){for(var d=1;d<arguments.length;d++){var s=arguments[d]!=null?arguments[d]:{};d%2?W(Object(s),!0).forEach(function(p){(0,P.Z)(c,p,s[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)):W(Object(s)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(s,p))})}return c}function se(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,p=(0,l.Z)(c);if(d){var O=(0,l.Z)(this).constructor;s=Reflect.construct(p,arguments,O)}else s=p.apply(this,arguments);return(0,q.Z)(this,s)}}var Z="storage:start",B="storage:after",T="storage:end",j="storage:error",U="local",E="remote",M=function(c){(0,D.Z)(K,c);var d,s,p,O=se(K);function K(){var Q;(0,w.Z)(this,K);for(var ne=arguments.length,R=new Array(ne),v=0;v<ne;v++)R[v]=arguments[v];return Q=O.call.apply(O,[this].concat(R)),(0,P.Z)((0,$.Z)(Q),"name","StorageManager"),Q}return(0,k.Z)(K,[{key:"init",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__initConfig(m,Q);var ne=this.getConfig();return ne._disable&&(ne.type=0),this.storages={},this.add(U,new S(ne)),this.add(E,new x(ne)),this.setCurrent(ne.type),this}},{key:"isAutosave",value:function(){return!!this.getConfig().autosave}},{key:"setAutosave",value:function(Q){return this.getConfig().autosave=!!Q,this}},{key:"getStepsBeforeSave",value:function(){return this.getConfig().stepsBeforeSave}},{key:"setStepsBeforeSave",value:function(Q){return this.getConfig().stepsBeforeSave=Q,this}},{key:"add",value:function(Q,ne){return this.storages[Q]=ne,this}},{key:"get",value:function(Q){return this.storages[Q]||null}},{key:"getStorages",value:function(){return this.storages}},{key:"getCurrent",value:function(){return this.getConfig().currentStorage}},{key:"setCurrent",value:function(Q){return this.getConfig().currentStorage=Q,this}},{key:"getCurrentStorage",value:function(){return this.get(this.getCurrent())}},{key:"getStorageOptions",value:function(Q){return this.getCurrentOptions(Q)}},{key:"store",value:(p=(0,ie.Z)(C().mark(function Q(ne){var R,v,b,a,f,h=arguments;return C().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return R=h.length>1&&h[1]!==void 0?h[1]:{},v=this.getCurrentStorage(),b=oe(oe({},this.getCurrentOptions()),R),a=this.getRecoveryStorage(),f=this.getCurrentOptions(U),_.prev=5,_.next=8,this.__exec(v,b,ne);case 8:if(_.t0=a,!_.t0){_.next=12;break}return _.next=12,this.__exec(a,f,{});case 12:case 19:_.next=22;break;case 14:if(_.prev=14,_.t1=_.catch(5),!a){_.next=21;break}return _.next=19,this.__exec(a,f,ne);case 21:throw _.t1;case 22:return _.abrupt("return",ne);case 23:case"end":return _.stop()}},Q,this,[[5,14]])})),function(Q){return p.apply(this,arguments)})},{key:"load",value:(s=(0,ie.Z)(C().mark(function Q(){var ne,R,v,b,a,f,h=arguments;return C().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(ne=h.length>0&&h[0]!==void 0?h[0]:{},R=this.getCurrentStorage(),v=oe(oe({},this.getCurrentOptions()),ne),!(b=this.getRecoveryStorage())){_.next=17;break}return _.next=7,this.__exec(b,this.getCurrentOptions(U));case 7:if(f=_.sent,(0,I.isEmpty)(f)){_.next=17;break}return _.prev=9,_.next=12,this.__askRecovery();case 12:a=f,_.next=17;break;case 15:_.prev=15,_.t0=_.catch(9);case 17:if(a){_.next=21;break}return _.next=20,this.__exec(R,v);case 20:a=_.sent;case 21:return _.abrupt("return",a||{});case 22:case"end":return _.stop()}},Q,this,[[9,15]])})),function(){return s.apply(this,arguments)})},{key:"__askRecovery",value:function(){var Q=this.em,ne=this.getRecovery();return new Promise(function(R,v){(0,I.isFunction)(ne)?ne(R,v,Q==null?void 0:Q.getEditor()):confirm(Q==null?void 0:Q.t("storageManager.recover"))?R():v()})}},{key:"getRecovery",value:function(){return this.getConfig().recovery}},{key:"getRecoveryStorage",value:function(){return this.getRecovery()&&this.getCurrent()===E&&this.get(U)}},{key:"__exec",value:(d=(0,ie.Z)(C().mark(function Q(ne,R,v){var b,a,f,h,_,A,J,te;return C().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(b=v?"store":"load",a=this.getConfig(),f=a.onStore,h=a.onLoad,this.onStart(b,v),ne){F.next=5;break}return F.abrupt("return",v||{});case 5:if(F.prev=5,J=(A=this.em)===null||A===void 0?void 0:A.getEditor(),!v){F.next=31;break}if(F.t1=f,!F.t1){F.next=13;break}return F.next=12,f(v,J);case 12:F.t1=F.sent;case 13:if(F.t0=F.t1,F.t0){F.next=16;break}F.t0=v;case 16:if(te=F.t0,F.t3=R.onStore,!F.t3){F.next=22;break}return F.next=21,R.onStore(te,J);case 21:F.t3=F.sent;case 22:if(F.t2=F.t3,F.t2){F.next=25;break}F.t2=te;case 25:return te=F.t2,F.next=28,ne.store(te,R);case 28:_=v,F.next=53;break;case 31:return F.next=33,ne.load(R);case 33:if(_=F.sent,_=this.__clearKeys(_),F.t5=R.onLoad,!F.t5){F.next=40;break}return F.next=39,R.onLoad(_,J);case 39:F.t5=F.sent;case 40:if(F.t4=F.t5,F.t4){F.next=43;break}F.t4=_;case 43:if(_=F.t4,F.t7=h,!F.t7){F.next=49;break}return F.next=48,h(_,J);case 48:F.t7=F.sent;case 49:if(F.t6=F.t7,F.t6){F.next=52;break}F.t6=_;case 52:_=F.t6;case 53:this.onAfter(b,_),this.onEnd(b,_),F.next=61;break;case 57:throw F.prev=57,F.t8=F.catch(5),this.onError(b,F.t8),F.t8;case 61:return F.abrupt("return",_);case 62:case"end":return F.stop()}},Q,this,[[5,57]])})),function(Q,ne,R){return d.apply(this,arguments)})},{key:"__clearKeys",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=this.getConfig(),R=new RegExp("^".concat(ne.id)),v={};for(var b in Q){var a=b.replace(R,"");v[a]=Q[b]}return v}},{key:"getCurrentOptions",value:function(Q){var ne=this.getConfig(),R=Q||this.getCurrent();return ne.options[R]||{}}},{key:"onStart",value:function(Q,ne){var R=this.em;R&&(R.trigger(Z),Q&&R.trigger("".concat(Z,":").concat(Q),ne))}},{key:"onAfter",value:function(Q,ne){var R=this.em;R&&(R.trigger(B),R.trigger("".concat(B,":").concat(Q),ne),R.trigger("storage:".concat(Q),ne))}},{key:"onEnd",value:function(Q,ne){var R=this.em;R&&(R.trigger(T),Q&&R.trigger("".concat(T,":").concat(Q),ne))}},{key:"onError",value:function(Q,ne){var R=this.em;R&&(R.trigger(j,ne),Q&&R.trigger("".concat(j,":").concat(Q),ne),this.onEnd(Q,ne))}},{key:"canAutoload",value:function(){return this.getCurrentStorage()&&this.getConfig().autoload}},{key:"destroy",value:function(){this.__destroy(),this.storages={}}}]),K}(y.Z)},2326:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>Kn,evAll:()=>Kt,evCustom:()=>tr,evLayerSelect:()=>cr,evPfx:()=>Ht,evProp:()=>gr,evPropAdd:()=>or,evPropRemove:()=>pr,evPropUp:()=>mr,evSector:()=>kn,evSectorAdd:()=>an,evSectorRemove:()=>Qn,evSectorUpdate:()=>Gn,evTarget:()=>Xn});var ie=z(2982),w=z(4942),k=z(9050),$=z(1163),D=z(9304),q=z(2316),l=z.n(q);const P={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var N=z(4925),C=z(5671),y=z(3144),m=z(9340),g=z(2963),S=z(1120),I=z(793),H=["partial"];function X(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function Y(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?X(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):X(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function x(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var W=function(ft){(0,m.Z)(Ce,ft);var yt=x(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"initialize",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em=he.em;var ee=this.get("id")||"",we=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(we||ee).replace(/ /g,"-"));var Ie=this.get("property");!this.get("id")&&this.set("id",Ie),!we&&this.set("name",(0,$.capitalize)(Ie).replace(/-/g," ")),this.on("change",this.__upTargets),Ce.callInit(this,ce,he)}},{key:"__getParentProp",value:function(){var ce,he;return(ce=this.collection)===null||ce===void 0||(he=ce.opts)===null||he===void 0?void 0:he.parentProp}},{key:"__upTargets",value:function(ce){var he=this,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=this.em,Ie=we.get("StyleManager"),qe=this.getName(),ht=ee.__clear,bt=ht?"":this.__getFullValue(ee),Pt=this.__getParentProp(),kt=this.changedAttributes(),Mt=(0,k.keys)(kt).reduce(function(fe,me){return fe[me]=he.previous(me),fe},{}),$t=[].concat((0,ie.Z)((0,k.keys)(this.__getClearProps())),["__p"]),Yt=(0,k.keys)(kt),dn=!ee.__up&&!Pt&&(ht||$t.some(function(fe){return Yt.indexOf(fe)>=0})),Xe=this.get("onChange"),tt={property:this,from:Mt,to:kt,value:bt,opts:ee};Ie.__trgEv(Ie.events.propertyUpdate,tt),Xe&&Xe(tt),dn&&this.__upTargetsStyle({[qe]:bt},ee)}},{key:"__upTargetsStyle",value:function(ce,he){var ee,we=(ee=this.em)===null||ee===void 0?void 0:ee.get("StyleManager");we==null||we.addStyleTargets(Y(Y({},ce),{},{__p:!!he.avoidStore}),he)}},{key:"_up",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};he.noTarget&&(he.__up=!0);var ee=he.partial,we=(0,N.Z)(he,H);return ce.__p=!(!we.avoidStore&&!ee),this.set(ce,Y(Y({},we),{},{avoidStore:ce.__p}))}},{key:"up",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.set(ce,Y(Y({},he),{},{__up:!0}))}},{key:"init",value:function(){}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("property")}},{key:"getLabel",value:function(){var ce,he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=he.locale,we=ee===void 0||ee,Ie=this.getId(),qe=this.get("name")||this.get("label");return we&&((ce=this.em)===null||ce===void 0?void 0:ce.t("styleManager.properties.".concat(Ie)))||qe}},{key:"getValue",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ce.noDefault,ee=this.get("value");return this.hasValue()||he?ee:this.getDefaultValue()}},{key:"hasValue",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ce.noParent,ee=he&&this.getParentTarget(),we=this.get("value");return!(0,k.isUndefined)(we)&&we!==""&&!ee}},{key:"hasValueParent",value:function(){return this.hasValue()&&!this.hasValue({noParent:!0})}},{key:"getStyle",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=this.getName(),ee=ce.camelCase?(0,$.camelCase)(he):he;return{[ee]:this.__getFullValue(ce)}}},{key:"getDefaultValue",value:function(){var ce=this.get("default");return"".concat((0,k.isUndefined)(ce)?this.get("defaults"):ce)}},{key:"upValue",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=ce===null||ce===""?this.__getClearProps():this.__parseValue(ce,he);return this._up(ee,he)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"clear",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._up(this.__getClearProps(),Y(Y({},ce),{},{__clear:!0}))}},{key:"canClear",value:function(){var ce=this.getParent();return ce?ce.__canClearProp(this):this.hasValue({noParent:!0})}},{key:"getParent",value:function(){return this.__getParentProp()||null}},{key:"isFull",value:function(){return!!this.get("full")}},{key:"__parseValue",value:function(ce,he){return this.parseValue(ce,he)}},{key:"__getClearProps",value:function(){return{value:""}}},{key:"setValue",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},we=this.parseValue(ce),Ie=!he;!Ie&&this.set({value:void 0},{avoidStore:Ie,silent:!0}),this.set(we,Y({avoidStore:Ie},ee))}},{key:"setValueFromInput",value:function(ce,he){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.setValue(ce,he,Y(Y({},ee),{},{fromInput:1}))}},{key:"parseValue",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee={value:ce},we="!important";if((0,k.isString)(ce)&&ce.indexOf(we)!==-1&&(ee.value=ce.replace(we,"").trim(),ee.important=1),!this.get("functionName")&&!he.complete)return ee;var Ie=[],qe="".concat(ee.value),ht=qe.indexOf("(")+1,bt=qe.lastIndexOf(")"),Pt=qe.substring(0,ht-1);if(Pt&&(ee.functionName=Pt),Ie.push(ht),bt>=0&&Ie.push(bt),ee.value=String.prototype.substring.apply(qe,Ie),he.numeric){var kt=parseFloat(ee.value);ee.unit=ee.value.replace(kt,""),ee.value=kt}return ee}},{key:"__getFullValue",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ce.withDefault;return!this.hasValue()&&he?this.getDefaultValue():this.getFullValue()}},{key:"getFullValue",value:function(ce){var he=this.get("functionName"),ee=this.getDefaultValue(),we=(0,k.isUndefined)(ce)?this.get("value"):ce,Ie=!(0,k.isUndefined)(we)&&we!=="";if(we&&ee&&we===ee)return ee;if(he&&Ie){var qe=he==="url"?"'".concat(we.replace(/'|"/g,""),"'"):we;we="".concat(he,"(").concat(qe,")")}return Ie&&this.get("important")&&(we="".concat(we," !important")),we||""}},{key:"__setParentTarget",value:function(ce){this.up({parentTarget:ce})}},{key:"getParentTarget",value:function(){return this.get("parentTarget")||null}},{key:"__parseFn",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",he=ce.indexOf("(")+1,ee=ce.lastIndexOf(")");return{name:ce.substring(0,he-1).trim(),value:String.prototype.substring.apply(ce,[he,ee>=0?ee:void 0]).trim()}}},{key:"__checkVisibility",value:function(ce){var he=ce.target,ee=ce.component,we=ce.sectors,Ie=ee||he;if(!Ie)return!1;var qe=this.getId(),ht=this.getName(),bt=this.get("toRequire"),Pt=this.get("requires"),kt=this.get("requiresParent"),Mt=Ie.get("unstylable"),$t=Ie.get("stylable-require"),Yt=Ie.get("stylable");if((0,k.isArray)(Yt)&&(Yt=Yt.indexOf(ht)>=0),(0,k.isArray)(Mt)&&(Yt=Mt.indexOf(ht)<0),bt&&(Yt=!he||$t&&($t.indexOf(qe)>=0||$t.indexOf(ht)>=0)),we&&Pt){var dn=(0,k.keys)(Pt);we.forEach(function(me){me.getProperties().forEach(function(de){if((0,k.includes)(dn,de.id)){var Ee=Pt[de.id];Yt=Yt&&(0,k.includes)(Ee,de.get("value"))}})})}if(kt){var Xe=ee&&ee.parent(),tt=Xe&&Xe.getEl();if(tt){var fe=(0,$.hasWin)()?window.getComputedStyle(tt):{};(0,k.each)(kt,function(me,de){Yt=Yt&&fe[de]&&(0,k.includes)(me,fe[de])})}else Yt=!1}return!!Yt}}]),Ce}(q.Model);function oe(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function se(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?oe(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):oe(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function Z(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}W.callParentInit=function(ft,yt,Ce){var ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};ft.prototype.initialize.apply(yt,[Ce,Y(Y({},ce),{},{skipInit:1})])},W.callInit=function(ft,yt){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!Ce.skipInit&&ft.init(yt,Ce)},W.getDefaults=function(){return(0,k.result)(this.prototype,"defaults")},W.prototype.defaults={name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],onChange:null,full:0,important:0,toRequire:0,requires:null,requiresParent:null,parentTarget:null};var B=function(ft){return ft==="integer"||ft==="number"},T=function(ft){(0,m.Z)(Ce,ft);var yt=Z(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"defaults",value:function(){return se(se({},W.getDefaults()),{},{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})}},{key:"initialize",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};W.callParentInit(W,this,ce,he);var ee=this.em,we=new Fn(this.get("properties")||[],{em:ee,parentProp:this});this.set("properties",we,{silent:1}),this.listenTo(we,"change",this.__upProperties),W.callInit(this,ce,he)}},{key:"getProperties",value:function(){return(0,ie.Z)(this.get("properties").models)}},{key:"getProperty",value:function(ce){return this.get("properties").filter(function(he){return he.getId()===ce||he.getName()===ce})[0]||null}},{key:"getPropertyAt",value:function(ce){return this.get("properties").at(ce)}},{key:"isDetached",value:function(){return!!this.get("detached")}},{key:"getValues",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ce.byName;return this.getProperties().reduce(function(ee,we){return ee[he?we.getName():we.getId()]="".concat(we.__getFullValue()),ee},{})}},{key:"getSeparator",value:function(){return this.getSplitSeparator()}},{key:"getJoin",value:function(){return this.__getJoin()}},{key:"getStyleFromProps",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=this.getName(),ee=this.__getJoin(),we=this.get("toStyle"),Ie=this.getValues(),qe={};if(we)qe=we(Ie,{join:ee,name:he,property:this});else if(Ie=this.getValues({byName:!0}),this.isDetached())qe=Ie;else{var ht=this.getProperties().map(function(bt){return bt.__getFullValue({withDefault:1})}).filter(Boolean).join(ee);qe={[he]:ht}}return this.isDetached()?qe[he]="":(qe[he]=qe[he]||"",qe=se(se({},qe),this.getProperties().reduce(function(bt,Pt){return bt[Pt.getName()]="",bt},{}))),ce.camelCase?Object.keys(qe).reduce(function(bt,Pt){return bt[camelCase(Pt)]=qe[Pt],bt},{}):qe}},{key:"getSplitSeparator",value:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))}},{key:"__upProperties",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!he.__up&&!he.__clearIn){var ee=this.__getParentProp();if(ee)return ee.__upProperties(this,he);this.__upTargetsStyleProps(he,ce)}}},{key:"__upTargetsStyleProps",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=arguments.length>1?arguments[1]:void 0,ee=this.getStyleFromProps();if(this.isDetached()&&he){var we=he.getName();ee={[we]:ee[we]}}this.__upTargetsStyle(ee,ce)}},{key:"_up",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__setProperties(this.__getSplitValue(ce.value),he),W.prototype._up.call(this,ce,he)}},{key:"getStyle",value:function(ce){return this.getStyleFromProps(ce)}},{key:"__getFullValue",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.isDetached()||ce.__clear?"":this.getStyleFromProps()[this.getName()]||""}},{key:"__getJoin",value:function(){var ce=this.get("join");return(0,k.isString)(ce)?ce:this.get("separator")}},{key:"__styleHasProps",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=this.getName(),ee=this.getProperties(),we=ee.map(function(qe){return qe.getName()}),Ie=[he].concat((0,ie.Z)(we));return Ie.some(function(qe){return!(0,k.isUndefined)(ce[qe])&&ce[qe]!==""})}},{key:"__splitValue",value:function(ce,he){return ce.split(he).map(function(ee){return ee.trim()}).filter(Boolean)}},{key:"__splitStyleName",value:function(ce,he,ee){return this.__splitValue(ce[he]||"",ee)}},{key:"__getSplitValue",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=he.byName,we=this.getProperties(),Ie=we.length===4&&we.every(function(bt){return B(bt.getType())}),qe=this.__splitValue(ce,this.getSplitSeparator()),ht={};return we.forEach(function(bt,Pt){var kt=qe[Pt],Mt=(0,k.isUndefined)(kt)?"":kt;if(Ie){var $t=qe.length;Mt=qe[Pt]||qe[Pt%$t+($t!=1&&$t%2?1:0)]||Mt}var Yt=ee?bt.getName():bt.getId();ht[Yt]=Mt||""}),ht}},{key:"__getPropsFromStyle",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.__styleHasProps(ce))return null;var ee=he.byName,we=this.getName(),Ie=this.getProperties(),qe=this.getSplitSeparator(),ht=this.get("fromStyle"),bt=ht?ht(ce,{property:this,name:we,separator:qe}):{};return ht||(bt=this.__getSplitValue(ce[we]||"",{byName:ee}),Ie.forEach(function(Pt){var kt=ce[Pt.getName()],Mt=ee?Pt.getName():Pt.getId();(0,k.isUndefined)(kt)||kt===""||(bt[Mt]=kt)})),bt}},{key:"__setProperties",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.getProperties().forEach(function(we){var Ie=ce[we.getId()];we.__getFullValue()!==Ie&&we.upValue(Ie,he)});var ee=(0,k.keys)(ce).map(function(we){return ce[we]}).join(" ");this.set("value",ee,{silent:!0})}},{key:"clear",value:function(){var ce=this;return this.getProperties().map(function(he){return he.clear({__clearIn:!ce.isDetached()})}),W.prototype.clear.call(this)}},{key:"hasValue",value:function(ce){return this.getProperties().some(function(he){return he.hasValue(ce)})}},{key:"getFullValue",value:function(){return this.__getFullValue()}},{key:"__canClearProp",value:function(ce){return this.isDetached()&&ce.hasValue({noParent:!0})}}]),Ce}(W);function j(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function U(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?j(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):j(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function E(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var M=function(ft){(0,m.Z)(Ce,ft);var yt=E(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"defaults",value:function(){return{values:{}}}},{key:"initialize",value:function(){var ce=this.collection;this.prop=ce==null?void 0:ce.prop}},{key:"getId",value:function(){return this.cid}},{key:"getIndex",value:function(){var ce=this.collection;return ce?ce.indexOf(this):-1}},{key:"getValues",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=this.get("values");return ce.camelCase?Object.keys(he).reduce(function(ee,we){return ee[(0,$.camelCase)(we)]=he[we],ee},{}):he}},{key:"getLabel",value:function(){var ce;return(ce=this.prop)===null||ce===void 0?void 0:ce.getLayerLabel(this)}},{key:"isSelected",value:function(){var ce;return((ce=this.prop)===null||ce===void 0?void 0:ce.getSelectedLayer())===this}},{key:"select",value:function(){var ce;return(ce=this.prop)===null||ce===void 0?void 0:ce.selectLayer(this)}},{key:"remove",value:function(){var ce;return(ce=this.prop)===null||ce===void 0?void 0:ce.removeLayer(this)}},{key:"move",value:function(ce){var he;return(he=this.prop)===null||he===void 0?void 0:he.moveLayer(this,ce)}},{key:"getStylePreview",value:function(){var ce,he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(ce=this.prop)===null||ce===void 0?void 0:ce.getStylePreview(this,he)}},{key:"hasPreview",value:function(){var ce;return!((ce=this.prop)===null||ce===void 0||!ce.get("preview"))}},{key:"upValues",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.set("values",U(U({},this.getValues()),ce))}}]),Ce}(q.Model);function c(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var d=function(ft){(0,m.Z)(Ce,ft);var yt=c(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"initialize",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prop=he.prop}}]),Ce}(q.Collection);d.prototype.model=M;var s=["__layers"];function p(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function O(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?p(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):p(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function K(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var Q=/,(?![^\(]*\))/,ne=/\s(?![^(]*\))/,R=function(ft){(0,m.Z)(Ce,ft);var yt=K(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"defaults",value:function(){return O(O({},T.getDefaults()),{},{layers:[],layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})}},{key:"initialize",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};T.callParentInit(T,this,ce,he);var ee=this.get("layers"),we=new d(ee,{prop:this});we.property=this,we.properties=this.get("properties"),this.set("layers",we,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(we,"add remove",this.__upLayers),T.callInit(this,ce,he)}},{key:"getLayers",value:function(){return this.__getLayers().models}},{key:"__getLayers",value:function(){return this.get("layers")}},{key:"getLayer",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.__getLayers().at(ce)||null}},{key:"getSelectedLayer",value:function(){var ce=this.get("selectedLayer");return ce&&ce.getIndex()>=0?ce:null}},{key:"selectLayer",value:function(ce){return this.set("selectedLayer",ce,{__select:!0})}},{key:"selectLayerAt",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,he=this.getLayer(ce);return he&&this.selectLayer(he)}},{key:"moveLayer",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ee=ce?ce.getIndex():-1;ee>=0&&(0,k.isNumber)(he)&&he>=0&&he<this.getLayers().length&&ee!==he&&(this.removeLayer(ce),this.__getLayers().add(ce,{at:he}))}},{key:"addLayer",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee={};this.getProperties().forEach(function(Ie){var qe=Ie.getId(),ht=ce[qe];ee[qe]=(0,k.isUndefined)(ht)?Ie.getDefaultValue():ht});var we=this.get("layers").push({values:ee},he);return we}},{key:"removeLayer",value:function(ce){return this.get("layers").remove(ce)}},{key:"removeLayerAt",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,he=this.getLayer(ce);return he?this.removeLayer(he):null}},{key:"getLayerLabel",value:function(ce){var he="";if(ce){var ee=this.get("layerLabel"),we=ce.getValues(),Ie=ce.getIndex();if(ee)he=ee(ce,{index:Ie,values:we,property:this});else{var qe=[];this.getProperties().map(function(ht){qe.push(we[ht.getId()])}),he=qe.filter(Boolean).join(" ")}}return he}},{key:"getStyleFromLayer",value:function(ce){var he,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=this.__getJoin(),Ie=this.__getJoinLayers(),qe=this.get("toStyle"),ht=this.getName(),bt=ce.getValues();if(qe)he=qe(bt,{join:we,joinLayers:Ie,name:ht,layer:ce,property:this});else{var Pt=this.getProperties().map(function(kt){var Mt=kt.getName(),$t=bt[kt.getId()],Yt=(0,k.isUndefined)($t)?kt.getDefaultValue():$t;if(ee.number&&B(kt.getType())){var dn=kt.parseValue($t,ee.number);Yt="".concat(dn.value).concat(dn.unit)}return{name:Mt,value:Yt}});he=this.isDetached()?Pt.reduce(function(kt,Mt){return kt[Mt.name]=Mt.value,kt},{}):{[this.getName()]:Pt.map(function(kt){return kt.value}).join(we)}}return ee.camelCase?Object.keys(he).reduce(function(kt,Mt){return kt[(0,$.camelCase)(Mt)]=he[Mt],kt},{}):he}},{key:"getStylePreview",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee={},we=this.get("preview");return we&&(ee=this.getStyleFromLayer(ce,he)),ee}},{key:"getLayerSeparator",value:function(){var ce=this.get("layerSeparator");return(0,k.isString)(ce)?new RegExp("".concat(ce,"(?![^\\(]*\\))")):ce}},{key:"__upProperties",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=this.getSelectedLayer();ee&&(ee.upValues({[ce.getId()]:ce.__getFullValue()}),he.__up||this.__upTargetsStyleProps(he))}},{key:"__upLayers",value:function(ce,he,ee){this.__upTargetsStyleProps(ee||he)}},{key:"__upTargets",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!he.__select)return W.prototype.__upTargets.call(this,ce,he)}},{key:"__upTargetsStyleProps",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__upTargetsStyle(this.getStyleFromLayers(),ce)}},{key:"__upTargetsStyle",value:function(ce,he){return W.prototype.__upTargetsStyle.call(this,ce,he)}},{key:"__upSelected",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ce.noEvent,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=this.em.get("StyleManager"),Ie=this.getSelectedLayer(),qe=Ie==null?void 0:Ie.getValues();qe&&this.getProperties().forEach(function(ht){var bt,Pt=(bt=qe[ht.getId()])!==null&&bt!==void 0?bt:"";ht.__getFullValue()!==Pt&&ht.upValue(Pt,O(O({},ee),{},{__up:!0}))}),!he&&we.__trgEv(we.events.layerSelect,{property:this})}},{key:"_up",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=ce.__layers,we=ee===void 0?[]:ee,Ie=(0,N.Z)(ce,s);return!this.isDetached()&&this.__setLayers(we),this.__upSelected({noEvent:!0},he),W.prototype._up.call(this,Ie,he)}},{key:"__setLayers",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],he=this.__getLayers(),ee=ce.map(function(we){return{values:we}});he.length===ee.length?ee.map(function(we,Ie){var qe;return(qe=he.at(Ie))===null||qe===void 0?void 0:qe.upValues(we.values)}):this.__getLayers().reset(ee),this.__upSelected({noEvent:!0})}},{key:"__parseValue",value:function(ce){var he=this,ee=this.parseValue(ce);return ee.__layers=ce.split(Q).map(function(we){return we.trim()}).map(function(we){return he.__parseLayer(we)}).filter(Boolean),ee}},{key:"__parseLayer",value:function(ce){var he=this.get("parseLayer"),ee=ce.split(ne),we=this.getProperties();return he?he({value:ce,values:ee}):we.reduce(function(Ie,qe,ht){var bt=ee[ht];return Ie[qe.getId()]=(0,k.isUndefined)(bt)?qe.getDefaultValue():bt,Ie},{})}},{key:"__getLayersFromStyle",value:function(){var ce=this,he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.__styleHasProps(he))return null;var ee=this.getName(),we=this.getProperties(),Ie=this.getLayerSeparator(),qe=this.get("fromStyle"),ht=qe?qe(he,{property:this,name:ee,separatorLayers:Ie}):[];if(!qe){var bt=this.__splitStyleName(he,ee,Ie).map(function(Pt){return Pt.split(ce.getSplitSeparator())}).map(function(Pt){var kt={};return we.forEach(function(Mt,$t){var Yt=Pt[$t];kt[Mt.getId()]=(0,k.isUndefined)(Yt)?Mt.getDefaultValue():Yt}),kt});we.forEach(function(Pt){var kt=Pt.getId();ce.__splitStyleName(he,Pt.getName(),Ie).map(function(Mt){return{[kt]:Mt||Pt.getDefaultValue()}}).forEach(function(Mt,$t){bt[$t]=bt[$t]?O(O({},bt[$t]),Mt):Mt})}),ht=bt}return(0,k.isArray)(ht)?ht:[ht]}},{key:"getStyle",value:function(ce){return this.getStyleFromLayers(ce)}},{key:"getStyleFromLayers",value:function(ce){var he=this,ee={},we=this.getName(),Ie=this.getLayers(),qe=this.getProperties();if(Ie.map(function(bt){return he.getStyleFromLayer(bt,ce)}).forEach(function(bt){(0,k.keys)(bt).map(function(Pt){ee[Pt]||(ee[Pt]=[]),ee[Pt].push(bt[Pt])})}),(0,k.keys)(ee).map(function(bt){ee[bt]=ee[bt].join(he.__getJoinLayers())}),this.isDetached())ee[we]="",!Ie.length&&qe.map(function(bt){ee[bt.getName()]=""});else{var ht=qe.reduce(function(bt,Pt){return bt[Pt.getName()]="",bt},{});ee[we]=ee[we]||"",ee=O(O({},ee),ht)}return ee}},{key:"__getJoinLayers",value:function(){var ce=this.get("layerJoin"),he=this.get("layerSeparator");return ce||((0,k.isString)(he)?he:ce)}},{key:"__getFullValue",value:function(){return this.get("detached")?"":this.getStyleFromLayers()[this.getName()]}},{key:"hasValue",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ce.noParent,ee=he&&this.getParentTarget();return this.getLayers().length>0&&!ee}},{key:"clear",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.__getLayers().reset(),this.__upTargetsStyleProps(ce),W.prototype.clear.call(this)}},{key:"__canClearProp",value:function(){return!1}}]),Ce}(T),v=["complete","partial"];function b(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function a(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?b(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):b(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function f(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var h="data-clear-style",_=function(ft){(0,m.Z)(Ce,ft);var yt=f(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"template",value:function(){var ce=this.pfx,he=this.ppfx;return`
      <div class="`.concat(ce,`label" data-sm-label></div>
      <div class="`).concat(he,`fields" data-sm-fields></div>
    `)}},{key:"templateLabel",value:function(ce){var he=this.pfx,ee=this.em,we=ce.parent,Ie=ce.attributes,qe=Ie.icon,ht=qe===void 0?"":qe,bt=Ie.info,Pt=bt===void 0?"":bt,kt=ee==null?void 0:ee.getConfig().icons,Mt=(kt==null?void 0:kt.close)||"";return`
      <span class="`.concat(he,"icon ").concat(ht,'" title="').concat(Pt,`">
        `).concat(ce.getLabel(),`
      </span>
      `).concat(we?"":'<div class="'.concat(he,'clear" style="display: none" ').concat(h,">").concat(Mt,"</div>"),`
    `)}},{key:"templateInput",value:function(ce){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(ce.getDefaultValue(),`"/>
      </div>
    `)}},{key:"initialize",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,k.bindAll)(this,"__change","__updateStyle");var he=ce.config||{},ee=he.em;this.config=he,this.em=ee,this.pfx=he.stylePrefix||"",this.ppfx=he.pStylePrefix||"",this.__destroyFn=this.destroy?this.destroy.bind(this):function(){};var we=this.model;we.view=this,this.onValueChange=(0,k.debounce)(this.onValueChange.bind(this),10),this.updateStatus=(0,k.debounce)(this.updateStatus.bind(this)),this.listenTo(we,"destroy remove",this.remove),this.listenTo(we,"change:visible",this.updateVisibility),this.listenTo(we,"change:name change:className change:full",this.render),this.listenTo(we,"change:value",this.onValueChange),this.listenTo(we,"change:parentTarget",this.updateStatus),this.listenTo(ee,"change:device",this.onValueChange);var Ie=this.init&&this.init.bind(this);Ie&&Ie()}},{key:"remove",value:function(){var ce=this;q.View.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(he){return ce[he]=null}),this.__destroyFn(this._getClbOpts())}},{key:"updateStatus",value:function(){var ce,he=this.model,ee=this.pfx,we=this.ppfx,Ie=this.config,qe="".concat(we,"four-color"),ht="".concat(we,"color-warn"),bt=this.$el.children(".".concat(ee,"label")),Pt=this.getClearEl(),kt=Pt?Pt.style:{};bt.removeClass("".concat(qe," ").concat(ht)),kt.display="none",he.hasValue({noParent:!0})&&Ie.highlightChanged?(bt.addClass(qe),Ie.clearProperties&&(kt.display="")):he.hasValue()&&Ie.highlightComputed&&bt.addClass(ht),(ce=this.parent)===null||ce===void 0||ce.updateStatus()}},{key:"clear",value:function(ce){ce&&ce.stopPropagation(),this.model.clear()}},{key:"getClearEl",value:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(h,"]"))),this.clearEl}},{key:"inputValueChanged",value:function(ce){ce&&ce.stopPropagation(),this.emit||this.model.upValue(ce.target.value)}},{key:"onValueChange",value:function(ce,he){this.setValue(this.model.getFullValue()),this.updateStatus()}},{key:"setValue",value:function(ce){var he=this.model,ee=(0,k.isUndefined)(ce)||ce===""?he.getDefaultValue():ce;if(this.update)return this.__update(ee);this.__setValueInput(ee)}},{key:"__setValueInput",value:function(ce){var he=this.getInputEl();he&&(he.value=ce)}},{key:"getInputEl",value:function(){return this.input||(this.input=this.el.querySelector("input")),this.input}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"clearCached",value:function(){this.clearEl=null,this.input=null,this.$input=null}},{key:"__unset",value:function(){var ce=this.unset&&this.unset.bind(this);ce&&ce(this._getClbOpts())}},{key:"__update",value:function(ce){var he=this.update&&this.update.bind(this);he&&he(a(a({},this._getClbOpts()),{},{value:ce}))}},{key:"__change",value:function(){for(var ce=this.emit&&this.emit.bind(this),he=arguments.length,ee=new Array(he),we=0;we<he;we++)ee[we]=arguments[we];ce&&ce.apply(void 0,[this._getClbOpts()].concat(ee))}},{key:"__updateStyle",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=he.complete,we=he.partial,Ie=((0,N.Z)(he,v),this.model),qe=ee!==!1&&we!==!0;(0,$.isObject)(ce)?Ie.__upTargetsStyle(ce,{avoidStore:!qe}):Ie.upValue(ce,{partial:!qe})}},{key:"_getClbOpts",value:function(){var ce=this.model;return{el:this.el,createdEl:this.createdEl,property:ce,props:ce.attributes,change:this.__change,updateStyle:this.__updateStyle}}},{key:"render",value:function(){this.clearCached();var ce=this.pfx,he=this.model,ee=this.el,we=this.$el,Ie=he.getName(),qe=he.getType(),ht=he.get("className")||"",bt="".concat(ce,"property"),Pt=qe==="number"?"".concat(ce).concat(qe," ").concat(ce,"integer"):"".concat(ce).concat(qe);this.createdEl&&this.__destroyFn(this._getClbOpts()),we.empty().append(this.template(he)),we.find("[data-sm-label]").append(this.templateLabel(he));var kt=this.create&&this.create.bind(this);this.createdEl=kt&&kt(this._getClbOpts()),we.find("[data-sm-fields]").append(this.createdEl||this.templateInput(he)),ee.className="".concat(bt," ").concat(Pt," ").concat(bt,"__").concat(Ie," ").concat(ht).trim(),ee.className+=he.isFull()?" ".concat(bt,"--full"):"";var Mt=this.onRender&&this.onRender.bind(this);Mt&&Mt(),this.setValue(he.getValue())}}]),Ce}(q.View);_.prototype.events={change:"inputValueChanged",["click [".concat(h,"]")]:"clear"};var A=z(9283);function J(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var te=function(ft){(0,m.Z)(Ce,ft);var yt=J(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"initialize",value:function(ce){this.config=ce.config||{},this.pfx=this.config.stylePrefix||"",this.properties=[],this.parent=ce.parent;var he=this.collection;this.listenTo(he,"add",this.addTo),this.listenTo(he,"reset",this.render)}},{key:"addTo",value:function(ce,he,ee){this.add(ce,null,ee)}},{key:"add",value:function(ce,he){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},we=this.parent,Ie=this.config,qe=he||this.el,ht=new ce.typeView({model:ce,config:Ie});we&&(ht.parent=we),ht.render();var bt=ht.el;this.properties.push(ht),(0,A.$Q)(qe,bt,ee.at)}},{key:"remove",value:function(){q.View.prototype.remove.apply(this,arguments),this.clearItems()}},{key:"clearItems",value:function(){this.properties.forEach(function(ce){return ce.remove()}),this.properties=[]}},{key:"render",value:function(){var ce=this,he=this.$el,ee=this.pfx;this.clearItems();var we=document.createDocumentFragment();return this.collection.forEach(function(Ie){return ce.add(Ie,we)}),he.empty(),he.append(we),he.attr("class","".concat(ee,"properties")),this}}]),Ce}(q.View);function F(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function G(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?F(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):F(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function V(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var le=function(ft){(0,m.Z)(Ce,ft);var yt=V(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"templateInput",value:function(){var ce=this.pfx;return`
      <div class="`.concat(ce,"field ").concat(ce,`composite">
        <span id="`).concat(ce,`input-holder"></span>
      </div>
    `)}},{key:"remove",value:function(){var ce;(ce=this.props)===null||ce===void 0||ce.remove(),_.prototype.remove.apply(this,arguments)}},{key:"onValueChange",value:function(){}},{key:"onRender",value:function(){var ce=this.model,he=this.pfx,ee=ce.get("properties");if(ee.length&&!this.props){var we=ce.isDetached(),Ie=new te({config:G(G({},this.config),{},{highlightComputed:we,highlightChanged:we}),collection:ee,parent:this});Ie.render(),this.$el.find("#".concat(he,"input-holder")).append(Ie.el),this.props=Ie}}},{key:"clearCached",value:function(){_.prototype.clearCached.apply(this,arguments),this.props=null}}]),Ce}(_);function ve(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var Ne=function(ft){(0,m.Z)(Ce,ft);var yt=ve(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"events",value:function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}}},{key:"template",value:function(){var ce=this.pfx,he=this.ppfx,ee=this.em,we=ee==null?void 0:ee.getConfig().icons,Ie=(we==null?void 0:we.close)||"",qe=(we==null?void 0:we.move)||"";return`
      <div class="`.concat(ce,`label-wrp">
        <div id="`).concat(ce,'move" class="').concat(he,`no-touch-actions" data-move-layer>
          `).concat(qe,`
        </div>
        <div id="`).concat(ce,`label" data-label></div>
        <div id="`).concat(ce,'preview-box" class="').concat(ce,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(ce,'preview" class="').concat(ce,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(ce,'close-layer" class="').concat(ce,`btn-close" data-close-layer>
          `).concat(Ie,`
        </div>
      </div>
      <div id="`).concat(ce,`inputs" data-properties></div>
    `)}},{key:"initialize",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=this.model,ee=ce.config||{};this.em=ee.em,this.config=ee,this.sorter=ce.sorter,this.pfx=ee.stylePrefix||"",this.ppfx=ee.pStylePrefix||"",this.propertyView=ce.propertyView;var we=this.propertyView.model;this.listenTo(he,"destroy remove",this.remove),this.listenTo(he,"change:values",this.updateLabel),this.listenTo(we,"change:selectedLayer",this.updateVisibility),he.view=this,he.set({droppable:0,draggable:1}),this.$el.data("model",he)}},{key:"initSorter",value:function(){var ce;(ce=this.sorter)===null||ce===void 0||ce.startSort(this.el)}},{key:"removeItem",value:function(ce){ce&&ce.stopPropagation(),this.model.remove()}},{key:"select",value:function(){this.model.select()}},{key:"getPropertiesWrapper",value:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl}},{key:"getPreviewEl",value:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl}},{key:"getLabelEl",value:function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl}},{key:"updateLabel",value:function(){var ce=this.model,he=ce.getLabel();if(this.getLabelEl().innerHTML=he,ce.hasPreview()){var ee=this.getPreviewEl(),we=ce.getStylePreview({number:{min:-3,max:3}}),Ie=(0,k.keys)(we).map(function(qe){return"".concat(qe,":").concat(we[qe])}).join(";");ee.setAttribute("style",Ie)}}},{key:"updateVisibility",value:function(){var ce=this.pfx,he=this.model,ee=this.propertyView,we=this.getPropertiesWrapper(),Ie=he.isSelected();we.style.display=Ie?"":"none",this.$el[Ie?"addClass":"removeClass"]("".concat(ce,"active")),Ie&&we.appendChild(ee.props.el)}},{key:"render",value:function(){var ce=this.el,he=this.pfx,ee=this.model;return ce.innerHTML=this.template(),ce.className="".concat(he,"layer"),ee.hasPreview()&&(ce.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this}}]),Ce}(q.View);function Ze(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var Me=function(ft){(0,m.Z)(Ce,ft);var yt=Ze(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"initialize",value:function(ce){var he=this.collection,ee=ce.config||{},we=ee.em,Ie=ee.stylePrefix||"",qe=ee.pStylePrefix||"";this.config=ee,this.pfx=Ie,this.ppfx=qe,this.propertyView=ce.propertyView,this.className="".concat(Ie,"layers ").concat(qe,"field"),this.listenTo(he,"add",this.addTo),this.listenTo(he,"reset",this.reset),this.items=[];var ht=we?we.get("Utils"):"";this.sorter=ht?new ht.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(Ie,"layers"),itemSel:".".concat(Ie,"layer"),pfx:ee.pStylePrefix}):"",he.view=this,this.$el.data("model",he),this.$el.data("collection",he)}},{key:"addTo",value:function(ce){var he=this.collection.indexOf(ce);this.addToCollection(ce,null,he)}},{key:"addToCollection",value:function(ce,he,ee){var we=he||null,Ie=this.propertyView,qe=this.config,ht=this.sorter,bt=this.$el,Pt=new Ne({model:ce,config:qe,sorter:ht,propertyView:Ie}),kt=Pt.render().el;if(this.items.push(Pt),we)we.appendChild(kt);else if(ee!==void 0){var Mt="before";bt.children().length===ee&&(ee--,Mt="after"),ee<0?bt.append(kt):bt.children().eq(ee)[Mt](kt)}else bt.append(kt);return kt}},{key:"reset",value:function(ce,he){this.clearItems(he),this.render()}},{key:"remove",value:function(){this.clearItems(),q.View.prototype.remove.apply(this,arguments)}},{key:"clearItems",value:function(){this.items.forEach(function(ce){return ce.remove()}),this.items=[]}},{key:"render",value:function(){var ce=this,he=this.$el,ee=this.sorter,we=document.createDocumentFragment();return he.empty(),this.collection.forEach(function(Ie){return ce.addToCollection(Ie,we)}),he.append(we),he.attr("class",this.className),ee&&(ee.plh=null),this}}]),Ce}(q.View);function je(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function ae(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?je(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):je(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function be(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var re=function(ft){(0,m.Z)(Ce,ft);var yt=be(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"events",value:function(){return ae(ae({},le.prototype.events),{},{"click [data-add-layer]":"addLayer",change:""})}},{key:"templateInput",value:function(){var ce=this.pfx,he=this.em,ee=he==null?void 0:he.getConfig().icons,we=(ee==null?void 0:ee.plus)||"+";return`
      <div class="`.concat(ce,"field ").concat(ce,`stack">
        <button type="button" id="`).concat(ce,`add" data-add-layer>
          `).concat(we,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)}},{key:"init",value:function(){var ce=this.model;this.listenTo(ce.__getLayers(),"change reset",this.updateStatus)}},{key:"addLayer",value:function(){this.model.addLayer({},{at:0})}},{key:"setValue",value:function(){}},{key:"remove",value:function(){var ce;(ce=this.layersView)===null||ce===void 0||ce.remove(),le.prototype.remove.apply(this,arguments)}},{key:"clearCached",value:function(){le.prototype.clearCached.apply(this,arguments),this.layersView=null}},{key:"onRender",value:function(){var ce=this.model,he=this.el,ee=this.config,we=ce.get("properties");if(we.length&&!this.props){var Ie=new te({config:ae(ae({},ee),{},{highlightComputed:!1,highlightChanged:!1}),collection:we,parent:this});Ie.render();var qe=new Me({collection:ce.__getLayers(),config:ee,propertyView:this});qe.render(),he.querySelector("[data-layers-wrapper]").appendChild(qe.el),this.props=Ie,this.layersView=qe}}}]),Ce}(le);function Te(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function Re(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?Te(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):Te(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function Fe(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var it=function(ft){(0,m.Z)(Ce,ft);var yt=Fe(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"events",value:function(){return Re(Re({},_.prototype.events),{},{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})}},{key:"templateInput",value:function(){var ce,he=this.pfx,ee=this.em,we=(ce=this.em)===null||ce===void 0?void 0:ce.getConfig().icons,Ie=we==null?void 0:we.close;return`
      <div class="`.concat(he,"field ").concat(he,`file">
        <div id='`).concat(he,`input-holder'>
          <div class="`).concat(he,`btn-c">
            <button class="`).concat(he,'btn" id="').concat(he,`images" type="button" data-open-assets>
              `).concat(ee.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(he,'preview-box" class="').concat(he,`preview-file" data-preview-box>
          <div id="`).concat(he,'preview-file" class="').concat(he,`preview-file-cnt" data-preview></div>
          <div id="`).concat(he,'close" class="').concat(he,'preview-file-close" data-clear-asset>').concat(Ie,`</div>
        </div>
      </div>
    `)}},{key:"__setValueInput",value:function(ce){var he=this.model,ee=this.el,we=he.getDefaultValue(),Ie=ee.querySelector("[data-preview-box]"),qe=ee.querySelector("[data-preview]");Ie.style.display=ce&&ce!==we?"":"none",qe.style.backgroundImage=ce||he.getDefaultValue()}},{key:"openAssetManager",value:function(){var ce,he=this,ee=(ce=this.em)===null||ce===void 0?void 0:ce.get("AssetManager");ee==null||ee.open({select:function(we,Ie){var qe=(0,k.isString)(we)?we:we.get("src");he.model.upValue(qe,{partial:!Ie}),Ie&&ee.close()},types:["image"],accept:"image/*"})}}]),Ce}(_);function lt(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var St=function(ft){(0,m.Z)(Ce,ft);var yt=lt(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"templateInput",value:function(){return""}},{key:"init",value:function(){var ce=this.model;this.listenTo(ce,"change:unit",this.onValueChange),this.listenTo(ce,"change:units",this.render)}},{key:"setValue",value:function(){}},{key:"onRender",value:function(){var ce=this.ppfx,he=this.model,ee=this.el;if(!this.inputInst){var we=he.input;we.ppfx=ce,we.render(),ee.querySelector(".".concat(ce,"fields")).appendChild(we.el),this.input=we.inputEl.get(0),this.inputInst=we}}},{key:"clearCached",value:function(){_.prototype.clearCached.apply(this,arguments),this.inputInst=null}}]),Ce}(_),Ut=z(1511);function Xt(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var Dt=function(ft){(0,m.Z)(Ce,ft);var yt=Xt(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"setValue",value:function(ce){var he;(he=this.inputInst)===null||he===void 0||he.setValue(ce,{fromTarget:1,def:this.model.getDefaultValue()})}},{key:"remove",value:function(){var ce=this;St.prototype.remove.apply(this,arguments);var he=this.inputInst;he&&he.remove&&he.remove(),["inputInst","$color"].forEach(function(ee){return ce[ee]=null})}},{key:"__handleChange",value:function(ce,he){this.model.upValue(ce,{partial:he})}},{key:"onRender",value:function(){if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var ce=this.ppfx,he=this.model,ee=this.em,we=this.el,Ie=new Ut.Z({target:ee,model:he,ppfx:ce,onChange:this.__handleChange}).render();we.querySelector(".".concat(ce,"fields")).appendChild(Ie.el),this.input=Ie.inputEl.get(0),this.inputInst=Ie}}}]),Ce}(St);function ot(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function st(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?ot(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):ot(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function Ve(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var Ge=function(ft){(0,m.Z)(Ce,ft);var yt=Ve(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"defaults",value:function(){return st(st({},W.getDefaults()),{},{options:[],full:0})}},{key:"getOptions",value:function(){var ce=this.attributes,he=ce.options,ee=ce.list;return(he&&he.length?he:ee)||[]}},{key:"getOption",value:function(ce){var he=this,ee=ce||this.getValue();return this.getOptions().filter(function(we){return he.getOptionId(we)===ee})[0]||null}},{key:"setOptions",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.set("options",ce),this}},{key:"addOption",value:function(ce){if(ce){var he=this.getOptions();this.setOptions([].concat((0,ie.Z)(he),[ce]))}return this}},{key:"getOptionId",value:function(ce){return(0,$.isDef)(ce.id)?ce.id:ce.value}},{key:"getOptionLabel",value:function(ce){var he,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ee.locale,Ie=we===void 0||we,qe=((0,k.isString)(ce)?this.getOption(ce):ce)||{},ht=this.getOptionId(qe),bt=qe.label||qe.name||ht,Pt=this.getId();return Ie&&((he=this.em)===null||he===void 0?void 0:he.t("styleManager.options.".concat(Pt,".").concat(ht)))||bt}},{key:"initialize",value:function(){for(var ce=arguments.length,he=new Array(ce),ee=0;ee<ce;ee++)he[ee]=arguments[ee];W.prototype.initialize.apply(this,he),this.listenTo(this,"change:options",this.__onOptionChange)}},{key:"__onOptionChange",value:function(){this.set("list",this.get("options"))}}]),Ce}(W);function dt(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var We=function(ft){(0,m.Z)(Ce,ft);var yt=dt(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"templateInput",value:function(){var ce=this.pfx,he=this.ppfx;return`
      <div class="`.concat(he,"field ").concat(he,`select">
        <span id="`).concat(ce,`input-holder"></span>
        <div class="`).concat(he,`sel-arrow">
          <div class="`).concat(he,`d-s-arrow"></div>
        </div>
      </div>
    `)}},{key:"initialize",value:function(){for(var ce=arguments.length,he=new Array(ce),ee=0;ee<ce;ee++)he[ee]=arguments[ee];_.prototype.initialize.apply(this,he),this.listenTo(this.model,"change:options",this.updateOptions)}},{key:"updateOptions",value:function(){this.input=null,this.onRender()}},{key:"onRender",value:function(){var ce=this.model,he=this.pfx,ee=ce.getOptions();if(!this.input){var we=[];ee.forEach(function(qe){var ht=ce.getOptionId(qe),bt=ce.getOptionLabel(ht),Pt=qe.style?qe.style.replace(/"/g,"&quot;"):"",kt=Pt?'style="'.concat(Pt,'"'):"",Mt=ht.replace(/"/g,"&quot;");we.push('<option value="'.concat(Mt,'" ').concat(kt,">").concat(bt,"</option>"))});var Ie=this.el.querySelector("#".concat(he,"input-holder"));Ie.innerHTML="<select>".concat(we.join(""),"</select>"),this.input=Ie.firstChild}}},{key:"__setValueInput",value:function(ce){var he=this.model,ee=this.getInputEl(),we=he.getOptions()[0],Ie=we?he.getOptionId(we):"";ee&&(ee.value=ce||Ie)}}]),Ce}(_);function mt(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function Ke(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?mt(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):mt(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function gt(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var vt=function(ft){(0,m.Z)(Ce,ft);var yt=gt(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"defaults",value:function(){return Ke(Ke({},Ge.getDefaults()),{},{full:1})}}]),Ce}(Ge);function Ct(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var It=function(ft){(0,m.Z)(Ce,ft);var yt=Ct(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"templateInput",value:function(){var ce=this.ppfx;return'<div class="'.concat(ce,"field ").concat(ce,'field-radio"></div>')}},{key:"onRender",value:function(){var ce=this.pfx,he=this.ppfx,ee=this.model,we="".concat(he,"radio-item-label"),Ie=ee.getName(),qe=ee.getOptions(),ht="".concat(ce,"radio ").concat(ce,"radio-").concat(Ie),bt=ee.cid;if(!this.input){var Pt=[];qe.forEach(function(Mt){var $t=Mt.className?"".concat(Mt.className," ").concat(ce,"icon ").concat(we):"",Yt=ee.getOptionId(Mt),dn="".concat(Ie,"-").concat(Yt,"-").concat(bt),Xe=$t?"":ee.getOptionLabel(Yt),tt=Mt.title?'title="'.concat(Mt.title,'"'):"",fe=ee.getValue()===Yt?"checked":"";Pt.push(`
          <div class="`.concat(he,`radio-item">
            <input type="radio" class="`).concat(ht,'" id="').concat(dn,'" name="').concat(Ie,"-").concat(bt,'" value="').concat(Yt,'" ').concat(fe,`/>
            <label class="`).concat($t||we,'" ').concat(tt,' for="').concat(dn,'">').concat(Xe,`</label>
          </div>
        `))});var kt=this.el.querySelector(".".concat(he,"field"));kt.innerHTML='<div class="'.concat(he,'radio-items">').concat(Pt.join(""),"</div>"),this.input=kt.firstChild}}},{key:"__setValueInput",value:function(ce){var he,ee=this.model,we=ce||ee.getDefaultValue(),Ie=(he=this.getInputEl())===null||he===void 0?void 0:he.querySelector('[value="'.concat(we,'"]'));Ie&&(Ie.checked=!0)}}]),Ce}(We),Nt=z(7610);function sn(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function mn(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?sn(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):sn(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function hn(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var fn=function(ft){(0,m.Z)(Ce,ft);var yt=hn(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"defaults",value:function(){return mn(mn({},W.getDefaults()),{},{units:[],unit:"",min:"",max:"",step:1})}},{key:"getUnits",value:function(){return this.get("units")||[]}},{key:"getUnit",value:function(){return this.get("unit")}},{key:"getMin",value:function(){return this.get("min")}},{key:"getMax",value:function(){return this.get("max")}},{key:"getStep",value:function(){return this.get("step")}},{key:"upUnit",value:function(ce,he){return this._up({unit:ce},he)}},{key:"initialize",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};W.callParentInit(W,this,ce,he);var ee=this.get("unit"),we=this.get("units");this.input=(0,$.hasWin)()&&new Nt.Z({model:this}),we.length&&!ee&&this.set("unit",we[0],{silent:1}),W.callInit(this,ce,he)}},{key:"__getClearProps",value:function(){return mn(mn({},W.prototype.__getClearProps()),{},{unit:""})}},{key:"parseValue",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=W.prototype.parseValue.apply(this,arguments),we=this.input.validateInputValue(ee.value,mn({deepCheck:1},he)),Ie=we.value,qe=we.unit;return ee.value=Ie,ee.unit=qe,ee}},{key:"getFullValue",value:function(){var ce=this.get("value"),he=this.get("unit");return ce=(0,k.isUndefined)(ce)?"":ce,he=!(0,k.isUndefined)(he)&&ce?he:"",ce="".concat(ce).concat(he),W.prototype.getFullValue.apply(this,[ce])}}]),Ce}(W);function pn(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function Qt(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?pn(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):pn(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function rn(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var nn=function(ft){(0,m.Z)(Ce,ft);var yt=rn(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"defaults",value:function(){return Qt(Qt({},fn.getDefaults()),{},{showInput:1})}}]),Ce}(fn);function wn(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function Bn(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?wn(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):wn(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function Hn(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var Zn=function(ft){(0,m.Z)(Ce,ft);var yt=Hn(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"events",value:function(){return Bn(Bn({},St.prototype.events),{},{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})}},{key:"templateInput",value:function(ce){var he=this.ppfx;return`
      <div class="`.concat(he,"field ").concat(he,`field-range">
        <input type="range" min="`).concat(ce.get("min"),'" max="').concat(ce.get("max"),'" step="').concat(ce.get("step"),`"/>
      </div>
    `)}},{key:"getSliderEl",value:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider}},{key:"inputValueChanged",value:function(){this.model.upValue(this.getSliderEl().value)}},{key:"inputValueChangedSoft",value:function(){this.model.upValue(this.getSliderEl().value,{partial:!0})}},{key:"setValue",value:function(ce){var he=this.model,ee=he.parseValue(ce);this.getSliderEl().value=ce===""?he.getDefaultValue():parseFloat(ee.value),St.prototype.setValue.apply(this,arguments)}},{key:"onRender",value:function(){St.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")}},{key:"clearCached",value:function(){St.prototype.clearCached.apply(this,arguments),this.slider=null}}]),Ce}(St);const Fn=l().Collection.extend(I.Z).extend({extendViewApi:1,init:function(){var ft=this.opts,yt=this.em,Ce=ft.module||(yt==null?void 0:yt.get("StyleManager"));Ce&&(Ce.__listenAdd(this,Ce.events.propertyAdd),Ce.__listenRemove(this,Ce.events.propertyRemove))},types:[{id:"stack",model:R,view:re,isType:function(ft){if(ft&&ft.type=="stack")return ft}},{id:"composite",model:T,view:le,isType:function(ft){if(ft&&ft.type=="composite")return ft}},{id:"file",model:W,view:it,isType:function(ft){if(ft&&ft.type=="file")return ft}},{id:"color",model:W,view:Dt,isType:function(ft){if(ft&&ft.type=="color")return ft}},{id:"select",model:Ge,view:We,isType:function(ft){if(ft&&ft.type=="select")return ft}},{id:"radio",model:vt,view:It,isType:function(ft){if(ft&&ft.type=="radio")return ft}},{id:"slider",model:nn,view:Zn,isType:function(ft){if(ft&&ft.type=="slider")return ft}},{id:"integer",model:fn,view:St,isType:function(ft){if(ft&&ft.type=="integer")return ft}},{id:"number",model:fn,view:St,isType:function(ft){if(ft&&ft.type=="number")return ft}},{id:"base",model:W,view:_,isType:function(ft){return ft.type="base",ft}}]});var xn=["extend"];function Nn(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function Vn(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?Nn(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):Nn(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function Sn(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var ln=function(ft){(0,m.Z)(Ce,ft);var yt=Sn(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"defaults",value:function(){return{id:"",name:"",open:!0,visible:!0,buildProps:"",extendBuilded:1,properties:[]}}},{key:"initialize",value:function(ce){var he=this,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ee.em;this.em=we;var Ie=ce||{},qe=this.buildProperties(Ie.buildProps),ht=this.get("name")||"",bt=[];!this.get("id")&&this.set("id",ht.replace(/ /g,"_").toLowerCase()),bt=(bt=qe?this.extendProperties(qe):this.get("properties").map(function(kt){return(0,k.isString)(kt)?he.buildProperties(kt)[0]:kt}).filter(Boolean)).map(function(kt){return he.checkExtend(kt)});var Pt=new Fn(bt,{em:we});Pt.sector=this,this.set("properties",Pt)}},{key:"getId",value:function(){return this.get("id")}},{key:"getName",value:function(){var ce,he=this.getId();return((ce=this.em)===null||ce===void 0?void 0:ce.t("styleManager.sectors.".concat(he)))||this.get("name")}},{key:"setName",value:function(ce){return this.set("name",ce)}},{key:"isOpen",value:function(){return!!this.get("open")}},{key:"setOpen",value:function(ce){return this.set("open",ce)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"getProperties",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=this.get("properties"),ee=he.models?(0,ie.Z)(he.models):he;return ee.filter(function(we){var Ie=!0;return ce.withValue&&(Ie=we.hasValue({noParent:!0})),ce.withParentValue&&(Ie=!we.hasValue({noParent:!0})&&we.hasValue()),Ie})}},{key:"getProperty",value:function(ce){return this.getProperties().filter(function(he){return he.get("id")===ce})[0]||null}},{key:"addProperty",value:function(ce,he){return this.get("properties").add(this.checkExtend(ce),he)}},{key:"extendProperties",value:function(ce,he,ee){for(var we=ce.length,Ie=he||this.get("properties"),qe=this.get("extendBuilded"),ht=[],bt=0,Pt=Ie.length;bt<Pt;bt++){for(var kt=Ie[bt],Mt=0,$t=0;$t<we;$t++){var Yt=ce[$t];if(!(kt.property!=Yt.property&&kt.id!=Yt.property)){var dn=kt.properties;dn&&dn.length&&(kt.properties=this.extendProperties(Yt.properties||[],dn,1)),ce[$t]=qe?(0,k.extend)(Yt,kt):kt,ht[$t]=ce[$t],Mt=1}}Mt||(ce.push(kt),ht.push(kt))}return ee?ht.filter(function(Xe){return Xe}):ce}},{key:"checkExtend",value:function(ce){var he=((0,k.isString)(ce)?{extend:ce}:ce)||{},ee=he.extend,we=(0,N.Z)(he,xn);return ee?Vn(Vn({},this.buildProperties([ee])[0]||{}),we):ce}},{key:"buildProperties",value:function(ce){var he,ee=ce||[];if(!ee.length)return[];var we=(he=this.em)===null||he===void 0?void 0:he.get("StyleManager").builtIn;return we==null?void 0:we.build(ee)}}]),Ce}(q.Model);function ze(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function bn(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?ze(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):ze(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}function zn(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var In=function(ft){(0,m.Z)(Ce,ft);var yt=zn(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"initialize",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=he.module,we=he.em;this.em=we,this.module=ee,this.listenTo(this,"reset",this.onReset)}},{key:"model",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=he.collection.em;return new ln(ce,bn(bn({},he),{},{em:ee}))}},{key:"onReset",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=he.previousModels||[];ee.forEach(function(we){return we.get("properties").reset()})}}]),Ce}(q.Collection),Mn=z(885),cn=["extend"];function Tn(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function gn(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?Tn(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):Tn(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}var jn,On=function(ft){return ft.map(function(yt){return{id:yt}})},yn=function(){function ft(){(0,C.Z)(this,ft),this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var yt=", sans-serif",Ce=["flex-start","flex-end","center"],ce=[].concat(Ce,["baseline","stretch"]);this.optsBgSize=On(["auto","cover","contain"]),this.optsBgAttach=On(["scroll","fixed","local"]),this.optsBgRepeat=On(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=On(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=On(["visible","hidden","scroll","auto"]),this.optsDir=On(["row","row-reverse","column","column-reverse"]),this.opstDisplay=On(["block","inline","inline-block","flex","none"]),this.optsTransitFn=On(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=On(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=On(["none","left","right"]),this.optsPos=On(["static","relative","absolute","fixed"]),this.optsTextAlign=On(["left","center","right","justify"]),this.optsFlexAlign=On(ce),this.optsJustCont=On([].concat(Ce,["space-between","space-around","space-evenly"])),this.optsAlignCont=On([].concat(Ce,["space-between","space-around","stretch"])),this.optsAlignSelf=On(["auto"].concat((0,ie.Z)(ce))),this.optsTransitProp=On(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=On(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=On(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+yt,"Arial Black, Gadget"+yt,"Brush Script MT"+yt,"Comic Sans MS, cursive"+yt,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+yt,"Impact, Charcoal"+yt,"Lucida Sans Unicode, Lucida Grande"+yt,"Tahoma, Geneva"+yt,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+yt,"Verdana, Geneva"+yt].map(function(he){return{id:he,label:he.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return(0,y.Z)(ft,[{key:"__sub",value:function(yt){var Ce=this;return function(){return yt.map(function(ce){if((0,k.isString)(ce))return Ce.get(ce);var he=ce.extend,ee=(0,N.Z)(ce,cn);return gn(gn({},Ce.get(he)),ee)})}}},{key:"init",value:function(){var yt=this,Ce=this.fixedValues,ce=this.requireFlex,he=this.typeNumber;return this.props={},[["text-shadow-h",{type:he,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:Ce},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:ce},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:he,default:"0",requiresParent:ce}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black"}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:ce},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:ce},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(ee,we){var Ie=we.values,qe=Ie["box-shadow-h"],ht=Ie["box-shadow-v"],bt=Ie["box-shadow-blur"],Pt=Ie["box-shadow-spread"];return"".concat(qe," ").concat(ht," ").concat(bt," ").concat(Pt)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(ee,we){var Ie=we.values,qe=Ie["text-shadow-h"],ht=Ie["text-shadow-v"],bt=Ie["text-shadow-blur"];return"".concat(qe," ").concat(ht," ").concat(bt)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(ee,we){var Ie=we.values;return[Ie["background-repeat-sub"]||"",Ie["background-position-sub"]||"",Ie["background-attachment-sub"]||"",Ie["background-size-sub"]||""].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(ee,we){var Ie=we.property,qe=ee[we.name]||"",ht=Ie.getLayerSeparator();return qe?qe.split(ht).map(function(bt){var Pt=Ie.__parseFn(bt);return{name:Pt.name,value:Pt.value}}):[]},toStyle:function(ee,we){return{[we.name]:"".concat(ee.name,"(").concat(ee.value,")")}},properties:[{property:"name",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(ee){var we=ee.property;if(ee.to.value){var Ie=gn({},we.getOption().propValue||{}),qe=we.getParent().getProperty("value"),ht=qe.getUnit();(!ht||(Ie==null?void 0:Ie.units.indexOf(ht))<0)&&(Ie.unit=(Ie==null?void 0:Ie.units[0])||""),qe.up(Ie)}}},{property:"value",type:this.typeNumber,default:"0",full:!0}]}]].forEach(function(ee){var we=(0,Mn.Z)(ee,3),Ie=we[0],qe=we[1],ht=we[2];yt.add(Ie,qe||{},{from:ht})}),this}},{key:"add",value:function(yt){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=ce.from||"",ee=this.props[he||yt]||{},we=gn(gn({},ee),{},{property:yt},Ce);return we.properties&&(0,k.isFunction)(we.properties)&&(we.properties=we.properties()),this.props[yt]=we,we}},{key:"get",value:function(yt){return this.props[yt]||null}},{key:"build",value:function(yt){var Ce=this,ce=[];return((0,k.isString)(yt)?[yt]:yt).forEach(function(he){ce.push(Ce.get(he)||{property:he})}),ce}}]),ft}(),Rn=z(168),Dn=z(7539);function en(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var Qe=function(ft){(0,m.Z)(Ce,ft);var yt=en(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"template",value:function(ce){var he,ee=ce.pfx,we=ce.label,Ie=(he=this.em)===null||he===void 0?void 0:he.getConfig().icons,qe=(Ie==null?void 0:Ie.caret)||"",ht="".concat(ee,"sector-");return(0,Dn.Z)(jn||(jn=(0,Rn.Z)([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),ht,ht,qe,ht,we)}},{key:"events",value:function(){return{"click [data-sector-title]":"toggle"}}},{key:"initialize",value:function(ce){var he=ce.config||{},ee=this.model,we=he.em;this.config=he,this.em=we,this.pfx=he.stylePrefix||"",this.listenTo(ee,"destroy remove",this.remove),this.listenTo(ee,"change:open",this.updateOpen),this.listenTo(ee,"change:visible",this.updateVisibility)}},{key:"updateOpen",value:function(){var ce=this.$el,he=this.model,ee=this.pfx,we=he.isOpen();ce[we?"addClass":"removeClass"]("".concat(ee,"open")),this.getPropertiesEl().style.display=we?"":"none"}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"getPropertiesEl",value:function(){var ce=this.$el,he=this.pfx;return ce.find(".".concat(he,"properties")).get(0)}},{key:"toggle",value:function(){var ce=this.model;ce.setOpen(!ce.get("open"))}},{key:"renderProperties",value:function(){var ce=this.model,he=this.config,ee=ce.get("properties");if(ee){var we=new te({collection:ee,config:he});this.$el.append(we.render().el)}}},{key:"render",value:function(){var ce=this.pfx,he=this.model,ee=this.$el,we=he.getId(),Ie=he.getName();return ee.html(this.template({pfx:ce,label:Ie})),this.renderProperties(),ee.attr("class","".concat(ce,"sector ").concat(ce,"sector__").concat(we," no-select")),this.updateOpen(),this}}]),Ce}(q.View);function at(ft){var yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ce,ce=(0,S.Z)(ft);if(yt){var he=(0,S.Z)(this).constructor;Ce=Reflect.construct(ce,arguments,he)}else Ce=ce.apply(this,arguments);return(0,g.Z)(this,Ce)}}var Be=function(ft){(0,m.Z)(Ce,ft);var yt=at(Ce);function Ce(){return(0,C.Z)(this,Ce),yt.apply(this,arguments)}return(0,y.Z)(Ce,[{key:"initialize",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=ce.module,ee=ce.config,we=ee===void 0?{}:ee,Ie=this.collection;this.pfx=we.stylePrefix||"",this.ppfx=we.pStylePrefix||"",this.config=we,this.module=he,this.listenTo(Ie,"add",this.addTo),this.listenTo(Ie,"reset",this.render)}},{key:"remove",value:function(){var ce=this;q.View.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(he){return ce[he]={}})}},{key:"addTo",value:function(ce,he){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.addToCollection(ce,null,ee)}},{key:"addToCollection",value:function(ce,he){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},we=this.config,Ie=this.el,qe=he||Ie,ht=new Qe({model:ce,config:we}).render().el;return(0,A.$Q)(qe,ht,ee.at),ht}},{key:"render",value:function(){var ce=this,he=this.$el,ee=this.pfx,we=this.ppfx;he.empty();var Ie=document.createDocumentFragment();return this.collection.each(function(qe){return ce.addToCollection(qe,Ie)}),he.append(Ie),he.addClass("".concat(ee,"sectors ").concat(we,"one-bg ").concat(we,"two-color")),this}}]),Ce}(q.View);function ut(ft,yt){var Ce=Object.keys(ft);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(ft);yt&&(ce=ce.filter(function(he){return Object.getOwnPropertyDescriptor(ft,he).enumerable})),Ce.push.apply(Ce,ce)}return Ce}function xt(ft){for(var yt=1;yt<arguments.length;yt++){var Ce=arguments[yt]!=null?arguments[yt]:{};yt%2?ut(Object(Ce),!0).forEach(function(ce){(0,w.Z)(ft,ce,Ce[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(Ce)):ut(Object(Ce)).forEach(function(ce){Object.defineProperty(ft,ce,Object.getOwnPropertyDescriptor(Ce,ce))})}return ft}var Kt="style",Ht="".concat(Kt,":"),kn="".concat(Ht,"sector"),an="".concat(kn,":add"),Qn="".concat(kn,":remove"),Gn="".concat(kn,":update"),gr="".concat(Ht,"property"),or="".concat(gr,":add"),pr="".concat(gr,":remove"),mr="".concat(gr,":update"),cr="".concat(Ht,"layer:select"),Xn="".concat(Ht,"target"),tr="".concat(Ht,"custom"),Yn=function(ft){return ft||ft===0};const Kn=function(){var ft,yt,Ce;return xt(xt({},D.Z),{},{Sector:ln,events:{all:Kt,sectorAdd:an,sectorRemove:Qn,sectorUpdate:Gn,propertyAdd:or,propertyRemove:pr,propertyUpdate:mr,layerSelect:cr,target:Xn,custom:tr},name:"StyleManager",init:function(){var ce=this,he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,k.bindAll)(this,"__clearStateTarget"),this.__initConfig(P,he);var ee=this.config,we=ee.em,Ie=ee.pStylePrefix;Ie&&(ee.stylePrefix=Ie+ee.stylePrefix),this.builtIn=new yn,ft=new Fn([],{em:we,module:this}),yt=new In([],xt(xt({},ee),{},{module:this}));var qe=new q.Model({targets:[]});this.model=qe,this.__listenAdd(yt,an),this.__listenRemove(yt,Qn),this.__listenUpdate(yt,Gn);var ht="component:toggled component:update:classes change:state change:device frame:resized selector:type";this.upAll=(0,k.debounce)(function(){return ce.__upSel()}),qe.listenTo(we,ht,this.upAll),qe.listenTo(we,"component:toggled",this.__clearStateTarget);var bt=(0,k.debounce)(function(){ce.__upProps(),ce.__trgCustom()});qe.listenTo(we,"styleable:change undo redo",bt);var Pt=(0,k.debounce)(function(){return ce.__trgCustom()});return qe.listenTo(we,"".concat(cr," ").concat(Xn),Pt),qe.on("change:lastTarget",function(){return we.trigger(Xn,ce.getSelected())}),this},__upSel:function(){this.select(this.em.getSelectedAll())},__trgCustom:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__ctn=this.__ctn||ce.container,this.em.trigger(this.events.custom,{container:this.__ctn})},__trgEv:function(ce){for(var he,ee=arguments.length,we=new Array(ee>1?ee-1:0),Ie=1;Ie<ee;Ie++)we[Ie-1]=arguments[Ie];(he=this.em).trigger.apply(he,[ce].concat(we))},__clearStateTarget:function(){var ce=this,he=this.em,ee=this.__getStateTarget();ee&&(he==null||he.skip(function(){he.get("CssComposer").remove(ee),ce.model.set({stateTarget:null})}))},onLoad:function(){yt.add(this.config.sectors,{silent:!0})},postRender:function(){this.__appendTo()},addSector:function(ce,he){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},we=this.getSector(ce);return we||(he.id=ce,we=yt.add(he,ee)),we},getSector:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=yt.where({id:ce})[0];return!ee&&he.warn&&this._logNoSector(ce),ee||null},getSectors:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},he=yt&&yt.models?ce.array?(0,ie.Z)(yt.models):yt:[];return ce.visible?he.filter(function(ee){return ee.isVisible()}):he},removeSector:function(ce){return this.getSectors().remove(this.getSector(ce,{warn:1}))},addProperty:function(ce,he){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},we=this.getSector(ce,{warn:1}),Ie=null;return we&&(Ie=we.addProperty(he,ee)),Ie},getProperty:function(ce,he){var ee,we=this.getSector(ce,{warn:1});return we&&(ee=we.get("properties").filter(function(Ie){return Ie.get("property")===he||Ie.get("id")===he})[0]),ee||null},getProperties:function(ce){var he=null,ee=this.getSector(ce,{warn:1});return ee&&(he=ee.get("properties")),he},removeProperty:function(ce,he){var ee=this.getProperties(ce);return ee?ee.remove(this.getProperty(ce,he)):null},select:function(ce){var he=this,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=this.em,Ie=(0,k.isArray)(ce)?ce:[ce],qe=ee.stylable,ht=we.get("CssComposer"),bt=[];Ie.filter(Boolean).forEach(function(dn){var Xe=dn;if((0,k.isString)(dn)){var tt=ht.getRule(dn)||ht.setRule(dn);!(0,k.isUndefined)(qe)&&tt.set({stylable:qe}),Xe=tt}bt.push(Xe)});var Pt=ee.component||bt.filter(function(dn){return(0,$.isComponent)(dn)}).reverse()[0];bt=bt.map(function(dn){return he.getModelToStyle(dn)});var kt=we.getState(),Mt=bt.slice().reverse()[0],$t=this.getParentRules(Mt,{state:kt,component:Pt}),Yt=this.__getStateTarget();return we.skip(function(){var dn;if(kt&&Mt!=null&&(dn=Mt.getState)!==null&&dn!==void 0&&dn.call(Mt)){var Xe=Mt.getStyle();Yt?Yt.setStyle(Xe):Yt=ht.getAll().add({selectors:"gjs-selected",style:Xe,shallow:!0,important:!0})}else Yt&&(ht.remove(Yt),Yt=null)}),this.model.set({targets:bt,lastTarget:Mt,lastTargetParents:$t,stateTarget:Yt,component:Pt}),this.__upProps(ee),bt},getSelected:function(){return this.model.get("lastTarget")||null},getSelectedAll:function(){return this.model.get("targets")},getSelectedParents:function(){return this.model.get("lastTargetParents")||[]},__getStateTarget:function(){return this.model.get("stateTarget")||null},addStyleTargets:function(ce,he){this.getSelectedAll().map(function(Ie){return Ie.addStyle(ce,he)});var ee=this.getSelected(),we=this.__getStateTarget();ee&&(we==null||we.setStyle(ee.getStyle(),he))},getBuiltIn:function(ce){return this.builtIn.get(ce)},getBuiltInAll:function(){return this.builtIn.props},addBuiltIn:function(ce,he){return this.builtIn.add(ce,he)},getModelToStyle:function(ce){var he,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=this.em,Ie=ee.skipAdd;if(we&&(he=ce)!==null&&he!==void 0&&he.toHTML){var qe,ht=we.getConfig(),bt=we.get("UndoManager"),Pt=we.get("CssComposer"),kt=we.get("SelectorManager"),Mt=kt?kt.getConfig():{},$t=ht.devicePreviewMode?"":we.get("state"),Yt=ce.get("classes"),dn=Yt.getStyleable(),Xe=dn.length,tt=!Mt.componentFirst||ee.useClasses,fe={noCount:1},me={state:$t,addOpts:fe};if(bt.stop(),Xe&&tt){var de=we.getCurrentMedia();(qe=Pt.get(dn,$t,de))||Ie||(qe=Pt.add(dn,$t,de,{},fe))}else if(ht.avoidInlineStyle){var Ee=ce.getId();!(qe=Pt.getIdRule(Ee,me))&&!Ie&&(qe=Pt.setIdRule(Ee,{},me)),ce.is("wrapper")&&qe.set("wrapper",1,fe)}qe&&(ce=qe),bt.start()}return ce},getParentRules:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=he.state,we=he.component,Ie=this.em,qe=[];if(Ie&&ce){var ht=we,bt=Ie.get("CssComposer"),Pt=Ie.get("CodeManager").getGenerator("css"),kt=ce.toHTML?ce:ce.getComponent(),Mt={combination:!0,array:!0},$t=[],Yt=[],dn=[];kt?($t=bt.getRules("#".concat(kt.getId())),dn=(Yt=ht?bt.getRules(ht.getSelectors().getFullName(Mt)):[]).concat($t)):($t=ht?bt.getRules("#".concat(ht.getId())):[],Yt=bt.getRules(ce.getSelectors().getFullName(Mt)),dn=$t.concat(Yt));var Xe=dn.filter(function(tt){return(0,k.isUndefined)(ee)?1:tt.get("state")===ee}).sort(Pt.sortRules).reverse();qe=Xe.slice(Xe.indexOf(ce)+1)}return qe},addType:function(ce,he){ft.addType(ce,he)},getType:function(ce){return ft.getType(ce)},getTypes:function(){return ft.getTypes()},createType:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=he.model,we=ee===void 0?{}:ee,Ie=he.view,qe=Ie===void 0?{}:Ie,ht=this.config,bt=this.getType(ce);if(bt)return new bt.view(xt({model:new bt.model(we),config:ht},qe))},render:function(){var ce=this.config,he=this.em,ee=Ce&&Ce.el;return(Ce=new Be({el:ee,em:he,config:ce,collection:yt,module:this})).render().el},_logNoSector:function(ce){var he=this.em;he&&he.logWarning("'".concat(ce,"' sector not found"))},__upProps:function(ce){var he=this,ee=this.getSelected();if(ee){var we=this.model.get("component"),Ie=this.getSelectedParents(),qe=ee.getStyle(),ht=Ie.map(function(bt){return{target:bt,style:bt.getStyle()}});yt.map(function(bt){bt.getProperties().map(function(Pt){he.__upProp(Pt,qe,ht,ce)})}),yt.forEach(function(bt){var Pt=bt.getProperties();Pt.forEach(function(Mt){var $t=Mt.__checkVisibility({target:ee,component:we,sectors:yt});Mt.set("visible",$t)});var kt=Pt.some(function(Mt){return Mt.isVisible()});bt.set("visible",kt)})}},__upProp:function(ce,he,ee,we){var Ie=this,qe=ce.getName(),ht=he[qe],bt=Yn(ht),Pt=ce.getType()==="stack",kt=ce.getType()==="composite",Mt=xt(xt({},we),{},{__up:!0}),$t=!kt&&!Pt,Yt=Pt?ce.__getLayersFromStyle(he):[],dn=kt?ce.__getPropsFromStyle(he):{},Xe=bt?ht:null,tt=null;if(Pt&&Yt===null||kt&&dn===null){var fe=Pt?"__getLayersFromStyle":"__getPropsFromStyle",me=ee.filter(function(Vt){return ce[fe](Vt.style)!==null})[0];if(me){Xe=me.style[qe],tt=me.target;var de=ce[fe](me.style);Pt?Yt=de:dn=de}}else if(!bt){Xe=null;var Ee=ee.filter(function(Vt){return Yn(Vt.style[qe])})[0];Ee&&(Xe=Ee.style[qe],tt=Ee.target)}if(ce.__setParentTarget(tt),$t&&ce.__getFullValue()!==Xe&&ce.upValue(Xe,Mt),Pt&&ce.__setLayers(Yt||[]),kt){var Ye=ce.getProperties();if(ce.isDetached()){var Ot=ce.__getPropsFromStyle(he,{byName:!0})||{},Rt=ee.map(function(Vt){return xt(xt({},Vt),{},{style:ce.__getPropsFromStyle(Vt.style,{byName:!0})||{}})});Ye.map(function(Vt){return Ie.__upProp(Vt,Ot,Rt,we)})}else ce.__setProperties(dn||{},Mt),ce.getProperties().map(function(Vt){return Vt.__setParentTarget(tt)})}},destroy:function(){[ft,yt].forEach(function(ce){ce.reset(),ce.stopListening()}),Ce&&Ce.remove(),this.model.stopListening(),this.upAll.cancel(),this.em={},this.config={},this.builtIn={},this.model={}}})}},6388:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>a,evAll:()=>R,evCustom:()=>b,evPfx:()=>v});var ie=z(4942),w=z(9050),k=z(9304),$=z(2316),D=z.n($);const q={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]};var l=z(5671),P=z(3144),N=z(7326),C=z(9340),y=z(2963),m=z(1120),g=z(6602),S=z(885),I=z(1163);function H(f,h){var _=Object.keys(f);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(f);h&&(A=A.filter(function(J){return Object.getOwnPropertyDescriptor(f,J).enumerable})),_.push.apply(_,A)}return _}function X(f){for(var h=1;h<arguments.length;h++){var _=arguments[h]!=null?arguments[h]:{};h%2?H(Object(_),!0).forEach(function(A){(0,ie.Z)(f,A,_[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(_)):H(Object(_)).forEach(function(A){Object.defineProperty(f,A,Object.getOwnPropertyDescriptor(_,A))})}return f}function Y(f){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,A=(0,m.Z)(f);if(h){var J=(0,m.Z)(this).constructor;_=Reflect.construct(A,arguments,J)}else _=A.apply(this,arguments);return(0,y.Z)(this,_)}}var x=D().$,W=function(f){(0,C.Z)(_,f);var h=Y(_);function _(){var A,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,l.Z)(this,_),A=h.call(this,J),(0,ie.Z)((0,N.Z)(A),"events",{}),(0,ie.Z)((0,N.Z)(A),"appendInput",!0);var te=J.config,F=te===void 0?{}:te,G=(0,N.Z)(A),V=G.model,le=G.eventCapture,ve=V.target,Ne=V.attributes.type;A.config=F,A.em=F.em,A.pfx=F.stylePrefix||"",A.ppfx=F.pStylePrefix||"",A.target=ve;var Ze=(0,N.Z)(A),Me=Ze.ppfx;return A.clsField="".concat(Me,"field ").concat(Me,"field-").concat(Ne),[["change:value",A.onValueChange],["remove",A.removeView]].forEach(function(je){var ae=(0,S.Z)(je,2),be=ae[0],re=ae[1];V.off(be,re),A.listenTo(V,be,re)}),V.view=(0,N.Z)(A),A.listenTo(V,"change:label",A.render),A.listenTo(V,"change:placeholder",A.rerender),A.events={},le.forEach(function(je){return A.events[je]="onChange"}),A.delegateEvents(),A.init(),A}return(0,P.Z)(_,[{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"templateLabel",value:function(){var A=this.ppfx,J=this.getLabel();return'<div class="'.concat(A,'label" title="').concat(J,'">').concat(J,"</div>")}},{key:"templateInput",value:function(){var A=this.clsField;return'<div class="'.concat(A,'" data-input></div>')}},{key:"getClbOpts",value:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}}},{key:"removeView",value:function(){this.remove(),this.removed()}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onRender",value:function(){}},{key:"onUpdate",value:function(){}},{key:"onEvent",value:function(){}},{key:"onChange",value:function(A){var J=this.getInputElem();J&&!(0,w.isUndefined)(J.value)&&this.model.set("value",J.value),this.onEvent(X(X({},this.getClbOpts()),{},{event:A}))}},{key:"getValueForTarget",value:function(){return this.model.get("value")}},{key:"setInputValue",value:function(A){var J=this.getInputElem();J&&(J.value=A)}},{key:"onValueChange",value:function(A,J){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(te.fromTarget)this.setInputValue(A.get("value")),this.postUpdate();else{var F=this.getValueForTarget();A.setTargetValue(F,te)}}},{key:"renderLabel",value:function(){var A=this.$el,J=this.target,te=this.getLabel(),F=this.templateLabel(J);this.createLabel&&(F=this.createLabel({label:te,component:J,trait:this})||""),A.find("[data-label]").append(F)}},{key:"getLabel",value:function(){var A=this.em,J=this.model.attributes,te=J.label,F=J.name;return A.t("traitManager.traits.labels.".concat(F))||(0,I.capitalize)(te||F).replace(/-/g," ")}},{key:"getComponent",value:function(){return this.target}},{key:"getInputEl",value:function(){if(!this.$input){var A=this.em,J=this.model,te=J,F=J.attributes.name,G=te.get("placeholder")||te.get("default")||"",V=te.get("type")||"text",le=te.get("min"),ve=te.get("max"),Ne=this.getModelValue(),Ze=x('<input type="'.concat(V,'" placeholder="').concat(G,'">')),Me=A.t("traitManager.traits.attributes.".concat(F))||{};Ze.attr(Me),(0,w.isUndefined)(Ne)||(te.set({value:Ne},{silent:!0}),Ze.prop("value",Ne)),le&&Ze.prop("min",le),ve&&Ze.prop("max",ve),this.$input=Ze}return this.$input.get(0)}},{key:"getInputElem",value:function(){var A=this.input,J=this.$input;return A||J&&J.get&&J.get(0)||this.getElInput()}},{key:"getModelValue",value:function(){var A,J=this.model,te=this.target,F=J.get("name");if(J.get("changeProp"))A=te.get(F);else{var G=te.get("attributes");A=J.get("value")||G[F]}return(0,w.isUndefined)(A)?"":A}},{key:"getElInput",value:function(){return this.elInput}},{key:"renderField",value:function(){var A=this.$el,J=this.appendInput,te=this.model,F=A.find("[data-input]"),G=F[F.length-1],V=te.el;V||(V=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,w.isString)(V)?(G.innerHTML=V,this.elInput=G.firstChild):(J?G.appendChild(V):G.insertBefore(V,G.firstChild),this.elInput=V),te.el=this.elInput}},{key:"hasLabel",value:function(){var A=this.model.attributes.label;return!this.noLabel&&A!==!1}},{key:"rerender",value:function(){this.model.el=null,this.render()}},{key:"postUpdate",value:function(){this.onUpdate(this.getClbOpts())}},{key:"render",value:function(){var A=this.$el,J=this.pfx,te=this.ppfx,F=this.model.attributes,G=F.type,V=F.id,le=this.hasLabel&&this.hasLabel(),ve="".concat(J,"trait");this.$input=null;var Ne='<div class="'.concat(ve," ").concat(ve,"--").concat(G,`">
      `).concat(le?'<div class="'.concat(te,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(te,"field-wrp ").concat(te,"field-wrp--").concat(G,`" data-input>
        `).concat(this.templateInput?(0,w.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return A.empty().append(Ne),le&&this.renderLabel(),this.renderField(),this.el.className="".concat(ve,"__wrp ").concat(ve,"__wrp-").concat(V),this.postUpdate(),this.onRender(this.getClbOpts()),this}}]),_}(D().View);function oe(f){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,A=(0,m.Z)(f);if(h){var J=(0,m.Z)(this).constructor;_=Reflect.construct(A,arguments,J)}else _=A.apply(this,arguments);return(0,y.Z)(this,_)}}W.prototype.eventCapture=["change"];var se=function(f){(0,C.Z)(_,f);var h=oe(_);function _(){var A,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=arguments.length>1?arguments[1]:void 0;(0,l.Z)(this,_),A=h.call(this,J),(0,ie.Z)((0,N.Z)(A),"reuseView",!0),A.itemsView=te;var F=J.config||{},G=F.stylePrefix||"",V=J.editor;return A.config=F,A.em=V,A.pfx=G,A.ppfx=F.pStylePrefix||"",A.className="".concat(G,"traits"),A.listenTo(V,"component:toggled",A.updatedCollection),A.updatedCollection(),A}return(0,P.Z)(_,[{key:"updatedCollection",value:function(){var A=this.ppfx,J=this.className,te=this.em.getSelected();this.el.className="".concat(J," ").concat(A,"one-bg ").concat(A,"two-color"),this.collection=te?te.get("traits"):[],this.render()}}]),_}(g.Z);function Z(f){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,A=(0,m.Z)(f);if(h){var J=(0,m.Z)(this).constructor;_=Reflect.construct(A,arguments,J)}else _=A.apply(this,arguments);return(0,y.Z)(this,_)}}se.prototype.itemView=W;var B=D().$,T=function(f){(0,C.Z)(_,f);var h=Z(_);function _(){var A,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,l.Z)(this,_),(A=h.call(this,J)).listenTo(A.model,"change:options",A.rerender),A}return(0,P.Z)(_,[{key:"templateInput",value:function(){var A=this.ppfx,J=this.clsField;return'<div class="'.concat(J,`">
      <div data-input></div>
      <div class="`).concat(A,`sel-arrow">
        <div class="`).concat(A,`d-s-arrow"></div>
      </div>
    </div>`)}},{key:"getInputEl",value:function(){if(!this.$input){var A=this.model,J=this.em,te=A.get("name"),F=A.get("options")||[],G=[],V="<select>";F.forEach(function(Ne){var Ze,Me,je,ae="";(0,w.isString)(Ne)?(Ze=Ne,Me=Ne):(Ze=Ne.name||Ne.label||Ne.value,Me="".concat((0,w.isUndefined)(Ne.value)?Ne.id:Ne.value).replace(/"/g,"&quot;"),ae+=(je=Ne.style?Ne.style.replace(/"/g,"&quot;"):"")?' style="'.concat(je,'"'):"");var be=J.t("traitManager.traits.options.".concat(te,".").concat(Me))||Ze;V+='<option value="'.concat(Me,'"').concat(ae,">").concat(be,"</option>"),G.push(Me)}),V+="</select>",this.$input=B(V);var le=A.getTargetValue(),ve=G.indexOf(le)>=0?le:A.get("default");!(0,w.isUndefined)(ve)&&this.$input.val(ve)}return this.$input.get(0)}}]),_}(W);function j(f){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,A=(0,m.Z)(f);if(h){var J=(0,m.Z)(this).constructor;_=Reflect.construct(A,arguments,J)}else _=A.apply(this,arguments);return(0,y.Z)(this,_)}}var U=function(f){(0,C.Z)(_,f);var h=j(_);function _(){var A;(0,l.Z)(this,_);for(var J=arguments.length,te=new Array(J),F=0;F<J;F++)te[F]=arguments[F];return A=h.call.apply(h,[this].concat(te)),(0,ie.Z)((0,N.Z)(A),"appendInput",!1),A}return(0,P.Z)(_,[{key:"templateInput",value:function(){var A=this.ppfx,J=this.clsField;return'<label class="'.concat(J,`" data-input>
    <i class="`).concat(A,`chk-icon"></i>
  </label>`)}},{key:"onChange",value:function(){var A=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(A))}},{key:"getCheckedValue",value:function(A){var J=A,te=this.model.attributes,F=te.valueTrue,G=te.valueFalse;return J&&!(0,w.isUndefined)(F)&&(J=F),J||(0,w.isUndefined)(G)||(J=G),J}},{key:"getInputEl",value:function(){for(var A=!this.$input,J=arguments.length,te=new Array(J),F=0;F<J;F++)te[F]=arguments[F];var G=W.prototype.getInputEl.apply(this,te);if(A){var V,le,ve=this.model,Ne=this.target,Ze=ve.attributes,Me=(Ze.valueTrue,Ze.valueFalse),je=ve.get("name");ve.get("changeProp")?le=V=Ne.get(je):V=!(!(le=Ne.get("attributes")[je])&&le!==""),(0,w.isUndefined)(Me)||le!==Me||(V=!1),G.checked=V}return G}}]),_}(W),E=z(7610);function M(f){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,A=(0,m.Z)(f);if(h){var J=(0,m.Z)(this).constructor;_=Reflect.construct(A,arguments,J)}else _=A.apply(this,arguments);return(0,y.Z)(this,_)}}var c=function(f){(0,C.Z)(_,f);var h=M(_);function _(){return(0,l.Z)(this,_),h.apply(this,arguments)}return(0,P.Z)(_,[{key:"getValueForTarget",value:function(){var A=this.model,J=A.attributes,te=J.value,F=J.unit;return(0,w.isUndefined)(te)||te===""?A.get("default"):te+F}},{key:"getInputEl",value:function(){if(!this.input){var A=this.ppfx,J=this.model,te=this.getModelValue(),F=new E.Z({contClass:"".concat(A,"field-int"),type:"number",model:J,ppfx:A});this.input=F.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,J.set("value",te,{fromTarget:1}),this.$input.val(te),this.input=F.el}return this.input}}]),_}(W),d=z(1511);function s(f){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,A=(0,m.Z)(f);if(h){var J=(0,m.Z)(this).constructor;_=Reflect.construct(A,arguments,J)}else _=A.apply(this,arguments);return(0,y.Z)(this,_)}}var p=function(f){(0,C.Z)(_,f);var h=s(_);function _(){var A;(0,l.Z)(this,_);for(var J=arguments.length,te=new Array(J),F=0;F<J;F++)te[F]=arguments[F];return A=h.call.apply(h,[this].concat(te)),(0,ie.Z)((0,N.Z)(A),"templateInput",""),A}return(0,P.Z)(_,[{key:"getInputEl",value:function(){if(!this.input){var A=this.model,J=this.getModelValue(),te=new d.Z({model:A,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();te.setValue(J,{fromTarget:1}),this.input=te.el}return this.input}}]),_}(W);function O(f){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,A=(0,m.Z)(f);if(h){var J=(0,m.Z)(this).constructor;_=Reflect.construct(A,arguments,J)}else _=A.apply(this,arguments);return(0,y.Z)(this,_)}}var K=function(f){(0,C.Z)(_,f);var h=O(_);function _(){var A;(0,l.Z)(this,_);for(var J=arguments.length,te=new Array(J),F=0;F<J;F++)te[F]=arguments[F];return A=h.call.apply(h,[this].concat(te)),(0,ie.Z)((0,N.Z)(A),"templateInput",""),A}return(0,P.Z)(_,[{key:"onChange",value:function(){this.handleClick()}},{key:"handleClick",value:function(){var A=this.model,J=this.em,te=A.get("command");te&&((0,w.isString)(te)?J.get("Commands").run(te):te(J.get("Editor"),A))}},{key:"renderLabel",value:function(){this.model.get("label")&&W.prototype.renderLabel.apply(this,arguments)}},{key:"getInputEl",value:function(){var A=this.model,J=this.ppfx,te=A.props(),F=te.labelButton,G=te.text,V=te.full,le=F||G,ve="".concat(J,"btn");return'<button type="button" class="'.concat(ve,"-prim").concat(V?" ".concat(ve,"--full"):"",'">').concat(le,"</button>")}}]),_}(W);function Q(f,h){var _=Object.keys(f);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(f);h&&(A=A.filter(function(J){return Object.getOwnPropertyDescriptor(f,J).enumerable})),_.push.apply(_,A)}return _}function ne(f){for(var h=1;h<arguments.length;h++){var _=arguments[h]!=null?arguments[h]:{};h%2?Q(Object(_),!0).forEach(function(A){(0,ie.Z)(f,A,_[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(_)):Q(Object(_)).forEach(function(A){Object.defineProperty(f,A,Object.getOwnPropertyDescriptor(_,A))})}return f}K.prototype.eventCapture=["click button"];var R="trait",v="".concat(R,":"),b="".concat(v,"custom");const a=function(){var f={text:W,number:c,select:T,checkbox:U,color:p,button:K};return ne(ne({},k.Z),{},{TraitsView:se,events:{all:R,custom:b},name:"TraitManager",init:function(){var h=this,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__initConfig(q,_);var A=this.config,J=new $.Model;this.model=J;var te=this.em,F=A.pStylePrefix;this.types=ne({},f),F&&(A.stylePrefix="".concat(F).concat(A.stylePrefix));var G=(0,w.debounce)(function(){return h.__upSel()});J.listenTo(te,"component:toggled",G);var V=(0,w.debounce)(function(){return h.__onUp()});return J.listenTo(te,"trait:update",V),this},__upSel:function(){this.select(this.em.getSelected())},__onUp:function(){this.select(this.getSelected())},select:function(h){var _=h?h.getTraits():[];this.model.set({component:h,traits:_}),this.__trgCustom()},getSelected:function(){return this.model.get("component")||null},getCurrent:function(){return this.model.get("traits")||[]},__trgCustom:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__ctn=this.__ctn||h.container,this.em.trigger(this.events.custom,{container:this.__ctn})},postRender:function(){this.__appendTo()},getTraitsViewer:function(){return this.view},addType:function(h,_){var A=this.getType("text");this.types[h]=A.extend(_)},getType:function(h){return this.getTypes()[h]},getTypes:function(){return this.types},render:function(){var h=this.view,_=this.getConfig(),A=h&&h.el;return h=new se({el:A,collection:[],editor:_.em,config:_},this.getTypes()),this.view=h,h.el},destroy:function(){this.__destroy()}})}},8202:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>P});var ie=z(2982),w=z(4942),k=z(3410),$=z.n(k),D=z(9050);function q(N,C){var y=Object.keys(N);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(N);C&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(N,g).enumerable})),y.push.apply(y,m)}return y}function l(N){for(var C=1;C<arguments.length;C++){var y=arguments[C]!=null?arguments[C]:{};C%2?q(Object(y),!0).forEach(function(m){(0,w.Z)(N,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(y)):q(Object(y)).forEach(function(m){Object.defineProperty(N,m,Object.getOwnPropertyDescriptor(y,m))})}return N}const P=function(){var N,C,y,m,g={maximumStackLength:500,trackSelection:1},S=function(H){return H.avoidStore||H.noUndo},I=function(H){return Object.keys(H.changedAttributes())};return{name:"UndoManager",init:function(){var H=this,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};y=l(l({},g),X),N=y.em,this.em=N,y._disable&&(y=l(l({},y),{},{maximumStackLength:0}));var Y=!0;return(C=new($())(l({track:!0,register:[]},y))).changeUndoType("change",{condition:function(x){var W=x.get("_undo");if(W){var oe=x.get("_undoexc");if((0,D.isArray)(oe)&&I(x).some(function(se){return oe.indexOf(se)>=0}))return!1;if((0,D.isBoolean)(W)||(0,D.isArray)(W)&&I(x).some(function(se){return W.indexOf(se)>=0}))return!0}return!1},on:function(x,W,oe){!m&&(m=x.previousAttributes());var se=oe||W||{};if(se.noUndo&&setTimeout(function(){m=null}),!S(se)){var Z=x.toJSON({fromUndo:Y}),B={object:x,before:m,after:Z};if(m=null,!(0,D.isEmpty)(Z))return B}}}),C.changeUndoType("add",{on:function(x,W){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!S(oe)&&H.isRegistered(W))return{object:W,before:void 0,after:x,options:l(l({},oe),{},{fromUndo:Y})}}}),C.changeUndoType("remove",{on:function(x,W){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!S(oe)&&H.isRegistered(W))return{object:W,before:x,after:void 0,options:l(l({},oe),{},{fromUndo:Y})}}}),C.changeUndoType("reset",{undo:function(x,W){x.reset(W,{fromUndo:Y})},redo:function(x,W,oe){x.reset(oe,{fromUndo:Y})},on:function(x){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!S(W)&&H.isRegistered(x))return{object:x,before:W.previousModels,after:(0,ie.Z)(x.models),options:l(l({},W),{},{fromUndo:Y})}}}),C.on("undo redo",function(){N.trigger("change:canvasOffset"),N.getSelectedAll().map(function(x){return x.trigger("rerender:layer")})}),["undo","redo"].forEach(function(x){return C.on(x,function(){return N.trigger(x)})}),this},postLoad:function(){y.trackSelection&&N&&this.add(N.get("selected"))},getConfig:function(){return y},add:function(H){return C.register(H),this},remove:function(H){return C.unregister(H),this},removeAll:function(){return C.unregisterAll(),this},start:function(){return C.startTracking(),this},stop:function(){return C.stopTracking(),this},undo:function(){var H=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return!N.isEditing()&&C.undo(H),this},undoAll:function(){return C.undoAll(),this},redo:function(){var H=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return!N.isEditing()&&C.redo(H),this},redoAll:function(){return C.redoAll(),this},hasUndo:function(){return C.isAvailable("undo")},hasRedo:function(){return C.isAvailable("redo")},isRegistered:function(H){return!!this.getInstance().objectRegistry.isRegistered(H)},getStack:function(){return C.stack},getStackGroup:function(){var H=[],X=[];return this.getStack().forEach(function(Y){var x=Y.get("magicFusionIndex");X.indexOf(x)<0&&(X.push(x),H.push(Y))}),H},skip:function(H){this.stop(),H(),this.start()},getGroupedStack:function(){var H={},X=this.getStack();return X.forEach(function(Y,x){var W=Y.get("magicFusionIndex"),oe=function(se,Z){var B=se.attributes,T=B.type,j=B.after,U=B.before,E=B.object,M=B.options;return{index:Z,type:T,after:j,before:U,object:E,options:M===void 0?{}:M}}(Y,x);H[W]?H[W].push(oe):H[W]=[oe]}),Object.keys(H).map(function(Y){var x=H[Y];return{index:x[x.length-1].index,actions:x,labels:(0,D.unique)(x.reduce(function(W,oe){var se,Z=(se=oe.options)===null||se===void 0?void 0:se.action;return Z&&W.push(Z),W},[]))}})},goToGroup:function(H){var X=this;if(H){var Y=this.getPointer(),x=H.index-Y;(0,D.times)(Math.abs(x),function(){X[x<0?"undo":"redo"](!1)})}},getPointer:function(){return this.getStack().pointer},clear:function(){return C.clear(),this},getInstance:function(){return C},destroy:function(){this.clear().removeAll(),this.em={}}}}},5610:(ge,_e,z)=>{z.d(_e,{Z:()=>P});var ie=z(4942),w=z(5671),k=z(3144),$=z(9050),D=z(1163);function q(N,C){var y=Object.keys(N);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(N);C&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(N,g).enumerable})),y.push.apply(y,m)}return y}function l(N){for(var C=1;C<arguments.length;C++){var y=arguments[C]!=null?arguments[C]:{};C%2?q(Object(y),!0).forEach(function(m){(0,ie.Z)(N,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(y)):q(Object(y)).forEach(function(m){Object.defineProperty(N,m,Object.getOwnPropertyDescriptor(y,m))})}return N}var P=function(){function N(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,w.Z)(this,N),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},(0,$.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(C),this.delta={x:0,y:0},this}return(0,k.Z)(N,[{key:"setOptions",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.opts=l(l({},this.opts),C)}},{key:"toggleDrag",value:function(C){var y=this.getDocumentEl(),m=this.getContainerEl(),g=this.getWindowEl(),S=C?"on":"off",I={on:D.on,off:D.off};I[S](m,"mousemove dragover",this.drag),I[S](y,"mouseup dragend touchend",this.stop),I[S](y,"keydown",this.keyHandle),I[S](g,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var C=this.lastScroll,y=this.delta,m=this.getScrollInfo(),g={x:m.x-C.x,y:m.y-C.y};this.move(y.x+g.x,y.y+g.y),this.lastScrollDiff=g}},{key:"start",value:function(C){var y=this.opts,m=y.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(C),this.guidesStatic=(0,$.result)(y,"guidesStatic")||[],this.guidesTarget=(0,$.result)(y,"guidesTarget")||[],(0,$.isFunction)(m)&&m(C,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(C)}},{key:"drag",value:function(C){var y=this,m=this.opts,g=this.lastScrollDiff,S=this.globScrollDiff,I=m.onDrag,H=this.startPointer,X=this.getPointerPos(C),Y={x:S.x+g.x,y:S.y+g.y};this.globScrollDiff=Y;var x={x:X.x-H.x+Y.x,y:X.y-H.y+Y.y};this.lastScrollDiff={x:0,y:0};var W=this.lockedAxis;(W=C.shiftKey?!W&&this.detectAxisLock(x.x,x.y):null)==="x"?x.x=H.x:W==="y"&&(x.y=H.y);var oe=function(U){["x","y"].forEach(function(E){return U[E]=U[E]*(0,$.result)(m,"scale")}),y.delta=U,y.move(U.x,U.y),(0,$.isFunction)(I)&&I(C,y)},se=l({},x);if(this.currentPointer=X,this.lockedAxis=W,this.lastScroll=this.getScrollInfo(),oe(x),this.guidesTarget.length){var Z=this.snapGuides(se),B=Z.newDelta,T=Z.trgX,j=Z.trgY;(T||j)&&oe(B)}C.which===0&&this.stop(C)}},{key:"snapGuides",value:function(C){var y=this,m=C,g=this.trgX,S=this.trgY;return this.guidesTarget.forEach(function(I){I.x&&y.trgX||I.y&&y.trgY||(I.active=0,y.guidesStatic.forEach(function(H){if(!(I.y&&H.x||I.x&&H.y)){var X=I.y&&H.y,Y=X?"y":"x",x=I[Y],W=H[Y],oe=C[Y],se=X?S:g;if(y.isPointIn(x,W)&&(0,$.isUndefined)(se)){var Z=oe-(x-W);y.setGuideLock(I,Z)}}}))}),g=this.trgX,S=this.trgY,["x","y"].forEach(function(I){var H=I.toUpperCase(),X=y["trg".concat(H)];X&&!y.isPointIn(C[I],X.lock)&&(y.setGuideLock(X,null),X=null),X&&!(0,$.isUndefined)(X.lock)&&(m[I]=X.lock)}),{newDelta:m,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(C,y){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=m.offset,S=g||this.opts.snapOffset;return C>=y&&C<=y+S||C<=y&&C>=y-S}},{key:"setGuideLock",value:function(C,y){var m=(0,$.isUndefined)(C.x)?"Y":"X",g="trg".concat(m);return y!==null?(C.active=1,C.lock=y,this[g]=C):(delete C.active,delete C.lock,delete this[g]),C}},{key:"stop",value:function(C){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=this.delta,g=y.cancel,S=g?0:m.x,I=g?0:m.y;this.toggleDrag(),this.lockedAxis=null,this.move(S,I,1);var H=this.opts.onEnd;(0,$.isFunction)(H)&&H(C,this,{cancelled:g})}},{key:"keyHandle",value:function(C){(0,D.isEscKey)(C)&&this.stop(C,{cancel:1})}},{key:"move",value:function(C,y,m){var g=this.el,S=this.opts,I=this.startPosition;if(I){var H=S.setPosition,X=I.x+C,Y=I.y+y;this.position={x:X,y:Y,end:m},(0,$.isFunction)(H)&&H(this.position),g&&(g.style.left="".concat(X,"px"),g.style.top="".concat(Y,"px"))}}},{key:"getContainerEl",value:function(){var C=this.opts.container;return C?[C]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(C){var y=C.ownerDocument||C;return y.defaultView||y.parentWindow})}},{key:"getDocumentEl",value:function(C){var y=this.opts.doc;if(C=C||this.el,!this.docs){var m=[document];C&&m.push(C.ownerDocument),y&&m.push(y),this.docs=m}return this.docs}},{key:"getPointerPos",value:function(C){var y=this.opts.getPointerPosition,m=(0,D.getPointerEvent)(C);return y?y(C):{x:m.clientX,y:m.clientY}}},{key:"getStartPosition",value:function(){var C=this.el,y=this.opts.getPosition,m={x:0,y:0};return(0,$.isFunction)(y)?m=y():C&&(m={x:parseFloat(C.style.left),y:parseFloat(C.style.top)}),m}},{key:"getScrollInfo",value:function(){var C=this.opts.doc,y=C&&C.body;return{y:y?y.scrollTop:0,x:y?y.scrollLeft:0}}},{key:"detectAxisLock",value:function(C,y){var m=C,g=y,S=Math.abs(m),I=Math.abs(g);return g>=S||g<=-S?"x":m>I||m<-I?"y":void 0}}]),N}()},2579:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>Dt});var ie=typeof document<"u"?document:null,w=typeof window<"u"?window:null,k=Array.prototype,$=k.filter,D=k.indexOf,q=k.map,l=k.push,P=k.reverse,N=k.slice,C=k.splice,y=/^#[\w-]*$/,m=/^\.[\w-]*$/,g=/<.+>/,S=/^\w+$/;function I(ot,st){return st===void 0&&(st=ie),m.test(ot)?st.getElementsByClassName(ot.slice(1)):S.test(ot)?st.getElementsByTagName(ot):st.querySelectorAll(ot)}function H(ot,st){if(st===void 0&&(st=ie),ot){if(ot.__cash)return ot;var Ve=ot;if(j(ot)){if(st.__cash&&(st=st[0]),!(Ve=y.test(ot)?st.getElementById(ot.slice(1)):g.test(ot)?St(ot):I(ot,st)))return}else if(T(ot))return this.ready(ot);(Ve.nodeType||Ve===w)&&(Ve=[Ve]),this.length=Ve.length;for(var Ge=0,dt=this.length;Ge<dt;Ge++)this[Ge]=Ve[Ge]}}function X(ot,st){return new H(ot,st)}var Y=X.fn=X.prototype=H.prototype={constructor:X,__cash:!0,length:0,splice:C};Y.get=function(ot){return ot===void 0?N.call(this):this[ot<0?ot+this.length:ot]},Y.eq=function(ot){return X(this.get(ot))},Y.first=function(){return this.eq(0)},Y.last=function(){return this.eq(-1)},Y.map=function(ot){return X(q.call(this,function(st,Ve){return ot.call(st,Ve,st)}))},Y.slice=function(){return X(N.apply(this,arguments))};var x=/(?:^\w|[A-Z]|\b\w)/g,W=/[\s-_]+/g;function oe(ot){return ot.replace(x,function(st,Ve){return st[Ve?"toUpperCase":"toLowerCase"]()}).replace(W,"")}function se(ot,st){for(var Ve=0,Ge=ot.length;Ve<Ge&&st.call(ot[Ve],ot[Ve],Ve,ot)!==!1;Ve++);}X.camelCase=oe,X.each=se,Y.each=function(ot){return se(this,function(st,Ve){return ot.call(st,Ve,st)}),this},Y.removeProp=function(ot){return this.each(function(st,Ve){delete Ve[ot]})},X.extend=Y.extend=function(ot){ot===void 0&&(ot=this);for(var st=arguments,Ve=st.length,Ge=Ve<2?0:1;Ge<Ve;Ge++)for(var dt in st[Ge])ot[dt]=st[Ge][dt];return ot};var Z=1;function B(ot,st){var Ve=ot&&(ot.matches||ot.webkitMatchesSelector||ot.mozMatchesSelector||ot.msMatchesSelector||ot.oMatchesSelector);return!!Ve&&Ve.call(ot,st)}function T(ot){return typeof ot=="function"}function j(ot){return typeof ot=="string"}function U(ot){return!isNaN(parseFloat(ot))&&isFinite(ot)}X.guid=Z,X.matches=B,X.isFunction=T,X.isString=j,X.isNumeric=U;var E=Array.isArray;function M(ot){return j(ot)?function(st,Ve){return B(Ve,ot)}:ot.__cash?function(st,Ve){return ot.is(Ve)}:function(st,Ve,Ge){return Ve===Ge}}X.isArray=E,Y.prop=function(ot,st){if(ot){if(j(ot))return arguments.length<2?this[0]&&this[0][ot]:this.each(function(Ge,dt){dt[ot]=st});for(var Ve in ot)this.prop(Ve,ot[Ve]);return this}},Y.filter=function(ot){if(!ot)return X();var st=T(ot)?ot:M(ot);return X($.call(this,function(Ve,Ge){return st.call(Ve,Ge,Ve,ot)}))};var c=/\S+/g;function d(ot){return j(ot)&&ot.match(c)||[]}function s(ot){return ot.filter(function(st,Ve,Ge){return Ge.indexOf(st)===Ve})}function p(ot,st,Ve){if(ot.nodeType===1){var Ge=w.getComputedStyle(ot,null);return st?Ve?Ge.getPropertyValue(st):Ge[st]:Ge}}function O(ot,st){return parseInt(p(ot,st),10)||0}Y.hasClass=function(ot){var st=d(ot),Ve=!1;return st.length&&this.each(function(Ge,dt){return!(Ve=dt.classList.contains(st[0]))}),Ve},Y.removeAttr=function(ot){var st=d(ot);return st.length?this.each(function(Ve,Ge){se(st,function(dt){Ge.removeAttribute(dt)})}):this},Y.attr=function(ot,st){if(ot){if(j(ot)){if(arguments.length<2){if(!this[0])return;var Ve=this[0].getAttribute(ot);return Ve===null?void 0:Ve}return st===null?this.removeAttr(ot):this.each(function(dt,We){We.setAttribute(ot,st)})}for(var Ge in ot)this.attr(Ge,ot[Ge]);return this}},Y.toggleClass=function(ot,st){var Ve=d(ot),Ge=st!==void 0;return Ve.length?this.each(function(dt,We){se(Ve,function(mt){Ge?st?We.classList.add(mt):We.classList.remove(mt):We.classList.toggle(mt)})}):this},Y.addClass=function(ot){return this.toggleClass(ot,!0)},Y.removeClass=function(ot){return arguments.length?this.toggleClass(ot,!1):this.attr("class","")},X.unique=s,Y.add=function(ot,st){return X(s(this.get().concat(X(ot,st).get())))};var K=/^--/;function Q(ot){return K.test(ot)}var ne={},R=ie&&ie.createElement("div"),v=R?R.style:{},b=["webkit","moz","ms","o"];function a(ot,st){if(st===void 0&&(st=Q(ot)),st)return ot;if(!ne[ot]){var Ve=oe(ot),Ge=""+Ve.charAt(0).toUpperCase()+Ve.slice(1);se((Ve+" "+b.join(Ge+" ")+Ge).split(" "),function(dt){if(dt in v)return ne[ot]=dt,!1})}return ne[ot]}X.prefixedProp=a;var f={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function h(ot,st,Ve){return Ve===void 0&&(Ve=Q(ot)),Ve||f[ot]||!U(st)?st:st+"px"}Y.css=function(ot,st){if(j(ot)){var Ve=Q(ot);return ot=a(ot,Ve),arguments.length<2?this[0]&&p(this[0],ot,Ve):ot?(st=h(ot,st,Ve),this.each(function(dt,We){We.nodeType===1&&(Ve?We.style.setProperty(ot,st):We.style[ot]=st)})):this}for(var Ge in ot)this.css(Ge,ot[Ge]);return this};var _="__cashData",A=/^data-(.*)/;function J(ot){return ot[_]=ot[_]||{}}function te(ot,st){var Ve=J(ot);if(st){if(!(st in Ve)){var Ge=ot.dataset?ot.dataset[st]||ot.dataset[oe(st)]:X(ot).attr("data-"+st);if(Ge!==void 0){try{Ge=JSON.parse(Ge)}catch{}Ve[st]=Ge}}return Ve[st]}return Ve}function F(ot,st){return O(ot,"border"+(st?"Left":"Top")+"Width")+O(ot,"padding"+(st?"Left":"Top"))+O(ot,"padding"+(st?"Right":"Bottom"))+O(ot,"border"+(st?"Right":"Bottom")+"Width")}function G(ot,st){for(var Ve=0,Ge=st.length;Ve<Ge;Ve++)if(ot.indexOf(st[Ve])<0)return!1;return!0}function V(ot,st,Ve){se(ot[Ve],function(Ge){Ge[0];var dt=Ge[1];st.removeEventListener(Ve,dt)}),delete ot[Ve]}X.hasData=function(ot){return _ in ot},Y.data=function(ot,st){var Ve=this;if(!ot)return this[0]?(se(this[0].attributes,function(dt){var We=dt.name.match(A);We&&Ve.data(We[1])}),te(this[0])):void 0;if(j(ot))return st===void 0?this[0]&&te(this[0],ot):this.each(function(dt,We){return function(mt,Ke,gt){J(mt)[Ke]=gt}(We,ot,st)});for(var Ge in ot)this.data(Ge,ot[Ge]);return this},Y.removeData=function(ot){return this.each(function(st,Ve){return function(Ge,dt){dt===void 0?delete Ge[_]:delete J(Ge)[dt]}(Ve,ot)})},se(["Width","Height"],function(ot){Y["inner"+ot]=function(){if(this[0])return this[0]===w?w["inner"+ot]:this[0]["client"+ot]}}),se(["width","height"],function(ot,st){Y[ot]=function(Ve){return this[0]?arguments.length?(Ve=parseInt(Ve,10),this.each(function(Ge,dt){if(dt.nodeType===1){var We=p(dt,"boxSizing");dt.style[ot]=h(ot,Ve+(We==="border-box"?F(dt,!st):0))}})):this[0]===w?this[0][oe("outer-"+ot)]:this[0].getBoundingClientRect()[ot]-F(this[0],!st):Ve===void 0?void 0:this}}),se(["Width","Height"],function(ot,st){Y["outer"+ot]=function(Ve){if(this[0])return this[0]===w?w["outer"+ot]:this[0]["offset"+ot]+(Ve?O(this[0],"margin"+(st?"Top":"Left"))+O(this[0],"margin"+(st?"Bottom":"Right")):0)}});var le="__cashEvents",ve=".";function Ne(ot){return ot[le]=ot[le]||{}}function Ze(ot){var st=ot.split(ve);return[st[0],st.slice(1).sort()]}function Me(ot,st,Ve,Ge){var dt=Ne(ot);if(st){var We=dt[st];if(!We)return;Ge&&(Ge.guid=Ge.guid||Z++),dt[st]=We.filter(function(mt){var Ke=mt[0],gt=mt[1];if(Ge&&gt.guid!==Ge.guid||!G(Ke,Ve))return!0;ot.removeEventListener(st,gt)})}else if(Ve&&Ve.length)for(st in dt)Me(ot,st,Ve,Ge);else for(st in dt)V(dt,ot,st)}Y.off=function(ot,st){var Ve=this;return ot===void 0?this.each(function(Ge,dt){return Me(dt)}):se(d(ot),function(Ge){var dt=Ze(Ge),We=dt[0],mt=dt[1];Ve.each(function(Ke,gt){return Me(gt,We,mt,st)})}),this},Y.on=function(ot,st,Ve,Ge){var dt=this;if(!j(ot)){for(var We in ot)this.on(We,st,ot[We]);return this}return T(st)&&(Ve=st,st=!1),se(d(ot),function(mt){var Ke=Ze(mt),gt=Ke[0],vt=Ke[1];dt.each(function(Ct,It){var Nt=function sn(mn){if(!mn.namespace||G(vt,mn.namespace.split(ve))){var hn=It;if(st){for(var fn=mn.target;!B(fn,st);)if(fn===It||!(fn=fn.parentNode))return;hn=fn}mn.namespace=mn.namespace||"";var pn=Ve.call(hn,mn,mn.data);Ge&&Me(It,gt,vt,sn),pn===!1&&(mn.preventDefault(),mn.stopPropagation())}};Nt.guid=Ve.guid=Ve.guid||Z++,function(sn,mn,hn,fn){fn.guid=fn.guid||Z++;var pn=Ne(sn);pn[mn]=pn[mn]||[],pn[mn].push([hn,fn]),sn.addEventListener(mn,fn)}(It,gt,vt,Nt)})}),this},Y.one=function(ot,st,Ve){return this.on(ot,st,Ve,!0)},Y.ready=function(ot){var st=function(){return ot(X)};return ie.readyState!=="loading"?setTimeout(st):ie.addEventListener("DOMContentLoaded",st),this},Y.trigger=function(ot,st){var Ve=ot;if(j(ot)){var Ge=Ze(ot),dt=Ge[0],We=Ge[1];(Ve=ie.createEvent("HTMLEvents")).initEvent(dt,!0,!0),Ve.namespace=We.join(ve)}return Ve.data=st,this.each(function(mt,Ke){Ke.dispatchEvent(Ve)})};var je=/select-one/i,ae=/select-multiple/i;function be(ot){var st=ot.type;return je.test(st)?function(Ve){return Ve.selectedIndex<0?null:Ve.options[Ve.selectedIndex].value}(ot):ae.test(st)?function(Ve){var Ge=[];return se(Ve.options,function(dt){!dt.selected||dt.disabled||dt.parentNode.disabled||Ge.push(dt.value)}),Ge}(ot):ot.value}var re=/%20/g,Te=/file|reset|submit|button|image/i,Re=/radio|checkbox/i;Y.serialize=function(){var ot="";return this.each(function(st,Ve){se(Ve.elements||[Ve],function(Ge){if(!Ge.disabled&&Ge.name&&Ge.tagName!=="FIELDSET"&&!Te.test(Ge.type)&&(!Re.test(Ge.type)||Ge.checked)){var dt=be(Ge);dt!==void 0&&se(E(dt)?dt:[dt],function(We){ot+=function(mt,Ke){return"&"+encodeURIComponent(mt)+"="+encodeURIComponent(Ke).replace(re,"+")}(Ge.name,We)})}})}),ot.substr(1)},Y.val=function(ot){return ot===void 0?this[0]&&be(this[0]):this.each(function(st,Ve){var Ge=ae.test(Ve.type),dt=ot===null?Ge?[]:"":ot;Ge&&E(dt)?se(Ve.options,function(We){We.selected=dt.indexOf(We.value)>=0}):Ve.value=dt})},Y.clone=function(){return this.map(function(ot,st){return st.cloneNode(!0)})},Y.detach=function(){return this.each(function(ot,st){st.parentNode&&st.parentNode.removeChild(st)})};var Fe,it=/^\s*<(\w+)[^>]*>/,lt=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function St(ot){if(function(){if(!Fe){var Ge=ie.createElement("table"),dt=ie.createElement("tr");Fe={"*":ie.createElement("div"),tr:ie.createElement("tbody"),td:dt,th:dt,thead:Ge,tbody:Ge,tfoot:Ge}}}(),!j(ot))return[];if(lt.test(ot))return[ie.createElement(RegExp.$1)];var st=it.test(ot)&&RegExp.$1,Ve=Fe[st]||Fe["*"];return Ve.innerHTML=ot,X(Ve.childNodes).detach().get()}function Ut(ot,st,Ve){if(st!==void 0){var Ge=j(st);!Ge&&st.length?se(st,function(dt){return Ut(ot,dt,Ve)}):se(ot,Ge?function(dt){dt.insertAdjacentHTML(Ve?"afterbegin":"beforeend",st)}:function(dt,We){return function(mt,Ke,gt){gt?mt.insertBefore(Ke,mt.childNodes[0]):mt.appendChild(Ke)}(dt,We?st.cloneNode(!0):st,Ve)})}}X.parseHTML=St,Y.empty=function(){var ot=this[0];if(ot)for(;ot.firstChild;)ot.removeChild(ot.firstChild);return this},Y.append=function(){var ot=this;return se(arguments,function(st){Ut(ot,st)}),this},Y.appendTo=function(ot){return Ut(X(ot),this),this},Y.html=function(ot){if(ot===void 0)return this[0]&&this[0].innerHTML;var st=ot.nodeType?ot[0].outerHTML:ot;return this.each(function(Ve,Ge){Ge.innerHTML=st})},Y.insertAfter=function(ot){var st=this;return X(ot).each(function(Ve,Ge){var dt=Ge.parentNode;st.each(function(We,mt){dt.insertBefore(Ve?mt.cloneNode(!0):mt,Ge.nextSibling)})}),this},Y.after=function(){var ot=this;return se(P.apply(arguments),function(st){P.apply(X(st).slice()).insertAfter(ot)}),this},Y.insertBefore=function(ot){var st=this;return X(ot).each(function(Ve,Ge){var dt=Ge.parentNode;st.each(function(We,mt){dt.insertBefore(Ve?mt.cloneNode(!0):mt,Ge)})}),this},Y.before=function(){var ot=this;return se(arguments,function(st){X(st).insertBefore(ot)}),this},Y.prepend=function(){var ot=this;return se(arguments,function(st){Ut(ot,st,!0)}),this},Y.prependTo=function(ot){return Ut(X(ot),P.apply(this.slice()),!0),this},Y.remove=function(){return this.detach().off()},Y.replaceWith=function(ot){var st=this;return this.each(function(Ve,Ge){var dt=Ge.parentNode;if(dt){var We=Ve?X(ot).clone():X(ot);if(!We[0])return st.remove(),!1;dt.replaceChild(We[0],Ge),X(We[0]).after(We.slice(1))}})},Y.replaceAll=function(ot){return X(ot).replaceWith(this),this},Y.text=function(ot){return ot===void 0?this[0]?this[0].textContent:"":this.each(function(st,Ve){Ve.textContent=ot})};var Xt=ie&&ie.documentElement;Y.offset=function(){var ot=this[0];if(ot){var st=ot.getBoundingClientRect();return{top:st.top+w.pageYOffset-Xt.clientTop,left:st.left+w.pageXOffset-Xt.clientLeft}}},Y.offsetParent=function(){return X(this[0]&&this[0].offsetParent)},Y.position=function(){var ot=this[0];if(ot)return{left:ot.offsetLeft,top:ot.offsetTop}},Y.children=function(ot){var st=[];return this.each(function(Ve,Ge){l.apply(st,Ge.children)}),st=X(s(st)),ot?st.filter(function(Ve,Ge){return B(Ge,ot)}):st},Y.contents=function(){var ot=[];return this.each(function(st,Ve){l.apply(ot,Ve.tagName==="IFRAME"?[Ve.contentDocument]:Ve.childNodes)}),X(ot.length&&s(ot))},Y.find=function(ot){for(var st=[],Ve=0,Ge=this.length;Ve<Ge;Ve++){var dt=I(ot,this[Ve]);dt.length&&l.apply(st,dt)}return X(st.length&&s(st))},Y.has=function(ot){var st=j(ot)?function(Ve,Ge){return!!I(ot,Ge).length}:function(Ve,Ge){return Ge.contains(ot)};return this.filter(st)},Y.is=function(ot){if(!ot||!this[0])return!1;var st=M(ot),Ve=!1;return this.each(function(Ge,dt){return!(Ve=st(Ge,dt,ot))}),Ve},Y.next=function(){return X(this[0]&&this[0].nextElementSibling)},Y.not=function(ot){if(!ot||!this[0])return this;var st=M(ot);return this.filter(function(Ve,Ge){return!st(Ve,Ge,ot)})},Y.parent=function(){var ot=[];return this.each(function(st,Ve){Ve&&Ve.parentNode&&ot.push(Ve.parentNode)}),X(s(ot))},Y.index=function(ot){var st=ot?X(ot)[0]:this[0],Ve=ot?this:X(st).parent().children();return D.call(Ve,st)},Y.closest=function(ot){return ot&&this[0]?this.is(ot)?this.filter(ot):this.parent().closest(ot):X()},Y.parents=function(ot){var st,Ve=[];return this.each(function(Ge,dt){for(st=dt;st&&st.parentNode&&st!==ie.body.parentNode;)st=st.parentNode,(!ot||ot&&B(st,ot))&&Ve.push(st)}),X(s(Ve))},Y.prev=function(){return X(this[0]&&this[0].previousElementSibling)},Y.siblings=function(){var ot=this[0];return this.parent().children().filter(function(st,Ve){return Ve!==ot})};const Dt=X},9283:(ge,_e,z)=>{z.d(_e,{$Q:()=>y,FW:()=>P,G1:()=>$,L_:()=>q,Mx:()=>D,R3:()=>m,SJ:()=>H,dL:()=>C,pn:()=>N,rw:()=>S,sE:()=>l,t3:()=>I,ut:()=>g});var ie=z(9050),w="tag",k="attributes",$="transitionend oTransitionEnd transitionend webkitTransitionEnd",D=function(X){return X&&X.nodeType===9},q=function(X){var Y=X&&X.parentNode;Y&&Y.removeChild(X)},l=function(X,Y){return X.querySelectorAll(Y)},P=function(X){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return X&&X.setAttribute&&(0,ie.each)(Y,function(x,W){return X.setAttribute(W,x)})},N=function(X){return X&&!!(X.offsetWidth||X.offsetHeight||X.getClientRects().length)},C=function(X,Y){X.parentNode.replaceChild(Y,X)},y=function(X,Y,x){var W=X.childNodes,oe=W.length,se=(0,ie.isUndefined)(x)?oe:x;(0,ie.isString)(Y)&&(X.insertAdjacentHTML("beforeEnd",Y),Y=X.lastChild,X.removeChild(Y)),se>=oe?X.appendChild(Y):X.insertBefore(Y,W[se])},m=function(X,Y){return y(X,Y)},g=function(X){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2?arguments[2]:void 0,W=document.createElement(X);return Y&&(0,ie.each)(Y,function(oe,se){return W.setAttribute(se,oe)}),x&&((0,ie.isString)(x)?W.innerHTML=x:W.appendChild(x)),W},S=function(X){return document.createTextNode(X)},I=function(X,Y){var x,W=X.type;try{x=new window[Y](W,X)}catch{(x=document.createEvent(Y)).initEvent(W,!0,!0)}return x._parentEvent=X,W.indexOf("key")===0&&(x.keyCodeVal=X.keyCode,["keyCode","which"].forEach(function(oe){Object.defineProperty(x,oe,{get:function(){return this.keyCodeVal}})})),x},H=function(X){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=Array.isArray(Y)?Y:[Y];x.forEach(function(W){var oe=W[w]||"div",se=W[k]||{},Z=document.createElement(oe);(0,ie.each)(se,function(B,T){Z.setAttribute(T,B)}),X.appendChild(Z)})}},9661:(ge,_e,z)=>{z.d(_e,{Z:()=>I});var ie=z(1002);const w=function(H){var X=this.constructor;return this.then(function(Y){return X.resolve(H()).then(function(){return Y})},function(Y){return X.resolve(H()).then(function(){return X.reject(Y)})})},k=function(H){return new this(function(X,Y){if(!H||H.length===void 0)return Y(new TypeError((0,ie.Z)(H)+" "+H+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var x=Array.prototype.slice.call(H);if(x.length===0)return X([]);var W=x.length;function oe(Z,B){if(B&&((0,ie.Z)(B)==="object"||typeof B=="function")){var T=B.then;if(typeof T=="function")return void T.call(B,function(j){oe(Z,j)},function(j){x[Z]={status:"rejected",reason:j},--W==0&&X(x)})}x[Z]={status:"fulfilled",value:B},--W==0&&X(x)}for(var se=0;se<x.length;se++)oe(se,x[se])})};var $=setTimeout;function D(H){return Boolean(H&&H.length!==void 0)}function q(){}function l(H){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if(typeof H!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(H,this)}function P(H,X){for(;H._state===3;)H=H._value;H._state!==0?(H._handled=!0,l._immediateFn(function(){var Y=H._state===1?X.onFulfilled:X.onRejected;if(Y!==null){var x;try{x=Y(H._value)}catch(W){return void C(X.promise,W)}N(X.promise,x)}else(H._state===1?N:C)(X.promise,H._value)})):H._deferreds.push(X)}function N(H,X){try{if(X===H)throw new TypeError("A promise cannot be resolved with itself.");if(X&&((0,ie.Z)(X)==="object"||typeof X=="function")){var Y=X.then;if(X instanceof l)return H._state=3,H._value=X,void y(H);if(typeof Y=="function")return void g((x=Y,W=X,function(){x.apply(W,arguments)}),H)}H._state=1,H._value=X,y(H)}catch(oe){C(H,oe)}var x,W}function C(H,X){H._state=2,H._value=X,y(H)}function y(H){H._state===2&&H._deferreds.length===0&&l._immediateFn(function(){H._handled||l._unhandledRejectionFn(H._value)});for(var X=0,Y=H._deferreds.length;X<Y;X++)P(H,H._deferreds[X]);H._deferreds=null}function m(H,X,Y){this.onFulfilled=typeof H=="function"?H:null,this.onRejected=typeof X=="function"?X:null,this.promise=Y}function g(H,X){var Y=!1;try{H(function(x){Y||(Y=!0,N(X,x))},function(x){Y||(Y=!0,C(X,x))})}catch(x){if(Y)return;Y=!0,C(X,x)}}l.prototype.catch=function(H){return this.then(null,H)},l.prototype.then=function(H,X){var Y=new this.constructor(q);return P(this,new m(H,X,Y)),Y},l.prototype.finally=w,l.all=function(H){return new l(function(X,Y){if(!D(H))return Y(new TypeError("Promise.all accepts an array"));var x=Array.prototype.slice.call(H);if(x.length===0)return X([]);var W=x.length;function oe(Z,B){try{if(B&&((0,ie.Z)(B)==="object"||typeof B=="function")){var T=B.then;if(typeof T=="function")return void T.call(B,function(j){oe(Z,j)},Y)}x[Z]=B,--W==0&&X(x)}catch(j){Y(j)}}for(var se=0;se<x.length;se++)oe(se,x[se])})},l.allSettled=k,l.resolve=function(H){return H&&(0,ie.Z)(H)==="object"&&H.constructor===l?H:new l(function(X){X(H)})},l.reject=function(H){return new l(function(X,Y){Y(H)})},l.race=function(H){return new l(function(X,Y){if(!D(H))return Y(new TypeError("Promise.race accepts an array"));for(var x=0,W=H.length;x<W;x++)l.resolve(H[x]).then(X,Y)})},l._immediateFn=typeof setImmediate=="function"&&function(H){setImmediate(H)}||function(H){$(H,0)},l._unhandledRejectionFn=function(H){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",H)};const S=l;(0,z(1163).hasWin)()&&(window.Promise=window.Promise||S);const I=typeof fetch=="function"?fetch.bind():function(H,X){return new S(function(Y,x){var W=new XMLHttpRequest;for(var oe in W.open(X.method||"get",H),W.withCredentials=X.credentials=="include",X.headers||{})W.setRequestHeader(oe,X.headers[oe]);W.onload=function(se){return Y({status:W.status,statusText:W.statusText,text:function(){return S.resolve(W.responseText)}})},W.onerror=x,W.upload&&X.onProgress&&(W.upload.onprogress=X.onProgress),X.body?W.send(X.body):W.send()})}},6718:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>se});var ie=z(4942),w=z(5610),k=z(2316),$=z.n(k),D=z(9050),q=z(1163);function l(Z,B){var T=Object.keys(Z);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(Z);B&&(j=j.filter(function(U){return Object.getOwnPropertyDescriptor(Z,U).enumerable})),T.push.apply(T,j)}return T}function P(Z){for(var B=1;B<arguments.length;B++){var T=arguments[B]!=null?arguments[B]:{};B%2?l(Object(T),!0).forEach(function(j){(0,ie.Z)(Z,j,T[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(T)):l(Object(T)).forEach(function(j){Object.defineProperty(Z,j,Object.getOwnPropertyDescriptor(T,j))})}return Z}var N=$().$,C=function(){};const y=$().View.extend({initialize:function(Z){this.opt=Z||{},(0,D.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var B=Z||{};this.elT=0,this.elL=0,this.borderOffset=B.borderOffset||10;var T=B.container;this.el=typeof T=="string"?document.querySelector(T):T,this.$el=N(this.el),this.containerSel=B.containerSel||"div",this.itemSel=B.itemSel||"div",this.draggable=B.draggable||!0,this.nested=B.nested||0,this.pfx=B.pfx||"",this.ppfx=B.ppfx||"",this.freezeClass=B.freezeClass||this.pfx+"freezed",this.onStart=B.onStart||C,this.onEndMove=B.onEndMove||"",this.customTarget=B.customTarget,this.onEnd=B.onEnd,this.direction=B.direction||"v",this.onMoveClb=B.onMove||"",this.relative=B.relative||0,this.ignoreViewChildren=B.ignoreViewChildren||0,this.ignoreModels=B.ignoreModels||0,this.plh=B.placer||"",this.wmargin=B.wmargin||0,this.offTop=B.offsetTop||0,this.offLeft=B.offsetLeft||0,this.document=B.document||document,this.$document=N(this.document),this.dropContent=null,this.em=B.em||null,this.dragHelper=null,this.canvasRelative=B.canvasRelative||0,this.selectOnEnd=!B.avoidSelectOnEnd,this.scale=B.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return(0,D.result)(this,scale)||1},getContainerEl:function(Z){if(Z&&(this.el=Z),!this.el){var B=this.opt.container;this.el=typeof B=="string"?document.querySelector(B):B,this.$el=N(this.el)}return this.el},getDocuments:function(Z){var B=this.em,T=Z?Z.ownerDocument:B&&B.get("Canvas").getBody().ownerDocument,j=[document];return T&&j.push(T),j},updateOffset:function(){var Z,B=((Z=this.em)===null||Z===void 0?void 0:Z.get("canvasOffset"))||{};this.offTop=B.top,this.offLeft=B.left},setDropContent:function(Z){this.dropModel=null,this.dropContent=Z},updateTextViewCursorPosition:function(Z){var B=this.em;if(B){var T=B.get("Canvas"),j=T.getDocument(),U=null;if(j.caretRangeFromPoint){var E=(0,q.getPointerEvent)(Z);U=j.caretRangeFromPoint(E.clientX,E.clientY)}else Z.rangeParent&&(U=j.createRange()).setStart(Z.rangeParent,Z.rangeOffset);var M=T.getWindow().getSelection();T.getFrameEl().focus(),M.removeAllRanges(),U&&M.addRange(U),this.setContentEditable(this.activeTextModel,!0)}},setContentEditable:function(Z,B){if(Z){var T=Z.getEl();T.contentEditable!=B&&(T.contentEditable=B)}},toggleSortCursor:function(Z){var B=this.em,T=B&&B.get("Canvas");T&&(Z?T.startAutoscroll():T.stopAutoscroll())},setDragHelper:function(Z,B){for(var T=B||"",j=Z.cloneNode(1),U=Z.getBoundingClientRect(),E=getComputedStyle(Z),M="",c=0;c<E.length;c++){var d=E[c];M+="".concat(d,":").concat(E.getPropertyValue(d),";")}document.body.appendChild(j),j.className+=" ".concat(this.pfx,"bdrag"),j.setAttribute("style",M),this.dragHelper=j,j.style.width="".concat(U.width,"px"),j.style.height="".concat(U.height,"px"),T&&this.moveDragHelper(T),this.em&&N(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),N(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(Z){var B=Z.target.ownerDocument;if(this.dragHelper&&B){var T=Z.pageY,j=Z.pageX,U=0,E=0,M=(B.defaultView||B.parentWindow).frameElement,c=this.dragHelper.style;if(M){var d=M.getBoundingClientRect();U=d.top+document.documentElement.scrollTop,E=d.left+document.documentElement.scrollLeft,T=Z.clientY,j=Z.clientX}c.top=T+U+"px",c.left=j+E+"px"}},matches:function(Z,B,T){return q.matches.call(Z,B)},closest:function(Z,B){if(Z){for(var T=Z.parentNode;T&&T.nodeType===1;){if(this.matches(T,B))return T;T=T.parentNode}return null}},offset:function(Z){var B=Z.getBoundingClientRect();return{top:B.top+document.body.scrollTop,left:B.left+document.body.scrollLeft}},createPlaceholder:function(){var Z=this.pfx,B=document.createElement("div"),T=document.createElement("div");return B.className=Z+"placeholder",B.style.display="none",B.style["pointer-events"]="none",T.className=Z+"placeholder-int",B.appendChild(T),B},startSort:function(Z){var B,T,j,U,E,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.em,d=this.itemSel,s=this.containerSel,p=this.plh,O=this.getContainerEl(M.container),K=this.getDocuments(Z);this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,Z&&!this.matches(Z,"".concat(d,", ").concat(s))&&(Z=this.closest(Z,d)),this.sourceEl=Z,p||(this.plh=this.createPlaceholder(),O.appendChild(this.plh)),Z&&((E=this.getSourceModel(Z))&&E.set&&E.set("status","freezed"),this.srcModel=E),(0,q.on)(O,"mousemove dragover",this.onMove),(0,q.on)(K,"mouseup dragend touchend",this.endMove),(0,q.on)(K,"keydown",this.rollback),this.onStart({sorter:this,target:E,parent:E&&((B=(T=E).parent)===null||B===void 0?void 0:B.call(T)),index:E&&((j=(U=E).index)===null||j===void 0?void 0:j.call(U))}),c==null||c.clearSelection(),this.toggleSortCursor(1),c==null||c.trigger("sorter:drag:start",Z,E)},getTargetModel:function(Z){var B=Z||this.target;return N(B).data("model")},getSourceModel:function(Z){var B=this,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=T.target,U=T.avoidChildren,E=U===void 0?1:U,M=this.em,c=this.sourceEl,d=Z||c,s=this.dropModel,p=this.dropContent,O=function(R){return R&&j&&R.opt&&R.opt.avoidChildren&&B.isTextableActive(R,j)};if(p&&M){if(O(s)&&(s=null),!s){var K=M.get("DomComponents").getComponents(),Q={avoidChildren:E,avoidStore:1,avoidUpdateStyle:1},ne=K.add(p,P(P({},Q),{},{temporary:1}));if(s=(s=K.remove(ne,Q))instanceof Array?s[0]:s,this.dropModel=s,O(s))return this.getSourceModel(d,{target:j,avoidChildren:0})}return s}return d&&N(d).data("model")},selectTargetModel:function(Z,B){if(!(Z instanceof $().Collection||B&&B===Z)){var T=this.targetModel;T&&T!==this.srcModel&&T.set("status",""),Z&&Z.set&&(Z.set("status","selected-parent"),this.targetModel=Z)}},onMove:function(Z){var B=Z,T=this.em,j=this.onMoveClb,U=this.plh,E=this.customTarget;this.moved=1;var M=U.style.display;M&&M!=="none"||(U.style.display="block");var c=this.offset(this.el);this.elT=this.wmargin?Math.abs(c.top):c.top,this.elL=this.wmargin?Math.abs(c.left):c.left;var d=Z.pageY-this.elT+this.el.scrollTop,s=Z.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&T){var p=T.get("Canvas").getMouseRelativeCanvas(Z,{noScroll:1});s=p.x,d=p.y}this.rX=s,this.rY=d,this.eventMove=Z;var O=this.getSourceModel(),K=E?E({sorter:this,event:Z}):Z.target,Q=this.dimsFromTarget(K,s,d),ne=this.target,R=ne&&this.getTargetModel(ne);if(this.selectTargetModel(R,O),R||(U.style.display="none"),ne){this.lastDims=Q;var v=this.findPosition(Q,s,d);this.isTextableActive(O,R)?(this.activeTextModel=R,U.style.display="none",this.lastPos=v,this.updateTextViewCursorPosition(B)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==v.index&&this.lastPos.method==v.method||(this.movePlaceholder(this.plh,Q,v,this.prevTargetDim),this.$plh||(this.$plh=N(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=v)),(0,D.isFunction)(j)&&j({event:Z,target:O,parent:R,index:v.index+(v.method=="after"?1:0)}),T&&T.trigger("sorter:drag",{target:ne,targetModel:R,sourceModel:O,dims:Q,pos:v,x:s,y:d})}},isTextableActive:function(Z,B){var T;return(Z==null||(T=Z.get)===null||T===void 0?void 0:T.call(Z,"textable"))&&(B==null?void 0:B.isInstanceOf("text"))},disableTextable:function(){var Z=this.activeTextModel;Z&&Z.getView().disableEditing(),this.setContentEditable(Z,!1)},isInFlow:function(Z,B){if(!Z)return!1;B=B||document.body;var T=Z;return T.offsetHeight,!!this.styleInFlow(T,B)},styleInFlow:function(Z,B){if(!(0,q.isTextNode)(Z)){var T=Z.style||{},j=N(Z),U=B&&N(B);if(!T.overflow||T.overflow==="visible"){var E=j.css("float");if(!(E&&E!=="none"||U&&U.css("display")=="flex"&&U.css("flex-direction")!=="column")){switch(T.position){case"static":case"relative":case"":break;default:return}switch(Z.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(j.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}}},validTarget:function(Z,B){var T=this.getTargetModel(Z),j=this.getSourceModel(B,{target:T}),U={valid:!0,src:B=j&&j.view&&j.view.el,srcModel:j,trg:Z=T&&T.view&&T.view.el,trgModel:T};if(!B||!Z)return U.valid=!1,U;var E=j.get("draggable");if((0,D.isFunction)(E)){var M=E(j,T);U.dragInfo=M,U.draggable=M,E=M}else E=E instanceof Array?E.join(", "):E,U.dragInfo=E,E=(0,D.isString)(E)?this.matches(Z,E):E,U.draggable=E;var c=T.get("droppable");if((0,D.isFunction)(c)){var d=c(j,T);U.droppable=d,U.dropInfo=d,c=d}else c=(c=c instanceof $().Collection?1:c)instanceof Array?c.join(", "):c,U.dropInfo=c,c=(0,D.isString)(c)?this.matches(B,c):c,c=E&&this.isTextableActive(j,T)?1:c,U.droppable=c;return c&&E||(U.valid=!1),U},dimsFromTarget:function(Z,B,T){var j=this.em,U=[];if(!Z||(this.matches(Z,"".concat(this.itemSel,", ").concat(this.containerSel))||(Z=this.closest(Z,this.itemSel)),this.draggable instanceof Array&&(Z=this.closest(Z,this.draggable.join(","))),!Z))return U;if(this.prevTarget&&this.prevTarget!=Z&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(Z,this.containerSel);var E=this.validTarget(Z);if(j&&j.trigger("sorter:drag:validation",E),!E.valid&&this.targetP)return this.dimsFromTarget(this.targetP,B,T);this.prevTarget=Z,this.prevTargetDim=this.getDim(Z),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(Z)}if(this.prevTarget==Z&&(U=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,B,T)||!this.nested&&!this.cacheDims.length){var M=this.targetP;M&&this.validTarget(M).valid&&(U=this.cacheDimsP,this.target=M)}return this.lastPos=null,U},getTargetFromEl:function(Z){var B,T=Z,j=this.targetPrev,U=this.em,E=this.containerSel,M=this.itemSel;if(this.matches(T,"".concat(M,", ").concat(E))||(T=this.closest(T,M)),this.draggable instanceof Array&&(T=this.closest(T,this.draggable.join(","))),j&&j!=T&&(this.targetPrev=""),!this.targetPrev){B=this.closest(T,E);var c=this.validTarget(T);if(U&&U.trigger("sorter:drag:validation",c),!c.valid&&B)return this.getTargetFromEl(B);this.targetPrev=T}return this.nearElBorders(T)&&(B=this.closest(T,E))&&this.validTarget(B).valid&&(T=B),T},nearElBorders:function(Z){var B=10,T=Z.getBoundingClientRect(),j=Z.ownerDocument.body,U=this.getCurrentPos(),E=U.x,M=U.y,c=T.top+j.scrollTop,d=T.left+j.scrollLeft,s=T.width,p=T.height;if(M<c+B||M>c+p-B||E<d+B||E>d+s-B)return 1},getCurrentPos:function(){var Z=this.eventMove;return{x:Z.pageX||0,y:Z.pageY||0}},getDim:function(Z){var B,T,j,U,E=this.em,M=this.canvasRelative,c=E&&E.get("Canvas"),d=c?c.getElementOffsets(Z):{};if(M&&E){var s=c.getElementPos(Z,{noScroll:1});B=s.top,T=s.left,j=s.height,U=s.width}else{var p=this.offset(Z);B=this.relative?Z.offsetTop:p.top-(this.wmargin?-1:1)*this.elT,T=this.relative?Z.offsetLeft:p.left-(this.wmargin?-1:1)*this.elL,j=Z.offsetHeight,U=Z.offsetWidth}return{top:B,left:T,height:j,width:U,offsets:d}},getChildrenDim:function(Z){var B=this,T=[];if(!Z)return T;var j=this.getTargetModel(Z);if(j&&j.view&&!this.ignoreViewChildren){var U=j.getCurrentView?j.getCurrentView():j.view;Z=U.getChildrenContainer()}return(0,D.each)(Z.children,function(E,M){var c=(0,q.getModel)(E,N),d=c&&c.index?c.index():M;if((0,q.isTextNode)(E)||B.matches(E,B.itemSel)){var s=B.getDim(E),p=B.direction;p=p=="v"||p!="h"&&B.isInFlow(E,Z),s.dir=p,s.el=E,s.indexEl=d,T.push(s)}}),T},nearBorders:function(Z,B,T){var j=0,U=this.borderOffset,E=B||0,M=T||0,c=Z.top,d=Z.left,s=Z.height,p=Z.width;return(c+U>M||M>c+s-U||d+U>E||E>d+p-U)&&(j=1),!!j},findPosition:function(Z,B,T){for(var j={index:0,indexEl:0,method:"before"},U=0,E=0,M=0,c=0,d=0,s=0,p=0,O=0,K=Z.length;O<K;O++){var Q=p=Z[O],ne=Q.top,R=Q.left,v=Q.height,b=Q.width;if(s=ne+v,c=R+b/2,d=ne+v/2,!(E&&R>E||M&&d>=M||U&&R+b<U))if(j.index=O,j.indexEl=p.indexEl,p.dir){if(T<d){j.method="before";break}j.method="after"}else T<s&&(M=s),B<c?(E=c,j.method="before"):(U=c,j.method="after")}return j},movePlaceholder:function(Z,B,T,j){var U=0,E=0,M=0,c=0,d=0,s="px",p=5,O=T.method,K=B[T.index];if(Z.classList.remove("vertical"),Z.classList.add("horizontal"),K){var Q=K.top,ne=K.left,R=K.height,v=K.width;K.dir?(c=v+s,d="auto",E=O=="before"?Q-U:Q+R-U,M=ne):(c="auto",d=R-2*U+s,E=Q+U,M=O=="before"?ne-U:ne+v-U,Z.classList.remove("horizontal"),Z.classList.add("vertical"))}else{if(!this.nested)return void(Z.style.display="none");if(j){var b=j.offsets||{},a=b.paddingTop||p,f=b.paddingLeft||p;E=j.top+a,M=j.left+f,c=parseInt(j.width)-2*f+s,d="auto"}}Z.style.top=E+s,Z.style.left=M+s,c&&(Z.style.width=c),d&&(Z.style.height=d)},parents:function(Z){return Z?[Z].concat(this.parents(Z.parent())):[]},sort:function(Z,B){var T=Z.parents.filter(function(U){return B.parents.includes(U)})[0];if(!T)return B.model.index()-Z.model.index();var j=Z.parents[Z.parents.indexOf(T)-1];return B.parents[B.parents.indexOf(T)-1].index()-j.index()},endMove:function(Z){var B,T=this,j=this.sourceEl,U=[],E=this.getDocuments(),M=this.getContainerEl(),c=this.onEndMove,d=this.onEnd,s=this.target,p=this.lastPos;if((0,q.off)(M,"mousemove dragover",this.onMove),(0,q.off)(E,"mouseup dragend touchend",this.endMove),(0,q.off)(E,"keydown",this.rollback),this.plh.style.display="none",j&&(B=this.getSourceModel(),this.selectOnEnd&&B&&B.set&&(B.set("status",""),B.set("status","selected"))),this.moved&&s){var O=this.toMove,K=(0,D.isArray)(O)?O:O?[O]:[j],Q=0;K.length===1?U.push(this.move(s,K[0],p)):K.map(function(v){return{model:v,parents:T.parents(v)}}).sort(this.sort).forEach(function(v){var b=v.model,a=b.index(),f=b.parent().getEl();U.push(T.move(s,b,P(P({},p),{},{indexEl:p.indexEl-Q,index:p.index-Q}))),f===s&&a<=p.index&&Q++})}this.plh&&(this.plh.style.display="none");var ne=this.dragHelper;if(ne&&(ne.parentNode.removeChild(ne),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,(0,D.isFunction)(c)){var R={target:B,parent:B&&B.parent(),index:B&&B.index()};U.length?U.forEach(function(v){return c(v,T,R)}):c(null,this,P(P({},R),{},{cancelled:1}))}(0,D.isFunction)(d)&&d({sorter:this})},move:function(Z,B,T){var j,U,E=this.em,M=this.dropContent,c=(0,q.getElement)(B),d=[],s=T.method==="after"?T.indexEl+1:T.indexEl,p=this.validTarget(Z,c),O=N(Z).data("collection"),K=p.trgModel,Q=p.srcModel,ne=p.draggable,R=K instanceof $().Collection?1:p.droppable;if(O&&R&&ne){var v={at:s,action:"move-component"},b=this.isTextableActive(Q,K);if(M)j=(0,D.isFunction)(M)?M():M,v.avoidUpdateStyle=!0,v.action="add-component";else{var a=Q.collection.indexOf(Q),f=O===Q.collection;(!f||!(a===s||a===s-1)||b)&&(j=Q.collection.remove(Q,{temporary:!0}),f&&s>a&&(v.at=s-1))}j&&(b?(delete v.at,U=K.getView().insertComponent(j,v)):U=O.add(j,v)),this.dropContent=null,this.prevTarget=null}else if(E){var h=p.dropInfo||(K==null?void 0:K.get("droppable")),_=p.dragInfo||(Q==null?void 0:Q.get("draggable"));!O&&d.push("Target collection not found"),!R&&h&&d.push("Target is not droppable, accepts [".concat(h,"]")),!ne&&_&&d.push("Component not draggable, acceptable by [".concat(_,"]")),E.logWarning("Invalid target position",{errors:d,model:Q,context:"sorter",target:K})}return E==null||E.trigger("sorter:drag:end",{targetCollection:O,modelToDrop:j,warns:d,validResult:p,dst:Z,srcEl:c}),U},rollback:function(Z){(0,q.off)(this.getDocuments(),"keydown",this.rollback),(Z.which||Z.keyCode)==27&&(this.moved=0,this.endMove())}});var m=z(5671),g=z(3144);function S(Z,B){var T=Object.keys(Z);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(Z);B&&(j=j.filter(function(U){return Object.getOwnPropertyDescriptor(Z,U).enumerable})),T.push.apply(T,j)}return T}function I(Z){for(var B=1;B<arguments.length;B++){var T=arguments[B]!=null?arguments[B]:{};B%2?S(Object(T),!0).forEach(function(j){(0,ie.Z)(Z,j,T[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(T)):S(Object(T)).forEach(function(j){Object.defineProperty(Z,j,Object.getOwnPropertyDescriptor(T,j))})}return Z}var H={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:10,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},X=function(Z,B){var T=B||window,j=Z.getBoundingClientRect();return{left:j.left+T.pageXOffset,top:j.top+T.pageYOffset,width:j.width,height:j.height}},Y=function(){function Z(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,m.Z)(this,Z),this.setOptions(B),(0,D.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return(0,g.Z)(Z,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.opts=(0,D.defaults)(B,H),this.setup()}},{key:"setup",value:function(){var B=this.opts,T=B.prefix||"",j=B.appendTo||document.body,U=this.container;for(U||((U=document.createElement("div")).className="".concat(T,"resizer-c"),j.appendChild(U),this.container=U);U.firstChild;)U.removeChild(U.firstChild);var E={};for(var M in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(d){return E[d]=B[d]?function(s,p){var O=p.prefix||"",K=document.createElement("i");return K.className=O+"resizer-h "+O+"resizer-h-"+s,K.setAttribute("data-"+O+"handler",s),K}(d,B):""}),E){var c=E[M];c&&U.appendChild(c)}this.handlers=E,this.mousePosFetcher=B.mousePosFetcher,this.updateTarget=B.updateTarget,this.posFetcher=B.posFetcher,this.onStart=B.onStart,this.onMove=B.onMove,this.onEnd=B.onEnd,this.onUpdateContainer=B.onUpdateContainer}},{key:"toggleFrames",value:function(B){if(this.opts.silentFrames){var T=document.querySelectorAll("iframe");(0,D.each)(T,function(j){return j.style.pointerEvents=B?"none":""})}}},{key:"isHandler",value:function(B){var T=this.handlers;for(var j in T)if(T[j]===B)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getParentEl",value:function(){return this.el.parentElement}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=this.posFetcher||"";return j?j(B,T):X(B)}},{key:"focus",value:function(B){B&&B===this.el||(this.el=B,this.updateContainer({forceShow:1}),(0,q.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&((0,q.off)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(B){if(B.button===0){B.preventDefault(),B.stopPropagation();var T=this.el,j=this.getParentEl(),U=this.opts||{},E=this.mousePosFetcher,M="data-"+U.prefix+"handler",c=this.getElementPos(T,{target:"el"}),d=this.getElementPos(j);this.handlerAttr=B.target.getAttribute(M),this.clickedHandler=B.target,this.startDim={t:c.top,l:c.left,w:c.width,h:c.height},this.rectDim={t:c.top,l:c.left,w:c.width,h:c.height},this.startPos=E?E(B):{x:B.clientX,y:B.clientY},this.parentDim={t:d.top,l:d.left,w:d.width,h:d.height};var s=this.getDocumentEl();this.docs=s,(0,q.on)(s,"pointermove",this.move),(0,q.on)(s,"keydown",this.handleKeyDown),(0,q.on)(s,"pointerup",this.stop),(0,D.isFunction)(this.onStart)&&this.onStart(B,{docs:s,config:U,el:T,resizer:this}),this.toggleFrames(1),this.move(B)}}},{key:"move",value:function(B){var T=this.onMove,j=this.mousePosFetcher,U=j?j(B):{x:B.clientX,y:B.clientY};this.currentPos=U,this.delta={x:U.x-this.startPos.x,y:U.y-this.startPos.y},this.keys={shift:B.shiftKey,ctrl:B.ctrlKey,alt:B.altKey},this.rectDim=this.calc(this),this.updateRect(0),T&&T(B)}},{key:"stop",value:function(B){var T=this.el,j=this.opts,U=this.docs||this.getDocumentEl();(0,q.off)(U,"pointermove",this.move),(0,q.off)(U,"keydown",this.handleKeyDown),(0,q.off)(U,"pointerup",this.stop),this.updateRect(1),this.toggleFrames(),(0,D.isFunction)(this.onEnd)&&this.onEnd(B,{docs:U,config:j,el:T,resizer:this}),delete this.docs}},{key:"updateRect",value:function(B){var T=this.el,j=this.opts,U=this.rectDim,E=this.updateTarget,M=this.getSelectedHandler(),c=j.unitHeight,d=j.unitWidth,s=j.keyWidth,p=j.keyHeight;if((0,D.isFunction)(E))E(T,U,{store:B,selectedHandler:M,resizer:this,config:j});else{var O=T.style;O[s]=U.w+d,O[p]=U.h+c}this.updateContainer()}},{key:"updateContainer",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.opts,j=this.container,U=this.el,E=j.style;!T.avoidContainerUpdate&&U&&B.forceShow&&(E.display="block"),this.onUpdateContainer({el:j,resizer:this,opts:I(I({},T),B)})}},{key:"getSelectedHandler",value:function(){var B=this.handlers;if(this.selectedHandler){for(var T in B)if(B[T]===this.selectedHandler)return T}}},{key:"handleKeyDown",value:function(B){B.keyCode===27&&(this.rectDim=this.startDim,this.stop(B))}},{key:"handleMouseDown",value:function(B){var T=B.target;this.isHandler(T)?(this.selectedHandler=T,this.start(B)):T!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(B){var T,j=this.opts||{},U=j.step,E=this.startDim,M=j.minDim,c=j.maxDim,d=B.delta.x,s=B.delta.y,p=this.parentDim.w,O=this.parentDim.h,K=this.opts.unitWidth,Q=this.opts.unitHeight,ne=K==="%"?E.w/100*p:E.w,R=Q==="%"?E.h/100*O:E.h,v={t:0,l:0,w:ne,h:R};if(B){var b=B.handlerAttr;~b.indexOf("r")&&(T=K==="%"?(0,q.normalizeFloat)((ne+d*U)/p*100,.01):(0,q.normalizeFloat)(ne+d*U,U),T=Math.max(M,T),c&&(T=Math.min(c,T)),v.w=T),~b.indexOf("b")&&(T=Q==="%"?(0,q.normalizeFloat)((R+s*U)/O*100,.01):(0,q.normalizeFloat)(R+s*U,U),T=Math.max(M,T),c&&(T=Math.min(c,T)),v.h=T),~b.indexOf("l")&&(T=K==="%"?(0,q.normalizeFloat)((ne-d*U)/p*100,.01):(0,q.normalizeFloat)(ne-d*U,U),T=Math.max(M,T),c&&(T=Math.min(c,T)),v.w=T),~b.indexOf("t")&&(T=Q==="%"?(0,q.normalizeFloat)((R-s*U)/O*100,.01):(0,q.normalizeFloat)(R-s*U,U),T=Math.max(M,T),c&&(T=Math.min(c,T)),v.h=T);var a=j.ratioDefault?!B.keys.shift:B.keys.shift;if(b.indexOf("c")<0&&a){var f=E.w/E.h;v.w/v.h>f?v.h=Math.round(v.w/f):v.w=Math.round(v.h*f)}return~b.indexOf("l")&&(v.l=E.w-v.w),~b.indexOf("t")&&(v.t=E.h-v.h),v}}}]),Z}();const x={init:function(Z){return new Y(Z)}};function W(Z,B){var T=Object.keys(Z);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(Z);B&&(j=j.filter(function(U){return Object.getOwnPropertyDescriptor(Z,U).enumerable})),T.push.apply(T,j)}return T}function oe(Z){for(var B=1;B<arguments.length;B++){var T=arguments[B]!=null?arguments[B]:{};B%2?W(Object(T),!0).forEach(function(j){(0,ie.Z)(Z,j,T[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(T)):W(Object(T)).forEach(function(j){Object.defineProperty(Z,j,Object.getOwnPropertyDescriptor(T,j))})}return Z}const se=function(){return{name:"Utils",init:function(){return this},destroy:function(){},Sorter:y,Resizer:x,Dragger:w.Z,helpers:oe({},q)}}},7116:(ge,_e,z)=>{z.d(_e,{Z:()=>q});var ie,w=z(2316),k=z.n(w),$=z(9050),D=(ie=function(l,P){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,C){N.__proto__=C}||function(N,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(N[y]=C[y])},ie(l,P)},function(l,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function N(){this.constructor=l}ie(l,P),l.prototype=P===null?Object.create(P):(N.prototype=P.prototype,new N)});const q=function(l){function P(N,C,y){return l.call(this,C,{module:N,modelConstructor:y})||this}return D(P,l),P.prototype.add=function(N,C){var y,m=this,g=(0,$.isArray)(N)?N:(0,$.isUndefined)(N)?void 0:[N];return g=(y=g==null?void 0:g.map(function(S){return S instanceof m.newModel?S:new m.newModel(m.module,S)}))!==null&&y!==void 0?y:[void 0],l.prototype.add.call(this,(0,$.isArray)(N)?g:g[0],C)},P.prototype.preinitialize=function(N,C){this.newModel=C.modelConstructor,this.module=C.module},P}(k().Collection)},7904:(ge,_e,z)=>{z.d(_e,{Z:()=>D});var ie,w=z(2316),k=z.n(w),$=(ie=function(q,l){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,N){P.__proto__=N}||function(P,N){for(var C in N)Object.prototype.hasOwnProperty.call(N,C)&&(P[C]=N[C])},ie(q,l)},function(q,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function P(){this.constructor=q}ie(q,l),q.prototype=l===null?Object.create(l):(P.prototype=l.prototype,new P)});const D=function(q){function l(P,N,C){var y=q.call(this,N,C)||this;return y._module=P,y}return $(l,q),Object.defineProperty(l.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),l}(k().Model)},6434:(ge,_e,z)=>{z.d(_e,{O:()=>N,Z:()=>P});var ie,w=z(9050),k=z(1163),$=(ie=function(C,y){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(m[S]=g[S])},ie(C,y)},function(C,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function m(){this.constructor=C}ie(C,y),C.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}),D=function(){return D=Object.assign||function(C){for(var y,m=1,g=arguments.length;m<g;m++)for(var S in y=arguments[m])Object.prototype.hasOwnProperty.call(y,S)&&(C[S]=y[S]);return C},D.apply(this,arguments)},q=function(C,y,m){if(m||arguments.length===2)for(var g,S=0,I=y.length;S<I;S++)!g&&S in y||(g||(g=Array.prototype.slice.call(y,0,S)),g[S]=y[S]);return C.concat(g||Array.prototype.slice.call(y))},l=function(){function C(y,m,g){this.cls=[],this.isPrivate=!1,this._em=y,this._name=m;var S=this.name.charAt(0).toLowerCase()+this.name.slice(1),I=(0,w.isUndefined)(y.config[S])?y.config[this.name]:y.config[S],H=I===!0?{}:I||{};H.pStylePrefix=y.config.pStylePrefix||"",(0,w.isUndefined)(I)||I||(H._disable=1),H.em=y,this._config=(0,k.deepMerge)(g||{},H)}return Object.defineProperty(C.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),C.prototype.init=function(y){},C.prototype.postLoad=function(y){},Object.defineProperty(C.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),C.prototype.getConfig=function(y){return y?this.config[y]:this.config},C.prototype.__logWarn=function(y,m){m===void 0&&(m={}),this.em.logWarning("[".concat(this.name,"]: ").concat(y),m)},C.prototype.__appendTo=function(){var y=this.getConfig().appendTo;if(y){var m=(0,w.isElement)(y)?y:document.querySelector(y);if(!m)return this.__logWarn('"appendTo" element not found');m.appendChild(this.render())}},C}();const P=l;var N=function(C){function y(m,g,S,I){var H=C.call(this,m,g)||this;return H.cls=[],H.private=!1,H.all=S,H.events=I,H.__initListen(),H}return $(y,C),y.prototype.postLoad=function(m){},y.prototype.render=function(){},y.prototype.getProjectData=function(m){var g={},S=this.storageKey;return S&&(g[S]=m||this.getAll()),g},y.prototype.loadProjectData=function(m,g){m===void 0&&(m={}),g===void 0&&(g={});var S=g.all,I=g.onResult,H=g.reset,X=this.storageKey,Y={action:"load"},x=S||this.all,W=m[X];if(typeof W=="string")try{W=JSON.parse(W)}catch{this.__logWarn("Data parsing failed",{input:W})}return H&&W&&x.reset(void 0,Y),I?W&&I(W,Y):W&&(0,k.isDef)(W.length)&&x.reset(W,Y),W},y.prototype.clear=function(m){m===void 0&&(m={});var g=this.all;return g&&g.reset(void 0,m),this},y.prototype.getAll=function(){return q([],this.all.models,!0)},y.prototype.getAllMap=function(){return this.getAll().reduce(function(m,g){return m[g.get(g.idAttribute)]=g,m},{})},y.prototype.__initListen=function(m){m===void 0&&(m={});var g=this,S=g.all,I=g.em,H=g.events;S&&I&&S.on("add",function(X,Y,x){return I.trigger(H.add,X,x)}).on("remove",function(X,Y,x){return I.trigger(H.remove,X,x)}).on("change",function(X,Y){return I.trigger(H.update,X,X.changedAttributes(),Y)}).on("all",this.__catchAllEvent,this),this.cls=[S].concat(m.collections||[]),(m.propagate||[]).forEach(function(X){var Y=X.entity,x=X.event;Y.on("all",function(W,oe,se,Z){var B=D({event:W},Z||se);[I,S].map(function(T){return T.trigger(x,oe,B)})})})},y.prototype.__remove=function(m,g){var S=this;g===void 0&&(g={});var I=this.em,H=isString(m)?this.get(m):m,X=function(){return H&&S.all.remove(H,g),H};return!g.silent&&(I==null||I.trigger(this.events.removeBefore,H,X,g)),!g.abort&&X()},y.prototype.__catchAllEvent=function(m,g,S,I){var H=this.em,X=this.events,Y=I||S;H&&X.all&&H.trigger(X.all,{event:m,model:g,options:Y}),this.__onAllEvent()},y.prototype.__appendTo=function(){var m=this.config.appendTo;if(m){var g=(0,w.isElement)(m)?m:document.querySelector(m);if(!g)return this.__logWarn('"appendTo" element not found');g.appendChild(this.render())}},y.prototype.__onAllEvent=function(){},y.prototype._createId=function(m){m===void 0&&(m=16);var g,S=this.getAll().length+m,I=this.getAllMap();do g=(0,k.createId)(S);while(I[g]);return g},y.prototype.__listenAdd=function(m,g){var S=this;m.on("add",function(I,H,X){return S.em.trigger(g,I,X)})},y.prototype.__listenRemove=function(m,g){var S=this;m.on("remove",function(I,H,X){return S.em.trigger(g,I,X)})},y.prototype.__listenUpdate=function(m,g){var S=this;m.on("change",function(I,H){return S.em.trigger(g,I,I.changedAttributes(),H)})},y.prototype.__destroy=function(){var m;this.cls.forEach(function(g){g.stopListening(),g.reset()}),(m=this.view)===null||m===void 0||m.remove(),this.view=void 0},y}(l)},3059:(ge,_e,z)=>{z.d(_e,{Z:()=>D});var ie,w=z(2316),k=z.n(w),$=(ie=function(q,l){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,N){P.__proto__=N}||function(P,N){for(var C in N)Object.prototype.hasOwnProperty.call(N,C)&&(P[C]=N[C])},ie(q,l)},function(q,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function P(){this.constructor=q}ie(q,l),q.prototype=l===null?Object.create(l):(P.prototype=l.prototype,new P)});const D=function(q){function l(){return q!==null&&q.apply(this,arguments)||this}return $(l,q),Object.defineProperty(l.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"module",{get:function(){var P,N;return(N=(P=this.model)===null||P===void 0?void 0:P.module)!==null&&N!==void 0?N:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),l.prototype.preinitialize=function(P){this.className=""},l}(k().View)},7287:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>A});var ie=z(9050),w=z(6434),k=z(1163);const $={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,extHl:0,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]};var D,q=z(7904),l=z(7948),P=z(2004),N=z(3560),C=(D=function(J,te){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,G){F.__proto__=G}||function(F,G){for(var V in G)Object.prototype.hasOwnProperty.call(G,V)&&(F[V]=G[V])},D(J,te)},function(J,te){if(typeof te!="function"&&te!==null)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");function F(){this.constructor=J}D(J,te),J.prototype=te===null?Object.create(te):(F.prototype=te.prototype,new F)}),y=function(J){function te(F){var G=this,V=F.em,le=F.config,ve=le.scripts,Ne=le.styles;return(G=J.call(this,F,{scripts:ve,styles:Ne})||this).set("frames",new N.Z(F)),G.listenTo(G,"change:zoom",G.onZoomChange),G.listenTo(V,"change:device ".concat(P.evUpdate),G.updateDevice),G.listenTo(V,l.evPageSelect,G._pageUpdated),G}return C(te,J),te.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}},Object.defineProperty(te.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),te.prototype.init=function(){var F=this.em.get("PageManager").getMain();this.set("frames",F.getFrames()),this.updateDevice({frame:F.getMainFrame()})},te.prototype._pageUpdated=function(F,G){var V=this.em;V.setSelected(),V.get("readyCanvas")&&V.stopDefault(),G==null||G.getFrames().map(function(le){return le.disable()}),this.set("frames",F.getFrames()),this.updateDevice({frame:F.getMainFrame()})},te.prototype.updateDevice=function(F){F===void 0&&(F={});var G=this.em,V=G.getDeviceModel(),le=F.frame||G.getCurrentFrameModel();if(le&&V){var ve=V.attributes,Ne=ve.width,Ze=ve.height;le.set({width:Ne,height:Ze},{noUndo:1})}},te.prototype.onZoomChange=function(){this.get("zoom")<1&&this.set("zoom",1)},te}(q.Z);const m=y;var g=z(6840),S=z(3059),I=z(9283),H=z(2316),X=z.n(H),Y=function(){var J=function(te,F){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,V){G.__proto__=V}||function(G,V){for(var le in V)Object.prototype.hasOwnProperty.call(V,le)&&(G[le]=V[le])},J(te,F)};return function(te,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function G(){this.constructor=te}J(te,F),te.prototype=F===null?Object.create(F):(G.prototype=F.prototype,new G)}}();const x=function(J){function te(F,G){F===void 0&&(F={}),G===void 0&&(G=!1);var V=J.call(this,F)||this;return V.itemsView="",V.itemType="type",V.reuseView=!1,V.viewCollection=[],G&&V.listenTo(V.collection,"add",V.addTo),V}return Y(te,J),te.prototype.addTo=function(F){this.add(F)},te.prototype.itemViewNotFound=function(F){},te.prototype.add=function(F,G){var V,le=this,ve=le.reuseView,Ne=le.viewCollection,Ze=(le.itemsView,G||null),Me=F.get(this.itemType);V=F.view&&ve?F.view:this.renderView(F,Me),Ne.push(V);var je=V.render().el;Ze?Ze.appendChild(je):this.$el.append(je)},te.prototype.render=function(){var F=this,G=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(V){return F.add(V,G)}),this.$el.append(G),this.onRender(),this},te.prototype.onRender=function(){},te.prototype.onRemoveBefore=function(F,G){},te.prototype.onRemove=function(F,G){},te.prototype.remove=function(F){F===void 0&&(F={});var G=this.viewCollection;return this.onRemoveBefore(G,F),this.clearItems(),X().View.prototype.remove.apply(this,F),this.onRemove(G,F),this},te.prototype.clearItems=function(){this.viewCollection},te}(S.Z);var W=z(4868),oe=z(4942),se=z(5671),Z=z(3144);function B(J,te){var F=Object.keys(J);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(J);te&&(G=G.filter(function(V){return Object.getOwnPropertyDescriptor(J,V).enumerable})),F.push.apply(F,G)}return F}var T=function(){function J(te,F){var G=this;(0,se.Z)(this,J),this.em=te;var V=F||te.get("Canvas").getFrames().map(function(ve){return ve.getComponent().getEl()}),le=Array.isArray(V)?V:[V];return this.el=V,this.counter=0,(0,ie.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),le.forEach(function(ve){return G.toggleEffects(ve,1)}),this}return(0,Z.Z)(J,[{key:"toggleEffects",value:function(te,F){var G={on:k.on,off:k.off},V=F?"on":"off";G[V](te,"dragenter",this.handleDragEnter),G[V](te,"dragover",this.handleDragOver),G[V](te,"drop",this.handleDrop),G[V](te,"dragleave",this.handleDragLeave)}},{key:"__customTglEff",value:function(te){var F=te?k.on:k.off,G=this.el.ownerDocument,V=G.defaultView.frameElement;this.sortOpts=te?{onStart:function(le){var ve=le.sorter;(0,k.on)(V,"pointermove",ve.onMove)},onEnd:function(le){var ve=le.sorter;(0,k.off)(V,"pointermove",ve.onMove)},customTarget:function(le){var ve=le.event;return G.elementFromPoint(ve.clientX,ve.clientY)}}:null,F(V,"pointerenter",this.handleDragEnter),F(V,"pointermove",this.handleDragOver),F(document,"pointerup",this.handleDrop),F(V,"pointerout",this.handleDragLeave)}},{key:"startCustom",value:function(){this.__customTglEff(!0)}},{key:"endCustom",value:function(te){this.over?this.endDrop(te):this.__customTglEff(!1)}},{key:"endDrop",value:function(te,F){var G=this.em,V=this.dragStop;this.counter=0,V&&V(te),this.__customTglEff(!1),G.trigger("canvas:dragend",F)}},{key:"handleDragLeave",value:function(te){this.updateCounter(-1,te)}},{key:"updateCounter",value:function(te,F){this.counter+=te,this.counter===0&&this.endDrop(1,F)}},{key:"handleDragEnter",value:function(te){var F=this,G=this.em,V=te.dataTransfer;if(this.updateCounter(1,te),!this.over){this.over=1;var le,ve,Ne=G.get("Utils"),Ze=G.get("Canvas"),Me=G.get("dragContent")||"<br>";if(G.stopDefault(),G.inAbsoluteMode()){var je=G.get("DomComponents").getWrapper(),ae=je.append({})[0],be=G.get("Commands").run("core:component-drag",{event:te,guidesInfo:1,center:1,target:ae,onEnd:function(Te,Re,Fe){var it;if(!Fe.cancelled){it=je.append(Me)[0];var lt=Ze.getOffset(),St=ae.getStyle(),Ut=St.top,Xt=St.left,Dt=St.position;it.addStyle({left:parseFloat(Xt)-lt.left+"px",top:parseFloat(Ut)-lt.top+"px",position:Dt})}F.handleDragEnd(it,V),ae.remove()}});le=function(Te){return be.stop(te,{cancel:Te})},ve=function(Te){return Me=Te}}else{var re=new Ne.Sorter(function(Te){for(var Re=1;Re<arguments.length;Re++){var Fe=arguments[Re]!=null?arguments[Re]:{};Re%2?B(Object(Fe),!0).forEach(function(it){(0,oe.Z)(Te,it,Fe[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(Fe)):B(Object(Fe)).forEach(function(it){Object.defineProperty(Te,it,Object.getOwnPropertyDescriptor(Fe,it))})}return Te}({em:G,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:Ze.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(Te){return F.handleDragEnd(Te,V)},document:this.el.ownerDocument},this.sortOpts||{}));re.setDropContent(Me),re.startSort(),this.sorter=re,le=function(Te){Te&&(re.moved=0),re.endMove()},ve=function(Te){return re.setDropContent(Te)}}this.dragStop=le,this.dragContent=ve,G.trigger("canvas:dragenter",V,Me)}}},{key:"handleDragEnd",value:function(te,F){var G=this.em;this.over=0,te&&(G.set("dragResult",te),G.trigger("canvas:drop",F,te)),G.runDefault({preserveSelected:1})}},{key:"handleDragOver",value:function(te){te.preventDefault(),this.em.trigger("canvas:dragover",te)}},{key:"handleDrop",value:function(te){te.preventDefault();var F=this.dragContent,G=te.dataTransfer,V=this.getContentByData(G).content;te.target.style.border="",V&&F&&F(V),this.endDrop(!V,te)}},{key:"getContentByData",value:function(te){var F=this.em,G=te&&te.types,V=te&&te.files||[],le=F.get("dragContent"),ve=te&&te.getData("text");if(V.length){ve=[];for(var Ne=0;Ne<V.length;Ne++){var Ze=V[Ne],Me=Ze.type.split("/")[0];Me=="image"&&ve.push({type:Me,file:Ze,attributes:{alt:Ze.name}})}}else if(le)ve=le;else if((0,ie.indexOf)(G,"text/html")>=0)ve=te&&te.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,ie.indexOf)(G,"text/uri-list")>=0)ve={type:"link",attributes:{href:ve},content:ve};else if((0,ie.indexOf)(G,"text/json")>=0){var je=te&&te.getData("text/json");je&&(ve=JSON.parse(je))}else G.length===1&&G[0]==="text/plain"&&(ve="<div>".concat(ve,"</div>"));var ae={content:ve};return F.trigger("canvas:dragdata",te,ae),ae}}]),J}(),j=function(){var J=function(te,F){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,V){G.__proto__=V}||function(G,V){for(var le in V)Object.prototype.hasOwnProperty.call(V,le)&&(G[le]=V[le])},J(te,F)};return function(te,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function G(){this.constructor=te}J(te,F),te.prototype=F===null?Object.create(F):(G.prototype=F.prototype,new G)}}(),U=function(){return U=Object.assign||function(J){for(var te,F=1,G=arguments.length;F<G;F++)for(var V in te=arguments[F])Object.prototype.hasOwnProperty.call(te,V)&&(J[V]=te[V]);return J},U.apply(this,arguments)},E=function(J,te,F){if(F||arguments.length===2)for(var G,V=0,le=te.length;V<le;V++)!G&&V in te||(G||(G=Array.prototype.slice.call(te,0,V)),G[V]=te[V]);return J.concat(G||Array.prototype.slice.call(te))},M=function(J){function te(F,G){var V=J.call(this,{model:F})||this;V.dragging=!1,V.lastMaxHeight=0,V.tools={},(0,ie.bindAll)(V,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var le=V,ve=le.el;le.em,V.module._config=U(U({},V.config||{}),{frameView:V}),V.frameWrapView=G,V.showGlobalTools=(0,ie.debounce)(V.showGlobalTools.bind(V),50);var Ne=V.getCanvasModel();return V.listenTo(F,"change:head",V.updateHead),V.listenTo(Ne,"change:styles",V.renderStyles),F.view=V,(0,k.setViewEl)(ve,V),V}return j(te,J),Object.defineProperty(te.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(te.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),te.prototype.updateHead=function(){var F=this.model,G=this.getHead(),V=[],le=[],ve=F.head,Ne=F.previous("head"),Ze=function(je){return je===void 0&&(je={}),Object.keys(je).sort().map(function(ae){return"[".concat(ae,'="').concat(je[ae],'"]')}).join("")},Me=function(je,ae,be){je.forEach(function(re){var Te=re.tag,Re=re.attributes;!ae.some(function(Fe){return Fe.tag===Te&&Ze(Fe.attributes)===Ze(Re)})&&be.push(re)})};Me(ve,Ne,le),Me(Ne,ve,V),V.forEach(function(je){var ae,be=G.querySelector("".concat(je.tag).concat(Ze(je.attributes)));(ae=be==null?void 0:be.parentNode)===null||ae===void 0||ae.removeChild(be)}),(0,I.SJ)(G,le)},te.prototype.getEl=function(){return this.el},te.prototype.getCanvasModel=function(){return this.em.get("Canvas").getModel()},te.prototype.getWindow=function(){return this.getEl().contentWindow},te.prototype.getDoc=function(){return this.getEl().contentDocument},te.prototype.getHead=function(){return this.getDoc().querySelector("head")},te.prototype.getBody=function(){return this.getDoc().querySelector("body")},te.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},te.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,I.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},te.prototype.getToolsEl=function(){var F;return(F=this.frameWrapView)===null||F===void 0?void 0:F.elTools},te.prototype.getGlobalToolsEl=function(){return this.em.get("Canvas").getGlobalToolsEl()},te.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},te.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},te.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},te.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},te.prototype.getOffsetRect=function(){var F=this.el,G=this.getBody(),V=G.scrollTop,le=G.scrollLeft,ve=F.offsetHeight,Ne=F.offsetWidth;return{top:F.offsetTop,left:F.offsetLeft,height:ve,width:Ne,scrollTop:V,scrollLeft:le,scrollBottom:V+ve,scrollRight:le+Ne}},te.prototype._getTool=function(F){var G=this.tools,V=this.getToolsEl();return G[F]||(G[F]=V.querySelector(F)),G[F]},te.prototype.remove=function(){for(var F=[],G=0;G<arguments.length;G++)F[G]=arguments[G];var V=this.wrapper;return this._toggleEffects(!1),this.tools={},V&&V.remove(),S.Z.prototype.remove.apply(this,F),this},te.prototype.startAutoscroll=function(){var F=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){F._toggleAutoscrollFx(!0),requestAnimationFrame(F.autoscroll)},0)},te.prototype.autoscroll=function(){if(this.dragging){var F=this.lastClientY,G=this.em.get("Canvas"),V=this.getWindow(),le=V.pageYOffset,ve=F||0,Ne=G.getConfig().autoscrollLimit,Ze=this.getRect().height-Ne,Me=le;ve<Ne&&(Me-=Ne-ve),ve>Ze&&(Me+=ve-Ze),!(0,ie.isUndefined)(F)&&Me!==le&&Me>0&&Me<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),V.scrollTo(0,Me)),requestAnimationFrame(this.autoscroll)}},te.prototype.updateClientY=function(F){F.preventDefault(),this.lastClientY=(0,k.getPointerEvent)(F).clientY*this.em.getZoomDecimal()},te.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},te.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},te.prototype._toggleAutoscrollFx=function(F){this.dragging=F;var G=this.getWindow(),V=F?"on":"off",le={on:k.on,off:k.off};le[V](G,"mousemove dragover",this.updateClientY),le[V](G,"mouseup",this.stopAutoscroll)},te.prototype.render=function(){var F=this.$el,G=this.ppfx;return F.attr({class:"".concat(G,"frame")}),this.renderScripts(),this},te.prototype.renderScripts=function(){var F=this,G=this,V=G.el,le=G.model,ve=G.em,Ne="frame:load",Ze={el:V,model:le,view:this},Me=this.getCanvasModel(),je=function(ae){var be;if(ae.length>0){var re=ae.shift(),Te=(0,I.ut)("script",U({type:"text/javascript"},(0,ie.isString)(re)?{src:re}:re));Te.onerror=Te.onload=je.bind(null,ae),(be=V.contentDocument)===null||be===void 0||be.head.appendChild(Te)}else F.renderBody(),ve&&ve.trigger(Ne,Ze)};V.onload=function(){var ae=F.config.frameContent;if(ae){var be=F.getDoc();be.open(),be.write(ae),be.close()}ve&&ve.trigger("".concat(Ne,":before"),Ze),je(E([],Me.get("scripts"),!0))}},te.prototype.renderStyles=function(F){F===void 0&&(F={});var G=this.getHead(),V=this.getCanvasModel(),le=function(ae){return ae.map(function(be){return{tag:"link",attributes:U({rel:"stylesheet"},(0,ie.isString)(be)?{href:be}:be)}})},ve=le(F.prev||V.previous("styles")),Ne=le(V.get("styles")),Ze=[],Me=[],je=function(ae,be,re){ae.forEach(function(Te){var Re=Te.attributes.href;!be.some(function(Fe){return Fe.attributes.href===Re})&&re.push(Te)})};je(Ne,ve,Me),je(ve,Ne,Ze),Ze.forEach(function(ae){var be,re=G.querySelector('link[href="'.concat(ae.attributes.href,'"]'));(be=re==null?void 0:re.parentNode)===null||be===void 0||be.removeChild(re)}),(0,I.SJ)(G,Me)},te.prototype.renderBody=function(){var F,G,V=this,le=this,ve=le.config,Ne=le.em,Ze=le.model,Me=le.ppfx,je=this.getDoc(),ae=this.getBody(),be=this.getWindow(),re=Ne.config;be._isEditor=!0,this.renderStyles({prev:[]}),(0,I.R3)(ae,`<style>
      `.concat(re.baseCss||ve.frameStyle||"",`

      [data-gjs-type="wrapper"] {
        min-height: 100vh;
        padding-top: 0.001em;
      }

      .`).concat(Me,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(Me,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(Me,`selected-parent {
        outline: 2px solid `).concat("#ffca6f",` !important
      }

      .`).concat(Me,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(Me,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(Me,`no-pointer {
        pointer-events: none;
      }

      .`).concat(Me,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(Me,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(Me,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(Me,`is__grabbing,
      .`).concat(Me,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(re.canvasCss||"",`
      `).concat(re.protectedCss||"",`
    </style>`));var Te=Ze.getComponent(),Re=Ne.get("DomComponents").getType("wrapper").view;this.wrapper=new Re({model:Te,config:U(U({},Te.config),{em:Ne,frameView:this})}).render(),(0,I.R3)(ae,(F=this.wrapper)===null||F===void 0?void 0:F.el),(0,I.R3)(ae,new W.Z({collection:Ze.getStyles(),config:U(U({},Ne.get("CssComposer").getConfig()),{frameView:this})}).render().el),(0,I.R3)(ae,this.getJsContainer()),(0,k.on)(ae,"click",function(Fe){var it;return Fe&&((it=Fe.target)===null||it===void 0?void 0:it.tagName)=="A"&&Fe.preventDefault()}),(0,k.on)(ae,"submit",function(Fe){return Fe&&Fe.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(Fe){return Fe.event.split(" ").forEach(function(it){je.addEventListener(it,function(lt){return V.el.dispatchEvent((0,I.t3)(lt,Fe.class))})})}),this._toggleEffects(!0),this.droppable=(0,k.hasDnd)(Ne)&&new T(Ne,(G=this.wrapper)===null||G===void 0?void 0:G.el),Ze.trigger("loaded")},te.prototype._toggleEffects=function(F){var G=F?k.on:k.off,V=this.getWindow();V&&G(V,"".concat(I.G1," resize"),this._emitUpdate)},te.prototype._emitUpdate=function(){this.model._emitUpdated()},te}(S.Z);const c=M;var d=z(5610),s=function(){var J=function(te,F){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,V){G.__proto__=V}||function(G,V){for(var le in V)Object.prototype.hasOwnProperty.call(V,le)&&(G[le]=V[le])},J(te,F)};return function(te,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function G(){this.constructor=te}J(te,F),te.prototype=F===null?Object.create(F):(G.prototype=F.prototype,new G)}}(),p=function(){return p=Object.assign||function(J){for(var te,F=1,G=arguments.length;F<G;F++)for(var V in te=arguments[F])Object.prototype.hasOwnProperty.call(te,V)&&(J[V]=te[V]);return J},p.apply(this,arguments)};const O=function(J){function te(F,G){var V=J.call(this,{model:F})||this;return(0,ie.bindAll)(V,"onScroll","frameLoaded","updateOffset","remove","startDrag"),p(p({},F.config),{frameWrapView:V}),V.cv=G,V.frame=new c(F,V),V.classAnim="".concat(V.ppfx,"frame-wrapper--anim"),V.updateOffset=(0,ie.debounce)(V.updateOffset.bind(V),0),V.updateSize=(0,ie.debounce)(V.updateSize.bind(V),0),V.listenTo(F,"loaded",V.frameLoaded),V.listenTo(F,"change:x change:y",V.updatePos),V.listenTo(F,"change:width change:height",V.updateSize),V.listenTo(F,"destroy remove",V.remove),V.updatePos(),V.setupDragger(),V}return s(te,J),te.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},te.prototype.setupDragger=function(){var F,G,V,le=this,ve=this.module,Ne=this.model,Ze=function(Me){ve.toggleFramesEvents(Me)};this.dragger=new d.Z({onStart:function(){var Me=Ne.attributes,je=Me.x,ae=Me.y;V=le.em.getZoomMultiplier(),F=je,G=ae,Ze(!1)},onEnd:function(){return Ze(!0)},setPosition:function(Me){Ne.set({x:F+Me.x*V,y:G+Me.y*V})}})},te.prototype.startDrag=function(F){var G;F&&((G=this.dragger)===null||G===void 0||G.start(F))},te.prototype.__clear=function(F){var G=this.frame;G&&G.remove(F),(0,I.L_)(this.elTools)},te.prototype.remove=function(F){var G=this;return this.__clear(F),S.Z.prototype.remove.apply(this,F),["frame","dragger","cv","elTools"].forEach(function(V){return G[V]=0}),this},te.prototype.updateOffset=function(){var F,G=this,V=G.em,le=G.$el,ve=G.frame;V&&(V.runDefault({preserveSelected:1}),le.removeClass(this.classAnim),(F=ve==null?void 0:ve.model)===null||F===void 0||F._emitUpdated())},te.prototype.updatePos=function(F){var G=this.model,V=this.el,le=G.attributes,ve=le.x,Ne=le.y,Ze=V.style;this.frame.rect=void 0,Ze.left=isNaN(ve)?ve:"".concat(ve,"px"),Ze.top=isNaN(Ne)?Ne:"".concat(Ne,"px"),F&&this.updateOffset()},te.prototype.updateSize=function(){this.updateDim()},te.prototype.updateDim=function(){var F=this,G=F.em,V=F.el,le=F.$el,ve=F.model,Ne=F.classAnim,Ze=F.frame;if(Ze){Ze.rect=void 0,le.addClass(Ne);var Me=this.__handleSize(),je=Me.noChanges,ae=Me.width,be=Me.height;((0,ie.isNull)(ae)||(0,ie.isNull)(be))&&ve.set(p(p({},ae?{}:{width:V.offsetWidth}),be?{}:{height:V.offsetHeight}),{silent:1}),G.stopDefault({preserveSelected:1}),je?this.updateOffset():setTimeout(this.updateOffset,350)}},te.prototype.onScroll=function(){var F=this.frame;this.em.trigger("frame:scroll",{frame:F,body:F.getBody(),target:F.getWindow()})},te.prototype.frameLoaded=function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},te.prototype.__handleSize=function(){var F="px",G=this.model,V=this.el.style,le=G.attributes,ve=le.width,Ne=le.height,Ze=V.width||"",Me=V.height||"",je=ve||"",ae=Ne||"",be=Ze==je&&Me==ae;return V.width=(0,ie.isNumber)(je)?"".concat(je).concat(F):je,V.height=(0,ie.isNumber)(ae)?"".concat(ae).concat(F):ae,{noChanges:be,width:ve,height:Ne,newW:je,newH:ae}},te.prototype.render=function(){var F=this,G=F.frame,V=F.$el,le=F.ppfx,ve=F.cv,Ne=F.model,Ze=F.el,Me=Ne.attributes.onRender;this.__clear(),this.__handleSize(),G.render(),V.empty().attr({class:"".concat(le,"frame-wrapper")}).append(`
      <div class="`.concat(le,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(le,`frame-wrapper__name" data-action-move>
          `).concat(Ne.get("name")||"",`
        </div>
        <div class="`).concat(le,`frame-wrapper__top-r">
          <div class="`).concat(le,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(le,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(le,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(le,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(G.el);var je=(0,I.ut)("div",{class:"".concat(le,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(le,`highlighter" data-hl></div>
      <div class="`).concat(le,`badge" data-badge></div>
      <div class="`).concat(le,`placeholder">
        <div class="`).concat(le,`placeholder-int"></div>
      </div>
      <div class="`).concat(le,`ghost"></div>
      <div class="`).concat(le,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(le,`resizer"></div>
      <div class="`).concat(le,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(le,`offset-fixed-v"></div>
    `));this.elTools=je;var ae=ve==null?void 0:ve.toolsWrapper;return ae&&ae.appendChild(je),Me&&Me({el:Ze,elTop:Ze.querySelector("[data-frame-top]"),elRight:Ze.querySelector("[data-frame-right]"),elBottom:Ze.querySelector("[data-frame-bottom]"),elLeft:Ze.querySelector("[data-frame-left]"),frame:Ne,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},te}(S.Z);var K=function(){var J=function(te,F){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,V){G.__proto__=V}||function(G,V){for(var le in V)Object.prototype.hasOwnProperty.call(V,le)&&(G[le]=V[le])},J(te,F)};return function(te,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function G(){this.constructor=te}J(te,F),te.prototype=F===null?Object.create(F):(G.prototype=F.prototype,new G)}}(),Q=function(J){function te(F,G){F===void 0&&(F={});var V=J.call(this,F,!0)||this;return V.listenTo(V.collection,"reset",V.render),V.canvasView=G.canvasView,V._module=G.module,V}return K(te,J),te.prototype.onRemoveBefore=function(F,G){G===void 0&&(G={}),F.forEach(function(V){return V.remove(G)})},te.prototype.onRender=function(){var F=this.$el,G=this.ppfx;F.attr({class:"".concat(G,"frames")})},te.prototype.renderView=function(F,G){return new O(F,this.canvasView)},te}(x);const ne=Q;var R=function(){var J=function(te,F){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,V){G.__proto__=V}||function(G,V){for(var le in V)Object.prototype.hasOwnProperty.call(V,le)&&(G[le]=V[le])},J(te,F)};return function(te,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function G(){this.constructor=te}J(te,F),te.prototype=F===null?Object.create(F):(G.prototype=F.prototype,new G)}}(),v=function(){return v=Object.assign||function(J){for(var te,F=1,G=arguments.length;F<G;F++)for(var V in te=arguments[F])Object.prototype.hasOwnProperty.call(te,V)&&(J[V]=te[V]);return J},v.apply(this,arguments)},b=function(J){function te(F){var G=J.call(this,{model:F})||this;G.ready=!1,(0,ie.bindAll)(G,"clearOff","onKeyPress","onCanvasMove"),G.className=G.pfx+"canvas";var V=G.em;return G._initFrames(),G.listenTo(V,"change:canvasOffset",G.clearOff),G.listenTo(V,"component:selected",G.checkSelected),G.listenTo(F,"change:zoom change:x change:y",G.updateFrames),G.listenTo(F,"change:frames",G._onFramesUpdate),G.toggleListeners(!0),G}return R(te,J),te.prototype.events=function(){return{wheel:"onWheel"}},te.prototype.template=function(){var F=this.pfx;return`
      <div class="`.concat(F,`canvas__frames" data-frames></div>
      <div id="`).concat(F,'tools" class="').concat(F,`canvas__tools" data-tools></div>
    `)},te.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},te.prototype._initFrames=function(){var F=this,G=F.frames,V=F.model,le=F.config,ve=F.em,Ne=V.frames;ve.set("readyCanvas",0),Ne.once("loaded:all",function(){return ve.set("readyCanvas",1)}),G==null||G.remove(),this.frames=new ne({collection:Ne},v(v({},le),{canvasView:this}))},te.prototype.checkSelected=function(F,G){var V;G===void 0&&(G={});var le=G.scroll,ve=this.em.get("currentFrame");le&&((V=F.views)===null||V===void 0||V.forEach(function(Ne){Ne._getFrame()===ve&&Ne.scrollIntoView(le)}))},te.prototype.remove=function(){for(var F,G=[],V=0;V<arguments.length;V++)G[V]=arguments[V];return(F=this.frames)===null||F===void 0||F.remove(),this.frames=void 0,S.Z.prototype.remove.apply(this,G),this.toggleListeners(!1),this},te.prototype.preventDefault=function(F){var G;F&&(F.preventDefault(),(G=F._parentEvent)===null||G===void 0||G.preventDefault())},te.prototype.onCanvasMove=function(F){},te.prototype.toggleListeners=function(F){this.el;var G=F?k.on:k.off;G(document,"keypress",this.onKeyPress),G(window,"scroll resize",this.clearOff)},te.prototype.onKeyPress=function(F){var G=this.em;(0,k.getKeyChar)(F)!==" "||G.getZoomDecimal()===1||G.get("Canvas").isInputFocused()||(this.preventDefault(F),G.get("Editor").runCommand("core:canvas-move"))},te.prototype.onWheel=function(F){if((F.ctrlKey||F.metaKey)&&this.em.getConfig().multiFrames){this.preventDefault(F);var G=this.model,V=Math.max(-1,Math.min(1,F.wheelDelta||-F.detail)),le=G.get("zoom");G.set("zoom",le+2*V)}},te.prototype.updateFrames=function(F){var G=this.em,V=this.model.attributes,le=V.x,ve=V.y,Ne=this.getZoom(),Ze={preserveSelected:1},Me=Ne?1/Ne:1;this.framesArea.style.transform="scale(".concat(Ne,") translate(").concat(le*Me,"px, ").concat(ve*Me,"px)"),this.clearOff(),G.stopDefault(Ze),G.trigger("canvas:update",F),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){return G.runDefault(Ze)},300)},te.prototype.getZoom=function(){return this.em.getZoomDecimal()},te.prototype.isElInViewport=function(F){var G=(0,k.getElement)(F),V=(0,k.getElRect)(G),le=this.getFrameOffset(G),ve=V.top,Ne=V.left;return ve>=0&&Ne>=0&&ve<=le.height&&Ne<=le.width},te.prototype.offset=function(F,G){var V,le;G===void 0&&(G={});var ve=(0,k.getElRect)(F),Ne=F==null?void 0:F.ownerDocument.body,Ze=G.noScroll;return{top:ve.top+(Ze?0:(V=Ne==null?void 0:Ne.scrollTop)!==null&&V!==void 0?V:0),left:ve.left+(Ze?0:(le=Ne==null?void 0:Ne.scrollLeft)!==null&&le!==void 0?le:0),width:ve.width,height:ve.height}},te.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},te.prototype.getFrameOffset=function(F){var G;if(!this.frmOff||F){var V=(G=this.frame)===null||G===void 0?void 0:G.el,le=F==null?void 0:F.ownerDocument.defaultView,ve=le?le.frameElement:V;this.frmOff=this.offset(ve||V)}return this.frmOff},te.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},te.prototype.getElementPos=function(F,G){G===void 0&&(G={});var V=this.getZoom(),le=G||{},ve=this.getFrameOffset(F),Ne=this.el,Ze=this.getCanvasOffset(),Me=this.offset(F,G),je=le.avoidFrameOffset?0:ve.top,ae=le.avoidFrameOffset?0:ve.left;return{top:Me.top*V+je-Ze.top+Ne.scrollTop,left:Me.left*V+ae-Ze.left+Ne.scrollLeft,height:Me.height*V,width:Me.width*V,zoom:V,rect:Me}},te.prototype.getElementOffsets=function(F){var G=this;if(!F||(0,k.isTextNode)(F))return{};var V={},le=window.getComputedStyle(F);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(ve){V[ve]=parseFloat(le[ve])*G.getZoom()}),V},te.prototype.getPosition=function(F){var G;F===void 0&&(F={});var V=(G=this.frame)===null||G===void 0?void 0:G.el.contentDocument;if(V){var le=V.body,ve=this.getZoom(),Ne=this.getFrameOffset(),Ze=this.getCanvasOffset(),Me=F.noScroll;return{top:Ne.top+(Me?0:le.scrollTop)*ve-Ze.top,left:Ne.left+(Me?0:le.scrollLeft)*ve-Ze.left,width:Ze.width,height:Ze.height}}},te.prototype.updateScript=function(F){var G=F.model,V=G.getId();F.scriptContainer||(F.scriptContainer=(0,I.ut)("div",{"data-id":V}),this.getJsContainer().appendChild(F.scriptContainer)),F.el.id=V,F.scriptContainer.innerHTML="";var le=document.createElement("script"),ve=G.getScriptString(),Ne=G.get("script-props")?ve:`function(){
`.concat(ve,`
;}`),Ze=JSON.stringify(G.__getScriptProps());le.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(V,`');
        if (!item) return;
        (`).concat(Ne,".bind(item))(").concat(Ze,`)
      }, 1);`),setTimeout(function(){var Me=F.scriptContainer;Me==null||Me.appendChild(le)},0)},te.prototype.getJsContainer=function(F){var G=this.getFrameView(F);return G&&G.getJsContainer()},te.prototype.getFrameView=function(F){return(F==null?void 0:F._getFrame())||this.em.get("currentFrame")},te.prototype._renderFrames=function(){if(this.ready){var F=this,G=F.model,V=F.frames,le=F.em,ve=F.framesArea,Ne=G.frames;Ne.listenToLoad(),V.render();var Ze=Ne.at(0),Me=Ze==null?void 0:Ze.view;le.setCurrentFrame(Me),ve==null||ve.appendChild(V.el),this.frame=Me}},te.prototype.render=function(){var F=this,G=F.el,V=F.$el,le=F.ppfx,ve=F.config,Ne=F.em;V.html(this.template());var Ze=V.find("[data-frames]");this.framesArea=Ze.get(0);var Me=V.find("[data-tools]");this.toolsWrapper=Me.get(0),Me.append(`
      <div class="`.concat(le,"tools ").concat(le,`tools-gl" style="pointer-events:none">
        <div class="`).concat(le,`placeholder">
          <div class="`).concat(le,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(le,`tools" style="pointer-events:none">
        `).concat(ve.extHl?'<div class="'.concat(le,'highlighter-sel"></div>'):"",`
        <div class="`).concat(le,`badge"></div>
        <div class="`).concat(le,`ghost"></div>
        <div class="`).concat(le,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(le,`resizer"></div>
        <div class="`).concat(le,`offset-v"></div>
        <div class="`).concat(le,`offset-fixed-v"></div>
      </div>
    `));var je=G.querySelector("#".concat(le,"tools"));return this.hlEl=G.querySelector(".".concat(le,"highlighter")),this.badgeEl=G.querySelector(".".concat(le,"badge")),this.placerEl=G.querySelector(".".concat(le,"placeholder")),this.ghostEl=G.querySelector(".".concat(le,"ghost")),this.toolbarEl=G.querySelector(".".concat(le,"toolbar")),this.resizerEl=G.querySelector(".".concat(le,"resizer")),this.offsetEl=G.querySelector(".".concat(le,"offset-v")),this.fixedOffsetEl=G.querySelector(".".concat(le,"offset-fixed-v")),this.toolsGlobEl=G.querySelector(".".concat(le,"tools-gl")),this.toolsEl=je,this.el.className=(0,k.getUiClass)(Ne,this.className),this.ready=!0,this._renderFrames(),this},te}(S.Z);const a=b;var f=function(){var J=function(te,F){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,V){G.__proto__=V}||function(G,V){for(var le in V)Object.prototype.hasOwnProperty.call(V,le)&&(G[le]=V[le])},J(te,F)};return function(te,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function G(){this.constructor=te}J(te,F),te.prototype=F===null?Object.create(F):(G.prototype=F.prototype,new G)}}(),h=function(){return h=Object.assign||function(J){for(var te,F=1,G=arguments.length;F<G;F++)for(var V in te=arguments[F])Object.prototype.hasOwnProperty.call(te,V)&&(J[V]=te[V]);return J},h.apply(this,arguments)},_=function(J,te,F){if(F||arguments.length===2)for(var G,V=0,le=te.length;V<le;V++)!G&&V in te||(G||(G=Array.prototype.slice.call(te,0,V)),G[V]=te[V]);return J.concat(G||Array.prototype.slice.call(te))};const A=function(J){function te(F){var G=J.call(this,F,"Canvas",$)||this;return G.canvas=new m(G),G.model=G.canvas,G.startAutoscroll=G.startAutoscroll.bind(G),G.stopAutoscroll=G.stopAutoscroll.bind(G),G}return f(te,J),te.prototype.getCanvasView=function(){return this.canvasView},te.prototype.init=function(){},te.prototype.onLoad=function(){this.model.init()},te.prototype.getModel=function(){return this.canvas},te.prototype.getElement=function(){return this.getCanvasView().el},te.prototype.getFrame=function(F){return this.getFrames()[F||0]},te.prototype.getFrameEl=function(){var F=(this.canvasView||{}).frame;return F==null?void 0:F.el},te.prototype.getFramesEl=function(){var F;return(F=this.canvasView)===null||F===void 0?void 0:F.framesArea},te.prototype.getWindow=function(){var F=(this.canvasView||{}).frame;return F==null?void 0:F.getWindow()},te.prototype.getDocument=function(){var F=this.getFrameEl();return F==null?void 0:F.contentDocument},te.prototype.getBody=function(){var F=this.getDocument();return F==null?void 0:F.body},te.prototype._getLocalEl=function(F,G,V){var le=F,ve=G==null?void 0:G._getFrame();return le=ve?ve[V]():le},te.prototype.getGlobalToolsEl=function(){var F;return(F=this.canvasView)===null||F===void 0?void 0:F.toolsGlobEl},te.prototype.getToolsEl=function(F){return this._getLocalEl(this.getCanvasView().toolsEl,F,"getToolsEl")},te.prototype.getHighlighter=function(F){return this._getLocalEl(this.getCanvasView().hlEl,F,"getHighlighter")},te.prototype.getBadgeEl=function(F){return this._getLocalEl(this.getCanvasView().badgeEl,F,"getBadgeEl")},te.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},te.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},te.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},te.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},te.prototype.getOffsetViewerEl=function(F){return this._getLocalEl(this.getCanvasView().offsetEl,F,"getOffsetViewerEl")},te.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},te.prototype.render=function(){var F;return(F=this.canvasView)===null||F===void 0||F.remove(),this.canvasView=new a(this.canvas),this.canvasView.render().el},te.prototype.getOffset=function(){var F=this.offset(this.getFrameEl()),G=this.offset(this.getElement());return{top:F.top-G.top,left:F.left-G.left}},te.prototype.offset=function(F){return this.getCanvasView().offset(F)},te.prototype.setCustomBadgeLabel=function(F){this.config.customBadgeLabel=F},te.prototype.getElementPos=function(F,G){return this.getCanvasView().getElementPos(F,G)},te.prototype.getElementOffsets=function(F){return this.getCanvasView().getElementOffsets(F)},te.prototype.getRect=function(){var F,G=(F=this.getCanvasView().getPosition())!==null&&F!==void 0?F:{},V=G.top,le=V===void 0?0:V,ve=G.left,Ne=ve===void 0?0:ve;return h(h({},this.getCanvasView().getCanvasOffset()),{topScroll:le,leftScroll:Ne})},te.prototype.getTargetToElementDim=function(F,G,V){V===void 0&&(V={});var le=V||{},ve=this.getCanvasView().getPosition();if(ve){var Ne=le.elPos||this.getCanvasView().getElementPos(G),Ze=V.toRight||0,Me=le.targetHeight||F.offsetHeight,je=le.targetWidth||F.offsetWidth,ae=le.event||null,be=Ne.top-Me,re=Ne.left;re+=Ze?Ne.width:0;var Te=(re=Ze?re-je:re)<ve.left?ve.left:re,Re=be<ve.top?ve.top:be,Fe={top:Re=Re>Ne.top+Ne.height?Ne.top+Ne.height:Re,left:Te,elementTop:Ne.top,elementLeft:Ne.left,elementWidth:Ne.width,elementHeight:Ne.height,targetWidth:F.offsetWidth,targetHeight:F.offsetHeight,canvasTop:ve.top,canvasLeft:ve.left,canvasWidth:ve.width,canvasHeight:ve.height};return ae&&this.em&&this.em.trigger(ae,Fe),Fe}},te.prototype.canvasRectOffset=function(F,G,V){var le=this;V===void 0&&(V={});var ve=function(Ne,Ze,Me){Ze===void 0&&(Ze=1);var je=le.em.getZoomDecimal(),ae=Ze?"top":"left",be=Ne.ownerDocument,re=V.offset?function(st){var Ve=st.defaultView;return Ve==null?void 0:Ve.frameElement}(be):{},Te=re.offsetTop,Re=Te===void 0?0:Te,Fe=re.offsetLeft,it=Fe===void 0?0:Fe,lt=be.body||{},St=lt.scrollTop,Ut=St===void 0?0:St,Xt=lt.scrollLeft,Dt=Ze?Ut:Xt===void 0?0:Xt,ot=Ze?Re:it;return Me[ae]-(Dt-ot)*je};return{top:ve(F,1,G),left:ve(F,0,G)}},te.prototype.getTargetToElementFixed=function(F,G,V){var le;V===void 0&&(V={});var ve=V.pos||this.getElementPos(F),Ne=V.canvasOff||this.canvasRectOffset(F,ve),Ze=G.offsetHeight||0,Me=G.offsetWidth||0,je=ve.left+ve.width,ae=this.getCanvasView(),be=ae.getPosition(),re=ae.getFrameOffset(F),Te=V.event,Re=-Ze,Fe=(0,ie.isUndefined)(V.left)?ve.width-Me:V.left;Fe=ve.left<-Fe?-ve.left:Fe;var it=(le=be==null?void 0:be.width)!==null&&le!==void 0?le:0;Fe=je>it?Fe-(je-it):Fe;var lt=ve.height+Ze,St=lt<re.height;Ne.top<Ze&&(St?Re+=lt:Re=-Ne.top<ve.height?-Ne.top:ve.height);var Ut={top:Re,left:Fe,canvasOffsetTop:Ne.top,canvasOffsetLeft:Ne.left};return Te&&this.em.trigger(Te,Ut),Ut},te.prototype.getMouseRelativePos=function(F,G){G===void 0&&(G={});var V=0,le=0,ve=G.subWinOffset,Ne=F.target.ownerDocument,Ze=Ne.defaultView||Ne.parentWindow,Me=Ze.frameElement,je=ve?Ze.pageYOffset:0,ae=ve?Ze.pageXOffset:0;if(Me){var be=Me.getBoundingClientRect();V=be.top||0,le=be.left||0}return{y:F.clientY+V-je,x:F.clientX+le-ae}},te.prototype.getMouseRelativeCanvas=function(F,G){var V,le=this.getZoomDecimal(),ve=(V=this.getCanvasView().getPosition(G))!==null&&V!==void 0?V:{},Ne=ve.top,Ze=Ne===void 0?0:Ne,Me=ve.left,je=Me===void 0?0:Me;return{y:F.clientY*le+Ze,x:F.clientX*le+je}},te.prototype.hasFocus=function(){return this.getDocument().hasFocus()},te.prototype.isInputFocused=function(){var F=this.getDocument(),G=this.getFrameEl(),V=_(["body"],this.config.notTextable,!0),le=G&&document.activeElement===G?F&&F.activeElement:document.activeElement;return le&&!V.some(function(ve){return le.matches(ve)})},te.prototype.scrollTo=function(F,G){G===void 0&&(G={});var V=(0,k.getElement)(F),le=V&&(0,k.getViewEl)(V);le&&le.scrollIntoView(G)},te.prototype.startAutoscroll=function(F){var G=F&&F.view||this.em.getCurrentFrame();G&&G.startAutoscroll()},te.prototype.stopAutoscroll=function(F){var G=F&&F.view||this.em.getCurrentFrame();G&&G.stopAutoscroll()},te.prototype.setZoom=function(F){return this.canvas.set("zoom",parseFloat(F)),this},te.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},te.prototype.setCoords=function(F,G){return this.canvas.set({x:parseFloat(F),y:parseFloat(G)}),this},te.prototype.getCoords=function(){var F=this.canvas.attributes;return{x:F.x,y:F.y}},te.prototype.getZoomDecimal=function(){return this.getZoom()/100},te.prototype.getZoomMultiplier=function(){var F=this.getZoomDecimal();return F?1/F:1},te.prototype.toggleFramesEvents=function(F){this.getFramesEl().style.pointerEvents=F?"":"none"},te.prototype.getFrames=function(){return this.canvas.frames.map(function(F){return F})},te.prototype.addFrame=function(F,G){return F===void 0&&(F={}),G===void 0&&(G={}),this.canvas.frames.add(new g.Z(this,h({},F)),G)},te.prototype.destroy=function(){var F,G=this;this.canvas.stopListening(),(F=this.canvasView)===null||F===void 0||F.remove(),["model","droppable"].forEach(function(V){return G[V]={}})},te}(w.Z)},6840:(ge,_e,z)=>{z.d(_e,{Z:()=>C});var ie,w=z(9050),k=z(7904),$=z(1163),D=(ie=function(y,m){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(g[I]=S[I])},ie(y,m)},function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=y}ie(y,m),y.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}),q=function(){return q=Object.assign||function(y){for(var m,g=1,S=arguments.length;g<S;g++)for(var I in m=arguments[g])Object.prototype.hasOwnProperty.call(m,I)&&(y[I]=m[I]);return y},q.apply(this,arguments)},l=function(y,m,g){if(g||arguments.length===2)for(var S,I=0,H=m.length;I<H;I++)!S&&I in m||(S||(S=Array.prototype.slice.call(m,0,I)),S[I]=m[I]);return y.concat(S||Array.prototype.slice.call(m))},P="__aw",N="__ah";const C=function(y){function m(g,S){var I=y.call(this,g,S)||this,H=I.em,X=I.attributes,Y=X.styles,x=X.component,W=H.get("DomComponents"),oe=W.getConfig(),se=H.get("CssComposer").getAll(),Z={},B={em:H,config:oe,frame:I,idMap:Z};if(!(0,$.isComponent)(x)){var T=(0,$.isObject)(x)?x:{components:x};!T.type&&(T.type="wrapper");var j=W.getType("wrapper").model;I.set("component",new j(T,B))}return Y?(0,$.isObject)(Y)||(Object.keys(Z).length&&Array.isArray(Y)&&Y.forEach(function(U){var E=U.selectors;if(E&&E.length==1){var M=E[0],c=M.name&&M.type===2&&M;if(c&&Z[c.name])c.name=Z[c.name];else if((0,w.isString)(M)&&M[0]==="#"){var d=M.substring(1);d&&Z[d]&&(E[0]="#".concat(Z[d]))}}}),se.add(Y),I.set("styles",se)):I.set("styles",se),!S.width&&I.set(P,1),!S.height&&I.set(N,1),I}return D(m,y),m.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(m.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),m.prototype.onRemove=function(){this.getComponent().remove({root:1})},m.prototype.changesUp=function(g){g===void 0&&(g={}),g.temporary||g.noCount||g.avoidStore||this.set("changesCount",this.get("changesCount")+1)},m.prototype.getComponent=function(){return this.get("component")},m.prototype.getStyles=function(){return this.get("styles")},m.prototype.disable=function(){this.trigger("disable")},m.prototype.remove=function(){this.view=void 0;var g=this.collection;return g&&g.remove(this)},m.prototype.getHead=function(){return l([],this.head,!0)},m.prototype.setHead=function(g){return this.set("head",l([],g,!0))},m.prototype.addHeadItem=function(g){this.head.push(g)},m.prototype.getHeadByAttr=function(g,S,I){return this.head.filter(function(H){return H.attributes&&H.attributes[g]==S&&(!I||I===H.tag)})[0]},m.prototype.removeHeadByAttr=function(g,S,I){var H=this.getHeadByAttr(g,S,I),X=this.head.indexOf(H);X>=0&&this.head.splice(X,1)},m.prototype.addLink=function(g){var S="link";!this.getHeadByAttr("href",g,S)&&this.addHeadItem({tag:S,attributes:{href:g,rel:"stylesheet"}})},m.prototype.removeLink=function(g){this.removeHeadByAttr("href",g,"link")},m.prototype.addScript=function(g){var S="script";!this.getHeadByAttr("src",g,S)&&this.addHeadItem({tag:S,attributes:{src:g}})},m.prototype.removeScript=function(g){this.removeHeadByAttr("src",g,"script")},m.prototype.getPage=function(){var g;return(g=this.collection)===null||g===void 0?void 0:g.page},m.prototype._emitUpdated=function(g){g===void 0&&(g={}),this.em.trigger("frame:updated",q({frame:this},g))},m.prototype.toJSON=function(g){g===void 0&&(g={});var S=k.Z.prototype.toJSON.call(this,g),I=(0,w.result)(this,"defaults");return g.fromUndo&&delete S.component,delete S.styles,delete S.changesCount,S[P]&&delete S.width,S[N]&&delete S.height,(0,w.forEach)(S,function(H,X){X.indexOf("_")===0&&delete S[X]}),(0,w.forEach)(I,function(H,X){S[X]===H&&delete S[X]}),(0,w.forEach)(["attributes","head"],function(H){(0,w.isEmpty)(S[H])&&delete S[H]}),S},m}(k.Z)},3560:(ge,_e,z)=>{z.d(_e,{Z:()=>q});var ie,w=z(9050),k=z(7116),$=z(6840),D=(ie=function(l,P){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,C){N.__proto__=C}||function(N,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(N[y]=C[y])},ie(l,P)},function(l,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function N(){this.constructor=l}ie(l,P),l.prototype=P===null?Object.create(P):(N.prototype=P.prototype,new N)});const q=function(l){function P(N,C){C===void 0&&(C=[]);var y=l.call(this,N,C,$.Z)||this;return y.loadedItems=0,y.itemsToLoad=0,(0,w.bindAll)(y,"itemLoaded"),y.on("reset",y.onReset),y.on("remove",y.onRemove),y}return D(P,l),P.prototype.onReset=function(N,C){var y=this;((C==null?void 0:C.previousModels)||[]).map(function(m){return y.onRemove(m)})},P.prototype.onRemove=function(N){N==null||N.onRemove()},P.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},P.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},P.prototype.listenToLoadItems=function(N){var C=this;this.forEach(function(y){return y[N?"on":"off"]("loaded",C.itemLoaded)})},P}(k.Z)},5819:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>dn});var ie=z(9050);const w={stylePrefix:"comp-",components:[],draggableComponents:1,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var k=z(9138),$=z(8431),D=z(2169),q=z(5671),l=z(3144),P=z(9340),N=z(2963),C=z(1120);function y(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var m=function(Xe){(0,P.Z)(fe,Xe);var tt=y(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"tagName",value:function(){return"div"}}]),fe}(D.Z),g=z(3505),S=z(4942),I=z(1752),H=z(1163);function X(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Y(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?X(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):X(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function x(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var W=function(Xe){(0,P.Z)(fe,Xe);var tt=x(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return Y(Y({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:"cell",tagName:"td",draggable:["tr"]})}}]),fe}(k.ZP);W.isComponent=function(Xe){return["td","th"].indexOf((0,H.toLowerCase)(Xe.tagName))>=0};const oe=D.Z.extend({});function se(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Z(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?se(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):se(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function B(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var T="tr",j=function(Xe){(0,P.Z)(fe,Xe);var tt=B(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return Z(Z({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{tagName:T,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})}}]),fe}(k.ZP);j.isComponent=function(Xe){return(0,H.toLowerCase)(Xe.tagName)===T};const U=D.Z.extend({});function E(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function M(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?E(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):E(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function c(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var d="table",s=function(Xe){(0,P.Z)(fe,Xe);var tt=c(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return M(M({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:d,tagName:d,droppable:["tbody","thead","tfoot"]})}},{key:"initialize",value:function(me,de){k.ZP.prototype.initialize.apply(this,arguments);var Ee=this.get("components");!Ee.length&&Ee.add({type:"tbody"})}}]),fe}(k.ZP);s.isComponent=function(Xe){return(0,H.toLowerCase)(Xe.tagName)===d};const p=D.Z.extend({events:{}});function O(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function K(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?O(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):O(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function Q(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var ne="tbody",R=function(Xe){(0,P.Z)(fe,Xe);var tt=Q(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return K(K({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:ne,tagName:ne,draggable:["table"],droppable:["tr"],columns:1,rows:1})}},{key:"initialize",value:function(me,de){k.ZP.prototype.initialize.apply(this,arguments);var Ee=this.get("components"),Ye=this.get("columns"),Ot=this.get("rows");if(!Ee.length){for(var Rt=[];Ot--;){for(var Vt=[],Ft=Ye;Ft--;)Vt.push({type:"cell",classes:["cell"]});Rt.push({type:"row",classes:["row"],components:Vt})}Ee.add(Rt)}}}]),fe}(k.ZP);function v(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function b(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?v(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):v(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function a(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}R.isComponent=function(Xe){return(0,H.toLowerCase)(Xe.tagName)===ne};var f="thead",h=function(Xe){(0,P.Z)(fe,Xe);var tt=a(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return b(b({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:f,tagName:f})}}]),fe}(R);h.isComponent=function(Xe){return(0,H.toLowerCase)(Xe.tagName)===f};const _=D.Z.extend({});function A(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var J=function(Xe){(0,P.Z)(fe,Xe);var tt=A(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe)}(D.Z);function te(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function F(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?te(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):te(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function G(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var V="tfoot",le=function(Xe){(0,P.Z)(fe,Xe);var tt=G(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return F(F({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:V,tagName:V})}}]),fe}(R);le.isComponent=function(Xe){return(0,H.toLowerCase)(Xe.tagName)===V};const ve=D.Z.extend({});function Ne(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Ze(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?Ne(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):Ne(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function Me(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var je='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',ae=function(Xe){(0,P.Z)(fe,Xe);var tt=Me(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return Ze(Ze({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(je,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(je,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})}},{key:"initialize",value:function(me,de){k.ZP.prototype.initialize.apply(this,arguments);var Ee=this.get("attributes"),Ye=Ee.src;Ye&&(0,H.buildBase64UrlFromSvg)((0,ie.result)(this,"defaults").src)!==Ye&&this.set("src",Ye,{silent:1})}},{key:"initToolbar",value:function(){for(var me=arguments.length,de=new Array(me),Ee=0;Ee<me;Ee++)de[Ee]=arguments[Ee];k.ZP.prototype.initToolbar.apply(this,de);var Ye=this.em;if(Ye){var Ot=Ye.get("Commands"),Rt="image-editor";if(Ot.has(Rt)){for(var Vt=!1,Ft=this.get("toolbar"),Zt=0;Zt<Ft.length;Zt++)if(Ft[Zt].command==="image-editor"){Vt=!0;break}Vt||(Ft.push({attributes:{class:"fa fa-pencil"},command:Rt}),this.set("toolbar",Ft))}}}},{key:"getAttrToHTML",value:function(){for(var me=arguments.length,de=new Array(me),Ee=0;Ee<me;Ee++)de[Ee]=arguments[Ee];var Ye=k.ZP.prototype.getAttrToHTML.apply(this,de),Ot=this.getSrcResult();return Ot&&(Ye.src=Ot),Ye}},{key:"getSrcResult",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},de=this.get(me.fallback?"fallback":"src")||"",Ee=de;return de&&de.substr(0,4)==="<svg"&&(Ee=(0,H.buildBase64UrlFromSvg)(de)),Ee}},{key:"isDefaultSrc",value:function(){var me=this.get("src"),de=(0,ie.result)(this,"defaults").src;return me===de||me===(0,H.buildBase64UrlFromSvg)(de)}},{key:"toJSON",value:function(){for(var me=arguments.length,de=new Array(me),Ee=0;Ee<me;Ee++)de[Ee]=arguments[Ee];var Ye=k.ZP.prototype.toJSON.apply(this,de);return Ye.attributes&&Ye.src===Ye.attributes.src&&delete Ye.src,Ye}},{key:"parseUri",value:function(me){var de={};if((0,H.hasWin)())(de=document.createElement("a")).href=me;else if(typeof URL<"u")try{de=new URL(me)}catch{}return{hostname:de.hostname||"",pathname:de.pathname||"",protocol:de.protocol||"",search:de.search||"",hash:de.hash||"",port:de.port||"",query:function(){for(var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Ye={},Ot=Ee.substring(1).split("&"),Rt=0;Rt<Ot.length;Rt++){var Vt=Ot[Rt].split("="),Ft=decodeURIComponent(Vt[0]);Ft&&(Ye[Ft]=decodeURIComponent(Vt[1]||""))}return Ye}(de.search)}}}]),fe}(k.ZP);function be(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function re(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?be(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):be(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function Te(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}ae.isComponent=function(Xe){return(0,H.toLowerCase)(Xe.tagName)==="img"};var Re=function(Xe){(0,P.Z)(fe,Xe);var tt=Te(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return re(re({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this).toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]})}},{key:"initialize",value:function(me,de){this.get("src")?this.parseFromSrc():this.updateSrc(),ae.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)}},{key:"updateSrc",value:function(){this.set("src",this.getMapUrl())}},{key:"getMapUrl",value:function(){var me=this,de=me.get("address"),Ee=me.get("zoom"),Ye=me.get("mapType");de=de?"&q="+de:"",Ee=Ee?"&z="+Ee:"",Ye=Ye?"&t="+Ye:"";var Ot=me.get("mapUrl")+"?"+de+Ee+Ye;return Ot+="&output=embed"}},{key:"parseFromSrc",value:function(){var me=this.parseUri(this.get("src")).query;me.q&&this.set("address",me.q),me.z&&this.set("zoom",me.z),me.t&&this.set("mapType",me.t)}}]),fe}(ae);function Fe(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}Re.isComponent=function(Xe){var tt="";return(0,H.toLowerCase)(Xe.tagName)=="iframe"&&/maps\.google\.com/.test(Xe.src)&&(tt={type:"map",src:Xe.src}),tt};var it=function(Xe){(0,P.Z)(fe,Xe);var tt=Fe(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"tagName",value:function(){return"img"}},{key:"events",value:function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}}},{key:"initialize",value:function(me){D.Z.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()}},{key:"fetchFile",value:function(){if(!this.modelOpt.temporary){var me=this.model,de=this.em,Ee=me.get("file");if(Ee&&de){var Ye=de.get("AssetManager").FileUploader();Ye==null||Ye.uploadFile({dataTransfer:{files:[Ee]}},function(Ot){var Rt=Ot&&Ot.data&&Ot.data[0],Vt=Rt&&((0,ie.isString)(Rt)?Rt:Rt.src);Vt&&me.set({src:Vt})}),me.set("file","")}}}},{key:"updateSrc",value:function(){var me=this.model,de=this.classEmpty,Ee=this.$el,Ye=me.getSrcResult(),Ot=Ye&&!me.isDefaultSrc();me.addAttributes({src:Ye}),Ee[Ot?"removeClass":"addClass"](de)}},{key:"onActive",value:function(me){me&&me.stopPropagation();var de=this.em,Ee=this.model,Ye=de&&de.get("AssetManager");Ye&&Ee.get("editable")&&Ye.open({select:function(Ot,Rt){Ee.set({src:Ot.getSrc()}),Rt&&Ye.close()},target:Ee,types:["image"],accept:"image/*"})}},{key:"onError",value:function(){var me=this.model.getSrcResult({fallback:1});me&&(this.el.src=me)}},{key:"onLoad",value:function(){this.em.trigger("change:canvasOffset")}},{key:"noDrag",value:function(me){return me.preventDefault(),!1}},{key:"render",value:function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var me=this.$el,de=this.model,Ee=me.attr("class")||"";return!de.get("src")&&me.attr("class","".concat(Ee," ").concat(this.classEmpty).trim()),this.postRender(),this}}]),fe}(D.Z);function lt(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var St=function(Xe){(0,P.Z)(fe,Xe);var tt=lt(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(me){it.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"}},{key:"updateSrc",value:function(){this.getIframe().src=this.model.get("src")}},{key:"getIframe",value:function(){if(!this.iframe){var me=document.createElement("iframe");me.src=this.model.get("src"),me.frameBorder=0,me.style.height="100%",me.style.width="100%",me.className=this.ppfx+"no-pointer",this.iframe=me}return this.iframe}},{key:"render",value:function(){for(var me=arguments.length,de=new Array(me),Ee=0;Ee<me;Ee++)de[Ee]=arguments[Ee];return it.prototype.render.apply(this,de),this.updateClasses(),this.el.appendChild(this.getIframe()),this}}]),fe}(it);function Ut(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Xt(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?Ut(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):Ut(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function Dt(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var ot=function(Xe){(0,P.Z)(fe,Xe);var tt=Dt(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return Xt(Xt({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:"text",droppable:!1,editable:!0})}}]),fe}(k.ZP);function st(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Ve(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?st(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):st(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function Ge(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var dt="link",We=function(Xe){(0,P.Z)(fe,Xe);var tt=Ge(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return Ve(Ve({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:dt,tagName:"a",traits:["title","href","target"]})}}]),fe}(ot);We.isComponent=function(Xe){var tt,fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,H.toLowerCase)(Xe.tagName)==="a"){var me=fe.textTags||[];tt={type:dt,editable:!1};var de=Xe.childNodes,Ee=de.length;Ee||delete tt.editable,(0,ie.forEach)(de,function(Ye){var Ot=Ye.tagName;(Ye.nodeType==3&&Ye.textContent.trim()!==""||Ot&&me.indexOf((0,H.toLowerCase)(Ot))>=0)&&delete tt.editable})}return tt};var mt=z(5861),Ke=z(4687),gt=z.n(Ke);function vt(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Ct(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?vt(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):vt(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function It(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var Nt=D.Z.prototype,sn=function(Xe){(0,P.Z)(de,Xe);var tt,fe,me=It(de);function de(){return(0,q.Z)(this,de),me.apply(this,arguments)}return(0,l.Z)(de,[{key:"events",value:function(){return{dblclick:"onActive",input:"onInput"}}},{key:"initialize",value:function(Ee){Nt.initialize.apply(this,arguments),(0,ie.bindAll)(this,"disableEditing","onDisable");var Ye=this.model,Ot=this.em;this.listenTo(Ye,"focus",this.onActive),this.listenTo(Ye,"change:content",this.updateContentText),this.listenTo(Ye,"sync:content",this.syncContent),this.rte=Ot&&Ot.get("RichTextEditor")}},{key:"updateContentText",value:function(Ee,Ye){var Ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!Ot.fromDisable&&this.disableEditing()}},{key:"canActivate",value:function(){var Ee,Ye=this.model,Ot=this.rteEnabled,Rt=this.em,Vt=(Rt==null?void 0:Rt.getEditing())===Ye,Ft=!0,Zt=!1;if((Ot||!Ye.get("editable")||Vt||(Zt=Ye.isChildOf("text")))&&(Ft=!1,Zt&&!Ye.get("textable"))){for(var At=Ye.parent();At&&!At.isInstanceOf("text");)At=At.parent();At&&At.get("editable")?Ee=At:Ft=!0}return{result:Ft,delegate:Ee}}},{key:"onActive",value:(fe=(0,mt.Z)(gt().mark(function Ee(Ye){var Ot,Rt,Vt,Ft,Zt,At,Lt;return gt().wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:if(Rt=this.rte,Vt=this.em,Ft=this.canActivate(),Zt=Ft.result,At=Ft.delegate,Zt){Gt.next=5;break}return At&&(Ye==null||(Lt=Ye.stopPropagation)===null||Lt===void 0||Lt.call(Ye),Vt.setSelected(At),At.trigger("active",Ye)),Gt.abrupt("return");case 5:if(Ye==null||(Ot=Ye.stopPropagation)===null||Ot===void 0||Ot.call(Ye),this.lastContent=this.getContent(),!Rt){Gt.next=17;break}return Gt.prev=8,Gt.next=11,Rt.enable(this,this.activeRte,{event:Ye});case 11:this.activeRte=Gt.sent,Gt.next=17;break;case 14:Gt.prev=14,Gt.t0=Gt.catch(8),Vt.logError(Gt.t0);case 17:this.toggleEvents(1);case 18:case"end":return Gt.stop()}},Ee,this,[[8,14]])})),function(Ee){return fe.apply(this,arguments)})},{key:"onDisable",value:function(){this.disableEditing()}},{key:"disableEditing",value:(tt=(0,mt.Z)(gt().mark(function Ee(){var Ye,Ot,Rt,Vt,Ft,Zt,At=arguments;return gt().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:if(Ye=At.length>0&&At[0]!==void 0?At[0]:{},Ot=this.model,Rt=this.rte,Vt=this.activeRte,Ft=this.em,Zt=Ot&&Ot.get("editable"),!Rt){Lt.next=13;break}return Lt.prev=4,Lt.next=7,Rt.disable(this,Vt);case 7:Lt.next=12;break;case 9:Lt.prev=9,Lt.t0=Lt.catch(4),Ft.logError(Lt.t0);case 12:Zt&&this.getContent()!==this.lastContent&&(this.syncContent(Ye),this.lastContent="");case 13:this.toggleEvents();case 14:case"end":return Lt.stop()}},Ee,this,[[4,9]])})),function(){return tt.apply(this,arguments)})},{key:"getContent",value:function(){var Ee=this.activeRte;return Ee&&typeof Ee.getContent=="function"?Ee.getContent():this.getChildrenContainer().innerHTML}},{key:"syncContent",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ye=this.model,Ot=this.rte,Rt=this.rteEnabled;if(Rt||Ee.force){var Vt=this.getContent(),Ft=Ye.components(),Zt=Ct({fromDisable:1},Ee);Ye.set("content","",Zt),Ot.customRte?(Ft.length&&Ft.reset(null,Ee),Ye.set("content",Vt,Zt)):Ft.resetFromString(Vt,Ee)}}},{key:"insertComponent",value:function(Ee){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ot=this.model,Rt=this.el,Vt=Rt.ownerDocument,Ft=Vt.getSelection();if(Ft!=null&&Ft.rangeCount){var Zt,At=Ft.getRangeAt(0),Lt=At.startContainer,Gt=At.startOffset,vn=(0,H.getModel)(Lt),En=[];if(vn&&(Zt=vn.is)!==null&&Zt!==void 0&&Zt.call(vn,"textnode")){var Jn=vn.collection;Jn.forEach(function(De){if(De===vn){var un="textnode",An=De.get("content");En.push({type:un,content:An.slice(0,Gt)}),En.push(Ee),En.push({type:un,content:An.slice(Gt)})}else En.push(De)});var ye=En.filter(Boolean),Pe=ye.indexOf(Ee);return Jn.reset(ye,Ye),Jn.at(Pe)}}return Ot.append(Ee,Ye)}},{key:"onInput",value:function(){var Ee=this.em,Ye="component",Ot=["".concat(Ye,":update"),"".concat(Ye,":input")].join(" ");Ee&&Ee.trigger(Ot,this.model)}},{key:"disablePropagation",value:function(Ee){Ee.stopPropagation()}},{key:"toggleEvents",value:function(Ee){var Ye=this.em,Ot=this.model,Rt=this.$el,Vt={on:H.on,off:H.off},Ft=Ee?"on":"off";Ye.setEditing(Ee?this:0),this.rteEnabled=!!Ee;var Zt=[this.el.ownerDocument,document];if(Vt.off(Zt,"mousedown",this.onDisable),Vt[Ft](Zt,"mousedown",this.onDisable),Ye[Ft]("toolbar:run:before",this.onDisable),Ot&&(Ot[Ft]("removed",this.onDisable),Ot.trigger("rte:".concat(Ee?"enable":"disable"))),Rt&&Rt.off("mousedown",this.disablePropagation),Rt&&Rt[Ft]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var At=this.el;At;)At.draggable=!Ee,(At=At.parentNode)&&At.tagName=="BODY"&&(At=0)}}]),de}(D.Z);function mn(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var hn=function(Xe){(0,P.Z)(fe,Xe);var tt=mn(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"render",value:function(){for(var me=arguments.length,de=new Array(me),Ee=0;Ee<me;Ee++)de[Ee]=arguments[Ee];return sn.prototype.render.apply(this,de),this.el.addEventListener("click",this.prevDef,!0),this}}]),fe}(sn);function fn(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function pn(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?fn(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):fn(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function Qt(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var rn="label",nn=function(Xe){(0,P.Z)(fe,Xe);var tt=Qt(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return pn(pn({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:rn,tagName:rn,traits:["id","title","for"]})}}]),fe}(ot);function wn(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}nn.isComponent=function(Xe){return(0,H.toLowerCase)(Xe.tagName)===rn};var Bn=function(Xe){(0,P.Z)(fe,Xe);var tt=wn(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"tagName",value:function(){return"span"}}]),fe}(hn);function Hn(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Zn(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?Hn(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):Hn(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function Fn(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var xn="video",Nn="yt",Vn="vi",Sn="ytnc",ln=function(Xe){return Xe&&Xe!=="0"},ze=function(Xe){(0,P.Z)(fe,Xe);var tt=Fn(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return Zn(Zn({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:xn,tagName:xn,videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})}},{key:"initialize",value:function(me,de){this.em=de.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),ae.prototype.initialize.apply(this,arguments)}},{key:"updateTraits",value:function(){var me,de=this.em,Ee="iframe";switch(this.get("provider")){case Nn:case Sn:me=this.getYoutubeTraits();break;case Vn:me=this.getVimeoTraits();break;default:Ee="video",me=this.getSourceTraits()}this.set({tagName:Ee},{silent:1}),this.set({traits:me}),de.get("ready")&&de.trigger("component:toggled")}},{key:"parseFromSrc",value:function(){var me=this.get("provider"),de=this.parseUri(this.get("src")),Ee=de.query;switch(me){case Nn:case Sn:case Vn:this.set("videoId",de.pathname.split("/").pop()),Ee.list&&this.set("list",Ee.list),ln(Ee.autoplay)&&this.set("autoplay",1),ln(Ee.loop)&&this.set("loop",1),parseInt(Ee.controls)===0&&this.set("controls",0),ln(Ee.color)&&this.set("color",Ee.color),Ee.rel==="0"&&this.set("rel",0),Ee.modestbranding==="1"&&this.set("modestbranding",1)}}},{key:"updateSrc",value:function(){var me="";switch(this.get("provider")){case Nn:me=this.getYoutubeSrc();break;case Sn:me=this.getYoutubeNoCookieSrc();break;case Vn:me=this.getVimeoSrc()}this.set({src:me})}},{key:"getAttrToHTML",value:function(){for(var me=arguments.length,de=new Array(me),Ee=0;Ee<me;Ee++)de[Ee]=arguments[Ee];var Ye=ae.prototype.getAttrToHTML.apply(this,de),Ot=this.get("provider");switch(Ot){case Nn:case Sn:case Vn:break;default:this.get("loop")&&(Ye.loop="loop"),this.get("autoplay")&&(Ye.autoplay="autoplay"),this.get("controls")&&(Ye.controls="controls")}return Ye}},{key:"getProviderTrait",value:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:Nn,name:"Youtube"},{value:Sn,name:"Youtube (no cookie)"},{value:Vn,name:"Vimeo"}]}}},{key:"getSourceTraits",value:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]}},{key:"getYoutubeTraits",value:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]}},{key:"getVimeoTraits",value:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]}},{key:"getAutoplayTrait",value:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}}},{key:"getLoopTrait",value:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}}},{key:"getControlsTrait",value:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}}},{key:"getYoutubeSrc",value:function(){var me=this.get("videoId"),de=this.get("ytUrl"),Ee=this.get("list");return de+=me+(me.indexOf("?")<0?"?":""),de+=Ee?"&list=".concat(Ee):"",de+=this.get("autoplay")?"&autoplay=1":"",de+=this.get("controls")?"":"&controls=0&showinfo=0",de+=this.get("loop")?"&loop=1&playlist=".concat(me):"",de+=this.get("rel")?"":"&rel=0",de+=this.get("modestbranding")?"&modestbranding=1":""}},{key:"getYoutubeNoCookieSrc",value:function(){var me=this.getYoutubeSrc();return me=me.replace(this.get("ytUrl"),this.get("ytncUrl"))}},{key:"getVimeoSrc",value:function(){var me=this.get("viUrl");return me+=this.get("videoId")+"?",me+=this.get("autoplay")?"&autoplay=1":"",me+=this.get("loop")?"&loop=1":"",me+=this.get("controls")?"":"&title=0&portrait=0&badge=0",me+=this.get("color")?"&color="+this.get("color"):""}}]),fe}(ae);function bn(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}ze.isComponent=function(Xe){var tt="",fe=Xe.tagName,me=Xe.src,de=/youtube\.com\/embed/.test(me),Ee=/youtube-nocookie\.com\/embed/.test(me),Ye=/player\.vimeo\.com\/video/.test(me),Ot=de||Ee||Ye;return((0,H.toLowerCase)(fe)==xn||(0,H.toLowerCase)(fe)=="iframe"&&Ot)&&(tt={type:"video"},me&&(tt.src=me),Ot&&(de?tt.provider=Nn:Ee?tt.provider=Sn:Ye&&(tt.provider=Vn))),tt};var zn=function(Xe){(0,P.Z)(fe,Xe);var tt=bn(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(me){D.Z.prototype.initialize.apply(this,arguments);var de=this.model,Ee=["loop","autoplay","controls","color","rel","modestbranding","poster"],Ye=Ee.map(function(Ot){return"change:".concat(Ot)}).join(" ");this.listenTo(de,"change:provider",this.updateProvider),this.listenTo(de,"change:src",this.updateSrc),this.listenTo(de,Ye,this.updateVideo)}},{key:"updateProvider",value:function(){var me=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(me))}},{key:"updateSrc",value:function(){var me=this.model,de=this.videoEl;if(de){var Ee=me.get("provider"),Ye=me.get("src");switch(Ee){case"yt":Ye=me.getYoutubeSrc();break;case"ytnc":Ye=me.getYoutubeNoCookieSrc();break;case"vi":Ye=me.getVimeoSrc()}de.src=Ye}}},{key:"updateVideo",value:function(){var me=this.model.get("provider"),de=this.videoEl,Ee=this.model;switch(me){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:de.loop=Ee.get("loop"),de.autoplay=Ee.get("autoplay"),de.controls=Ee.get("controls"),de.poster=Ee.get("poster")}}},{key:"renderByProvider",value:function(me){var de;switch(me){case"yt":de=this.renderYoutube();break;case"ytnc":de=this.renderYoutubeNoCookie();break;case"vi":de=this.renderVimeo();break;default:de=this.renderSource()}return this.videoEl=de,de}},{key:"renderSource",value:function(){var me=document.createElement("video");return me.src=this.model.get("src"),this.initVideoEl(me),me}},{key:"renderYoutube",value:function(){var me=document.createElement("iframe");return me.src=this.model.getYoutubeSrc(),me.frameBorder=0,me.setAttribute("allowfullscreen",!0),this.initVideoEl(me),me}},{key:"renderYoutubeNoCookie",value:function(){var me=document.createElement("iframe");return me.src=this.model.getYoutubeNoCookieSrc(),me.frameBorder=0,me.setAttribute("allowfullscreen",!0),this.initVideoEl(me),me}},{key:"renderVimeo",value:function(){var me=document.createElement("iframe");return me.src=this.model.getVimeoSrc(),me.frameBorder=0,me.setAttribute("allowfullscreen",!0),this.initVideoEl(me),me}},{key:"initVideoEl",value:function(me){me.className=this.ppfx+"no-pointer",me.style.height="100%",me.style.width="100%"}},{key:"render",value:function(){for(var me=arguments.length,de=new Array(me),Ee=0;Ee<me;Ee++)de[Ee]=arguments[Ee];it.prototype.render.apply(this,de),this.updateClasses();var Ye=this.model.get("provider");return this.el.appendChild(this.renderByProvider(Ye)),this.updateVideo(),this}}]),fe}(it);function In(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Mn(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?In(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):In(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function cn(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var Tn="script",gn=function(Xe){(0,P.Z)(fe,Xe);var tt=cn(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return Mn(Mn({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:Tn,tagName:Tn,droppable:!1,draggable:!1,layerable:!1})}}]),fe}(k.ZP);function jn(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}gn.isComponent=function(Xe){if((0,H.toLowerCase)(Xe.tagName)==Tn){var tt={type:Tn};return Xe.src&&(tt.src=Xe.src,tt.onload=Xe.onload),tt}};var On=function(Xe){(0,P.Z)(fe,Xe);var tt=jn(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"tagName",value:function(){return"script"}},{key:"events",value:function(){return{}}},{key:"render",value:function(){var me=this.model,de=this.em,Ee=me.get("src"),Ye=de&&de.get("scriptCount"),Ot=Ye||0,Rt="";if(Ee){var Vt=me.get("onload"),Ft="script".concat(Ot),Zt="script".concat(Ot+1),At="".concat(Ft,"Start"),Lt="".concat(Zt,"Start");Rt=`
        var `.concat(Ft,` = document.createElement('script');
        `).concat(Ft,`.onload = function() {
          `).concat(Vt?"".concat(Vt,`();
`):"",`
          typeof `).concat(Lt," == 'function' && ").concat(Lt,`();
        };
        `).concat(Ft,".src = '").concat(Ee,`';
        function `).concat(At,"() { document.body.appendChild(").concat(Ft,`); };
        `).concat(Ot?"":"".concat(At,"();"),`
      `),de&&de.set("scriptCount",Ot+1)}else Rt=me.__innerHTML();return this.el.innerHTML=Rt,this.postRender(),this}}]),fe}(it);function yn(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Rn(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?yn(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):yn(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function Dn(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var en="svg",Qe=function(Xe){(0,P.Z)(fe,Xe);var tt=Dn(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return Rn(Rn({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:en,tagName:en,highlightable:0,resizable:{ratioDefault:1}})}},{key:"getName",value:function(){var me=this.get("tagName"),de=this.get("custom-name");return me=me.charAt(0).toUpperCase()+me.slice(1),de||me}}]),fe}(k.ZP);function at(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Be(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?at(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):at(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function ut(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}Qe.isComponent=function(Xe){return(0,H.toLowerCase)(Xe.tagName)===en};var xt=function(Xe){(0,P.Z)(fe,Xe);var tt=ut(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return Be(Be({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{selectable:!1,hoverable:!1,layerable:!1})}}]),fe}(Qe);function Kt(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}xt.isComponent=function(Xe){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!!tt.inSvg};var Ht=function(Xe){(0,P.Z)(fe,Xe);var tt=Kt(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"_createElement",value:function(me){return document.createElementNS("http://www.w3.org/2000/svg",me)}}]),fe}(D.Z);function kn(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function an(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?kn(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):kn(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function Qn(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var Gn=function(Xe){(0,P.Z)(fe,Xe);var tt=Qn(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return an(an({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})}},{key:"toHTML",value:function(){var me=this.parent(),de=this.get("content");return me&&me.is("script")?de:(0,H.escape)(de)}}]),fe}(k.ZP);function gr(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function or(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}Gn.isComponent=function(Xe){var tt="";return Xe.nodeType===3&&(tt={type:"textnode",content:Xe.textContent}),tt};var pr=function(Xe){(0,P.Z)(fe,Xe);var tt=or(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return function(me){for(var de=1;de<arguments.length;de++){var Ee=arguments[de]!=null?arguments[de]:{};de%2?gr(Object(Ee),!0).forEach(function(Ye){(0,S.Z)(me,Ye,Ee[Ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Ee)):gr(Object(Ee)).forEach(function(Ye){Object.defineProperty(me,Ye,Object.getOwnPropertyDescriptor(Ee,Ye))})}return me}({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this))}},{key:"toHTML",value:function(){return"<!--".concat(this.get("content"),"-->")}}]),fe}(Gn);function mr(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}pr.isComponent=function(Xe){if(Xe.nodeType==8)return{tagName:"NULL",type:"comment",content:Xe.textContent}};var cr=function(Xe){(0,P.Z)(fe,Xe);var tt=mr(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"initialize",value:function(){D.Z.prototype.initialize.apply(this,arguments)}},{key:"_setAttributes",value:function(){}},{key:"renderAttributes",value:function(){}},{key:"updateStatus",value:function(){}},{key:"updateClasses",value:function(){}},{key:"setAttribute",value:function(){}},{key:"updateAttributes",value:function(){}},{key:"initClasses",value:function(){}},{key:"initComponents",value:function(){}},{key:"delegateEvents",value:function(){}},{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var me=this.model,de=this.el;return me.opt.temporary||(de.textContent=me.get("content")),this}}]),fe}(D.Z);function Xn(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var tr=function(Xe){(0,P.Z)(fe,Xe);var tt=Xn(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"_createElement",value:function(){return document.createComment(this.model.get("content"))}}]),fe}(cr);function Yn(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function Kn(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?Yn(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):Yn(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function ft(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var yt=function(Xe){(0,P.Z)(fe,Xe);var tt=ft(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",value:function(){return Kn(Kn({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})}},{key:"__postAdd",value:function(){var me=this.em&&this.em.get("UndoManager");return me&&!this.__hasUm&&me.add(this),k.ZP.prototype.__postAdd.call(this,arguments)}},{key:"__postRemove",value:function(){var me=this.em&&this.em.get("UndoManager");return me&&me.remove(this),k.ZP.prototype.__postRemove.call(this,arguments)}}]),fe}(k.ZP);function Ce(Xe,tt){var fe=Object.keys(Xe);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Xe);tt&&(me=me.filter(function(de){return Object.getOwnPropertyDescriptor(Xe,de).enumerable})),fe.push.apply(fe,me)}return fe}function ce(Xe){for(var tt=1;tt<arguments.length;tt++){var fe=arguments[tt]!=null?arguments[tt]:{};tt%2?Ce(Object(fe),!0).forEach(function(me){(0,S.Z)(Xe,me,fe[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xe,Object.getOwnPropertyDescriptors(fe)):Ce(Object(fe)).forEach(function(me){Object.defineProperty(Xe,me,Object.getOwnPropertyDescriptor(fe,me))})}return Xe}function he(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}yt.isComponent=function(){return!1};var ee="iframe",we=function(Xe){(0,P.Z)(fe,Xe);var tt=he(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"defaults",get:function(){return ce(ce({},(0,I.Z)((0,C.Z)(fe.prototype),"defaults",this)),{},{type:ee,tagName:ee,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})}}]),fe}(k.ZP);we.isComponent=function(Xe){return(0,H.toLowerCase)(Xe.tagName)===ee};var Ie=z(9283);function qe(Xe){var tt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var fe,me=(0,C.Z)(Xe);if(tt){var de=(0,C.Z)(this).constructor;fe=Reflect.construct(me,arguments,de)}else fe=me.apply(this,arguments);return(0,N.Z)(this,fe)}}var ht,bt=function(Xe){(0,P.Z)(fe,Xe);var tt=qe(fe);function fe(){return(0,q.Z)(this,fe),tt.apply(this,arguments)}return(0,l.Z)(fe,[{key:"tagName",value:function(){return"div"}},{key:"initialize",value:function(){for(var me=arguments.length,de=new Array(me),Ee=0;Ee<me;Ee++)de[Ee]=arguments[Ee];D.Z.prototype.initialize.apply(this,de),this.listenTo(this.model,"change:attributes:src",this.updateSrc)}},{key:"updateSrc",value:function(){var me=(0,Ie.sE)(this.el,"iframe")[0];me&&(0,Ie.FW)(me,{src:this.__getSrc()})}},{key:"render",value:function(){for(var me=arguments.length,de=new Array(me),Ee=0;Ee<me;Ee++)de[Ee]=arguments[Ee];D.Z.prototype.render.apply(this,de);var Ye=(0,Ie.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(Ye),this}},{key:"__getSrc",value:function(){return this.model.getAttributes().src||""}}]),fe}(D.Z),Pt=z(6434),kt=(ht=function(Xe,tt){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,me){fe.__proto__=me}||function(fe,me){for(var de in me)Object.prototype.hasOwnProperty.call(me,de)&&(fe[de]=me[de])},ht(Xe,tt)},function(Xe,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Class extends value "+String(tt)+" is not a constructor or null");function fe(){this.constructor=Xe}ht(Xe,tt),Xe.prototype=tt===null?Object.create(tt):(fe.prototype=tt.prototype,new fe)}),Mt=function(){return Mt=Object.assign||function(Xe){for(var tt,fe=1,me=arguments.length;fe<me;fe++)for(var de in tt=arguments[fe])Object.prototype.hasOwnProperty.call(tt,de)&&(Xe[de]=tt[de]);return Xe},Mt.apply(this,arguments)},$t=function(Xe,tt){var fe={};for(var me in Xe)Object.prototype.hasOwnProperty.call(Xe,me)&&tt.indexOf(me)<0&&(fe[me]=Xe[me]);if(Xe!=null&&typeof Object.getOwnPropertySymbols=="function"){var de=0;for(me=Object.getOwnPropertySymbols(Xe);de<me.length;de++)tt.indexOf(me[de])<0&&Object.prototype.propertyIsEnumerable.call(Xe,me[de])&&(fe[me[de]]=Xe[me[de]])}return fe},Yt=function(Xe){function tt(fe){var me=Xe.call(this,fe,"DomComponents",new $.Z(void 0,{em:fe}))||this;for(var de in me.componentTypes=[{id:"cell",model:W,view:oe},{id:"row",model:j,view:U},{id:"table",model:s,view:p},{id:"thead",model:h,view:_},{id:"tbody",model:R,view:J},{id:"tfoot",model:le,view:ve},{id:"map",model:Re,view:St},{id:"link",model:We,view:hn},{id:"label",model:nn,view:Bn},{id:"video",model:ze,view:zn},{id:"image",model:ae,view:it},{id:"script",model:gn,view:On},{id:"svg-in",model:xt,view:Ht},{id:"svg",model:Qe,view:Ht},{id:"iframe",model:we,view:bt},{id:"comment",model:pr,view:tr},{id:"textnode",model:Gn,view:cr},{id:"text",model:ot,view:sn},{id:"wrapper",model:yt,view:m},{id:"default",model:k.ZP,view:D.Z}],me.componentsById={},me.Component=k.ZP,me.Components=$.Z,me.ComponentsView=g.Z,me.storageKey="components",fe&&(me.config.components=fe.config.components||me.config.components),w)de in me.config||(me.config[de]=w[de]);var Ee=me.config.pStylePrefix;if(Ee&&(me.config.stylePrefix=Ee+me.config.stylePrefix),fe){me.config.modal=fe.get("Modal")||"",me.config.am=fe.get("AssetManager")||"",fe.get("Parser").compTypes=me.componentTypes,fe.on("change:componentHovered",me.componentHovered,me);var Ye=fe.get("selected");fe.listenTo(Ye,"add",function(Ot,Rt,Vt){return me.selectAdd(Ye.getComponent(Ot),Vt)}),fe.listenTo(Ye,"remove",function(Ot,Rt,Vt){return me.selectRemove(Ye.getComponent(Ot),Vt)})}return me}return kt(tt,Xe),tt.prototype.load=function(fe){var me=this;return this.loadProjectData(fe,{onResult:function(de){var Ee=me.getWrapper();if(Ee||(me.em.get("PageManager").add({},{select:!0}),Ee=me.getWrapper()),(0,ie.isArray)(de))de.length&&Ee.components(de);else{var Ye=de.components,Ot=Ye===void 0?[]:Ye,Rt=$t(de,["components"]);Ee.set(Rt),Ee.components(Ot)}}})},tt.prototype.store=function(){return{}},tt.prototype.getComponent=function(){var fe=this.em.get("PageManager").getSelected(),me=fe&&fe.getMainFrame();return me&&me.getComponent()},tt.prototype.getWrapper=function(){return this.getComponent()},tt.prototype.getComponents=function(){var fe=this.getWrapper();return fe&&fe.get("components")},tt.prototype.addComponent=function(fe,me){return me===void 0&&(me={}),this.getComponents().add(fe,me)},tt.prototype.render=function(){var fe;return(fe=this.componentView)===null||fe===void 0?void 0:fe.render().el},tt.prototype.clear=function(fe){fe===void 0&&(fe={});var me=this.getComponents();return me==null||me.filter(Boolean).forEach(function(de){return de.remove(fe)}),this},tt.prototype.setComponents=function(fe,me){me===void 0&&(me={}),this.clear(me).addComponent(fe,me)},tt.prototype.addType=function(fe,me){var de=this.em,Ee=me.model,Ye=Ee===void 0?{}:Ee,Ot=me.view,Rt=Ot===void 0?{}:Ot,Vt=me.isComponent,Ft=me.extend,Zt=me.extendView,At=me.extendFn,Lt=At===void 0?[]:At,Gt=me.extendFnView,vn=Gt===void 0?[]:Gt,En=this.getType(fe),Jn=this.getType(Ft),ye=this.getType(Zt),Pe=Jn||En||this.getType("default"),De=Pe.model,un=ye?ye.view:Pe.view,An=function(Br,Nr,_i){return Br.reduce(function(Ai,Ri){var li=Nr[Ri],Ti=_i.prototype[Ri];return li&&Ti&&(Ai[Ri]=function(){for(var ni=[],Ur=0;Ur<arguments.length;Ur++)ni[Ur]=arguments[Ur];Ti.bind(this).apply(void 0,ni),li.bind(this).apply(void 0,ni)}),Ai},{})};if(typeof Ye=="object"){var $n=(0,ie.result)(Ye,"defaults");delete Ye.defaults,me.model=De.extend(Mt(Mt({},Ye),An(Lt,Ye,De)),{isComponent:!En||Jn||Vt?Vt||function(){return 0}:De.isComponent}),Object.defineProperty(me.model.prototype,"defaults",{value:Mt(Mt({},(0,ie.result)(De.prototype,"defaults")||{}),$n||{})})}typeof Rt=="object"&&(me.view=un.extend(Mt(Mt({},Rt),An(vn,Rt,un)))),En?(En.model=me.model,En.view=me.view):(me.id=fe,this.componentTypes.unshift(me));var er="component:type:".concat(En?"update":"add");return de==null||de.trigger(er,En||me),this},tt.prototype.getType=function(fe){for(var me=this.componentTypes,de=0;de<me.length;de++)if(me[de].id==fe)return me[de]},tt.prototype.removeType=function(fe){var me=this.componentTypes,de=this.getType(fe);if(de){var Ee=me.indexOf(de);return me.splice(Ee,1),de}},tt.prototype.getTypes=function(){return this.componentTypes},tt.prototype.selectAdd=function(fe,me){var de=this;me===void 0&&(me={}),fe&&(fe.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(Ee){return de.em.trigger(Ee,fe,me)}))},tt.prototype.selectRemove=function(fe,me){var de=this;me===void 0&&(me={}),fe&&(this.em,fe.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(Ee){return de.em.trigger(Ee,fe,me)}))},tt.prototype.componentHovered=function(){var fe=this.em,me=fe.get("componentHovered"),de=fe.previous("componentHovered"),Ee="hovered";de&&de.get("status")==Ee&&de.set({status:"",state:""}),me&&(0,ie.isEmpty)(me.get("status"))&&me.set("status",Ee)},tt.prototype.getShallowWrapper=function(){var fe=this.shallow,me=this.em;if(!fe&&me){var de=me.shallow;if(!de)return;var Ee=de.get("DomComponents");if(Ee.componentTypes=this.componentTypes,fe=Ee.getWrapper()){var Ye=[k.GN,k.xH].join(" ");fe.on(Ye,(0,ie.debounce)(function(){return fe==null?void 0:fe.components("")},100))}this.shallow=fe}return fe},tt.prototype.canMove=function(fe,me,de){var Ee=de||de===0?de:null,Ye={result:!1,reason:0,target:fe,source:null};if(!me||!fe)return Ye;var Ot=me.toHTML?me:null;if(!Ot){var Rt=this.getShallowWrapper();Ot=Rt==null?void 0:Rt.append(me)[0]}if(Ye.source=Ot,!Ot)return Ye;var Vt=Ot.get("draggable");if((0,ie.isFunction)(Vt))Vt=!!Vt(Ot,fe,Ee);else{var Ft=fe.getEl();Vt=(0,ie.isArray)(Vt)?Vt.join(","):Vt,Vt=(0,ie.isString)(Vt)?Ft==null?void 0:Ft.matches(Vt):Vt}if(!Vt)return Mt(Mt({},Ye),{reason:1});var Zt=fe.get("droppable");(0,ie.isFunction)(Zt)?Zt=!!Zt(Ot,fe,Ee):Zt===!1&&fe.isInstanceOf("text")&&Ot.get("textable")?Zt=!0:(Ft=Ot.getEl(),Zt=(0,ie.isArray)(Zt)?Zt.join(","):Zt,Zt=(0,ie.isString)(Zt)?Ft==null?void 0:Ft.matches(Zt):Zt);var At=[fe].concat(fe.parents()).indexOf(Ot)>-1;return Mt(Mt({},Ye),!Zt||At?{reason:2}:{result:!0})},tt.prototype.allById=function(){return this.componentsById},tt.prototype.getById=function(fe){return this.componentsById[fe]||null},tt.prototype.destroy=function(){var fe,me=this.allById();Object.keys(me).forEach(function(de){return me[de]&&me[de].remove()}),(fe=this.componentView)===null||fe===void 0||fe.remove(),[this.em,this.componentsById,this.componentView].forEach(function(de){return{}})},tt}(Pt.O);const dn=Yt},8588:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>I});var ie=z(9050),w=z(6434),k=z(9283);const $={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};var D,q=z(7904),l=(D=function(H,X){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,x){Y.__proto__=x}||function(Y,x){for(var W in x)Object.prototype.hasOwnProperty.call(x,W)&&(Y[W]=x[W])},D(H,X)},function(H,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function Y(){this.constructor=H}D(H,X),H.prototype=X===null?Object.create(X):(Y.prototype=X.prototype,new Y)});const P=function(H){function X(){return H!==null&&H.apply(this,arguments)||this}return l(X,H),X.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},X.prototype.open=function(){this.set("open",!0)},X.prototype.close=function(){this.set("open",!1)},X}(q.Z);var N=z(3059),C=function(){var H=function(X,Y){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,W){x.__proto__=W}||function(x,W){for(var oe in W)Object.prototype.hasOwnProperty.call(W,oe)&&(x[oe]=W[oe])},H(X,Y)};return function(X,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function x(){this.constructor=X}H(X,Y),X.prototype=Y===null?Object.create(Y):(x.prototype=Y.prototype,new x)}}(),y=function(){return y=Object.assign||function(H){for(var X,Y=1,x=arguments.length;Y<x;Y++)for(var W in X=arguments[Y])Object.prototype.hasOwnProperty.call(X,W)&&(H[W]=X[W]);return H},y.apply(this,arguments)};const m=function(H){function X(Y){var x=H.call(this,Y)||this,W=x.model;return x.listenTo(W,"change:open",x.updateOpen),x.listenTo(W,"change:title",x.updateTitle),x.listenTo(W,"change:content",x.updateContent),x}return C(X,H),X.prototype.template=function(Y){var x=Y.pfx,W=Y.ppfx,oe=Y.content,se=Y.title;return'<div class="'.concat(x,"dialog ").concat(W,"one-bg ").concat(W,`two-color">
      <div class="`).concat(x,`header">
        <div class="`).concat(x,'title">').concat(se,`</div>
        <div class="`).concat(x,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(x,`content">
        <div id="`).concat(x,'c">').concat(oe,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(x,'collector" style="display: none"></div>')},X.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},X.prototype.onClick=function(Y){this.config.backdrop&&Y.target===this.el&&this.hide()},X.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},X.prototype.getContent=function(){var Y=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(Y,"content #").concat(Y,"c"))),this.$content},X.prototype.getTitle=function(Y){return Y===void 0&&(Y={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),Y.$?this.$title:this.$title.get(0)},X.prototype.updateContent=function(){var Y=this.getContent(),x=Y.children(),W=this.getCollector(),oe=this.model.get("content");x.length&&W.append(x),Y.empty().append(oe)},X.prototype.updateTitle=function(){var Y=this.getTitle({$:!0});Y&&Y.empty().append(this.model.get("title"))},X.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},X.prototype.hide=function(){this.model.close()},X.prototype.show=function(){this.model.open()},X.prototype.updateAttr=function(Y){var x=this,W=x.pfx,oe=x.$el,se=x.el,Z=[].slice.call(se.attributes).map(function(B){return B.name});oe.removeAttr(Z.join(" ")),oe.attr(y(y({},Y||{}),{class:"".concat(W,"container ").concat(Y&&Y.class||"").trim()}))},X.prototype.render=function(){var Y=this.$el,x=this.model.toJSON();return x.pfx=this.pfx,x.ppfx=this.ppfx,Y.html(this.template(x)),this.updateAttr(),this.updateOpen(),this},X}(N.Z);var g=function(){var H=function(X,Y){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,W){x.__proto__=W}||function(x,W){for(var oe in W)Object.prototype.hasOwnProperty.call(W,oe)&&(x[oe]=W[oe])},H(X,Y)};return function(X,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function x(){this.constructor=X}H(X,Y),X.prototype=Y===null?Object.create(Y):(x.prototype=Y.prototype,new x)}}(),S=function(H){function X(Y){var x=H.call(this,Y,"Modal",$)||this;return x.model=new P(x),x.model.on("change:open",function(W,oe){Y.trigger("modal:".concat(oe?"open":"close"))}),x.model.on("change",(0,ie.debounce)(function(){var W=x._evData(),oe=x.config.custom;(0,ie.isFunction)(oe)&&oe(W),Y.trigger("modal",W)},0)),x}return g(X,H),X.prototype._evData=function(){var Y=this,x=this.getTitle(),W=this.getContent(),oe=this.model.attributes;return{open:oe.open,attributes:oe.attributes,title:(0,ie.isString)(x)?(0,k.rw)(x):x,content:(0,ie.isString)(W)?(0,k.rw)(W):W.get?W.get(0):W,close:function(){return Y.close()}}},X.prototype.postRender=function(Y){var x=Y.model.config.el||Y.el,W=this.render();W&&(x==null||x.appendChild(W))},X.prototype.open=function(Y){Y===void 0&&(Y={});var x=Y.attributes||{};return Y.title&&this.setTitle(Y.title),Y.content&&this.setContent(Y.content),this.model.set("attributes",x),this.model.open(),this.modal&&this.modal.updateAttr(x),this},X.prototype.close=function(){return this.model.close(),this},X.prototype.onceClose=function(Y){return this.em.once("modal:close",Y),this},X.prototype.onceOpen=function(Y){return this.em.once("modal:open",Y),this},X.prototype.isOpen=function(){return!!this.model.get("open")},X.prototype.setTitle=function(Y){return this.model.set("title",Y),this},X.prototype.getTitle=function(){return this.model.get("title")},X.prototype.setContent=function(Y){return this.model.set("content"," "),this.model.set("content",Y),this},X.prototype.getContent=function(){return this.model.get("content")},X.prototype.getContentEl=function(){var Y;return(Y=this.modal)===null||Y===void 0?void 0:Y.getContent().get(0)},X.prototype.getModel=function(){return this.model},X.prototype.render=function(){var Y;if(!this.config.custom){var x=m.extend(this.config.extend),W=this.modal&&this.modal.el;return this.modal=new x({el:W,model:this.model,config:this.config}),(Y=this.modal)===null||Y===void 0?void 0:Y.render().el}},X.prototype.destroy=function(){var Y;(Y=this.modal)===null||Y===void 0||Y.remove()},X}(w.Z);const I=S},7892:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>E,evAll:()=>x,evComponent:()=>se,evCustom:()=>Z,evPfx:()=>W,evRoot:()=>oe});var ie=z(9050),w=z(7904),k=z(6434),$=z(1163);const D={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};var q,l=z(2316),P=z(2169),N=z(9138),C=(q=function(M,c){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,s){d.__proto__=s}||function(d,s){for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(d[p]=s[p])},q(M,c)},function(M,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=M}q(M,c),M.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}),y=function(M){function c(d){d===void 0&&(d={});var s=M.call(this,d)||this;s.items=[],s.opt=d;var p=d.config||{};s.config=p,s.parentView=d.parentView;var O=p.stylePrefix||"",K=p.pStylePrefix||"",Q=s.collection;s.listenTo(Q,"add",s.addTo),s.listenTo(Q,"reset resetNavigator",s.render),s.listenTo(Q,"remove",s.removeChildren),s.className="".concat(O,"layers");var ne=p.em;if(p.sortable&&!s.opt.sorter){var R=ne.get("Utils");s.opt.sorter=new R.Sorter({container:p.sortContainer||s.el,containerSel:".".concat(s.className),itemSel:".".concat(O,"layer"),ignoreViewChildren:1,onEndMove:function(v,b,a){var f=b.getSourceModel();ne.setSelected(f,{forceChange:1}),ne.trigger("".concat(N.OA,":end"),a)},avoidSelectOnEnd:1,nested:1,ppfx:K,pfx:O})}return s.$el.data("collection",Q),d.parent&&s.$el.data("model",d.parent),s}return C(c,M),c.prototype.removeChildren=function(d){var s=d.viewLayer;s&&(s.remove(),delete d.viewLayer)},c.prototype.addTo=function(d){var s=this.collection.indexOf(d);this.addToCollection(d,null,s)},c.prototype.addToCollection=function(d,s,p){var O=this,K=O.parentView,Q=O.opt,ne=O.config,R=Q.ItemView,v=Q.opened,b=Q.module,a=s||null,f=new R({ItemView:R,level:Q.level,model:d,parentView:K,config:ne,sorter:Q.sorter,opened:v,module:b}),h=f.render().el;if(a)a.appendChild(h);else if(p!==void 0){var _="before";this.$el.children().length==p&&(p--,_="after"),p<0?this.$el.append(h):this.$el.children().eq(p)[_](h)}else this.$el.append(h);return this.items.push(f),h},c.prototype.remove=function(){for(var d=[],s=0;s<arguments.length;s++)d[s]=arguments[s];return l.View.prototype.remove.apply(this,d),this.items.map(function(p){return p.remove()}),this},c.prototype.render=function(){var d=this,s=document.createDocumentFragment(),p=this.el;return p.innerHTML="",this.collection.each(function(O){return d.addToCollection(O,s)}),p.appendChild(s),p.className=this.className,this},c}(l.View);const m=y;var g=function(){var M=function(c,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var O in p)Object.prototype.hasOwnProperty.call(p,O)&&(s[O]=p[O])},M(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function s(){this.constructor=c}M(c,d),c.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}(),S="contentEditable",I=function(M){function c(d){var s=M.call(this,d)||this;(0,ie.bindAll)(s,"__render"),s.opt=d,s.module=d.module,s.config=d.config||{},s.sorter=d.sorter||"",s.parentView=d.parentView;var p=s,O=p.model,K=p.pfx,Q=p.ppfx,ne=O.get("type")||"default";return s.className="".concat(K,"layer ").concat(K,"layer__t-").concat(ne," no-select ").concat(Q,"two-color"),s.inputNameCls="".concat(Q,"layer-name"),s.clsTitleC="".concat(K,"layer-title-c"),s.clsTitle="".concat(K,"layer-title"),s.clsCaret="".concat(K,"layer-caret"),s.clsCount="".concat(K,"layer-count"),s.clsMove="".concat(K,"layer-move"),s.clsChildren="".concat(K,"layer-children"),s.clsNoChild="".concat(K,"layer-no-chld"),s.clsEdit="".concat(s.inputNameCls,"--edit"),s.clsNoEdit="".concat(s.inputNameCls,"--no-edit"),s.initComponent(),s}return g(c,M),c.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},c.prototype.template=function(d){var s=this,p=s.pfx,O=s.ppfx,K=s.config,Q=s.clsNoEdit,ne=s.module,R=s.opt,v=s.em,b=K.hidable,a=ne.getComponents(d).length,f=a?"":this.clsNoChild,h="".concat(this.clsTitle," ").concat(f),_="".concat(this.clsTitleC," ").concat(O,"one-bg"),A="".concat(this.inputNameCls," ").concat(Q," ").concat(O,"no-app"),J=R.level+1,te="".concat(30+10*J,"px"),F=d.getName(),G=d.getIcon(),V="".concat(p,"layer"),le=(v==null?void 0:v.getConfig()).icons,ve=le.move,Ne=le.eye,Ze=le.eyeOff,Me=le.chevron;return`
      `.concat(b?'<i class="'.concat(p,`layer-vis" data-toggle-visible>
            <i class="`).concat(p,'layer-vis-on">').concat(Ne,`</i>
            <i class="`).concat(p,'layer-vis-off">').concat(Ze,`</i>
          </i>`):"",`
      <div class="`).concat(_,`">
        <div class="`).concat(h,'" style="padding-left: ').concat(te,`" data-toggle-select>
          <div class="`).concat(p,'layer-title-inn" title="').concat(F,`">
            <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(Me,`</i>
            `).concat(G?'<span class="'.concat(V,'__icon">').concat(G,"</span>"):"",`
            <span class="`).concat(A,'" data-name>').concat(F,`</span>
          </div>
        </div>
      </div>
      <div class="`).concat(this.clsCount,'" data-count>').concat(a||"",`</div>
      <div class="`).concat(this.clsMove,'" data-toggle-move>').concat(ve||"",`</div>
      <div class="`).concat(this.clsChildren,'"></div>')},Object.defineProperty(c.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),c.prototype.initComponent=function(){var d=this,s=this.model,p=this.config.onInit,O=s.components();this.listenTo(O,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(K){return d.listenTo(s,K[0],K[1])}),this.$el.data("model",s),this.$el.data("collection",O),s.viewLayer=this,p.bind(this)({component:s,render:this.__render,listenTo:this.listenTo})},c.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},c.prototype.getVisibilityEl=function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},c.prototype.updateVisibility=function(){var d=this,s=d.pfx,p=d.model,O=d.module,K="".concat(s,"layer-hidden"),Q=O.isVisible(p)?"removeClass":"addClass";this.$el[Q](K),this.getVisibilityEl()[Q]("".concat(s,"layer-off"))},c.prototype.toggleVisibility=function(d){d==null||d.stopPropagation();var s=this.module,p=this.model;s.setVisible(p,!s.isVisible(p))},c.prototype.handleEdit=function(d){d==null||d.stopPropagation();var s=this,p=s.em,O=s.$el,K=s.clsNoEdit,Q=s.clsEdit,ne=this.getInputName();ne[S]="true",ne.focus(),document.execCommand("selectAll",!1),p.setEditing(!0),O.find(".".concat(this.inputNameCls)).removeClass(K).addClass(Q)},c.prototype.handleEditKey=function(d){d.stopPropagation(),((0,$.isEscKey)(d)||(0,$.isEnterKey)(d))&&this.handleEditEnd(d)},c.prototype.handleEditEnd=function(d){d==null||d.stopPropagation();var s=this,p=s.em,O=s.$el,K=s.clsNoEdit,Q=s.clsEdit,ne=this.getInputName(),R=ne.textContent;ne.scrollLeft=0,ne[S]="false",this.setName(R,{component:this.model,propName:"custom-name"}),p.setEditing(!1),O.find(".".concat(this.inputNameCls)).addClass(K).removeClass(Q),this.updateName()},c.prototype.setName=function(d,s){var p=s.propName;this.model.set(p,d)},c.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},c.prototype.updateOpening=function(){var d=this,s=d.$el,p=d.model,O=d.pfx,K="open",Q="".concat(O,"layer-open"),ne=this.getCaret();this.module.isOpen(p)?(s.addClass(K),ne.addClass(Q)):(s.removeClass(K),ne.removeClass(Q))},c.prototype.toggleOpening=function(d){var s=this.model,p=this.module;d==null||d.stopImmediatePropagation(),s.get("components").length&&p.setOpen(s,!p.isOpen(s))},c.prototype.handleSelect=function(d){d==null||d.stopPropagation();var s=this.module,p=this.model;s.setLayerData(p,{selected:!0},{event:d})},c.prototype.handleHover=function(d){d==null||d.stopPropagation();var s=this.module,p=this.model;s.setLayerData(p,{hovered:!0})},c.prototype.handleHoverOut=function(d){d==null||d.stopPropagation();var s=this.module,p=this.model;s.setLayerData(p,{hovered:!1})},c.prototype.startSort=function(d){d.stopPropagation();var s=this.em,p=this.sorter;d.button&&d.button!==0||p&&(p.onStart=function(O){return s.trigger("".concat(N.OA,":start"),O)},p.onMoveClb=function(O){return s.trigger(N.OA,O)},p.startSort(d.target))},c.prototype.updateStatus=function(){P.Z.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:1}])},c.prototype.checkChildren=function(){var d=this,s=d.model,p=d.clsNoChild,O=d.$el,K=d.module,Q=K.getComponents(s).length,ne=O.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),R=this.cnt;R||(R=O.children("[data-count]").get(0),this.cnt=R),ne[Q?"removeClass":"addClass"](p),R&&(R.innerHTML=Q||""),!Q&&K.setOpen(s,!1)},c.prototype.getCaret=function(){return this.caret&&this.caret.length||(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},c.prototype.setRoot=function(d){d=(0,ie.isString)(d)?this.em.getWrapper().find(d)[0]:d;var s=(0,$.getModel)(d,0);s&&(this.stopListening(),this.model=s,this.initComponent(),this._rendered&&this.render())},c.prototype.updateLayerable=function(){(this.parentView||this).render()},c.prototype.__clearItems=function(){var d;(d=this.items)===null||d===void 0||d.remove()},c.prototype.remove=function(){for(var d=[],s=0;s<arguments.length;s++)d[s]=arguments[s];return l.View.prototype.remove.apply(this,d),this.__clearItems(),this},c.prototype.render=function(){var d=this,s=d.model,p=d.config,O=d.pfx,K=d.ppfx,Q=d.opt,ne=d.sorter;this.__clearItems();var R=Q.opened,v=Q.module,b=Q.ItemView,a=!v.__isLayerable(s),f=this.$el.empty(),h=Q.level+1;delete this.inputName,this.items=new m({ItemView:b,collection:s.get("components"),config:p,sorter:ne,opened:R,parentView:this,parent:s,level:h,module:v});var _=this.items.render().$el;return p.showWrapper||h!==1?(f.html(this.template(s)),f.find(".".concat(this.clsChildren)).append(_)):f.append(_),s.get("draggable")&&p.sortable||f.children(".".concat(this.clsMove)).remove(),!v.isVisible(s)&&(this.className+=" ".concat(O,"hide")),a&&(this.className+=" ".concat(K,"hidden")),f.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},c.prototype.__render=function(){var d=this,s=d.model,p=d.config,O={component:s,el:d.el};p.onRender.bind(this)(O),this.em.trigger("layer:render",O)},c}(l.View);const H=I;var X=function(){var M=function(c,d){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var O in p)Object.prototype.hasOwnProperty.call(p,O)&&(s[O]=p[O])},M(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function s(){this.constructor=c}M(c,d),c.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)}}(),Y=function(){return Y=Object.assign||function(M){for(var c,d=1,s=arguments.length;d<s;d++)for(var p in c=arguments[d])Object.prototype.hasOwnProperty.call(c,p)&&(M[p]=c[p]);return M},Y.apply(this,arguments)},x="layer",W="".concat(x,":"),oe="".concat(W,"root"),se="".concat(W,"component"),Z="".concat(W,"custom"),B={all:x,root:oe,component:se,custom:Z},T={mediaText:""},j=["open","status","locked","custom-name","components","classes"].map(function(M){return"component:update:".concat(M)}).join(" "),U=function(M){function c(d){var s=M.call(this,d,"LayerManager",D)||this;return s.events=B,(0,ie.bindAll)(s,"componentChanged","__onRootChange","__onComponent"),s.model=new w.Z(s,{opened:{}}),s.config.stylePrefix=s.config.pStylePrefix,s}return X(c,M),c.prototype.onLoad=function(){var d=this,s=this,p=s.em,O=s.config,K=s.model;K.listenTo(p,"component:selected",this.componentChanged),K.on("change:root",this.__onRootChange),K.listenTo(p,j,this.__onComponent),this.componentChanged(),K.listenToOnce(p,"load",function(){d.setRoot(O.root),d.__appendTo()})},c.prototype.setRoot=function(d){var s=this.em.getWrapper(),p=(0,$.isComponent)(d)?d:s;return d&&(0,ie.isString)(d)&&(0,$.hasWin)()&&(p=s.find(d)[0]||s),this.model.set("root",p),p},c.prototype.getRoot=function(){return this.model.get("root")},c.prototype.getComponents=function(d){var s=this;return d.components().filter(function(p){return s.__isLayerable(p)})},c.prototype.setOpen=function(d,s){d.set("open",s)},c.prototype.isOpen=function(d){return!!d.get("open")},c.prototype.setVisible=function(d,s){var p="__prev-display",O=d.getStyle(T),K=O.display;if(s){var Q=d.get(p);delete O.display,Q&&(O.display=Q,d.unset(p))}else K&&d.set(p,K),O.display="none";d.setStyle(O,T),this.updateLayer(d),this.em.trigger("component:toggled")},c.prototype.isVisible=function(d){return(s=d.getStyle(T))===void 0&&(s={}),(s.display||"").trim().indexOf("none")!==0;var s},c.prototype.setLocked=function(d,s){d.set("locked",s)},c.prototype.isLocked=function(d){return d.get("locked")},c.prototype.setName=function(d,s){d.set("custom-name",s)},c.prototype.getName=function(d){return d.getName()},c.prototype.getLayerData=function(d){var s=d.get("status");return{name:d.getName(),open:this.isOpen(d),selected:s==="selected",hovered:s==="hovered",visible:this.isVisible(d),locked:this.isLocked(d),components:this.getComponents(d)}},c.prototype.setLayerData=function(d,s,p){var O;p===void 0&&(p={});var K=this.em,Q=this.config,ne=s.open,R=s.selected,v=s.hovered,b=s.visible,a=s.locked,f=s.name,h=Y({fromLayers:!0},p);if((0,$.isDef)(ne)&&this.setOpen(d,ne),(0,$.isDef)(R))if(R){K.setSelected(d,h);var _=Q.scrollCanvas;_&&((O=d.views)===null||O===void 0||O.forEach(function(A){return A.scrollIntoView(_)}))}else K.removeSelected(d,h);(0,$.isDef)(v)&&Q.showHover&&(v?K.setHovered(d,h):K.setHovered(null,h)),(0,$.isDef)(b)&&b!==this.isVisible(d)&&this.setVisible(d,b),(0,$.isDef)(a)&&this.setLocked(d,a),(0,$.isDef)(f)&&this.setName(d,f)},c.prototype.componentChanged=function(d,s){var p;if(s===void 0&&(s={}),!s.fromLayers){var O=this.em,K=this.config.scrollLayers,Q=this.model.get("opened"),ne=O.getSelected(),R=ne==null?void 0:ne.parent();for(var v in Q)Q[v].set("open",!1),delete Q[v];for(;R;)R.set("open",!0),Q[R.cid]=R,R=R.parent();if(ne&&K){var b=(p=ne.viewLayer)===null||p===void 0?void 0:p.el;b==null||b.scrollIntoView(K)}}},c.prototype.getAll=function(){return this.view},c.prototype.render=function(){var d,s,p=this.config,O=this.model,K=H.extend(p.extend);return this.view=new K({el:(d=this.view)===null||d===void 0?void 0:d.el,ItemView:K,level:0,config:p,opened:O.get("opened"),model:this.getRoot(),module:this}),(s=this.view)===null||s===void 0?void 0:s.render().el},c.prototype.destroy=function(){var d;(d=this.view)===null||d===void 0||d.remove()},c.prototype.__onRootChange=function(){var d,s=this.getRoot();(d=this.view)===null||d===void 0||d.setRoot(s),this.em.trigger(oe,s)},c.prototype.__onComponent=function(d){this.updateLayer(d)},c.prototype.__isLayerable=function(d){var s=d.get("tagName");return(!this.config.hideTextnode||!d.is("textnode")&&s!=="br")&&d.get("layerable")},c.prototype.__trgCustom=function(d){this.em.trigger(this.events.custom,{container:d.container,root:this.getRoot()})},c.prototype.updateLayer=function(d,s){this.em.trigger(se,d,s)},c}(k.Z);const E=U},7948:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>U,evAll:()=>S,evPageAdd:()=>x,evPageAddBefore:()=>W,evPageRemove:()=>oe,evPageRemoveBefore:()=>se,evPageSelect:()=>H,evPageSelectBefore:()=>X,evPageUpdate:()=>Y,evPfx:()=>I});var ie,w=z(9050),k=z(1163),$=z(7904),D=z(6434),q=z(2316),l=z(3560),P=(ie=function(E,M){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var s in d)Object.prototype.hasOwnProperty.call(d,s)&&(c[s]=d[s])},ie(E,M)},function(E,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function c(){this.constructor=E}ie(E,M),E.prototype=M===null?Object.create(M):(c.prototype=M.prototype,new c)});const N=function(E){function M(c,d){d===void 0&&(d={});var s=E.call(this,c,d)||this,p=d.em,O={};s.em=p,c.frames||(O.component=c.component,O.styles=c.styles,["component","styles"].map(function(R){return s.unset(R)}));var K=c.frames||[O],Q=new l.Z(p.get("Canvas"),K);Q.page=s,s.set("frames",Q),!s.getId()&&s.set("id",p==null?void 0:p.get("PageManager")._createId());var ne=p==null?void 0:p.get("UndoManager");return ne==null||ne.add(Q),s}return P(M,E),M.prototype.defaults=function(){return{frames:[],_undo:!0}},M.prototype.onRemove=function(){this.getFrames().reset()},M.prototype.getFrames=function(){return this.get("frames")},M.prototype.getId=function(){return this.id},M.prototype.getName=function(){return this.get("name")},M.prototype.setName=function(c){return this.set({name:c})},M.prototype.getAllFrames=function(){return this.getFrames().models||[]},M.prototype.getMainFrame=function(){return this.getFrames().at(0)},M.prototype.getMainComponent=function(){var c=this.getMainFrame();return c==null?void 0:c.getComponent()},M.prototype.toJSON=function(c){c===void 0&&(c={});var d=q.Model.prototype.toJSON.call(this,c),s=(0,w.result)(this,"defaults");return(0,w.forEach)(d,function(p,O){O.indexOf("_")===0&&delete d[O]}),(0,w.forEach)(s,function(p,O){d[O]===p&&delete d[O]}),d},M}(q.Model);var C=function(){var E=function(M,c){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,s){d.__proto__=s}||function(d,s){for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(d[p]=s[p])},E(M,c)};return function(M,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=M}E(M,c),M.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),y=function(){return y=Object.assign||function(E){for(var M,c=1,d=arguments.length;c<d;c++)for(var s in M=arguments[c])Object.prototype.hasOwnProperty.call(M,s)&&(E[s]=M[s]);return E},y.apply(this,arguments)};const m=function(E){function M(c,d){var s=E.call(this,c)||this;return s.on("reset",s.onReset),s.on("remove",s.onRemove),s.model=function(p,O){return O===void 0&&(O={}),new N(p,y(y({},O),{em:d}))},s}return C(M,E),M.prototype.onReset=function(c,d){var s,p=this;(s=d==null?void 0:d.previousModels)===null||s===void 0||s.map(function(O){return p.onRemove(O)})},M.prototype.onRemove=function(c){c==null||c.onRemove()},M}(q.Collection);var g=function(){var E=function(M,c){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,s){d.__proto__=s}||function(d,s){for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(d[p]=s[p])},E(M,c)};return function(M,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=M}E(M,c),M.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),S="page",I="".concat(S,":"),H="".concat(I,"select"),X="".concat(H,":before"),Y="".concat(I,"update"),x="".concat(I,"add"),W="".concat(x,":before"),oe="".concat(I,"remove"),se="".concat(oe,":before"),Z="change:selected",B="main",T={all:S,select:H,selectBefore:X,update:Y,add:x,addBefore:W,remove:oe,removeBefore:se},j=function(E){function M(c){var d=E.call(this,c,"PageManager",new m([],c),T)||this;d.storageKey="pages",(0,w.bindAll)(d,"_onPageChange");var s=new $.Z({_undo:!0});return d.model=s,d.pages.on("reset",function(p){return p.at(0)&&d.select(p.at(0))}),d.pages.on("all",d.__onChange,d),s.on(Z,d._onPageChange),d}return g(M,E),Object.defineProperty(M.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),M.prototype.__onChange=function(c,d,s,p){var O=p||s;this.em.trigger(S,{event:c,page:d,options:O})},M.prototype.onLoad=function(){var c,d=this,s=this.pages,p={silent:!0};s.add(((c=this.config.pages)===null||c===void 0?void 0:c.map(function(K){return new N(K,{em:d.em,config:d.config})}))||[],p);var O=s.length?this.getMain():this.add({type:B},p);O&&this.select(O,p)},M.prototype._onPageChange=function(c,d,s){var p=this.em,O=p.get("LayerManager"),K=d.getMainComponent();O&&K&&O.setRoot(K),p.trigger(H,d,c.previous("selected")),this.__onChange(Z,d,s)},M.prototype.postLoad=function(){var c=this.em,d=this.model,s=c.get("UndoManager");s&&s.add(d),s&&s.add(this.pages)},M.prototype.add=function(c,d){var s=this;d===void 0&&(d={});var p=this.em;c.id=c.id||this._createId();var O=function(){var K=s.pages.add(new N(c,{em:s.em,config:s.config}),d);return d.select&&s.select(K),K};return!d.silent&&p.trigger(W,c,O,d),!d.abort&&O()},M.prototype.remove=function(c,d){var s=this;d===void 0&&(d={});var p=this.em,O=(0,w.isString)(c)?this.get(c):c,K=function(){return O&&s.pages.remove(O,d),O};return!d.silent&&p.trigger(se,O,K,d),!d.abort&&K()},M.prototype.get=function(c){return this.pages.filter(function(d){return d.get(d.idAttribute)===c})[0]},M.prototype.getMain=function(){var c=this.pages;return c.filter(function(d){return d.get("type")===B})[0]||c.at(0)},M.prototype.getAllWrappers=function(){var c=this.getAll();return(0,w.unique)((0,w.flatten)(c.map(function(d){return d.getAllFrames().map(function(s){return s.getComponent()})})))},M.prototype.select=function(c,d){d===void 0&&(d={});var s=(0,w.isString)(c)?this.get(c):c;return s&&(this.em.trigger(X,s,d),this.model.set("selected",s,d)),this},M.prototype.getSelected=function(){return this.model.get("selected")},M.prototype.destroy=function(){var c=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(d){return c[d]=0})},M.prototype.store=function(){return this.getProjectData()},M.prototype.load=function(c){return this.loadProjectData(c,{all:this.pages,reset:!0})},M.prototype._createId=function(){var c,d=this.getAll().length+16,s=this.getAllMap();do c=(0,k.createId)(d);while(s[c]);return c},M}(D.O);const U=j},899:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>R});var ie=z(6434),w="sw-visibility",k="export-template",$="open-sm",D="open-tm",q="open-layers",l="open-blocks",P="fullscreen",N="preview";const C={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:w,className:"fa fa-square-o",command:w,context:w,attributes:{title:"View components"}},{id:N,className:"fa fa-eye",command:N,context:N,attributes:{title:"Preview"}},{id:P,className:"fa fa-arrows-alt",command:P,context:P,attributes:{title:"Fullscreen"}},{id:k,className:"fa fa-code",command:k,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:$,className:"fa fa-paint-brush",command:$,active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:D,className:"fa fa-cog",command:D,togglable:0,attributes:{title:"Settings"}},{id:q,className:"fa fa-bars",command:q,togglable:0,attributes:{title:"Open Layer Manager"}},{id:l,className:"fa fa-th-large",command:l,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300};var y,m=z(7116),g=z(7904),S=(y=function(v,b){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h])},y(v,b)},function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function a(){this.constructor=v}y(v,b),v.prototype=b===null?Object.create(b):(a.prototype=b.prototype,new a)});const I=function(v){function b(a,f){var h=v.call(this,a,f)||this;return h.get("buttons").length&&h.set("buttons",new Y(h.module,h.get("buttons"))),h}return S(b,v),b.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(b.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"active",{get:function(){return this.get("active")},set:function(a){this.set("active",a)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),b}(g.Z);var H=function(){var v=function(b,a){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])},v(b,a)};return function(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function f(){this.constructor=b}v(b,a),b.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),X=function(v){function b(a,f){return v.call(this,a,f,I)||this}return H(b,v),b.prototype.deactivateAllExceptOne=function(a,f){this.forEach(function(h,_){h!==a&&(h.set("active",!1),f&&h.get("buttons").length&&h.get("buttons").deactivateAllExceptOne(a,f))})},b.prototype.deactivateAll=function(a,f){var h=a||"";this.forEach(function(_){_.get("context")==h&&_!==f&&_.set("active",!1,{fromCollection:!0})})},b.prototype.disableAllButtons=function(a){var f=a||"";this.forEach(function(h,_){h.get("context")==f&&h.set("disable",!0)})},b.prototype.disableAllButtonsExceptOne=function(a,f){this.forEach(function(h,_){h!==a&&(h.set("disable",!0),f&&h.get("buttons").length&&h.get("buttons").disableAllButtonsExceptOne(a,f))})},b}(m.Z);const Y=X;X.prototype.model=I;var x=function(){var v=function(b,a){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])},v(b,a)};return function(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function f(){this.constructor=b}v(b,a),b.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();const W=function(v){function b(a,f){var h=v.call(this,a,f)||this,_=h.get("buttons")||[];return h.buttons=new Y(a,_),h}return x(b,v),b.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(b.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(a){this.set("buttons",a)},enumerable:!1,configurable:!0}),b}(g.Z);var oe=function(){var v=function(b,a){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])},v(b,a)};return function(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function f(){this.constructor=b}v(b,a),b.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),se=function(v){function b(a,f){return v.call(this,a,f,W)||this}return oe(b,v),b}(m.Z);const Z=se;se.prototype.model=W;var B=z(3059),T=z(9050),j=function(){var v=function(b,a){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])},v(b,a)};return function(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function f(){this.constructor=b}v(b,a),b.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),U=function(){return U=Object.assign||function(v){for(var b,a=1,f=arguments.length;a<f;a++)for(var h in b=arguments[a])Object.prototype.hasOwnProperty.call(b,h)&&(v[h]=b[h]);return v},U.apply(this,arguments)};const E=function(v){function b(a){var f=v.call(this,a)||this,h=f,_=h.model,A=h.em,J=h.pfx,te=h.ppfx,F=_.className,G=_.attributes,V=G.command,le=G.listen;if(f.id=J+_.get("id"),f.activeCls="".concat(J,"active ").concat(te,"four-color"),f.disableCls="".concat(te,"disabled"),f.btnsVisCls="".concat(J,"visible"),f.className=J+"btn"+(F?" "+F:""),f.listenTo(_,"change",f.render),f.listenTo(_,"change:active updateActive",f.updateActive),f.listenTo(_,"checkActive",f.checkActive),f.listenTo(_,"change:bntsVis",f.updateBtnsVis),f.listenTo(_,"change:attributes",f.updateAttributes),f.listenTo(_,"change:className",f.updateClassName),f.listenTo(_,"change:disable",f.updateDisable),A&&(0,T.isString)(V)&&le){var ve={fromListen:!0};f.listenTo(A,"run:".concat(V),function(){return _.set("active",!0,ve)}),f.listenTo(A,"stop:".concat(V),function(){return _.set("active",!1,ve)})}return A&&A.get&&(f.commands=A.get("Commands")),f}return j(b,v),b.prototype.tagName=function(){return this.model.get("tagName")},b.prototype.events=function(){return{click:"clicked"}},b.prototype.updateClassName=function(){var a=this.model,f=this.pfx,h=a.className,_=a.get("attributes").class,A="".concat(_||""," ").concat(f,"btn ").concat(h||"");this.$el.attr("class",A.trim())},b.prototype.updateAttributes=function(){var a=this,f=a.em,h=a.model,_=a.$el,A=h.get("attributes")||{},J=f&&f.t&&f.t("panels.buttons.titles.".concat(h.id));_.attr(A),J&&_.attr({title:J}),this.updateClassName()},b.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},b.prototype.updateActive=function(a,f,h){var _;h===void 0&&(h={});var A=this,J=A.model,te=A.commands,F=A.$el,G=A.activeCls,V=h.fromCollection,le=h.fromListen,ve=J.get("context"),Ne=J.get("options"),Ze=J.command,Me={};Ze&&(te&&(0,T.isString)(Ze)?Me=te.get(Ze)||{}:(0,T.isFunction)(Ze)?Me=te.create({run:Ze}):Ze!==null&&(0,T.isObject)(Ze)&&(Me=te.create(Ze)),J.active?(!V&&((_=J.collection)===null||_===void 0||_.deactivateAll(ve,J)),J.set("active",!0,{silent:!0}).trigger("checkActive"),!le&&te.runCommand(Me,U(U({},Ne),{sender:J})),Me.noStop&&J.set("active",!1)):(F.removeClass(G),!le&&te.stopCommand(Me,U(U({},Ne),{sender:J,force:1}))))},b.prototype.updateDisable=function(){var a=this.disableCls,f=this.model.disable;this.$el[f?"addClass":"removeClass"](a)},b.prototype.checkActive=function(){var a=this,f=a.model,h=a.$el,_=a.activeCls;f.active?h.addClass(_):h.removeClass(_)},b.prototype.clicked=function(a){var f=this.model;f.get("bntsVis")||f.disable||!f.command||this.toggleActive()},b.prototype.toggleActive=function(){var a=this.model,f=this.em,h=a.active,_=a.togglable;h&&!_||(a.active=!h,h?a.runDefaultCommand&&f.runDefault():a.stopDefaultCommand&&f.stopDefault())},b.prototype.render=function(){var a=this.model,f=a.get("label"),h=this.$el;return!a.get("el")&&h.empty(),this.updateAttributes(),f&&h.append(f),this.checkActive(),this.updateDisable(),this},b}(B.Z);var M=function(){var v=function(b,a){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])},v(b,a)};return function(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function f(){this.constructor=b}v(b,a),b.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();const c=function(v){function b(a){var f=v.call(this,{collection:a})||this;return f.listenTo(f.collection,"add",f.addTo),f.listenTo(f.collection,"reset remove",f.render),f.className=f.pfx+"buttons",f}return M(b,v),b.prototype.addTo=function(a){this.addToCollection(a)},b.prototype.addToCollection=function(a,f){var h=f||null,_=a.get("el"),A=new E({el:_,model:a}).render().el;return h?h.appendChild(A):this.$el.append(A),A},b.prototype.render=function(){var a=this,f=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(h){return a.addToCollection(h,f)}),this.$el.append(f),this.$el.attr("class",(0,T.result)(this,"className")),this},b}(B.Z);var d=function(){var v=function(b,a){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])},v(b,a)};return function(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function f(){this.constructor=b}v(b,a),b.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}(),s=function(){return s=Object.assign||function(v){for(var b,a=1,f=arguments.length;a<f;a++)for(var h in b=arguments[a])Object.prototype.hasOwnProperty.call(b,h)&&(v[h]=b[h]);return v},s.apply(this,arguments)},p=function(v){function b(a){var f=v.call(this,{model:a,el:a.get("el")})||this;return f.className=f.pfx+"panel",f.id=f.pfx+a.get("id"),f.listenTo(a,"change:appendContent",f.appendContent),f.listenTo(a,"change:content",f.updateContent),f.listenTo(a,"change:visible",f.toggleVisible),a.view=f,f}return d(b,v),b.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},b.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},b.prototype.toggleVisible=function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},b.prototype.attributes=function(){return this.model.get("attributes")},b.prototype.initResize=function(){var a=this.em,f=a?a.get("Editor"):"",h=this.model.get("resizable");if(f&&h){var _,A,J,te=h===!0?[1,1,1,1]:h,F=te.length,G=0;F==2?(_=te[0],J=te[0],A=te[1],G=te[1]):F==4&&(_=te[0],A=te[1],J=te[2],G=te[3]);var V=f.Utils.Resizer.init(s({tc:_,cr:A,bc:J,cl:G,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:f.getConfig().stylePrefix,onEnd:function(){a&&a.trigger("change:canvasOffset")},posFetcher:function(le,ve){var Ne=ve.target,Ze=le.style,Me=V.getConfig(),je=Me.keyWidth,ae=Me.keyHeight,be=le.getBoundingClientRect(),re=Ne=="container",Te=Ze[je],Re=Ze[ae];return{left:0,top:0,width:Te&&!re?parseFloat(Te):be.width,height:Re&&!re?parseFloat(Re):be.height}}},h));V.blur=function(){},V.focus(this.el)}},b.prototype.render=function(){var a=this.model.buttons,f=this.$el,h=this.ppfx,_="".concat(this.className," ").concat(this.id," ").concat(h,"one-bg ").concat(h,"two-color");if(f.addClass(_),this.toggleVisible(),a.length){var A=new c(a);f.append(A.render().el)}return f.append(this.model.get("content")),this},b}(B.Z);const O=p;var K=function(){var v=function(b,a){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])},v(b,a)};return function(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function f(){this.constructor=b}v(b,a),b.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();const Q=function(v){function b(a){var f=v.call(this,{collection:a})||this;return f.listenTo(a,"add",f.addTo),f.listenTo(a,"reset",f.render),f.listenTo(a,"remove",f.onRemove),f.className=f.pfx+"panels",f}return K(b,v),b.prototype.onRemove=function(a){var f=a.view;f&&f.remove()},b.prototype.addTo=function(a){this.addToCollection(a)},b.prototype.addToCollection=function(a,f){var h=f||null,_=(this.config,a.get("el")),A=new O(a),J=A.render().el,te=a.get("appendTo");return _||(te?document.querySelector(te).appendChild(J):h?h.appendChild(J):this.$el.append(J)),A.initResize(),J},b.prototype.render=function(){var a=this,f=this.$el,h=document.createDocumentFragment();return f.empty(),this.collection.each(function(_){return a.addToCollection(_,h)}),f.append(h),f.attr("class",this.className),this},b}(B.Z);var ne=function(){var v=function(b,a){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])},v(b,a)};return function(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function f(){this.constructor=b}v(b,a),b.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();const R=function(v){function b(a){var f=v.call(this,a,"Panels",C)||this;for(var h in f.panels=new Z(f,f.config.defaults),C)h in f.config||(f.config[h]=C[h]);return f}return ne(b,v),b.prototype.getPanels=function(){return this.panels},b.prototype.getPanelsEl=function(){return this.PanelsViewObj&&this.PanelsViewObj.el},b.prototype.addPanel=function(a){return this.panels.add(a)},b.prototype.removePanel=function(a){return this.panels.remove(a)},b.prototype.getPanel=function(a){var f=this.panels.where({id:a});return f.length?f[0]:null},b.prototype.addButton=function(a,f){var h=this.getPanel(a);return h?h.get("buttons").add(f):null},b.prototype.removeButton=function(a,f){var h=this.getPanel(a);return h&&h.get("buttons").remove(f)},b.prototype.getButton=function(a,f){var h=this.getPanel(a);if(h){var _=h.get("buttons").where({id:f});return _.length?_[0]:null}return null},b.prototype.render=function(){return this.PanelsViewObj&&this.PanelsViewObj.remove(),this.PanelsViewObj=new Q(this.panels),this.PanelsViewObj.render().el},b.prototype.active=function(){this.getPanels().each(function(a){a.get("buttons").each(function(f){f.get("active")&&f.trigger("updateActive")})})},b.prototype.disableButtons=function(){this.getPanels().each(function(a){a.get("buttons").each(function(f){f.get("disable")&&f.trigger("change:disable")})})},b.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},b}(ie.Z)},3463:(ge,_e,z)=>{z.r(_e),z.d(_e,{default:()=>v,evAdd:()=>p,evAll:()=>d,evCustom:()=>ne,evPfx:()=>s,evRemove:()=>K,evRemoveBefore:()=>Q,evState:()=>R,evUpdate:()=>O});var ie=z(9050),w=z(1163),k=z(9714),$=z(2316);const D={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:!1,custom:!1};var q,l=z(5963),P=z(966),N=(q=function(b,a){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(f[_]=h[_])},q(b,a)},function(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function f(){this.constructor=b}q(b,a),b.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}),C=function(b){function a(){return b!==null&&b.apply(this,arguments)||this}return N(a,b),a.prototype.defaults=function(){return{name:"",label:""}},a.prototype.getName=function(){return this.get("name")},a.prototype.getLabel=function(){return this.get("label")||this.getName()},a}($.Model);const y=C;C.prototype.idAttribute="name";var m=z(7539),g=function(){var b=function(a,f){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,_){h.__proto__=_}||function(h,_){for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(h[A]=_[A])},b(a,f)};return function(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function h(){this.constructor=a}b(a,f),a.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),S=function(b,a){return Object.defineProperty?Object.defineProperty(b,"raw",{value:a}):b.raw=a,b},I="contentEditable";const H=function(b){function a(f){f===void 0&&(f={});var h=b.call(this,f)||this,_=f.config||{};return h.config=_,h.module=f.module,h.coll=f.coll||null,h.pfx=_.stylePrefix||"",h.ppfx=_.pStylePrefix||"",h.em=_.em,h.listenTo(h.model,"change:active",h.updateStatus),h}return g(a,b),a.prototype.template=function(){var f=this,h=f.pfx,_=f.model,A=f.config,J=_.get("label")||"";return(0,m.Z)(X||(X=S([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),h,h,h,J,h,h,A.iconTagRemove)},a.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},a.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},a.prototype.startEditTag=function(){var f=this.em,h=this.getInputEl();h[I]="true",h.focus(),f&&f.setEditing(1)},a.prototype.endEditTag=function(){var f=this.model,h=this.getInputEl(),_=h.textContent,A=this.em,J=A&&A.get("SelectorManager");if(h[I]="false",A&&A.setEditing(0),J){var te=J.escapeName(_);J.get(te)?h.innerText=f.get("label"):f.set({name:te,label:_})}},a.prototype.changeStatus=function(){var f=this.model;f.set("active",!f.get("active"))},a.prototype.removeTag=function(){this.module.removeSelected(this.model)},a.prototype.updateStatus=function(){var f=this,h=f.model,_=f.$el,A=f.config,J=A.iconTagOn,te=A.iconTagOff,F=_.find("[data-tag-status]");h.get("active")?(F.html(J),_.removeClass("opac50")):(F.html(te),_.addClass("opac50"))},a.prototype.render=function(){var f=this.pfx,h=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(f,"tag ").concat(h,"three-bg")),this.updateStatus(),this},a}($.View);var X,Y=function(){var b=function(a,f){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,_){h.__proto__=_}||function(h,_){for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(h[A]=_[A])},b(a,f)};return function(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function h(){this.constructor=a}b(a,f),a.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),x=function(b,a){return Object.defineProperty?Object.defineProperty(b,"raw",{value:a}):b.raw=a,b};const W=function(b){function a(f){f===void 0&&(f={});var h=b.call(this,f)||this;h.config=f.config||{},h.pfx=h.config.stylePrefix||"",h.ppfx=h.config.pStylePrefix||"",h.className=h.pfx+"tags",h.stateInputId=h.pfx+"states",h.stateInputC=h.pfx+"input-c",h.states=h.config.states||[];var _=h.config.em,A=h.collection;h.target=_;var J=_.get("SelectorManager");return h.module=J,h.em=_,h.componentChanged=(0,ie.debounce)(h.componentChanged.bind(h),0),h.checkSync=(0,ie.debounce)(h.checkSync.bind(h),0),h.listenTo(_,"component:toggled component:update:classes",h.componentChanged),h.listenTo(_,"styleManager:update",h.componentChanged),h.listenTo(_,"component:update:classes change:state",h.__handleStateChange),h.listenTo(_,"styleable:change change:device",h.checkSync),h.listenTo(A,"add",h.addNew),h.listenTo(A,"reset",h.renderClasses),h.listenTo(A,"remove",h.tagRemoved),h.listenTo(J.getAll(),J.events.state,(0,ie.debounce)(function(){return h.renderStates()},0)),h.delegateEvents(),h}return Y(a,b),a.prototype.template=function(f){var h=f.labelInfo,_=f.labelHead,A=f.iconSync,J=f.iconAdd,te=f.pfx,F=f.ppfx;return(0,m.Z)(oe||(oe=x([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),te,te,te,te,_,te,te,te,F,F,F,te,F,F,te,F,te,te,te,te,te,J,te,te,A,te,te,h,te)},a.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},a.prototype.syncStyle=function(){var f,h=this.em,_=this.getTarget(),A=h.get("CssComposer"),J=this.getCommonSelectors({opts:{noDisabled:1}}),te=h.get("state"),F=h.getCurrentMedia(),G=[],V=A.get(J,te,F)||A.add(J,te,F);this.getTargets().forEach(function(le){var ve=A.getIdRule(le.getId(),{state:te,mediaText:F});f=ve.getStyle(),ve.setStyle({}),G.push(ve)}),f&&V.addStyle(f),h.trigger("component:toggled"),h.trigger("component:sync-style",{component:_,selectors:J,mediaText:F,rule:V,ruleComponents:G,state:te})},a.prototype.tagRemoved=function(f){this.updateStateVis()},a.prototype.addNew=function(f){this.addToClasses(f)},a.prototype.startNewTag=function(){var f,h;(f=this.$addBtn)===null||f===void 0||f.css({display:"none"}),(h=this.$input)===null||h===void 0||h.show().focus()},a.prototype.endNewTag=function(){var f,h;(f=this.$addBtn)===null||f===void 0||f.css({display:""}),(h=this.$input)===null||h===void 0||h.hide().val("")},a.prototype.onInputKeyUp=function(f){var h;f.keyCode===13?(f.preventDefault(),this.addNewTag((h=this.$input)===null||h===void 0?void 0:h.val())):f.keyCode===27&&this.endNewTag()},a.prototype.checkStates=function(){var f=this.em.getState(),h=this.getStates();h&&h.val(f)},a.prototype.componentChanged=function(f){var h=(f===void 0?{}:f).targets;this.updateSelection(h)},a.prototype.updateSelection=function(f){var h=f||this.getTargets(),_=[];return(h=(0,ie.isArray)(h)?h:[h])&&h.length&&(_=this.getCommonSelectors({targets:h}),this.checkSync({validSelectors:_})),this.collection.reset(_),this.updateStateVis(h),this.module.__trgCustom(),_},a.prototype.getCommonSelectors=function(f){var h=f===void 0?{}:f,_=h.targets,A=h.opts,J=A===void 0?{}:A,te=_||this.getTargets();return this.module.__getCommonSelectors(te,J)},a.prototype._commonSelectors=function(){for(var f,h=[],_=0;_<arguments.length;_++)h[_]=arguments[_];return(f=this.module).__common.apply(f,h)},a.prototype.checkSync=function(){var f,h=this,_=h.$btnSyncEl,A=h.config,J=h.collection,te=this.getTarget();if(te&&A.componentFirst&&J.length){var F=te.getStyle();f=!(0,ie.isEmpty)(F)}_&&_[f?"show":"hide"]()},a.prototype.getTarget=function(){return this.target.getSelected()},a.prototype.getTargets=function(){return this.target.getSelectedAll()},a.prototype.updateStateVis=function(f){var h=this.em,_=h&&h.getConfig().avoidInlineStyle,A=this.collection.length||_?"":"none";this.getStatesC().css("display",A),this.updateSelector(f)},a.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},a.prototype.updateSelector=function(f){var h=this,_=this.el.querySelector("[data-selected]"),A=[],J=f||this.getTargets();(J=(0,ie.isArray)(J)?J:[J]).forEach(function(te){return A.push(h.__getName(te))}),_&&(_.innerHTML=A.join(", ")),this.checkStates()},a.prototype.__getName=function(f){var h,_=this,A=_.pfx,J=_.config,te=_.em,F=J.selectedName,G=J.componentFirst;if((0,ie.isString)(f))h=(0,m.Z)(se||(se=x(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),A,f);else{var V=f==null?void 0:f.getSelectors();if(!V)return"";var le=V.getStyleable(),ve=te.get("state"),Ne=f.getId?(0,m.Z)(Z||(Z=x(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),A,f.getName(),A,f.getId()):"";h=(h=this.collection.getFullString(le))?(0,m.Z)(B||(B=x(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),A,h):f.get("selectorsAdd")||Ne,h=G&&Ne?Ne:h,h+=ve?(0,m.Z)(T||(T=x(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),A,ve):"",h=F?F({result:h,state:ve,target:f}):h}return h&&'<span class="'.concat(A,'sel">').concat(h,"</span>")},a.prototype.stateChanged=function(f){var h=this.em,_=f.target.value;h.set("state",_)},a.prototype.addNewTag=function(f){var h=f.trim();h&&(this.module.addSelected({label:h}),this.endNewTag())},a.prototype.addToClasses=function(f,h){var _=h,A=this.getClasses(),J=new H({model:f,config:this.config,coll:this.collection,module:this.module}).render().el;return _?_.appendChild(J):A.append(J),J},a.prototype.renderClasses=function(){var f=this,h=document.createDocumentFragment(),_=this.getClasses();_.empty(),this.collection.each(function(A){return f.addToClasses(A,h)}),_.append(h)},a.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},a.prototype.getStates=function(){if(!this.$states){var f=this.$el.find("[data-states]");this.$states=f[0]&&f}return this.$states},a.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},a.prototype.renderStates=function(){var f=this.module,h=this.em,_=h.t("selectorManager.emptyState"),A=f.getStates().map(function(te){var F=h.t("selectorManager.states.".concat(te.id))||te.getLabel()||te.id;return'<option value="'.concat(te.id,'">').concat(F,"</option>")}).join(""),J=this.getStates();J&&J.html('<option value="">'.concat(_,"</option>").concat(A)),this.checkStates()},a.prototype.render=function(){var f=this,h=f.em,_=f.pfx,A=f.ppfx,J=f.config,te=f.$el,F=f.el,G=J.render,V={iconSync:J.iconSync,iconAdd:J.iconAdd,labelHead:h.t("selectorManager.label"),labelInfo:h.t("selectorManager.selected"),ppfx:A,pfx:_,el:F};te.html(this.template(V));var le=G&&G(V);return le&&le!==F&&te.empty().append(le),this.$input=te.find("[data-input]"),this.$addBtn=te.find("[data-add]"),this.$classes=te.find("#"+_+"tags-c"),this.$btnSyncEl=te.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),te.attr("class","".concat(this.className," ").concat(A,"one-bg ").concat(A,"two-color")),this},a}($.View);var oe,se,Z,B,T,j=function(){var b=function(a,f){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,_){h.__proto__=_}||function(h,_){for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(h[A]=_[A])},b(a,f)};return function(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function h(){this.constructor=a}b(a,f),a.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),U=function(){return U=Object.assign||function(b){for(var a,f=1,h=arguments.length;f<h;f++)for(var _ in a=arguments[f])Object.prototype.hasOwnProperty.call(a,_)&&(b[_]=a[_]);return b},U.apply(this,arguments)},E=function(b,a,f){if(f||arguments.length===2)for(var h,_=0,A=a.length;_<A;_++)!h&&_ in a||(h||(h=Array.prototype.slice.call(a,0,_)),h[_]=a[_]);return b.concat(h||Array.prototype.slice.call(a))},M=function(b){return(0,ie.isString)(b)&&b[0]=="#"},c=function(b){return(0,ie.isString)(b)&&b[0]=="."},d="selector",s="".concat(d,":"),p="".concat(s,"add"),O="".concat(s,"update"),K="".concat(s,"remove"),Q="".concat(K,":before"),ne="".concat(s,"custom"),R="".concat(s,"state");const v=function(b){function a(){var f=b!==null&&b.apply(this,arguments)||this;return f.name="SelectorManager",f.Selector=l.Z,f.Selectors=P.Z,f.events={all:d,update:O,add:p,remove:K,removeBefore:Q,state:R,custom:ne},f.__update=(0,ie.debounce)(function(){f.__trgCustom()},0),f}return j(a,b),a.prototype.init=function(f){var h=this;f===void 0&&(f={}),this.__initConfig(D,f);var _=this.getConfig(),A=this.em,J=_.pStylePrefix;return J&&(_.stylePrefix=J+_.stylePrefix),this.all=new P.Z(_.selectors),this.selected=new P.Z([],{em:A,config:_}),this.states=new $.Collection(_.states.map(function(te){return new y(te)}),{model:y}),this.model=new $.Model({cFirst:_.componentFirst,_undo:!0}),this.__initListen({collections:[this.states,this.selected],propagate:[{entity:this.states,event:this.events.state}]}),A.on("change:state",function(te,F){return A.trigger(R,F)}),this.model.on("change:cFirst",function(te,F){return A.trigger("selector:type",F)}),this.model.listenTo(A,"component:toggled component:update:classes change:device styleManager:update selector:state selector:type",function(){return h.__update()}),this},a.prototype.__trgCustom=function(f){this.em.trigger(this.events.custom,this.__customData(f))},a.prototype.__customData=function(f){f===void 0&&(f={});var h=f.container;return{states:this.getStates(),selected:this.getSelected(),container:h}},a.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},a.prototype.select=function(f,h){h===void 0&&(h={});var _=Array.isArray(f)?f:[f],A=this.em.get("StyleManager").select(_,h),J=this.selectorTags,te=A.filter(function(F){return F}).map(function(F){return(0,w.isComponent)(F)||(0,w.isRule)(F)&&!F.get("selectorsAdd")?F:F.getSelectorsString()});return J&&J.componentChanged({targets:te}),this},a.prototype.addSelector=function(f,h,_){h===void 0&&(h={}),_===void 0&&(_={});var A=U({},h);(0,ie.isObject)(f)?A=f:A.name=f,M(A.name)?(A.name=A.name.substr(1),A.type=l.Z.TYPE_ID):c(A.name)&&(A.name=A.name.substr(1)),A.label&&!A.name&&(A.name=this.escapeName(A.label));var J=A.name,te=this.getConfig(),F=this.getAll(),G=this.em,V=J?this.get(J,A.type):F.where(A)[0];if(!V){var le=A instanceof l.Z?A:new l.Z(A,U(U({},_),{config:te,em:G}));return F.add(le,_)}return V},a.prototype.getSelector=function(f,h){return h===void 0&&(h=l.Z.TYPE_CLASS),M(f)?(f=f.substr(1),h=l.Z.TYPE_ID):c(f)&&(f=f.substr(1)),this.getAll().where({name:f,type:h})[0]},a.prototype.add=function(f,h){var _=this;h===void 0&&(h={});var A=(0,ie.isString)(f)?{}:h;return(0,ie.isArray)(f)?f.map(function(J){return _.addSelector(J,h,A)}):this.addSelector(f,h,A)},a.prototype.addClass=function(f){var h=this,_=[];return(0,ie.isString)(f)&&(f=f.trim().split(" ")),f.forEach(function(A){return _.push(h.addSelector(A))}),_},a.prototype.get=function(f,h){var _=this;if((0,ie.isArray)(f)){var A=[];return f.map(function(J){return _.getSelector(J)}).filter(function(J){return J}).forEach(function(J){return A.indexOf(J)<0&&A.push(J)}),A}return this.getSelector(f,h)||null},a.prototype.remove=function(f,h){return this.__remove(f,h)},a.prototype.setState=function(f){return this.em.setState(f),this},a.prototype.getState=function(){return this.em.getState()},a.prototype.getStates=function(){return E([],this.states.models,!0)},a.prototype.setStates=function(f,h){return this.states.reset(f.map(function(_){return new y(_)}),h)},a.prototype.getSelected=function(){return this.__getCommon()},a.prototype.addSelected=function(f){var h=this.add(f);this.em.getSelectedAll().forEach(function(_){_.getSelectors().add(h)})},a.prototype.removeSelected=function(f){this.em.getSelectedAll().forEach(function(h){!f.get("protected")&&h&&h.getSelectors().remove(f)})},a.prototype.getSelectedTargets=function(){return this.em.get("StyleManager").getSelectedAll()},a.prototype.setComponentFirst=function(f){this.getConfig().componentFirst=f,this.model.set({cFirst:f})},a.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},a.prototype.escapeName=function(f){var h=this.getConfig().escapeName;return h?h(f):l.Z.escapeName(f)},a.prototype.render=function(f){this.em;var h=this.selectorTags,_=this.getConfig(),A=h&&h.el;return this.selected.reset(f),this.selectorTags=new W({el:A,collection:this.selected,module:this,config:_}),this.selectorTags.render().el},a.prototype.destroy=function(){var f=this.selectorTags;this.model.stopListening(),this.__update.cancel(),this.__destroy(),f==null||f.remove(),this.selectorTags=void 0},a.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},a.prototype.__getCommonSelectors=function(f,h){h===void 0&&(h={});var _=f.map(function(A){return A.getSelectors&&A.getSelectors().getValid(h)}).filter(Boolean);return this.__common.apply(this,_)},a.prototype.__common=function(){for(var f=this,h=[],_=0;_<arguments.length;_++)h[_]=arguments[_];return h.length?h.length===1?h[0]:h.length===2?h[0].filter(function(A){return h[1].indexOf(A)>=0}):h.slice(1).reduce(function(A,J){return f.__common(A,J)},h[0]):[]},a}(k.Z)},5963:(ge,_e,z)=>{z.d(_e,{Z:()=>P});var ie,w=z(9050),k=z(2316),$=(ie=function(N,C){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(y[g]=m[g])},ie(N,C)},function(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=N}ie(N,C),N.prototype=C===null?Object.create(C):(y.prototype=C.prototype,new y)}),D=1,q=2,l=function(N){function C(y,m){m===void 0&&(m={});var g=N.call(this,y,m)||this,S=m.config,I=S===void 0?{}:S,H=g.get("name"),X=g.get("label");H?X||g.set("label",H):g.set("name",X);var Y=g.get("name"),x=I.escapeName,W=x?x(Y):C.escapeName(Y);return g.set("name",W),g.em=m.em,g}return $(C,N),C.prototype.defaults=function(){return{name:"",label:"",type:D,active:!0,private:!1,protected:!1,_undo:!0}},C.prototype.isId=function(){return this.get("type")===q},C.prototype.isClass=function(){return this.get("type")===D},C.prototype.getFullName=function(y){y===void 0&&(y={});var m=y.escape,g=this.get("name"),S="";switch(this.get("type")){case D:S=".";break;case q:S="#"}return S+(m?m(g):g)},C.prototype.toString=function(){return this.getFullName()},C.prototype.getLabel=function(){return this.get("label")},C.prototype.setLabel=function(y){return this.set("label",y)},C.prototype.getActive=function(){return this.get("active")},C.prototype.setActive=function(y){return this.set("active",y)},C.prototype.toJSON=function(y){y===void 0&&(y={});var m=this.em,g=k.Model.prototype.toJSON.call(this,[y]),S=(0,w.result)(this,"defaults");if(m&&m.getConfig().avoidDefaults){(0,w.forEach)(S,function(H,X){g[X]===H&&delete g[X]}),g.label===g.name&&delete g.label;var I=(0,w.keys)(g).length;I===1&&g.name&&(g=g.name),I===2&&g.name&&g.type&&(g=this.getFullName())}return g},C.escapeName=function(y){return"".concat(y).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")},C.TYPE_CLASS=D,C.TYPE_ID=q,C}(k.Model);const P=l;l.prototype.idAttribute="name"},966:(ge,_e,z)=>{z.d(_e,{Z:()=>P});var ie,w=z(9050),k=z(2316),$=z(5963),D=(ie=function(N,C){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(y[g]=m[g])},ie(N,C)},function(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=N}ie(N,C),N.prototype=C===null?Object.create(C):(y.prototype=C.prototype,new y)}),q=function(N,C){return N.reduce(function(y,m,g){return y.concat(q(N.slice(g+1),"".concat(C).concat(m)))},[C])},l=function(N){function C(){return N!==null&&N.apply(this,arguments)||this}return D(C,N),C.prototype.modelId=function(y){return"".concat(y.name,"_").concat(y.type||$.Z.TYPE_CLASS)},C.prototype.getStyleable=function(){return(0,w.filter)(this.models,function(y){return y.get("active")&&!y.get("private")})},C.prototype.getValid=function(y){var m=(y===void 0?{}:y).noDisabled;return(0,w.filter)(this.models,function(g){return!g.get("private")}).filter(function(g){return m?g.get("active"):1})},C.prototype.getFullString=function(y,m){m===void 0&&(m={});var g=[];return(y||this).forEach(function(S){return g.push(S.getFullName(m))}),m.sort&&g.sort(),g.join("").trim()},C.prototype.getFullName=function(y){y===void 0&&(y={});var m=y.combination,g=y.array,S=[],I=this.map(function(H){return H.getFullName(y)}).sort();return m?I.forEach(function(H,X){S=S.concat(q(I.slice(X+1),H))}):S=I,g?S:m?S.join(","):S.join("")},C}(k.Collection);const P=l;l.prototype.model=$.Z},7539:(ge,_e,z)=>{z.d(_e,{Z:()=>w});var ie=z(1163);function w(k){for(var $=[],D=1;D<arguments.length;D++)$[D-1]=arguments[D];var q=k.raw;return q.reduce(function(l,P,N){var C=$[N-1],y=q[N-1];return Array.isArray(C)?C=C.join(""):y&&y.slice(-1)==="$"?l=l.slice(0,-1):C=(0,ie.escape)(C),l+C+P})}},1163:(ge,_e,z)=>{z.r(_e),z.d(_e,{appendStyles:()=>y,buildBase64UrlFromSvg:()=>f,camelCase:()=>X,capitalize:()=>Q,createId:()=>a,deepMerge:()=>j,escape:()=>T,find:()=>B,getElRect:()=>E,getElement:()=>W,getGlobal:()=>q,getKeyChar:()=>d,getKeyCode:()=>c,getModel:()=>U,getPointerEvent:()=>M,getUiClass:()=>C,getUnitFromValue:()=>I,getViewEl:()=>v,hasDnd:()=>x,hasWin:()=>D,isCommentNode:()=>se,isComponent:()=>ne,isDef:()=>$,isEmptyObj:()=>K,isEnterKey:()=>p,isEscKey:()=>s,isObject:()=>O,isRule:()=>R,isTaggableNode:()=>Z,isTextNode:()=>oe,matches:()=>N,normalizeFloat:()=>Y,off:()=>S,on:()=>g,setViewEl:()=>b,shallowDiff:()=>m,toLowerCase:()=>l,upFirst:()=>H});var ie=z(9050),w=function(){return w=Object.assign||function(h){for(var _,A=1,J=arguments.length;A<J;A++)for(var te in _=arguments[A])Object.prototype.hasOwnProperty.call(_,te)&&(h[te]=_[te]);return h},w.apply(this,arguments)},k=function(h,_,A){if(A||arguments.length===2)for(var J,te=0,F=_.length;te<F;te++)!J&&te in _||(J||(J=Array.prototype.slice.call(_,0,te)),J[te]=_[te]);return h.concat(J||Array.prototype.slice.call(_))},$=function(h){return h!==void 0},D=function(){return typeof window<"u"},q=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:z.g},l=function(h){return(h||"").toLowerCase()},P=D()?window.Element.prototype:{},N=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.msMatchesSelector,C=function(h,_){var A=h.getConfig(),J=A.stylePrefix;return[A.customUI&&"".concat(J,"cui"),_].filter(function(te){return te}).join(" ")},y=function(h,_){_===void 0&&(_={});var A=(0,ie.isArray)(h)?k([],h,!0):[h];if(A.length){var J=A.shift();if(J&&(!_.unique||!document.querySelector('link[href="'.concat(J,'"]')))){var te=document.head,F=document.createElement("link");F.href=J,F.rel="stylesheet",_.prepand?te.insertBefore(F,te.firstChild):te.appendChild(F)}y(A)}},m=function(h,_){var A={},J=(0,ie.keys)(_);for(var te in h)if(h.hasOwnProperty(te)){var F=h[te],G=_[te];J.indexOf(te)>=0?F!==G&&(A[te]=G):A[te]=null}for(var te in _)_.hasOwnProperty(te)&&(0,ie.isUndefined)(h[te])&&(A[te]=_[te]);return A},g=function(h,_,A,J){var te=_.split(/\s+/);h=h instanceof Array?h:[h];for(var F=function(V){h.forEach(function(le){return le&&le.addEventListener(te[V],A,J)})},G=0;G<te.length;++G)F(G)},S=function(h,_,A,J){var te=_.split(/\s+/);h=h instanceof Array?h:[h];for(var F=function(V){h.forEach(function(le){return le&&le.removeEventListener(te[V],A,J)})},G=0;G<te.length;++G)F(G)},I=function(h){return h.replace(parseFloat(h),"")},H=function(h){return h[0].toUpperCase()+h.toLowerCase().slice(1)},X=function(h){return h.replace(/-./g,function(_){return _[1].toUpperCase()})},Y=function(h,_,A){_===void 0&&(_=1),A===void 0&&(A=0);var J=0;if(isNaN(h))return A;if(h=parseFloat(h),Math.floor(h)!==h){var te=_.toString().split(".")[1];J=te?te.length:0}return J?parseFloat(h.toFixed(J)):h},x=function(h){return"draggable"in document.createElement("i")&&(h?h.get("Config").nativeDnD:1)},W=function(h){return(0,ie.isElement)(h)||oe(h)?h:h&&h.getEl?h.getEl():void 0},oe=function(h){return h&&h.nodeType===3},se=function(h){return h&&h.nodeType===8},Z=function(h){return h&&!oe(h)&&!se(h)},B=function(h,_){var A=null;return h.some(function(J,te){return _(J,te,h)?(A=J,1):0}),A},T=function(h){return h===void 0&&(h=""),"".concat(h).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},j=function(){for(var h=[],_=0;_<arguments.length;_++)h[_]=arguments[_];for(var A=w({},h[0]),J=1;J<h.length;J++){var te=w({},h[J]);for(var F in te){var G=A[F],V=te[F];O(G)&&O(V)?A[F]=j(G,V):A[F]=V}}return A},U=function(h,_){var A=h;return!_&&h&&h.__cashData?A=h.__cashData.model:(0,ie.isElement)(h)&&(A=_(h).data("model")),A},E=function(h){var _,A={top:0,left:0,width:0,height:0};if(!h)return A;if(oe(h)){var J=document.createRange();J.selectNode(h),_=J.getBoundingClientRect(),J.detach()}return _||(h.getBoundingClientRect?h.getBoundingClientRect():A)},M=function(h){return h.touches&&h.touches[0]?h.touches[0]:h},c=function(h){return h.which||h.keyCode},d=function(h){return String.fromCharCode(c(h))},s=function(h){return c(h)===27},p=function(h){return c(h)===13},O=function(h){return h!==null&&!Array.isArray(h)&&typeof h=="object"},K=function(h){return Object.keys(h).length<=0},Q=function(h){return h&&h.charAt(0).toUpperCase()+h.substring(1)},ne=function(h){return h&&h.toHTML},R=function(h){return h&&h.toCSS},v=function(h){return h.__gjsv},b=function(h,_){h.__gjsv=_},a=function(h){h===void 0&&(h=16);for(var _="",A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",J=A.length,te=0;te<h;te++)_+=A.charAt(Math.floor(Math.random()*J));return _},f=function(h){if(h&&h.substr(0,4)==="<svg"){var _="";return D()?_=window.btoa(h):typeof Buffer<"u"&&(_=Buffer.from(h,"utf8").toString("base64")),_?"data:image/svg+xml;base64,".concat(_):h}return h}},2828:(ge,_e,z)=>{var ie={"./CanvasClear":7202,"./CanvasClear.js":7202,"./CanvasMove":327,"./CanvasMove.js":327,"./CommandAbstract":238,"./CommandAbstract.js":238,"./ComponentDelete":5820,"./ComponentDelete.js":5820,"./ComponentDrag":6694,"./ComponentDrag.js":6694,"./ComponentEnter":1947,"./ComponentEnter.js":1947,"./ComponentExit":3888,"./ComponentExit.js":3888,"./ComponentNext":5883,"./ComponentNext.js":5883,"./ComponentPrev":7508,"./ComponentPrev.js":7508,"./ComponentStyleClear":8769,"./ComponentStyleClear.js":8769,"./CopyComponent":2213,"./CopyComponent.js":2213,"./DeleteComponent":5049,"./DeleteComponent.js":5049,"./ExportTemplate":3775,"./ExportTemplate.js":3775,"./Fullscreen":58,"./Fullscreen.js":58,"./MoveComponent":8658,"./MoveComponent.js":8658,"./OpenAssets":9617,"./OpenAssets.js":9617,"./OpenBlocks":5821,"./OpenBlocks.js":5821,"./OpenLayers":3452,"./OpenLayers.js":3452,"./OpenStyleManager":2840,"./OpenStyleManager.js":2840,"./OpenTraitManager":8644,"./OpenTraitManager.js":8644,"./PasteComponent":560,"./PasteComponent.js":560,"./Preview":4944,"./Preview.js":4944,"./Resize":7538,"./Resize.js":7538,"./SelectComponent":2620,"./SelectComponent.js":2620,"./SelectPosition":8463,"./SelectPosition.js":8463,"./ShowOffset":7994,"./ShowOffset.js":7994,"./SwitchVisibility":8352,"./SwitchVisibility.js":8352};function w($){var D=k($);return z(D)}function k($){if(!z.o(ie,$)){var D=new Error("Cannot find module '"+$+"'");throw D.code="MODULE_NOT_FOUND",D}return ie[$]}w.keys=function(){return Object.keys(ie)},w.resolve=k,ge.exports=w,w.id=2828},7061:(ge,_e,z)=>{var ie=z(8698).default;function w(){ge.exports=w=function(){return k},ge.exports.__esModule=!0,ge.exports.default=ge.exports;var k={},$=Object.prototype,D=$.hasOwnProperty,q=typeof Symbol=="function"?Symbol:{},l=q.iterator||"@@iterator",P=q.asyncIterator||"@@asyncIterator",N=q.toStringTag||"@@toStringTag";function C(M,c,d){return Object.defineProperty(M,c,{value:d,enumerable:!0,configurable:!0,writable:!0}),M[c]}try{C({},"")}catch{C=function(c,d,s){return c[d]=s}}function y(M,c,d,s){var p=c&&c.prototype instanceof S?c:S,O=Object.create(p.prototype),K=new j(s||[]);return O._invoke=function(Q,ne,R){var v="suspendedStart";return function(b,a){if(v==="executing")throw new Error("Generator is already running");if(v==="completed"){if(b==="throw")throw a;return E()}for(R.method=b,R.arg=a;;){var f=R.delegate;if(f){var h=Z(f,R);if(h){if(h===g)continue;return h}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(v==="suspendedStart")throw v="completed",R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);v="executing";var _=m(Q,ne,R);if(_.type==="normal"){if(v=R.done?"completed":"suspendedYield",_.arg===g)continue;return{value:_.arg,done:R.done}}_.type==="throw"&&(v="completed",R.method="throw",R.arg=_.arg)}}}(M,d,K),O}function m(M,c,d){try{return{type:"normal",arg:M.call(c,d)}}catch(s){return{type:"throw",arg:s}}}k.wrap=y;var g={};function S(){}function I(){}function H(){}var X={};C(X,l,function(){return this});var Y=Object.getPrototypeOf,x=Y&&Y(Y(U([])));x&&x!==$&&D.call(x,l)&&(X=x);var W=H.prototype=S.prototype=Object.create(X);function oe(M){["next","throw","return"].forEach(function(c){C(M,c,function(d){return this._invoke(c,d)})})}function se(M,c){function d(p,O,K,Q){var ne=m(M[p],M,O);if(ne.type!=="throw"){var R=ne.arg,v=R.value;return v&&ie(v)=="object"&&D.call(v,"__await")?c.resolve(v.__await).then(function(b){d("next",b,K,Q)},function(b){d("throw",b,K,Q)}):c.resolve(v).then(function(b){R.value=b,K(R)},function(b){return d("throw",b,K,Q)})}Q(ne.arg)}var s;this._invoke=function(p,O){function K(){return new c(function(Q,ne){d(p,O,Q,ne)})}return s=s?s.then(K,K):K()}}function Z(M,c){var d=M.iterator[c.method];if(d===void 0){if(c.delegate=null,c.method==="throw"){if(M.iterator.return&&(c.method="return",c.arg=void 0,Z(M,c),c.method==="throw"))return g;c.method="throw",c.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var s=m(d,M.iterator,c.arg);if(s.type==="throw")return c.method="throw",c.arg=s.arg,c.delegate=null,g;var p=s.arg;return p?p.done?(c[M.resultName]=p.value,c.next=M.nextLoc,c.method!=="return"&&(c.method="next",c.arg=void 0),c.delegate=null,g):p:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,g)}function B(M){var c={tryLoc:M[0]};1 in M&&(c.catchLoc=M[1]),2 in M&&(c.finallyLoc=M[2],c.afterLoc=M[3]),this.tryEntries.push(c)}function T(M){var c=M.completion||{};c.type="normal",delete c.arg,M.completion=c}function j(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(B,this),this.reset(!0)}function U(M){if(M){var c=M[l];if(c)return c.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var d=-1,s=function p(){for(;++d<M.length;)if(D.call(M,d))return p.value=M[d],p.done=!1,p;return p.value=void 0,p.done=!0,p};return s.next=s}}return{next:E}}function E(){return{value:void 0,done:!0}}return I.prototype=H,C(W,"constructor",H),C(H,"constructor",I),I.displayName=C(H,N,"GeneratorFunction"),k.isGeneratorFunction=function(M){var c=typeof M=="function"&&M.constructor;return!!c&&(c===I||(c.displayName||c.name)==="GeneratorFunction")},k.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,H):(M.__proto__=H,C(M,N,"GeneratorFunction")),M.prototype=Object.create(W),M},k.awrap=function(M){return{__await:M}},oe(se.prototype),C(se.prototype,P,function(){return this}),k.AsyncIterator=se,k.async=function(M,c,d,s,p){p===void 0&&(p=Promise);var O=new se(y(M,c,d,s),p);return k.isGeneratorFunction(c)?O:O.next().then(function(K){return K.done?K.value:O.next()})},oe(W),C(W,N,"Generator"),C(W,l,function(){return this}),C(W,"toString",function(){return"[object Generator]"}),k.keys=function(M){var c=[];for(var d in M)c.push(d);return c.reverse(),function s(){for(;c.length;){var p=c.pop();if(p in M)return s.value=p,s.done=!1,s}return s.done=!0,s}},k.values=U,j.prototype={constructor:j,reset:function(M){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!M)for(var c in this)c.charAt(0)==="t"&&D.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=void 0)},stop:function(){this.done=!0;var M=this.tryEntries[0].completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var c=this;function d(ne,R){return O.type="throw",O.arg=M,c.next=ne,R&&(c.method="next",c.arg=void 0),!!R}for(var s=this.tryEntries.length-1;s>=0;--s){var p=this.tryEntries[s],O=p.completion;if(p.tryLoc==="root")return d("end");if(p.tryLoc<=this.prev){var K=D.call(p,"catchLoc"),Q=D.call(p,"finallyLoc");if(K&&Q){if(this.prev<p.catchLoc)return d(p.catchLoc,!0);if(this.prev<p.finallyLoc)return d(p.finallyLoc)}else if(K){if(this.prev<p.catchLoc)return d(p.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<p.finallyLoc)return d(p.finallyLoc)}}}},abrupt:function(M,c){for(var d=this.tryEntries.length-1;d>=0;--d){var s=this.tryEntries[d];if(s.tryLoc<=this.prev&&D.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var p=s;break}}p&&(M==="break"||M==="continue")&&p.tryLoc<=c&&c<=p.finallyLoc&&(p=null);var O=p?p.completion:{};return O.type=M,O.arg=c,p?(this.method="next",this.next=p.finallyLoc,g):this.complete(O)},complete:function(M,c){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&c&&(this.next=c),g},finish:function(M){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.finallyLoc===M)return this.complete(d.completion,d.afterLoc),T(d),g}},catch:function(M){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc===M){var s=d.completion;if(s.type==="throw"){var p=s.arg;T(d)}return p}}throw new Error("illegal catch attempt")},delegateYield:function(M,c,d){return this.delegate={iterator:U(M),resultName:c,nextLoc:d},this.method==="next"&&(this.arg=void 0),g}},k}ge.exports=w,ge.exports.__esModule=!0,ge.exports.default=ge.exports},8698:ge=>{function _e(z){return ge.exports=_e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},ge.exports.__esModule=!0,ge.exports.default=ge.exports,_e(z)}ge.exports=_e,ge.exports.__esModule=!0,ge.exports.default=ge.exports},4687:(ge,_e,z)=>{var ie=z(7061)();ge.exports=ie;try{regeneratorRuntime=ie}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ie:Function("r","regeneratorRuntime = r")(ie)}},907:(ge,_e,z)=>{function ie(w,k){(k==null||k>w.length)&&(k=w.length);for(var $=0,D=new Array(k);$<k;$++)D[$]=w[$];return D}z.d(_e,{Z:()=>ie})},7326:(ge,_e,z)=>{function ie(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}z.d(_e,{Z:()=>ie})},5861:(ge,_e,z)=>{function ie(k,$,D,q,l,P,N){try{var C=k[P](N),y=C.value}catch(m){return void D(m)}C.done?$(y):Promise.resolve(y).then(q,l)}function w(k){return function(){var $=this,D=arguments;return new Promise(function(q,l){var P=k.apply($,D);function N(y){ie(P,q,l,N,C,"next",y)}function C(y){ie(P,q,l,N,C,"throw",y)}N(void 0)})}}z.d(_e,{Z:()=>w})},5671:(ge,_e,z)=>{function ie(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}z.d(_e,{Z:()=>ie})},3144:(ge,_e,z)=>{function ie(k,$){for(var D=0;D<$.length;D++){var q=$[D];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(k,q.key,q)}}function w(k,$,D){return $&&ie(k.prototype,$),D&&ie(k,D),Object.defineProperty(k,"prototype",{writable:!1}),k}z.d(_e,{Z:()=>w})},4942:(ge,_e,z)=>{function ie(w,k,$){return k in w?Object.defineProperty(w,k,{value:$,enumerable:!0,configurable:!0,writable:!0}):w[k]=$,w}z.d(_e,{Z:()=>ie})},1752:(ge,_e,z)=>{z.d(_e,{Z:()=>k});var ie=z(1120);function w($,D){for(;!Object.prototype.hasOwnProperty.call($,D)&&($=(0,ie.Z)($))!==null;);return $}function k(){return k=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function($,D,q){var l=w($,D);if(l){var P=Object.getOwnPropertyDescriptor(l,D);return P.get?P.get.call(arguments.length<3?$:q):P.value}},k.apply(this,arguments)}},1120:(ge,_e,z)=>{function ie(w){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},ie(w)}z.d(_e,{Z:()=>ie})},9340:(ge,_e,z)=>{function ie(k,$){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,q){return D.__proto__=q,D},ie(k,$)}function w(k,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create($&&$.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),$&&ie(k,$)}z.d(_e,{Z:()=>w})},4925:(ge,_e,z)=>{function ie(w,k){if(w==null)return{};var $,D,q=function(P,N){if(P==null)return{};var C,y,m={},g=Object.keys(P);for(y=0;y<g.length;y++)C=g[y],N.indexOf(C)>=0||(m[C]=P[C]);return m}(w,k);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(w);for(D=0;D<l.length;D++)$=l[D],k.indexOf($)>=0||Object.prototype.propertyIsEnumerable.call(w,$)&&(q[$]=w[$])}return q}z.d(_e,{Z:()=>ie})},2963:(ge,_e,z)=>{z.d(_e,{Z:()=>k});var ie=z(1002),w=z(7326);function k($,D){if(D&&((0,ie.Z)(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,w.Z)($)}},885:(ge,_e,z)=>{z.d(_e,{Z:()=>w});var ie=z(181);function w(k,$){return function(D){if(Array.isArray(D))return D}(k)||function(D,q){var l=D==null?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(l!=null){var P,N,C=[],y=!0,m=!1;try{for(l=l.call(D);!(y=(P=l.next()).done)&&(C.push(P.value),!q||C.length!==q);y=!0);}catch(g){m=!0,N=g}finally{try{y||l.return==null||l.return()}finally{if(m)throw N}}return C}}(k,$)||(0,ie.Z)(k,$)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},168:(ge,_e,z)=>{function ie(w,k){return k||(k=w.slice(0)),Object.freeze(Object.defineProperties(w,{raw:{value:Object.freeze(k)}}))}z.d(_e,{Z:()=>ie})},2982:(ge,_e,z)=>{z.d(_e,{Z:()=>k});var ie=z(907),w=z(181);function k($){return function(D){if(Array.isArray(D))return(0,ie.Z)(D)}($)||function(D){if(typeof Symbol<"u"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}($)||(0,w.Z)($)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1002:(ge,_e,z)=>{function ie(w){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},ie(w)}z.d(_e,{Z:()=>ie})},181:(ge,_e,z)=>{z.d(_e,{Z:()=>w});var ie=z(907);function w(k,$){if(k){if(typeof k=="string")return(0,ie.Z)(k,$);var D=Object.prototype.toString.call(k).slice(8,-1);return D==="Object"&&k.constructor&&(D=k.constructor.name),D==="Map"||D==="Set"?Array.from(k):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?(0,ie.Z)(k,$):void 0}}},9050:(ge,_e,z)=>{z.r(_e),z.d(_e,{VERSION:()=>w,after:()=>Ie,all:()=>Ft,allKeys:()=>Dt,any:()=>Zt,assign:()=>Qt,before:()=>qe,bind:()=>cr,bindAll:()=>Yn,chain:()=>gr,chunk:()=>yo,clone:()=>Bn,collect:()=>de,compact:()=>si,compose:()=>we,constant:()=>V,contains:()=>At,countBy:()=>Nr,create:()=>wn,debounce:()=>ce,default:()=>ps,defaults:()=>rn,defer:()=>yt,delay:()=>ft,detect:()=>tt,difference:()=>Di,drop:()=>Hr,each:()=>me,escape:()=>en,every:()=>Ft,extend:()=>pn,extendOwn:()=>Qt,filter:()=>Rt,find:()=>tt,findIndex:()=>kt,findKey:()=>bt,findLastIndex:()=>Mt,findWhere:()=>fe,first:()=>Ur,flatten:()=>Zo,foldl:()=>Ye,foldr:()=>Ot,forEach:()=>me,functions:()=>hn,get:()=>Nn,groupBy:()=>er,has:()=>Vn,head:()=>Ur,identity:()=>Sn,include:()=>At,includes:()=>At,indexBy:()=>Br,indexOf:()=>dn,initial:()=>ni,inject:()=>Ye,intersection:()=>yi,invert:()=>mn,invoke:()=>Lt,isArguments:()=>te,isArray:()=>_,isArrayBuffer:()=>K,isBoolean:()=>j,isDataView:()=>h,isDate:()=>d,isElement:()=>U,isEmpty:()=>Te,isEqual:()=>Xt,isError:()=>p,isFinite:()=>F,isFunction:()=>R,isMap:()=>gt,isMatch:()=>Re,isNaN:()=>G,isNull:()=>B,isNumber:()=>c,isObject:()=>Z,isRegExp:()=>s,isSet:()=>Ct,isString:()=>M,isSymbol:()=>O,isTypedArray:()=>je,isUndefined:()=>T,isWeakMap:()=>vt,isWeakSet:()=>It,iteratee:()=>In,keys:()=>re,last:()=>Xr,lastIndexOf:()=>Xe,map:()=>de,mapObject:()=>cn,matcher:()=>ln,matches:()=>ln,max:()=>En,memoize:()=>Kn,methods:()=>hn,min:()=>Jn,mixin:()=>eo,negate:()=>ee,noop:()=>Tn,now:()=>yn,object:()=>Gi,omit:()=>Ti,once:()=>ht,pairs:()=>sn,partial:()=>mr,partition:()=>_i,pick:()=>li,pluck:()=>Gt,property:()=>ze,propertyOf:()=>gn,random:()=>On,range:()=>Ki,reduce:()=>Ye,reduceRight:()=>Ot,reject:()=>Vt,rest:()=>Hr,restArguments:()=>se,result:()=>an,sample:()=>De,select:()=>Rt,shuffle:()=>un,size:()=>Ai,some:()=>Zt,sortBy:()=>An,sortedIndex:()=>$t,tail:()=>Hr,take:()=>Ur,tap:()=>Hn,template:()=>kn,templateSettings:()=>at,throttle:()=>Ce,times:()=>jn,toArray:()=>Pe,toPath:()=>Zn,transpose:()=>Bi,unescape:()=>Qe,union:()=>Dr,uniq:()=>ui,unique:()=>ui,uniqueId:()=>Gn,unzip:()=>Bi,values:()=>Nt,where:()=>vn,without:()=>Mr,wrap:()=>he,zip:()=>Ni});var ie={};z.r(ie),z.d(ie,{VERSION:()=>w,after:()=>Ie,all:()=>Ft,allKeys:()=>Dt,any:()=>Zt,assign:()=>Qt,before:()=>qe,bind:()=>cr,bindAll:()=>Yn,chain:()=>gr,chunk:()=>yo,clone:()=>Bn,collect:()=>de,compact:()=>si,compose:()=>we,constant:()=>V,contains:()=>At,countBy:()=>Nr,create:()=>wn,debounce:()=>ce,default:()=>bo,defaults:()=>rn,defer:()=>yt,delay:()=>ft,detect:()=>tt,difference:()=>Di,drop:()=>Hr,each:()=>me,escape:()=>en,every:()=>Ft,extend:()=>pn,extendOwn:()=>Qt,filter:()=>Rt,find:()=>tt,findIndex:()=>kt,findKey:()=>bt,findLastIndex:()=>Mt,findWhere:()=>fe,first:()=>Ur,flatten:()=>Zo,foldl:()=>Ye,foldr:()=>Ot,forEach:()=>me,functions:()=>hn,get:()=>Nn,groupBy:()=>er,has:()=>Vn,head:()=>Ur,identity:()=>Sn,include:()=>At,includes:()=>At,indexBy:()=>Br,indexOf:()=>dn,initial:()=>ni,inject:()=>Ye,intersection:()=>yi,invert:()=>mn,invoke:()=>Lt,isArguments:()=>te,isArray:()=>_,isArrayBuffer:()=>K,isBoolean:()=>j,isDataView:()=>h,isDate:()=>d,isElement:()=>U,isEmpty:()=>Te,isEqual:()=>Xt,isError:()=>p,isFinite:()=>F,isFunction:()=>R,isMap:()=>gt,isMatch:()=>Re,isNaN:()=>G,isNull:()=>B,isNumber:()=>c,isObject:()=>Z,isRegExp:()=>s,isSet:()=>Ct,isString:()=>M,isSymbol:()=>O,isTypedArray:()=>je,isUndefined:()=>T,isWeakMap:()=>vt,isWeakSet:()=>It,iteratee:()=>In,keys:()=>re,last:()=>Xr,lastIndexOf:()=>Xe,map:()=>de,mapObject:()=>cn,matcher:()=>ln,matches:()=>ln,max:()=>En,memoize:()=>Kn,methods:()=>hn,min:()=>Jn,mixin:()=>eo,negate:()=>ee,noop:()=>Tn,now:()=>yn,object:()=>Gi,omit:()=>Ti,once:()=>ht,pairs:()=>sn,partial:()=>mr,partition:()=>_i,pick:()=>li,pluck:()=>Gt,property:()=>ze,propertyOf:()=>gn,random:()=>On,range:()=>Ki,reduce:()=>Ye,reduceRight:()=>Ot,reject:()=>Vt,rest:()=>Hr,restArguments:()=>se,result:()=>an,sample:()=>De,select:()=>Rt,shuffle:()=>un,size:()=>Ai,some:()=>Zt,sortBy:()=>An,sortedIndex:()=>$t,tail:()=>Hr,take:()=>Ur,tap:()=>Hn,template:()=>kn,templateSettings:()=>at,throttle:()=>Ce,times:()=>jn,toArray:()=>Pe,toPath:()=>Zn,transpose:()=>Bi,unescape:()=>Qe,union:()=>Dr,uniq:()=>ui,unique:()=>ui,uniqueId:()=>Gn,unzip:()=>Bi,values:()=>Nt,where:()=>vn,without:()=>Mr,wrap:()=>he,zip:()=>Ni});var w="1.13.4",k=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},$=Array.prototype,D=Object.prototype,q=typeof Symbol<"u"?Symbol.prototype:null,l=$.push,P=$.slice,N=D.toString,C=D.hasOwnProperty,y=typeof ArrayBuffer<"u",m=typeof DataView<"u",g=Array.isArray,S=Object.keys,I=Object.create,H=y&&ArrayBuffer.isView,X=isNaN,Y=isFinite,x=!{toString:null}.propertyIsEnumerable("toString"),W=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],oe=Math.pow(2,53)-1;function se($e,ct){return ct=ct==null?$e.length-1:+ct,function(){for(var Se=Math.max(arguments.length-ct,0),Le=Array(Se),rt=0;rt<Se;rt++)Le[rt]=arguments[rt+ct];switch(ct){case 0:return $e.call(this,Le);case 1:return $e.call(this,arguments[0],Le);case 2:return $e.call(this,arguments[0],arguments[1],Le)}var nt=Array(ct+1);for(rt=0;rt<ct;rt++)nt[rt]=arguments[rt];return nt[ct]=Le,$e.apply(this,nt)}}function Z($e){var ct=typeof $e;return ct==="function"||ct==="object"&&!!$e}function B($e){return $e===null}function T($e){return $e===void 0}function j($e){return $e===!0||$e===!1||N.call($e)==="[object Boolean]"}function U($e){return!(!$e||$e.nodeType!==1)}function E($e){var ct="[object "+$e+"]";return function(Se){return N.call(Se)===ct}}const M=E("String"),c=E("Number"),d=E("Date"),s=E("RegExp"),p=E("Error"),O=E("Symbol"),K=E("ArrayBuffer");var Q=E("Function"),ne=k.document&&k.document.childNodes;typeof Int8Array!="object"&&typeof ne!="function"&&(Q=function($e){return typeof $e=="function"||!1});const R=Q,v=E("Object");var b=m&&v(new DataView(new ArrayBuffer(8))),a=typeof Map<"u"&&v(new Map),f=E("DataView");const h=b?function($e){return $e!=null&&R($e.getInt8)&&K($e.buffer)}:f,_=g||E("Array");function A($e,ct){return $e!=null&&C.call($e,ct)}var J=E("Arguments");(function(){J(arguments)||(J=function($e){return A($e,"callee")})})();const te=J;function F($e){return!O($e)&&Y($e)&&!isNaN(parseFloat($e))}function G($e){return c($e)&&X($e)}function V($e){return function(){return $e}}function le($e){return function(ct){var Se=$e(ct);return typeof Se=="number"&&Se>=0&&Se<=oe}}function ve($e){return function(ct){return ct==null?void 0:ct[$e]}}const Ne=ve("byteLength"),Ze=le(Ne);var Me=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const je=y?function($e){return H?H($e)&&!h($e):Ze($e)&&Me.test(N.call($e))}:V(!1),ae=ve("length");function be($e,ct){ct=function(_t){for(var Tt={},Bt=_t.length,tn=0;tn<Bt;++tn)Tt[_t[tn]]=!0;return{contains:function(Ln){return Tt[Ln]===!0},push:function(Ln){return Tt[Ln]=!0,_t.push(Ln)}}}(ct);var Se=W.length,Le=$e.constructor,rt=R(Le)&&Le.prototype||D,nt="constructor";for(A($e,nt)&&!ct.contains(nt)&&ct.push(nt);Se--;)(nt=W[Se])in $e&&$e[nt]!==rt[nt]&&!ct.contains(nt)&&ct.push(nt)}function re($e){if(!Z($e))return[];if(S)return S($e);var ct=[];for(var Se in $e)A($e,Se)&&ct.push(Se);return x&&be($e,ct),ct}function Te($e){if($e==null)return!0;var ct=ae($e);return typeof ct=="number"&&(_($e)||M($e)||te($e))?ct===0:ae(re($e))===0}function Re($e,ct){var Se=re(ct),Le=Se.length;if($e==null)return!Le;for(var rt=Object($e),nt=0;nt<Le;nt++){var _t=Se[nt];if(ct[_t]!==rt[_t]||!(_t in rt))return!1}return!0}function Fe($e){return $e instanceof Fe?$e:this instanceof Fe?void(this._wrapped=$e):new Fe($e)}function it($e){return new Uint8Array($e.buffer||$e,$e.byteOffset||0,Ne($e))}Fe.VERSION=w,Fe.prototype.value=function(){return this._wrapped},Fe.prototype.valueOf=Fe.prototype.toJSON=Fe.prototype.value,Fe.prototype.toString=function(){return String(this._wrapped)};var lt="[object DataView]";function St($e,ct,Se,Le){if($e===ct)return $e!==0||1/$e==1/ct;if($e==null||ct==null)return!1;if($e!=$e)return ct!=ct;var rt=typeof $e;return(rt==="function"||rt==="object"||typeof ct=="object")&&Ut($e,ct,Se,Le)}function Ut($e,ct,Se,Le){$e instanceof Fe&&($e=$e._wrapped),ct instanceof Fe&&(ct=ct._wrapped);var rt=N.call($e);if(rt!==N.call(ct))return!1;if(b&&rt=="[object Object]"&&h($e)){if(!h(ct))return!1;rt=lt}switch(rt){case"[object RegExp]":case"[object String]":return""+$e==""+ct;case"[object Number]":return+$e!=+$e?+ct!=+ct:+$e==0?1/+$e==1/ct:+$e==+ct;case"[object Date]":case"[object Boolean]":return+$e==+ct;case"[object Symbol]":return q.valueOf.call($e)===q.valueOf.call(ct);case"[object ArrayBuffer]":case lt:return Ut(it($e),it(ct),Se,Le)}var nt=rt==="[object Array]";if(!nt&&je($e)){if(Ne($e)!==Ne(ct))return!1;if($e.buffer===ct.buffer&&$e.byteOffset===ct.byteOffset)return!0;nt=!0}if(!nt){if(typeof $e!="object"||typeof ct!="object")return!1;var _t=$e.constructor,Tt=ct.constructor;if(_t!==Tt&&!(R(_t)&&_t instanceof _t&&R(Tt)&&Tt instanceof Tt)&&"constructor"in $e&&"constructor"in ct)return!1}Le=Le||[];for(var Bt=(Se=Se||[]).length;Bt--;)if(Se[Bt]===$e)return Le[Bt]===ct;if(Se.push($e),Le.push(ct),nt){if((Bt=$e.length)!==ct.length)return!1;for(;Bt--;)if(!St($e[Bt],ct[Bt],Se,Le))return!1}else{var tn,Ln=re($e);if(Bt=Ln.length,re(ct).length!==Bt)return!1;for(;Bt--;)if(!A(ct,tn=Ln[Bt])||!St($e[tn],ct[tn],Se,Le))return!1}return Se.pop(),Le.pop(),!0}function Xt($e,ct){return St($e,ct)}function Dt($e){if(!Z($e))return[];var ct=[];for(var Se in $e)ct.push(Se);return x&&be($e,ct),ct}function ot($e){var ct=ae($e);return function(Se){if(Se==null)return!1;var Le=Dt(Se);if(ae(Le))return!1;for(var rt=0;rt<ct;rt++)if(!R(Se[$e[rt]]))return!1;return $e!==mt||!R(Se[st])}}var st="forEach",Ve="has",Ge=["clear","delete"],dt=["get",Ve,"set"],We=Ge.concat(st,dt),mt=Ge.concat(dt),Ke=["add"].concat(Ge,st,Ve);const gt=a?ot(We):E("Map"),vt=a?ot(mt):E("WeakMap"),Ct=a?ot(Ke):E("Set"),It=E("WeakSet");function Nt($e){for(var ct=re($e),Se=ct.length,Le=Array(Se),rt=0;rt<Se;rt++)Le[rt]=$e[ct[rt]];return Le}function sn($e){for(var ct=re($e),Se=ct.length,Le=Array(Se),rt=0;rt<Se;rt++)Le[rt]=[ct[rt],$e[ct[rt]]];return Le}function mn($e){for(var ct={},Se=re($e),Le=0,rt=Se.length;Le<rt;Le++)ct[$e[Se[Le]]]=Se[Le];return ct}function hn($e){var ct=[];for(var Se in $e)R($e[Se])&&ct.push(Se);return ct.sort()}function fn($e,ct){return function(Se){var Le=arguments.length;if(ct&&(Se=Object(Se)),Le<2||Se==null)return Se;for(var rt=1;rt<Le;rt++)for(var nt=arguments[rt],_t=$e(nt),Tt=_t.length,Bt=0;Bt<Tt;Bt++){var tn=_t[Bt];ct&&Se[tn]!==void 0||(Se[tn]=nt[tn])}return Se}}const pn=fn(Dt),Qt=fn(re),rn=fn(Dt,!0);function nn($e){if(!Z($e))return{};if(I)return I($e);var ct=function(){};ct.prototype=$e;var Se=new ct;return ct.prototype=null,Se}function wn($e,ct){var Se=nn($e);return ct&&Qt(Se,ct),Se}function Bn($e){return Z($e)?_($e)?$e.slice():pn({},$e):$e}function Hn($e,ct){return ct($e),$e}function Zn($e){return _($e)?$e:[$e]}function Fn($e){return Fe.toPath($e)}function xn($e,ct){for(var Se=ct.length,Le=0;Le<Se;Le++){if($e==null)return;$e=$e[ct[Le]]}return Se?$e:void 0}function Nn($e,ct,Se){var Le=xn($e,Fn(ct));return T(Le)?Se:Le}function Vn($e,ct){for(var Se=(ct=Fn(ct)).length,Le=0;Le<Se;Le++){var rt=ct[Le];if(!A($e,rt))return!1;$e=$e[rt]}return!!Se}function Sn($e){return $e}function ln($e){return $e=Qt({},$e),function(ct){return Re(ct,$e)}}function ze($e){return $e=Fn($e),function(ct){return xn(ct,$e)}}function bn($e,ct,Se){if(ct===void 0)return $e;switch(Se==null?3:Se){case 1:return function(Le){return $e.call(ct,Le)};case 3:return function(Le,rt,nt){return $e.call(ct,Le,rt,nt)};case 4:return function(Le,rt,nt,_t){return $e.call(ct,Le,rt,nt,_t)}}return function(){return $e.apply(ct,arguments)}}function zn($e,ct,Se){return $e==null?Sn:R($e)?bn($e,ct,Se):Z($e)&&!_($e)?ln($e):ze($e)}function In($e,ct){return zn($e,ct,1/0)}function Mn($e,ct,Se){return Fe.iteratee!==In?Fe.iteratee($e,ct):zn($e,ct,Se)}function cn($e,ct,Se){ct=Mn(ct,Se);for(var Le=re($e),rt=Le.length,nt={},_t=0;_t<rt;_t++){var Tt=Le[_t];nt[Tt]=ct($e[Tt],Tt,$e)}return nt}function Tn(){}function gn($e){return $e==null?Tn:function(ct){return Nn($e,ct)}}function jn($e,ct,Se){var Le=Array(Math.max(0,$e));ct=bn(ct,Se,1);for(var rt=0;rt<$e;rt++)Le[rt]=ct(rt);return Le}function On($e,ct){return ct==null&&(ct=$e,$e=0),$e+Math.floor(Math.random()*(ct-$e+1))}Fe.toPath=Zn,Fe.iteratee=In;const yn=Date.now||function(){return new Date().getTime()};function Rn($e){var ct=function(nt){return $e[nt]},Se="(?:"+re($e).join("|")+")",Le=RegExp(Se),rt=RegExp(Se,"g");return function(nt){return nt=nt==null?"":""+nt,Le.test(nt)?nt.replace(rt,ct):nt}}const Dn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},en=Rn(Dn),Qe=Rn(mn(Dn)),at=Fe.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Be=/(.)^/,ut={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},xt=/\\|'|\r|\n|\u2028|\u2029/g;function Kt($e){return"\\"+ut[$e]}var Ht=/^\s*(\w|\$)+\s*$/;function kn($e,ct,Se){!ct&&Se&&(ct=Se),ct=rn({},ct,Fe.templateSettings);var Le=RegExp([(ct.escape||Be).source,(ct.interpolate||Be).source,(ct.evaluate||Be).source].join("|")+"|$","g"),rt=0,nt="__p+='";$e.replace(Le,function(tn,Ln,qn,Er,Gr){return nt+=$e.slice(rt,Gr).replace(xt,Kt),rt=Gr+tn.length,Ln?nt+=`'+
((__t=(`+Ln+`))==null?'':_.escape(__t))+
'`:qn?nt+=`'+
((__t=(`+qn+`))==null?'':__t)+
'`:Er&&(nt+=`';
`+Er+`
__p+='`),tn}),nt+=`';
`;var _t,Tt=ct.variable;if(Tt){if(!Ht.test(Tt))throw new Error("variable is not a bare identifier: "+Tt)}else nt=`with(obj||{}){
`+nt+`}
`,Tt="obj";nt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+nt+`return __p;
`;try{_t=new Function(Tt,"_",nt)}catch(tn){throw tn.source=nt,tn}var Bt=function(tn){return _t.call(this,tn,Fe)};return Bt.source="function("+Tt+`){
`+nt+"}",Bt}function an($e,ct,Se){var Le=(ct=Fn(ct)).length;if(!Le)return R(Se)?Se.call($e):Se;for(var rt=0;rt<Le;rt++){var nt=$e==null?void 0:$e[ct[rt]];nt===void 0&&(nt=Se,rt=Le),$e=R(nt)?nt.call($e):nt}return $e}var Qn=0;function Gn($e){var ct=++Qn+"";return $e?$e+ct:ct}function gr($e){var ct=Fe($e);return ct._chain=!0,ct}function or($e,ct,Se,Le,rt){if(!(Le instanceof ct))return $e.apply(Se,rt);var nt=nn($e.prototype),_t=$e.apply(nt,rt);return Z(_t)?_t:nt}var pr=se(function($e,ct){var Se=pr.placeholder,Le=function(){for(var rt=0,nt=ct.length,_t=Array(nt),Tt=0;Tt<nt;Tt++)_t[Tt]=ct[Tt]===Se?arguments[rt++]:ct[Tt];for(;rt<arguments.length;)_t.push(arguments[rt++]);return or($e,Le,this,this,_t)};return Le});pr.placeholder=Fe;const mr=pr,cr=se(function($e,ct,Se){if(!R($e))throw new TypeError("Bind must be called on a function");var Le=se(function(rt){return or($e,Le,ct,this,Se.concat(rt))});return Le}),Xn=le(ae);function tr($e,ct,Se,Le){if(Le=Le||[],ct||ct===0){if(ct<=0)return Le.concat($e)}else ct=1/0;for(var rt=Le.length,nt=0,_t=ae($e);nt<_t;nt++){var Tt=$e[nt];if(Xn(Tt)&&(_(Tt)||te(Tt)))if(ct>1)tr(Tt,ct-1,Se,Le),rt=Le.length;else for(var Bt=0,tn=Tt.length;Bt<tn;)Le[rt++]=Tt[Bt++];else Se||(Le[rt++]=Tt)}return Le}const Yn=se(function($e,ct){var Se=(ct=tr(ct,!1,!1)).length;if(Se<1)throw new Error("bindAll must be passed function names");for(;Se--;){var Le=ct[Se];$e[Le]=cr($e[Le],$e)}return $e});function Kn($e,ct){var Se=function(Le){var rt=Se.cache,nt=""+(ct?ct.apply(this,arguments):Le);return A(rt,nt)||(rt[nt]=$e.apply(this,arguments)),rt[nt]};return Se.cache={},Se}const ft=se(function($e,ct,Se){return setTimeout(function(){return $e.apply(null,Se)},ct)}),yt=mr(ft,Fe,1);function Ce($e,ct,Se){var Le,rt,nt,_t,Tt=0;Se||(Se={});var Bt=function(){Tt=Se.leading===!1?0:yn(),Le=null,_t=$e.apply(rt,nt),Le||(rt=nt=null)},tn=function(){var Ln=yn();Tt||Se.leading!==!1||(Tt=Ln);var qn=ct-(Ln-Tt);return rt=this,nt=arguments,qn<=0||qn>ct?(Le&&(clearTimeout(Le),Le=null),Tt=Ln,_t=$e.apply(rt,nt),Le||(rt=nt=null)):Le||Se.trailing===!1||(Le=setTimeout(Bt,qn)),_t};return tn.cancel=function(){clearTimeout(Le),Tt=0,Le=rt=nt=null},tn}function ce($e,ct,Se){var Le,rt,nt,_t,Tt,Bt=function(){var Ln=yn()-rt;ct>Ln?Le=setTimeout(Bt,ct-Ln):(Le=null,Se||(_t=$e.apply(Tt,nt)),Le||(nt=Tt=null))},tn=se(function(Ln){return Tt=this,nt=Ln,rt=yn(),Le||(Le=setTimeout(Bt,ct),Se&&(_t=$e.apply(Tt,nt))),_t});return tn.cancel=function(){clearTimeout(Le),Le=nt=Tt=null},tn}function he($e,ct){return mr(ct,$e)}function ee($e){return function(){return!$e.apply(this,arguments)}}function we(){var $e=arguments,ct=$e.length-1;return function(){for(var Se=ct,Le=$e[ct].apply(this,arguments);Se--;)Le=$e[Se].call(this,Le);return Le}}function Ie($e,ct){return function(){if(--$e<1)return ct.apply(this,arguments)}}function qe($e,ct){var Se;return function(){return--$e>0&&(Se=ct.apply(this,arguments)),$e<=1&&(ct=null),Se}}const ht=mr(qe,2);function bt($e,ct,Se){ct=Mn(ct,Se);for(var Le,rt=re($e),nt=0,_t=rt.length;nt<_t;nt++)if(ct($e[Le=rt[nt]],Le,$e))return Le}function Pt($e){return function(ct,Se,Le){Se=Mn(Se,Le);for(var rt=ae(ct),nt=$e>0?0:rt-1;nt>=0&&nt<rt;nt+=$e)if(Se(ct[nt],nt,ct))return nt;return-1}}const kt=Pt(1),Mt=Pt(-1);function $t($e,ct,Se,Le){for(var rt=(Se=Mn(Se,Le,1))(ct),nt=0,_t=ae($e);nt<_t;){var Tt=Math.floor((nt+_t)/2);Se($e[Tt])<rt?nt=Tt+1:_t=Tt}return nt}function Yt($e,ct,Se){return function(Le,rt,nt){var _t=0,Tt=ae(Le);if(typeof nt=="number")$e>0?_t=nt>=0?nt:Math.max(nt+Tt,_t):Tt=nt>=0?Math.min(nt+1,Tt):nt+Tt+1;else if(Se&&nt&&Tt)return Le[nt=Se(Le,rt)]===rt?nt:-1;if(rt!=rt)return(nt=ct(P.call(Le,_t,Tt),G))>=0?nt+_t:-1;for(nt=$e>0?_t:Tt-1;nt>=0&&nt<Tt;nt+=$e)if(Le[nt]===rt)return nt;return-1}}const dn=Yt(1,kt,$t),Xe=Yt(-1,Mt);function tt($e,ct,Se){var Le=(Xn($e)?kt:bt)($e,ct,Se);if(Le!==void 0&&Le!==-1)return $e[Le]}function fe($e,ct){return tt($e,ln(ct))}function me($e,ct,Se){var Le,rt;if(ct=bn(ct,Se),Xn($e))for(Le=0,rt=$e.length;Le<rt;Le++)ct($e[Le],Le,$e);else{var nt=re($e);for(Le=0,rt=nt.length;Le<rt;Le++)ct($e[nt[Le]],nt[Le],$e)}return $e}function de($e,ct,Se){ct=Mn(ct,Se);for(var Le=!Xn($e)&&re($e),rt=(Le||$e).length,nt=Array(rt),_t=0;_t<rt;_t++){var Tt=Le?Le[_t]:_t;nt[_t]=ct($e[Tt],Tt,$e)}return nt}function Ee($e){var ct=function(Se,Le,rt,nt){var _t=!Xn(Se)&&re(Se),Tt=(_t||Se).length,Bt=$e>0?0:Tt-1;for(nt||(rt=Se[_t?_t[Bt]:Bt],Bt+=$e);Bt>=0&&Bt<Tt;Bt+=$e){var tn=_t?_t[Bt]:Bt;rt=Le(rt,Se[tn],tn,Se)}return rt};return function(Se,Le,rt,nt){var _t=arguments.length>=3;return ct(Se,bn(Le,nt,4),rt,_t)}}const Ye=Ee(1),Ot=Ee(-1);function Rt($e,ct,Se){var Le=[];return ct=Mn(ct,Se),me($e,function(rt,nt,_t){ct(rt,nt,_t)&&Le.push(rt)}),Le}function Vt($e,ct,Se){return Rt($e,ee(Mn(ct)),Se)}function Ft($e,ct,Se){ct=Mn(ct,Se);for(var Le=!Xn($e)&&re($e),rt=(Le||$e).length,nt=0;nt<rt;nt++){var _t=Le?Le[nt]:nt;if(!ct($e[_t],_t,$e))return!1}return!0}function Zt($e,ct,Se){ct=Mn(ct,Se);for(var Le=!Xn($e)&&re($e),rt=(Le||$e).length,nt=0;nt<rt;nt++){var _t=Le?Le[nt]:nt;if(ct($e[_t],_t,$e))return!0}return!1}function At($e,ct,Se,Le){return Xn($e)||($e=Nt($e)),(typeof Se!="number"||Le)&&(Se=0),dn($e,ct,Se)>=0}const Lt=se(function($e,ct,Se){var Le,rt;return R(ct)?rt=ct:(ct=Fn(ct),Le=ct.slice(0,-1),ct=ct[ct.length-1]),de($e,function(nt){var _t=rt;if(!_t){if(Le&&Le.length&&(nt=xn(nt,Le)),nt==null)return;_t=nt[ct]}return _t==null?_t:_t.apply(nt,Se)})});function Gt($e,ct){return de($e,ze(ct))}function vn($e,ct){return Rt($e,ln(ct))}function En($e,ct,Se){var Le,rt,nt=-1/0,_t=-1/0;if(ct==null||typeof ct=="number"&&typeof $e[0]!="object"&&$e!=null)for(var Tt=0,Bt=($e=Xn($e)?$e:Nt($e)).length;Tt<Bt;Tt++)(Le=$e[Tt])!=null&&Le>nt&&(nt=Le);else ct=Mn(ct,Se),me($e,function(tn,Ln,qn){((rt=ct(tn,Ln,qn))>_t||rt===-1/0&&nt===-1/0)&&(nt=tn,_t=rt)});return nt}function Jn($e,ct,Se){var Le,rt,nt=1/0,_t=1/0;if(ct==null||typeof ct=="number"&&typeof $e[0]!="object"&&$e!=null)for(var Tt=0,Bt=($e=Xn($e)?$e:Nt($e)).length;Tt<Bt;Tt++)(Le=$e[Tt])!=null&&Le<nt&&(nt=Le);else ct=Mn(ct,Se),me($e,function(tn,Ln,qn){((rt=ct(tn,Ln,qn))<_t||rt===1/0&&nt===1/0)&&(nt=tn,_t=rt)});return nt}var ye=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Pe($e){return $e?_($e)?P.call($e):M($e)?$e.match(ye):Xn($e)?de($e,Sn):Nt($e):[]}function De($e,ct,Se){if(ct==null||Se)return Xn($e)||($e=Nt($e)),$e[On($e.length-1)];var Le=Pe($e),rt=ae(Le);ct=Math.max(Math.min(ct,rt),0);for(var nt=rt-1,_t=0;_t<ct;_t++){var Tt=On(_t,nt),Bt=Le[_t];Le[_t]=Le[Tt],Le[Tt]=Bt}return Le.slice(0,ct)}function un($e){return De($e,1/0)}function An($e,ct,Se){var Le=0;return ct=Mn(ct,Se),Gt(de($e,function(rt,nt,_t){return{value:rt,index:Le++,criteria:ct(rt,nt,_t)}}).sort(function(rt,nt){var _t=rt.criteria,Tt=nt.criteria;if(_t!==Tt){if(_t>Tt||_t===void 0)return 1;if(_t<Tt||Tt===void 0)return-1}return rt.index-nt.index}),"value")}function $n($e,ct){return function(Se,Le,rt){var nt=ct?[[],[]]:{};return Le=Mn(Le,rt),me(Se,function(_t,Tt){var Bt=Le(_t,Tt,Se);$e(nt,_t,Bt)}),nt}}const er=$n(function($e,ct,Se){A($e,Se)?$e[Se].push(ct):$e[Se]=[ct]}),Br=$n(function($e,ct,Se){$e[Se]=ct}),Nr=$n(function($e,ct,Se){A($e,Se)?$e[Se]++:$e[Se]=1}),_i=$n(function($e,ct,Se){$e[Se?0:1].push(ct)},!0);function Ai($e){return $e==null?0:Xn($e)?$e.length:re($e).length}function Ri($e,ct,Se){return ct in Se}const li=se(function($e,ct){var Se={},Le=ct[0];if($e==null)return Se;R(Le)?(ct.length>1&&(Le=bn(Le,ct[1])),ct=Dt($e)):(Le=Ri,ct=tr(ct,!1,!1),$e=Object($e));for(var rt=0,nt=ct.length;rt<nt;rt++){var _t=ct[rt],Tt=$e[_t];Le(Tt,_t,$e)&&(Se[_t]=Tt)}return Se}),Ti=se(function($e,ct){var Se,Le=ct[0];return R(Le)?(Le=ee(Le),ct.length>1&&(Se=ct[1])):(ct=de(tr(ct,!1,!1),String),Le=function(rt,nt){return!At(ct,nt)}),li($e,Le,Se)});function ni($e,ct,Se){return P.call($e,0,Math.max(0,$e.length-(ct==null||Se?1:ct)))}function Ur($e,ct,Se){return $e==null||$e.length<1?ct==null||Se?void 0:[]:ct==null||Se?$e[0]:ni($e,$e.length-ct)}function Hr($e,ct,Se){return P.call($e,ct==null||Se?1:ct)}function Xr($e,ct,Se){return $e==null||$e.length<1?ct==null||Se?void 0:[]:ct==null||Se?$e[$e.length-1]:Hr($e,Math.max(0,$e.length-ct))}function si($e){return Rt($e,Boolean)}function Zo($e,ct){return tr($e,ct,!1)}const Di=se(function($e,ct){return ct=tr(ct,!0,!0),Rt($e,function(Se){return!At(ct,Se)})}),Mr=se(function($e,ct){return Di($e,ct)});function ui($e,ct,Se,Le){j(ct)||(Le=Se,Se=ct,ct=!1),Se!=null&&(Se=Mn(Se,Le));for(var rt=[],nt=[],_t=0,Tt=ae($e);_t<Tt;_t++){var Bt=$e[_t],tn=Se?Se(Bt,_t,$e):Bt;ct&&!Se?(_t&&nt===tn||rt.push(Bt),nt=tn):Se?At(nt,tn)||(nt.push(tn),rt.push(Bt)):At(rt,Bt)||rt.push(Bt)}return rt}const Dr=se(function($e){return ui(tr($e,!0,!0))});function yi($e){for(var ct=[],Se=arguments.length,Le=0,rt=ae($e);Le<rt;Le++){var nt=$e[Le];if(!At(ct,nt)){var _t;for(_t=1;_t<Se&&At(arguments[_t],nt);_t++);_t===Se&&ct.push(nt)}}return ct}function Bi($e){for(var ct=$e&&En($e,ae).length||0,Se=Array(ct),Le=0;Le<ct;Le++)Se[Le]=Gt($e,Le);return Se}const Ni=se(Bi);function Gi($e,ct){for(var Se={},Le=0,rt=ae($e);Le<rt;Le++)ct?Se[$e[Le]]=ct[Le]:Se[$e[Le][0]]=$e[Le][1];return Se}function Ki($e,ct,Se){ct==null&&(ct=$e||0,$e=0),Se||(Se=ct<$e?-1:1);for(var Le=Math.max(Math.ceil((ct-$e)/Se),0),rt=Array(Le),nt=0;nt<Le;nt++,$e+=Se)rt[nt]=$e;return rt}function yo($e,ct){if(ct==null||ct<1)return[];for(var Se=[],Le=0,rt=$e.length;Le<rt;)Se.push(P.call($e,Le,Le+=ct));return Se}function Yi($e,ct){return $e._chain?Fe(ct).chain():ct}function eo($e){return me(hn($e),function(ct){var Se=Fe[ct]=$e[ct];Fe.prototype[ct]=function(){var Le=[this._wrapped];return l.apply(Le,arguments),Yi(this,Se.apply(Fe,Le))}}),Fe}me(["pop","push","reverse","shift","sort","splice","unshift"],function($e){var ct=$[$e];Fe.prototype[$e]=function(){var Se=this._wrapped;return Se!=null&&(ct.apply(Se,arguments),$e!=="shift"&&$e!=="splice"||Se.length!==0||delete Se[0]),Yi(this,Se)}}),me(["concat","join","slice"],function($e){var ct=$[$e];Fe.prototype[$e]=function(){var Se=this._wrapped;return Se!=null&&(Se=ct.apply(Se,arguments)),Yi(this,Se)}});const bo=Fe;var Xi=eo(ie);Xi._=Xi;const ps=Xi}},Ae={};function Ue(ge){var _e=Ae[ge];if(_e!==void 0)return _e.exports;var z=Ae[ge]={exports:{}};return Oe[ge].call(z.exports,z,z.exports,Ue),z.exports}Ue.n=ge=>{var _e=ge&&ge.__esModule?()=>ge.default:()=>ge;return Ue.d(_e,{a:_e}),_e},Ue.d=(ge,_e)=>{for(var z in _e)Ue.o(_e,z)&&!Ue.o(ge,z)&&Object.defineProperty(ge,z,{enumerable:!0,get:_e[z]})},Ue.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Ue.o=(ge,_e)=>Object.prototype.hasOwnProperty.call(ge,_e),Ue.r=ge=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ge,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ge,"__esModule",{value:!0})};var He={};return(()=>{Ue.d(He,{default:()=>K});var ge=Ue(4942),_e=Ue(9050),z=Ue(2579),ie=Ue(7539);const w={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:null,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,dragMode:0,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,multiFrames:!1,customUI:!1};var k=Ue(2316),$=Ue.n(k),D,q=Ue(1163),l=(D=function(Q,ne){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,v){R.__proto__=v}||function(R,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(R[b]=v[b])},D(Q,ne)},function(Q,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function R(){this.constructor=Q}D(Q,ne),Q.prototype=ne===null?Object.create(ne):(R.prototype=ne.prototype,new R)}),P=function(Q){function ne(){return Q!==null&&Q.apply(this,arguments)||this}return l(ne,Q),ne}(k.Model);const N=function(Q){function ne(){return Q!==null&&Q.apply(this,arguments)||this}return l(ne,Q),ne.prototype.getByComponent=function(R){var v=this;return this.filter(function(b){return v.getComponent(b)===R})[0]},ne.prototype.addComponent=function(R,v){var b=this,a=((0,_e.isArray)(R)?R:[R]).filter(function(f){return!b.hasComponent(f)}).map(function(f){return new P({component:f})})[0];return this.push(a,v)},ne.prototype.getComponent=function(R){return R.get("component")},ne.prototype.hasComponent=function(R){var v=this.getByComponent(R);return v&&this.contains(v)},ne.prototype.lastComponent=function(){var R=this.last();return R&&this.getComponent(R)},ne.prototype.allComponents=function(){var R=this;return this.map(function(v){return R.getComponent(v)}).filter(function(v){return v})},ne.prototype.removeComponent=function(R,v){var b=this,a=((0,_e.isArray)(R)?R:[R]).map(function(f){return b.getByComponent(f)});return this.remove(a,v)},ne}(k.Collection);var C=function(){var Q=function(ne,R){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(v[a]=b[a])},Q(ne,R)};return function(ne,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function v(){this.constructor=ne}Q(ne,R),ne.prototype=R===null?Object.create(R):(v.prototype=R.prototype,new v)}}(),y=function(){return y=Object.assign||function(Q){for(var ne,R=1,v=arguments.length;R<v;R++)for(var b in ne=arguments[R])Object.prototype.hasOwnProperty.call(ne,b)&&(Q[b]=ne[b]);return Q},y.apply(this,arguments)},m=function(Q,ne,R,v){return new(R||(R=Promise))(function(b,a){function f(A){try{_(v.next(A))}catch(J){a(J)}}function h(A){try{_(v.throw(A))}catch(J){a(J)}}function _(A){var J;A.done?b(A.value):(J=A.value,J instanceof R?J:new R(function(te){te(J)})).then(f,h)}_((v=v.apply(Q,ne||[])).next())})},g=function(Q,ne){var R,v,b,a,f={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function h(_){return function(A){return function(J){if(R)throw new TypeError("Generator is already executing.");for(;f;)try{if(R=1,v&&(b=2&J[0]?v.return:J[0]?v.throw||((b=v.return)&&b.call(v),0):v.next)&&!(b=b.call(v,J[1])).done)return b;switch(v=0,b&&(J=[2&J[0],b.value]),J[0]){case 0:case 1:b=J;break;case 4:return f.label++,{value:J[1],done:!1};case 5:f.label++,v=J[1],J=[0];continue;case 7:J=f.ops.pop(),f.trys.pop();continue;default:if(b=f.trys,!((b=b.length>0&&b[b.length-1])||J[0]!==6&&J[0]!==2)){f=0;continue}if(J[0]===3&&(!b||J[1]>b[0]&&J[1]<b[3])){f.label=J[1];break}if(J[0]===6&&f.label<b[1]){f.label=b[1],b=J;break}if(b&&f.label<b[2]){f.label=b[2],f.ops.push(J);break}b[2]&&f.ops.pop(),f.trys.pop();continue}J=ne.call(Q,f)}catch(te){J=[6,te],v=0}finally{R=b=0}if(5&J[0])throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}([_,A])}}},S=function(Q,ne){var R={};for(var v in Q)Object.prototype.hasOwnProperty.call(Q,v)&&ne.indexOf(v)<0&&(R[v]=Q[v]);if(Q!=null&&typeof Object.getOwnPropertySymbols=="function"){var b=0;for(v=Object.getOwnPropertySymbols(Q);b<v.length;b++)ne.indexOf(v[b])<0&&Object.prototype.propertyIsEnumerable.call(Q,v[b])&&(R[v[b]]=Q[v[b]])}return R},I=function(Q,ne,R){if(R||arguments.length===2)for(var v,b=0,a=ne.length;b<a;b++)!v&&b in ne||(v||(v=Array.prototype.slice.call(ne,0,b)),v[b]=ne[b]);return Q.concat(v||Array.prototype.slice.call(ne))};$().$=z.default;var H=[Ue(6718),Ue(4836),Ue(9788),Ue(8202),Ue(4859),Ue(2004),Ue(4424),Ue(2326),Ue(3463),Ue(8588),Ue(7619),Ue(899),Ue(2012),Ue(1030),Ue(672),Ue(7948),Ue(6388),Ue(5819),Ue(7892),Ue(7287),Ue(289),Ue(6407)],X=[];(function(Q){var ne=Q.$;if(ne&&ne.prototype&&ne.prototype.constructor.name!=="jQuery"){var R=ne.fn;R.hide=function(){return this.css("display","none")},R.show=function(){return this.css("display","block")},R.focus=function(){var a=this.get(0);return a&&a.focus(),this},R.bind=function(a,f){return this.on(a,f)},R.unbind=function(a,f){if((0,_e.isObject)(a)){for(var h in a)a.hasOwnProperty(h)&&this.off(h,a[h]);return this}return this.off(a,f)},R.click=function(a){return a?this.on("click",a):this.trigger("click")},R.change=function(a){return a?this.on("change",a):this.trigger("change")},R.keydown=function(a){return a?this.on("keydown",a):this.trigger("keydown")},R.delegate=function(a,f,h,_){return _||(_=h),this.on(f,a,function(A){A.data=h,_(A)})},R.scrollLeft=function(){var a=this.get(0),f=(a=a.nodeType==9?a.defaultView:a)instanceof Window?a:null;return f?f.pageXOffset:a.scrollLeft||0},R.scrollTop=function(){var a=this.get(0),f=(a=a.nodeType==9?a.defaultView:a)instanceof Window?a:null;return f?f.pageYOffset:a.scrollTop||0};var v=ne.prototype.offset;R.offset=function(a){var f,h;return a&&(f=a.top,h=a.left),f!==void 0&&this.css("top","".concat(f,"px")),h!==void 0&&this.css("left","".concat(h,"px")),v.call(this)},ne.map=function(a,f){for(var h=[],_=0;_<a.length;_++)h.push(f(a[_],_));return h};var b=Array.prototype.indexOf;ne.inArray=function(a,f,h){return f==null?-1:b.call(f,a,h)},ne.Event=function(a,f){if(!(this instanceof ne.Event))return new ne.Event(a,f);this.type=a,this.isDefaultPrevented=function(){return!1}}}})({Backbone:$(),$:$().$});var Y={debug:console.log,info:console.info,warning:console.warn,error:console.error},x=function(Q){function ne(R){R===void 0&&(R={});var v=Q.call(this)||this;v.__skip=!1,v.defaultRunning=!1,v.destroyed=!1,v._config=R;var b=v.config;v.set("Config",R),v.set("modules",[]),v.set("toLoad",[]),v.set("storables",[]),v.set("selected",new N),v.set("dmode",b.dragMode);var a=b.el,f=b.log,h=f===!0?(0,_e.keys)(Y):(0,_e.isArray)(f)?f:[];return(0,_e.bindAll)(v,"initBaseColorPicker"),a&&b.fromElement&&(b.components=a.innerHTML),v.attrsOrig=a?(0,_e.toArray)(a.attributes).reduce(function(_,A){return _[A.nodeName]=A.nodeValue,_},{}):"",b.components&&!b.pageManager&&(b.pageManager={pages:[{component:b.components}]}),H.forEach(function(_){return v.loadModule(_)}),X.forEach(function(_){return v.tsLoadModule(_)}),v.on("change:componentHovered",v.componentHovered,v),v.on("change:changesCount",v.updateChanges,v),v.on("change:readyLoad change:readyCanvas",v._checkReady,v),h.forEach(function(_){return v.listenLog(_)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(_){var A=_.from,J=_.to;v.listenTo(v,A,function(){for(var te=[],F=0;F<arguments.length;F++)te[F]=arguments[F];v.trigger.apply(v,I([J],te,!1)),v.logWarning("The event '".concat(A,"' is deprecated, replace it with '").concat(J,"'"))})}),v}return C(ne,Q),ne.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(ne.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),ne.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},ne.prototype.getContainer=function(){return this.config.el},ne.prototype.listenLog=function(R){this.listenTo(this,"log:".concat(R),Y[R])},Object.defineProperty(ne.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),ne.prototype.getConfig=function(R){var v=this.config;return(0,_e.isUndefined)(R)?v:v[R]},ne.prototype.loadOnStart=function(){var R=this,v=this.config,b=v.projectData,a=v.headless,f=this.get("StorageManager");this.toLoad.forEach(function(A){return A.onLoad()});var h=function(){R.modules.forEach(function(A){return A.postLoad&&A.postLoad(R)}),R.set("readyLoad",1)};a?(b&&this.loadData(b),h()):setTimeout(function(){return m(R,void 0,void 0,function(){var A;return g(this,function(J){switch(J.label){case 0:return b?(this.loadData(b),[3,5]):[3,1];case 1:if(!(f!=null&&f.canAutoload()))return[3,5];J.label=2;case 2:return J.trys.push([2,4,,5]),[4,this.load()];case 3:return J.sent(),[3,5];case 4:return A=J.sent(),this.logError(A),[3,5];case 5:return h(),[2]}})})});var _=new ne({noticeOnUnload:!1,storageManager:!1,undoManager:!1});["PageManager","Canvas"].forEach(function(A){return _.get(A).onLoad()}),this.set("shallow",_)},ne.prototype.updateChanges=function(){var R=this,v=this.get("StorageManager"),b=this.getDirtyCount();this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return R.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=b?function(){return!0}:null),v.isAutosave()&&b>=v.getStepsBeforeSave()&&this.store().catch(function(a){return R.logError(a)})},ne.prototype.loadModule=function(R){var v=this.config,b=new(R.default||R)(this),a=b.name.charAt(0).toLowerCase()+b.name.slice(1),f=(0,_e.isUndefined)(v[a])?v[b.name]:v[a],h=f===!0?{}:f||{};return h.pStylePrefix=v.pStylePrefix||"",(0,_e.isUndefined)(f)||f||(h._disable=1),b.storageKey&&b.store&&b.load&&this.storables.push(b),h.em=this,b.init(y({},h)),!b.private&&this.set(b.name,b),b.onLoad&&this.toLoad.push(b),this.modules.push(b),this},ne.prototype.tsLoadModule=function(R){var v=new(R.default||R)(this);return v.storageKey&&v.store&&v.load&&this.storables.push(v),!v.private&&this.set(v.name,v),v.onLoad&&this.toLoad.push(v),this.modules.push(v),this},ne.prototype.init=function(R,v){v===void 0&&(v={}),this.destroyed&&(this.initialize(v),this.destroyed=!1),this.set("Editor",R)},ne.prototype.getEditor=function(){return this.get("Editor")},ne.prototype.handleUpdates=function(R,v,b){var a=this;b===void 0&&(b={}),this.__skip||b.temporary||b.noCount||b.avoidStore||!this.get("ready")||(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var f=a.getDirtyCount()||0,h=(b.unset,S(b,["unset"]));a.set("changesCount",f+1,h)},0))},ne.prototype.changesUp=function(R){this.handleUpdates(0,0,R)},ne.prototype.componentHovered=function(R,v,b){var a=this.previous("componentHovered");a&&this.trigger("component:unhovered",a,b),v&&this.trigger("component:hovered",v,b)},ne.prototype.getSelected=function(){return this.selected.lastComponent()},ne.prototype.getSelectedAll=function(){return this.selected.allComponents()},ne.prototype.setSelected=function(R,v){var b=this;v===void 0&&(v={});var a=v.event,f=a&&(a.ctrlKey||a.metaKey),h=(a||{}).shiftKey,_=((0,_e.isArray)(R)?R:[R]).map(function(F){return(0,q.getModel)(F,z.default)}),A=this.getSelectedAll(),J=this.getConfig().multipleSelection,te=(0,_e.isArray)(R);te&&this.removeSelected(A.filter(function(F){return!(0,_e.contains)(_,F)})),_.forEach(function(F){var G=(0,q.getModel)(F,void 0);if(G&&(b.trigger("component:select:before",G,v),!G.get("selectable")||v.abort)){if(!v.useValid)return;for(var V=G.parent();V&&!V.get("selectable");)V=V.parent();G=V}if(f&&J)return b.toggleSelected(G);if(h&&J){b.clearSelection(b.get("Canvas").getWindow());var le,ve,Ne=G.collection,Ze=G.index();if(b.getSelectedAll().forEach(function(Me){var je=Me.collection,ae=Me.index();je===Ne&&(ae<Ze?le=(0,_e.isUndefined)(le)?ae:Math.max(le,ae):ae>Ze&&(ve=(0,_e.isUndefined)(ve)?ae:Math.min(ve,ae)))}),!(0,_e.isUndefined)(le))for(;le!==Ze;)b.addSelected(Ne.at(le)),le++;if(!(0,_e.isUndefined)(ve))for(;ve!==Ze;)b.addSelected(Ne.at(ve)),ve--;return b.addSelected(G)}!te&&b.removeSelected(A.filter(function(Me){return Me!==G})),b.addSelected(G,v)})},ne.prototype.addSelected=function(R,v){var b=this;v===void 0&&(v={});var a=(0,q.getModel)(R,z.default);((0,_e.isArray)(a)?a:[a]).forEach(function(f){if(!f||f.get("selectable")){var h=b.selected;v.forceChange&&b.removeSelected(f,v),h.addComponent(f,v),f&&b.trigger("component:select",f,v)}})},ne.prototype.removeSelected=function(R,v){v===void 0&&(v={}),this.selected.removeComponent((0,q.getModel)(R,z.default),v)},ne.prototype.toggleSelected=function(R,v){var b=this;v===void 0&&(v={});var a=(0,q.getModel)(R,z.default);((0,_e.isArray)(a)?a:[a]).forEach(function(f){b.selected.hasComponent(f)?b.removeSelected(f,v):b.addSelected(f,v)})},ne.prototype.setHovered=function(R,v){if(v===void 0&&(v={}),!R)return this.set("componentHovered","");var b="component:hover",a=(0,q.getModel)(R,void 0);if(a){if(v.forceChange&&this.set("componentHovered",""),this.trigger("".concat(b,":before"),a,v),!a.get("hoverable")){if(!v.useValid||v.abort)return;for(var f=a&&a.parent();f&&!f.get("hoverable");)f=f.parent();a=f}v.abort||(this.set("componentHovered",a,v),this.trigger(b,a,v))}},ne.prototype.getHovered=function(){return this.get("componentHovered")},ne.prototype.setComponents=function(R,v){return v===void 0&&(v={}),this.get("DomComponents").setComponents(R,v)},ne.prototype.getComponents=function(){var R=this.get("DomComponents"),v=this.get("CodeManager");if(R&&v){var b=R.getComponents();return v.getCode(b,"json")}},ne.prototype.setStyle=function(R,v){v===void 0&&(v={});var b=this.get("CssComposer");return b.clear(v),b.getAll().add(R,v),this},ne.prototype.addStyle=function(R,v){v===void 0&&(v={});var b=this.getStyle().add(R,v);return(0,_e.isArray)(b)?b:[b]},ne.prototype.getStyle=function(){return this.get("CssComposer").getAll()},ne.prototype.setState=function(R){return this.set("state",R),this},ne.prototype.getState=function(){return this.get("state")||""},ne.prototype.getHtml=function(R){R===void 0&&(R={});var v=this.config,b=v.optsHtml,a=v.jsInHtml?this.getJs(R):"",f=R.component||this.get("DomComponents").getComponent(),h=f?this.get("CodeManager").getCode(f,"html",y(y({},b),R)):"";return h+=a?"<script>".concat(a,"<\/script>"):""},ne.prototype.getCss=function(R){R===void 0&&(R={});var v=this.config,b=v.optsCss,a=R.avoidProtected,f=(0,_e.isUndefined)(R.keepUnusedStyles)?v.keepUnusedStyles:R.keepUnusedStyles,h=this.get("CssComposer"),_=R.component||this.get("DomComponents").getComponent(),A=a?"":v.protectedCss,J=_&&this.get("CodeManager").getCode(_,"css",y(y({cssc:h,keepUnusedStyles:f},b),R));return _?R.json?J:A+J:""},ne.prototype.getJs=function(R){R===void 0&&(R={});var v=R.component||this.get("DomComponents").getWrapper();return v?this.get("CodeManager").getCode(v,"js").trim():""},ne.prototype.store=function(R){return m(this,void 0,void 0,function(){var v;return g(this,function(b){switch(b.label){case 0:return v=this.storeData(),[4,this.get("StorageManager").store(v,R)];case 1:return b.sent(),this.clearDirtyCount(),[2,v]}})})},ne.prototype.load=function(R){return m(this,void 0,void 0,function(){var v;return g(this,function(b){switch(b.label){case 0:return[4,this.get("StorageManager").load(R)];case 1:return v=b.sent(),this.loadData(v),[2,v]}})})},ne.prototype.storeData=function(){var R={},v=this.getEditing();return v&&v.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(b){R=y(y({},R),b.store(1))}),JSON.parse(JSON.stringify(R))},ne.prototype.loadData=function(R){return R===void 0&&(R={}),(0,q.isEmptyObj)(R)||(this.storables.forEach(function(v){return v.clear()}),this.storables.forEach(function(v){return v.load(R)})),R},ne.prototype.getDeviceModel=function(){var R=this.get("device");return this.get("DeviceManager").get(R)},ne.prototype.runDefault=function(R){R===void 0&&(R={});var v=this.get("Commands").get(this.config.defaultCommand);v&&!this.defaultRunning&&(v.stop(this,this,R),v.run(this,this,R),this.defaultRunning=!0)},ne.prototype.stopDefault=function(R){R===void 0&&(R={});var v=this.get("Commands").get(this.config.defaultCommand);v&&this.defaultRunning&&(v.stop(this,this,R),this.defaultRunning=!1)},ne.prototype.refreshCanvas=function(R){R===void 0&&(R={}),this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset()),R.tools&&this.trigger("canvas:updateTools")},ne.prototype.clearSelection=function(R){var v;(v=(R||window).getSelection())===null||v===void 0||v.removeAllRanges()},ne.prototype.getCurrentMedia=function(){var R=this.config,v=this.getDeviceModel(),b=R.mediaCondition,a=R.devicePreviewMode,f=v&&v.get("widthMedia");return v&&f&&!a?"(".concat(b,": ").concat(f,")"):""},ne.prototype.getWrapper=function(){return this.get("DomComponents").getWrapper()},ne.prototype.setCurrentFrame=function(R){return this.set("currentFrame",R)},ne.prototype.getCurrentFrame=function(){return this.get("currentFrame")},ne.prototype.getCurrentFrameModel=function(){return(this.getCurrentFrame()||{}).model},ne.prototype.getIcon=function(R){return(this.config.icons||{})[R]||""},ne.prototype.getDirtyCount=function(){return this.get("changesCount")},ne.prototype.clearDirtyCount=function(){return this.set("changesCount",0)},ne.prototype.getZoomDecimal=function(){return this.get("Canvas").getZoomDecimal()},ne.prototype.getZoomMultiplier=function(){return this.get("Canvas").getZoomMultiplier()},ne.prototype.setDragMode=function(R){return this.set("dmode",R)},ne.prototype.t=function(){for(var R=[],v=0;v<arguments.length;v++)R[v]=arguments[v];var b=this.get("I18n");return b==null?void 0:b.t.apply(b,R)},ne.prototype.inAbsoluteMode=function(){return this.get("dmode")==="absolute"},ne.prototype.destroyAll=function(){var R=this,v=this.config,b=this.view,a=this.getEditor(),f=(v.grapesjs||{}).editors,h=f===void 0?[]:f,_=this.get("shallow");_==null||_.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(A){return A.destroy()}),b&&b.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(A){return R[A]={}}),h.splice(h.indexOf(a),1),(0,q.hasWin)()&&(0,z.default)(v.el).empty().attr(this.attrsOrig)},ne.prototype.getEditing=function(){var R=this.get("editing");return R&&R.model||null},ne.prototype.setEditing=function(R){return this.set("editing",R),this},ne.prototype.isEditing=function(){return!!this.get("editing")},ne.prototype.log=function(R,v){v===void 0&&(v={});var b=v.ns,a=v.level,f=a===void 0?"debug":a;if(this.trigger("log",R,v),f&&this.trigger("log:".concat(f),R,v),b){var h="log-".concat(b);this.trigger(h,R,v),f&&this.trigger("".concat(h,":").concat(f),R,v)}},ne.prototype.logInfo=function(R,v){this.log(R,y(y({},v),{level:"info"}))},ne.prototype.logWarning=function(R,v){this.log(R,y(y({},v),{level:"warning"}))},ne.prototype.logError=function(R,v){this.log(R,y(y({},v),{level:"error"}))},ne.prototype.initBaseColorPicker=function(R,v){v===void 0&&(v={});var b=this.config,a=b.colorPicker,f=a===void 0?{}:a,h=b.el,_=b.stylePrefix;return(0,z.default)(R).spectrum(y(y({containerClassName:"".concat(_,"one-bg ").concat(_,"two-color"),appendTo:h||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},v),f))},ne.prototype.skip=function(R){this.__skip=!0;var v=this.get("UndoManager");v?v.skip(R):R(),this.__skip=!1},ne.prototype.data=function(R,v,b){var a="_gjs-data";if(R[a]||(R[a]={}),(0,_e.isUndefined)(b))return R[a][v];R[a][v]=b},ne}(k.Model);const W=x;var oe=function(){var Q=function(ne,R){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(v[a]=b[a])},Q(ne,R)};return function(ne,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function v(){this.constructor=ne}Q(ne,R),ne.prototype=R===null?Object.create(R):(v.prototype=R.prototype,new v)}}(),se=$().$;const Z=function(Q){function ne(R){var v=Q.call(this,{model:R})||this,b=R.attributes,a=b.Panels,f=b.UndoManager;return R.view=v,R.once("change:ready",function(){a.active(),a.disableButtons(),f.clear(),setTimeout(function(){R.trigger("load",R.get("Editor")),R.clearDirtyCount()})}),v}return oe(ne,Q),ne.prototype.render=function(){var R=this,v=this.$el,b=this.model,a=b.attributes,f=a.Panels,h=a.Canvas,_=b.config,A=b.modules,J=_.stylePrefix,te=se(_.el||"body ".concat(_.container));(0,q.appendStyles)(_.cssIcons,{unique:!0,prepand:!0}),v.empty(),_.width&&te.css("width",_.width),_.height&&te.css("height",_.height),v.append(h.render()),v.append(f.render());var F=b.get("shallow").get("Canvas").render();return F.style.display="none",v.append(F),v.attr("class","".concat(J,"editor ").concat(J,"one-bg ").concat(J,"two-color")),te.addClass("".concat(J,"editor-cont")).empty().append(v),A.forEach(function(G){return G.postRender&&G.postRender(R)}),this},ne}(k.View);var B=function(){return B=Object.assign||function(Q){for(var ne,R=1,v=arguments.length;R<v;R++)for(var b in ne=arguments[R])Object.prototype.hasOwnProperty.call(ne,b)&&(Q[b]=ne[b]);return Q},B.apply(this,arguments)},T=function(Q,ne,R,v){return new(R||(R=Promise))(function(b,a){function f(A){try{_(v.next(A))}catch(J){a(J)}}function h(A){try{_(v.throw(A))}catch(J){a(J)}}function _(A){var J;A.done?b(A.value):(J=A.value,J instanceof R?J:new R(function(te){te(J)})).then(f,h)}_((v=v.apply(Q,ne||[])).next())})},j=function(Q,ne){var R,v,b,a,f={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function h(_){return function(A){return function(J){if(R)throw new TypeError("Generator is already executing.");for(;f;)try{if(R=1,v&&(b=2&J[0]?v.return:J[0]?v.throw||((b=v.return)&&b.call(v),0):v.next)&&!(b=b.call(v,J[1])).done)return b;switch(v=0,b&&(J=[2&J[0],b.value]),J[0]){case 0:case 1:b=J;break;case 4:return f.label++,{value:J[1],done:!1};case 5:f.label++,v=J[1],J=[0];continue;case 7:J=f.ops.pop(),f.trys.pop();continue;default:if(b=f.trys,!((b=b.length>0&&b[b.length-1])||J[0]!==6&&J[0]!==2)){f=0;continue}if(J[0]===3&&(!b||J[1]>b[0]&&J[1]<b[3])){f.label=J[1];break}if(J[0]===6&&f.label<b[1]){f.label=b[1],b=J;break}if(b&&f.label<b[2]){f.label=b[2],f.ops.push(J);break}b[2]&&f.ops.pop(),f.trys.pop();continue}J=ne.call(Q,f)}catch(te){J=[6,te],v=0}finally{R=b=0}if(5&J[0])throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}([_,A])}}},U=function(Q,ne,R){if(R||arguments.length===2)for(var v,b=0,a=ne.length;b<a;b++)!v&&b in ne||(v||(v=Array.prototype.slice.call(ne,0,b)),v[b]=ne[b]);return Q.concat(v||Array.prototype.slice.call(ne))};const E=function(){function Q(ne,R){ne===void 0&&(ne={}),R===void 0&&(R={}),this.modules=[],this.html=ie.Z,this.config=B(B(B({},w),ne),{pStylePrefix:w.stylePrefix}),this.em=new W(this.config),this.$=R.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(Q.prototype,"I18n",{get:function(){return this.em.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Utils",{get:function(){return this.em.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Commands",{get:function(){return this.em.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Keymaps",{get:function(){return this.em.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Modal",{get:function(){return this.em.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Panels",{get:function(){return this.em.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Canvas",{get:function(){return this.em.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Parser",{get:function(){return this.em.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"CodeManager",{get:function(){return this.em.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"UndoManager",{get:function(){return this.em.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"RichTextEditor",{get:function(){return this.em.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Pages",{get:function(){return this.em.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Components",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"DomComponents",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Layers",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"LayerManager",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Css",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"CssComposer",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Storage",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"StorageManager",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Assets",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"AssetManager",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Blocks",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"BlockManager",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Traits",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"TraitManager",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Selectors",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"SelectorManager",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Styles",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"StyleManager",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"Devices",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,"DeviceManager",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),Q.prototype.getConfig=function(ne){var R=this.config;return(0,_e.isUndefined)(ne)?R:R[ne]},Q.prototype.getHtml=function(ne){return this.em.getHtml(ne)},Q.prototype.getCss=function(ne){return this.em.getCss(ne)},Q.prototype.getJs=function(ne){return this.em.getJs(ne)},Q.prototype.getComponents=function(){return this.em.get("DomComponents").getComponents()},Q.prototype.getWrapper=function(){return this.em.get("DomComponents").getWrapper()},Q.prototype.setComponents=function(ne,R){return R===void 0&&(R={}),this.em.setComponents(ne,R),this},Q.prototype.addComponents=function(ne,R){return this.getWrapper().append(ne,R)},Q.prototype.getStyle=function(){return this.em.get("CssComposer").getAll()},Q.prototype.setStyle=function(ne,R){return R===void 0&&(R={}),this.em.setStyle(ne,R),this},Q.prototype.addStyle=function(ne,R){return R===void 0&&(R={}),this.em.addStyle(ne,R)},Q.prototype.getSelected=function(){return this.em.getSelected()},Q.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},Q.prototype.getSelectedToStyle=function(){var ne=this.em.getSelected();if(ne)return this.StyleManager.getModelToStyle(ne)},Q.prototype.select=function(ne,R){return this.em.setSelected(ne,R),this},Q.prototype.selectAdd=function(ne){return this.em.addSelected(ne),this},Q.prototype.selectRemove=function(ne){return this.em.removeSelected(ne),this},Q.prototype.selectToggle=function(ne){return this.em.toggleSelected(ne),this},Q.prototype.getEditing=function(){return this.em.getEditing()},Q.prototype.setDevice=function(ne){return this.em.set("device",ne),this},Q.prototype.getDevice=function(){return this.em.get("device")},Q.prototype.runCommand=function(ne,R){return R===void 0&&(R={}),this.em.get("Commands").run(ne,R)},Q.prototype.stopCommand=function(ne,R){return R===void 0&&(R={}),this.em.get("Commands").stop(ne,R)},Q.prototype.store=function(ne){return T(this,void 0,void 0,function(){return j(this,function(R){switch(R.label){case 0:return[4,this.em.store(ne)];case 1:return[2,R.sent()]}})})},Q.prototype.load=function(ne){return T(this,void 0,void 0,function(){return j(this,function(R){switch(R.label){case 0:return[4,this.em.load(ne)];case 1:return[2,R.sent()]}})})},Q.prototype.getProjectData=function(){return this.em.storeData()},Q.prototype.loadProjectData=function(ne){return this.em.loadData(ne)},Q.prototype.storeData=function(){return this.em.storeData()},Q.prototype.loadData=function(ne){return this.em.loadData(ne)},Q.prototype.getContainer=function(){return this.config.el},Q.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},Q.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},Q.prototype.refresh=function(ne){this.em.refreshCanvas(ne)},Q.prototype.setCustomRte=function(ne){this.RichTextEditor.customRte=ne},Q.prototype.setCustomParserCss=function(ne){return this.Parser.getConfig().parserCss=ne,this},Q.prototype.setDragMode=function(ne){return this.em.setDragMode(ne),this},Q.prototype.log=function(ne,R){return R===void 0&&(R={}),this.em.log(ne,R),this},Q.prototype.t=function(){for(var ne,R=[],v=0;v<arguments.length;v++)R[v]=arguments[v];return(ne=this.em).t.apply(ne,R)},Q.prototype.on=function(ne,R){return this.em.on(ne,R),this},Q.prototype.once=function(ne,R){return this.em.once(ne,R),this},Q.prototype.off=function(ne,R){return this.em.off(ne,R),this},Q.prototype.trigger=function(ne){for(var R=[],v=1;v<arguments.length;v++)R[v-1]=arguments[v];return this.em.trigger.apply(this.em,U([ne],R,!0)),this},Q.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},Q.prototype.getEl=function(){var ne;return(ne=this.editorView)===null||ne===void 0?void 0:ne.el},Q.prototype.getModel=function(){return this.em},Q.prototype.render=function(){var ne;return(ne=this.editorView)===null||ne===void 0||ne.remove(),this.editorView=new Z(this.em),this.editorView.render().el},Q.prototype.onReady=function(ne){this.em.get("ready")?ne(this):this.em.on("load",ne)},Q}(),M={plugins:[]};function c(Q,ne){var R=Object.keys(Q);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(Q);ne&&(v=v.filter(function(b){return Object.getOwnPropertyDescriptor(Q,b).enumerable})),R.push.apply(R,v)}return R}function d(Q){for(var ne=1;ne<arguments.length;ne++){var R=arguments[ne]!=null?arguments[ne]:{};ne%2?c(Object(R),!0).forEach(function(v){(0,ge.Z)(Q,v,R[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(R)):c(Object(R)).forEach(function(v){Object.defineProperty(Q,v,Object.getOwnPropertyDescriptor(R,v))})}return Q}(function(){if((0,q.hasWin)()&&function(){for(var ne,R=window.navigator.userAgent,v=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],b=0;b<v.length&&!(ne=v[b][1].exec(R));b++);return!!ne}()){var Q=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(ne){return ne||(ne=""),Q.apply(document.implementation,[ne])}}})();var s=new function(Q){var ne=Q||{};for(var R in M)R in ne||(ne[R]=M[R]);var v={};return{add:function(b,a){return v[b]?v[b]:(v[b]=a,a)},get:function(b){return v[b]},getAll:function(){return v}}},p=[],O={autorender:1,plugins:[],pluginsOpts:{}};const K={$:z.default,editors:p,plugins:s,version:"0.20.1",init:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=Q,R=ne.headless,v=Q.container;if(!v&&!R)throw new Error("'container' is required");(Q=d(d(d({},O),Q),{},{grapesjs:this})).el=!R&&((0,_e.isElement)(v)?v:document.querySelector(v));var b=new E(Q,{$:z.default}),a=b.getModel();return Q.plugins.forEach(function(f){var h=(0,_e.isFunction)(f)?f:s.get(f),_=Q.pluginsOpts[f]||{};if(!h){var A=(0,q.getGlobal)()[f];h=(A==null?void 0:A.default)||A}h?h(b,_):(0,_e.isFunction)(f)?f(b,_):a.logWarning("Plugin ".concat(f," not found"),{context:"plugins",plugin:f})}),a.loadOnStart(),Q.autorender&&!R&&b.render(),p.push(b),b}}})(),He=He.default})());var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Up(Oe){return Oe&&Oe.__esModule&&Object.prototype.hasOwnProperty.call(Oe,"default")?Oe.default:Oe}function zp(Oe){var Ae=Oe.default;if(typeof Ae=="function"){var Ue=function(){return Ae.apply(this,arguments)};Ue.prototype=Ae.prototype}else Ue={};return Object.defineProperty(Ue,"__esModule",{value:!0}),Object.keys(Oe).forEach(function(He){var ge=Object.getOwnPropertyDescriptor(Oe,He);Object.defineProperty(Ue,He,ge.get?ge:{enumerable:!0,get:function(){return Oe[He]}})}),Ue}var lp={exports:{}},up={},fs={exports:{}};(function(Oe){var Ae,Ue,He,ge,_e,z,ie,w,k,$,D,q,l,P,N,C,y,m,g,S,I,H,X,Y,x;(function(W){var oe=typeof Pn=="object"?Pn:typeof self=="object"?self:typeof this=="object"?this:{};W(se(oe,se(Oe.exports)));function se(Z,B){return Z!==oe&&(typeof Object.create=="function"?Object.defineProperty(Z,"__esModule",{value:!0}):Z.__esModule=!0),function(T,j){return Z[T]=B?B(T,j):j}}})(function(W){var oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,B){Z.__proto__=B}||function(Z,B){for(var T in B)Object.prototype.hasOwnProperty.call(B,T)&&(Z[T]=B[T])};Ae=function(Z,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");oe(Z,B);function T(){this.constructor=Z}Z.prototype=B===null?Object.create(B):(T.prototype=B.prototype,new T)},Ue=Object.assign||function(Z){for(var B,T=1,j=arguments.length;T<j;T++){B=arguments[T];for(var U in B)Object.prototype.hasOwnProperty.call(B,U)&&(Z[U]=B[U])}return Z},He=function(Z,B){var T={};for(var j in Z)Object.prototype.hasOwnProperty.call(Z,j)&&B.indexOf(j)<0&&(T[j]=Z[j]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,j=Object.getOwnPropertySymbols(Z);U<j.length;U++)B.indexOf(j[U])<0&&Object.prototype.propertyIsEnumerable.call(Z,j[U])&&(T[j[U]]=Z[j[U]]);return T},ge=function(Z,B,T,j){var U=arguments.length,E=U<3?B:j===null?j=Object.getOwnPropertyDescriptor(B,T):j,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(Z,B,T,j);else for(var c=Z.length-1;c>=0;c--)(M=Z[c])&&(E=(U<3?M(E):U>3?M(B,T,E):M(B,T))||E);return U>3&&E&&Object.defineProperty(B,T,E),E},_e=function(Z,B){return function(T,j){B(T,j,Z)}},z=function(Z,B){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Z,B)},ie=function(Z,B,T,j){function U(E){return E instanceof T?E:new T(function(M){M(E)})}return new(T||(T=Promise))(function(E,M){function c(p){try{s(j.next(p))}catch(O){M(O)}}function d(p){try{s(j.throw(p))}catch(O){M(O)}}function s(p){p.done?E(p.value):U(p.value).then(c,d)}s((j=j.apply(Z,B||[])).next())})},w=function(Z,B){var T={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},j,U,E,M;return M={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function c(s){return function(p){return d([s,p])}}function d(s){if(j)throw new TypeError("Generator is already executing.");for(;M&&(M=0,s[0]&&(T=0)),T;)try{if(j=1,U&&(E=s[0]&2?U.return:s[0]?U.throw||((E=U.return)&&E.call(U),0):U.next)&&!(E=E.call(U,s[1])).done)return E;switch(U=0,E&&(s=[s[0]&2,E.value]),s[0]){case 0:case 1:E=s;break;case 4:return T.label++,{value:s[1],done:!1};case 5:T.label++,U=s[1],s=[0];continue;case 7:s=T.ops.pop(),T.trys.pop();continue;default:if(E=T.trys,!(E=E.length>0&&E[E.length-1])&&(s[0]===6||s[0]===2)){T=0;continue}if(s[0]===3&&(!E||s[1]>E[0]&&s[1]<E[3])){T.label=s[1];break}if(s[0]===6&&T.label<E[1]){T.label=E[1],E=s;break}if(E&&T.label<E[2]){T.label=E[2],T.ops.push(s);break}E[2]&&T.ops.pop(),T.trys.pop();continue}s=B.call(Z,T)}catch(p){s=[6,p],U=0}finally{j=E=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},k=function(Z,B){for(var T in Z)T!=="default"&&!Object.prototype.hasOwnProperty.call(B,T)&&x(B,Z,T)},x=Object.create?function(Z,B,T,j){j===void 0&&(j=T);var U=Object.getOwnPropertyDescriptor(B,T);(!U||("get"in U?!B.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return B[T]}}),Object.defineProperty(Z,j,U)}:function(Z,B,T,j){j===void 0&&(j=T),Z[j]=B[T]},$=function(Z){var B=typeof Symbol=="function"&&Symbol.iterator,T=B&&Z[B],j=0;if(T)return T.call(Z);if(Z&&typeof Z.length=="number")return{next:function(){return Z&&j>=Z.length&&(Z=void 0),{value:Z&&Z[j++],done:!Z}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")},D=function(Z,B){var T=typeof Symbol=="function"&&Z[Symbol.iterator];if(!T)return Z;var j=T.call(Z),U,E=[],M;try{for(;(B===void 0||B-- >0)&&!(U=j.next()).done;)E.push(U.value)}catch(c){M={error:c}}finally{try{U&&!U.done&&(T=j.return)&&T.call(j)}finally{if(M)throw M.error}}return E},q=function(){for(var Z=[],B=0;B<arguments.length;B++)Z=Z.concat(D(arguments[B]));return Z},l=function(){for(var Z=0,B=0,T=arguments.length;B<T;B++)Z+=arguments[B].length;for(var j=Array(Z),U=0,B=0;B<T;B++)for(var E=arguments[B],M=0,c=E.length;M<c;M++,U++)j[U]=E[M];return j},P=function(Z,B,T){if(T||arguments.length===2)for(var j=0,U=B.length,E;j<U;j++)(E||!(j in B))&&(E||(E=Array.prototype.slice.call(B,0,j)),E[j]=B[j]);return Z.concat(E||Array.prototype.slice.call(B))},N=function(Z){return this instanceof N?(this.v=Z,this):new N(Z)},C=function(Z,B,T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=T.apply(Z,B||[]),U,E=[];return U={},M("next"),M("throw"),M("return"),U[Symbol.asyncIterator]=function(){return this},U;function M(K){j[K]&&(U[K]=function(Q){return new Promise(function(ne,R){E.push([K,Q,ne,R])>1||c(K,Q)})})}function c(K,Q){try{d(j[K](Q))}catch(ne){O(E[0][3],ne)}}function d(K){K.value instanceof N?Promise.resolve(K.value.v).then(s,p):O(E[0][2],K)}function s(K){c("next",K)}function p(K){c("throw",K)}function O(K,Q){K(Q),E.shift(),E.length&&c(E[0][0],E[0][1])}},y=function(Z){var B,T;return B={},j("next"),j("throw",function(U){throw U}),j("return"),B[Symbol.iterator]=function(){return this},B;function j(U,E){B[U]=Z[U]?function(M){return(T=!T)?{value:N(Z[U](M)),done:U==="return"}:E?E(M):M}:E}},m=function(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B=Z[Symbol.asyncIterator],T;return B?B.call(Z):(Z=typeof $=="function"?$(Z):Z[Symbol.iterator](),T={},j("next"),j("throw"),j("return"),T[Symbol.asyncIterator]=function(){return this},T);function j(E){T[E]=Z[E]&&function(M){return new Promise(function(c,d){M=Z[E](M),U(c,d,M.done,M.value)})}}function U(E,M,c,d){Promise.resolve(d).then(function(s){E({value:s,done:c})},M)}},g=function(Z,B){return Object.defineProperty?Object.defineProperty(Z,"raw",{value:B}):Z.raw=B,Z};var se=Object.create?function(Z,B){Object.defineProperty(Z,"default",{enumerable:!0,value:B})}:function(Z,B){Z.default=B};S=function(Z){if(Z&&Z.__esModule)return Z;var B={};if(Z!=null)for(var T in Z)T!=="default"&&Object.prototype.hasOwnProperty.call(Z,T)&&x(B,Z,T);return se(B,Z),B},I=function(Z){return Z&&Z.__esModule?Z:{default:Z}},H=function(Z,B,T,j){if(T==="a"&&!j)throw new TypeError("Private accessor was defined without a getter");if(typeof B=="function"?Z!==B||!j:!B.has(Z))throw new TypeError("Cannot read private member from an object whose class did not declare it");return T==="m"?j:T==="a"?j.call(Z):j?j.value:B.get(Z)},X=function(Z,B,T,j,U){if(j==="m")throw new TypeError("Private method is not writable");if(j==="a"&&!U)throw new TypeError("Private accessor was defined without a setter");if(typeof B=="function"?Z!==B||!U:!B.has(Z))throw new TypeError("Cannot write private member to an object whose class did not declare it");return j==="a"?U.call(Z,T):U?U.value=T:B.set(Z,T),T},Y=function(Z,B){if(B===null||typeof B!="object"&&typeof B!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Z=="function"?B===Z:Z.has(B)},W("__extends",Ae),W("__assign",Ue),W("__rest",He),W("__decorate",ge),W("__param",_e),W("__metadata",z),W("__awaiter",ie),W("__generator",w),W("__exportStar",k),W("__createBinding",x),W("__values",$),W("__read",D),W("__spread",q),W("__spreadArrays",l),W("__spreadArray",P),W("__await",N),W("__asyncGenerator",C),W("__asyncDelegator",y),W("__asyncValues",m),W("__makeTemplateObject",g),W("__importStar",S),W("__importDefault",I),W("__classPrivateFieldGet",H),W("__classPrivateFieldSet",X),W("__classPrivateFieldIn",Y)})})(fs);var Su={},Cf;function qp(){return Cf||(Cf=1,Object.defineProperty(Su,"__esModule",{value:!0})),Su}var Uc={},Xa={},Ef;function ff(){if(Ef)return Xa;Ef=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.flatten=void 0;var Oe=fs.exports,Ae={xml:!1,decodeEntities:!0};Xa.default=Ae;var Ue={_useHtmlParser2:!0,xmlMode:!0};function He(ge){return ge!=null&&ge.xml?typeof ge.xml=="boolean"?Ue:Oe.__assign(Oe.__assign({},Ue),ge.xml):ge!=null?ge:void 0}return Xa.flatten=He,Xa}var mi={},ku={},Tr;(function(Oe){Oe.Attribute="attribute",Oe.Pseudo="pseudo",Oe.PseudoElement="pseudo-element",Oe.Tag="tag",Oe.Universal="universal",Oe.Adjacent="adjacent",Oe.Child="child",Oe.Descendant="descendant",Oe.Parent="parent",Oe.Sibling="sibling",Oe.ColumnCombinator="column-combinator"})(Tr||(Tr={}));const Wp={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var $r;(function(Oe){Oe.Any="any",Oe.Element="element",Oe.End="end",Oe.Equals="equals",Oe.Exists="exists",Oe.Hyphen="hyphen",Oe.Not="not",Oe.Start="start"})($r||($r={}));const Sf=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,$p=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,Gp=new Map([[126,$r.Element],[94,$r.Start],[36,$r.End],[42,$r.Any],[33,$r.Not],[124,$r.Hyphen]]),Kp=new Set(["has","not","matches","is","where","host","host-context"]);function fp(Oe){switch(Oe.type){case Tr.Adjacent:case Tr.Child:case Tr.Descendant:case Tr.Parent:case Tr.Sibling:case Tr.ColumnCombinator:return!0;default:return!1}}const Yp=new Set(["contains","icontains"]);function Xp(Oe,Ae,Ue){const He=parseInt(Ae,16)-65536;return He!==He||Ue?Ae:He<0?String.fromCharCode(He+65536):String.fromCharCode(He>>10|55296,He&1023|56320)}function zc(Oe){return Oe.replace($p,Xp)}function xu(Oe){return Oe===39||Oe===34}function kf(Oe){return Oe===32||Oe===9||Oe===10||Oe===12||Oe===13}function Jp(Oe){const Ae=[],Ue=hp(Ae,`${Oe}`,0);if(Ue<Oe.length)throw new Error(`Unmatched selector: ${Oe.slice(Ue)}`);return Ae}function hp(Oe,Ae,Ue){let He=[];function ge(q){const l=Ae.slice(Ue+q).match(Sf);if(!l)throw new Error(`Expected name, found ${Ae.slice(Ue)}`);const[P]=l;return Ue+=q+P.length,zc(P)}function _e(q){for(Ue+=q;Ue<Ae.length&&kf(Ae.charCodeAt(Ue));)Ue++}function z(){Ue+=1;const q=Ue;let l=1;for(;l>0&&Ue<Ae.length;Ue++)Ae.charCodeAt(Ue)===40&&!ie(Ue)?l++:Ae.charCodeAt(Ue)===41&&!ie(Ue)&&l--;if(l)throw new Error("Parenthesis not matched");return zc(Ae.slice(q,Ue-1))}function ie(q){let l=0;for(;Ae.charCodeAt(--q)===92;)l++;return(l&1)===1}function w(){if(He.length>0&&fp(He[He.length-1]))throw new Error("Did not expect successive traversals.")}function k(q){if(He.length>0&&He[He.length-1].type===Tr.Descendant){He[He.length-1].type=q;return}w(),He.push({type:q})}function $(q,l){He.push({type:Tr.Attribute,name:q,action:l,value:ge(1),namespace:null,ignoreCase:"quirks"})}function D(){if(He.length&&He[He.length-1].type===Tr.Descendant&&He.pop(),He.length===0)throw new Error("Empty sub-selector");Oe.push(He)}if(_e(0),Ae.length===Ue)return Ue;e:for(;Ue<Ae.length;){const q=Ae.charCodeAt(Ue);switch(q){case 32:case 9:case 10:case 12:case 13:{(He.length===0||He[0].type!==Tr.Descendant)&&(w(),He.push({type:Tr.Descendant})),_e(1);break}case 62:{k(Tr.Child),_e(1);break}case 60:{k(Tr.Parent),_e(1);break}case 126:{k(Tr.Sibling),_e(1);break}case 43:{k(Tr.Adjacent),_e(1);break}case 46:{$("class",$r.Element);break}case 35:{$("id",$r.Equals);break}case 91:{_e(1);let l,P=null;Ae.charCodeAt(Ue)===124?l=ge(1):Ae.startsWith("*|",Ue)?(P="*",l=ge(2)):(l=ge(0),Ae.charCodeAt(Ue)===124&&Ae.charCodeAt(Ue+1)!==61&&(P=l,l=ge(1))),_e(0);let N=$r.Exists;const C=Gp.get(Ae.charCodeAt(Ue));if(C){if(N=C,Ae.charCodeAt(Ue+1)!==61)throw new Error("Expected `=`");_e(2)}else Ae.charCodeAt(Ue)===61&&(N=$r.Equals,_e(1));let y="",m=null;if(N!=="exists"){if(xu(Ae.charCodeAt(Ue))){const I=Ae.charCodeAt(Ue);let H=Ue+1;for(;H<Ae.length&&(Ae.charCodeAt(H)!==I||ie(H));)H+=1;if(Ae.charCodeAt(H)!==I)throw new Error("Attribute value didn't end");y=zc(Ae.slice(Ue+1,H)),Ue=H+1}else{const I=Ue;for(;Ue<Ae.length&&(!kf(Ae.charCodeAt(Ue))&&Ae.charCodeAt(Ue)!==93||ie(Ue));)Ue+=1;y=zc(Ae.slice(I,Ue))}_e(0);const S=Ae.charCodeAt(Ue)|32;S===115?(m=!1,_e(1)):S===105&&(m=!0,_e(1))}if(Ae.charCodeAt(Ue)!==93)throw new Error("Attribute selector didn't terminate");Ue+=1;const g={type:Tr.Attribute,name:l,action:N,value:y,namespace:P,ignoreCase:m};He.push(g);break}case 58:{if(Ae.charCodeAt(Ue+1)===58){He.push({type:Tr.PseudoElement,name:ge(2).toLowerCase(),data:Ae.charCodeAt(Ue)===40?z():null});continue}const l=ge(1).toLowerCase();let P=null;if(Ae.charCodeAt(Ue)===40)if(Kp.has(l)){if(xu(Ae.charCodeAt(Ue+1)))throw new Error(`Pseudo-selector ${l} cannot be quoted`);if(P=[],Ue=hp(P,Ae,Ue+1),Ae.charCodeAt(Ue)!==41)throw new Error(`Missing closing parenthesis in :${l} (${Ae})`);Ue+=1}else{if(P=z(),Yp.has(l)){const N=P.charCodeAt(0);N===P.charCodeAt(P.length-1)&&xu(N)&&(P=P.slice(1,-1))}P=zc(P)}He.push({type:Tr.Pseudo,name:l,data:P});break}case 44:{D(),He=[],_e(1);break}default:{if(Ae.startsWith("/*",Ue)){const N=Ae.indexOf("*/",Ue+2);if(N<0)throw new Error("Comment was not terminated");Ue=N+2,He.length===0&&_e(0);break}let l=null,P;if(q===42)Ue+=1,P="*";else if(q===124){if(P="",Ae.charCodeAt(Ue+1)===124){k(Tr.ColumnCombinator),_e(2);break}}else if(Sf.test(Ae.slice(Ue)))P=ge(0);else break e;Ae.charCodeAt(Ue)===124&&Ae.charCodeAt(Ue+1)!==124&&(l=P,Ae.charCodeAt(Ue+1)===42?(P="*",Ue+=2):P=ge(1)),He.push(P==="*"?{type:Tr.Universal,namespace:l}:{type:Tr.Tag,name:P,namespace:l})}}}return D(),Ue}const pp=["\\",'"'],dp=[...pp,"(",")"],Qp=new Set(pp.map(Oe=>Oe.charCodeAt(0))),xf=new Set(dp.map(Oe=>Oe.charCodeAt(0))),Qa=new Set([...dp,"~","^","$","*","+","!","|",":","[","]"," ","."].map(Oe=>Oe.charCodeAt(0)));function gp(Oe){return Oe.map(Ae=>Ae.map(ed).join("")).join(", ")}function ed(Oe,Ae,Ue){switch(Oe.type){case Tr.Child:return Ae===0?"> ":" > ";case Tr.Parent:return Ae===0?"< ":" < ";case Tr.Sibling:return Ae===0?"~ ":" ~ ";case Tr.Adjacent:return Ae===0?"+ ":" + ";case Tr.Descendant:return" ";case Tr.ColumnCombinator:return Ae===0?"|| ":" || ";case Tr.Universal:return Oe.namespace==="*"&&Ae+1<Ue.length&&"name"in Ue[Ae+1]?"":`${mp(Oe.namespace)}*`;case Tr.Tag:return Pf(Oe);case Tr.PseudoElement:return`::${us(Oe.name,Qa)}${Oe.data===null?"":`(${us(Oe.data,xf)})`}`;case Tr.Pseudo:return`:${us(Oe.name,Qa)}${Oe.data===null?"":`(${typeof Oe.data=="string"?us(Oe.data,xf):gp(Oe.data)})`}`;case Tr.Attribute:{if(Oe.name==="id"&&Oe.action===$r.Equals&&Oe.ignoreCase==="quirks"&&!Oe.namespace)return`#${us(Oe.value,Qa)}`;if(Oe.name==="class"&&Oe.action===$r.Element&&Oe.ignoreCase==="quirks"&&!Oe.namespace)return`.${us(Oe.value,Qa)}`;const He=Pf(Oe);return Oe.action===$r.Exists?`[${He}]`:`[${He}${td(Oe.action)}="${us(Oe.value,Qp)}"${Oe.ignoreCase===null?"":Oe.ignoreCase?" i":" s"}]`}}}function td(Oe){switch(Oe){case $r.Equals:return"";case $r.Element:return"~";case $r.Start:return"^";case $r.End:return"$";case $r.Any:return"*";case $r.Not:return"!";case $r.Hyphen:return"|";case $r.Exists:throw new Error("Shouldn't be here")}}function Pf(Oe){return`${mp(Oe.namespace)}${us(Oe.name,Qa)}`}function mp(Oe){return Oe!==null?`${Oe==="*"?"*":us(Oe,Qa)}|`:""}function us(Oe,Ae){let Ue=0,He="";for(let ge=0;ge<Oe.length;ge++)Ae.has(Oe.charCodeAt(ge))&&(He+=`${Oe.slice(Ue,ge)}\\${Oe.charAt(ge)}`,Ue=ge+1);return He.length>0?He+Oe.slice(Ue):Oe}const nd=Object.freeze(Object.defineProperty({__proto__:null,isTraversal:fp,parse:Jp,stringify:gp,get SelectorType(){return Tr},IgnoreCaseMode:Wp,get AttributeAction(){return $r}},Symbol.toStringTag,{value:"Module"})),tl=zp(nd);var Pu={},Au={},qi={},Ru={},Du={},Af;function nl(){return Af||(Af=1,function(Oe){Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Doctype=Oe.CDATA=Oe.Tag=Oe.Style=Oe.Script=Oe.Comment=Oe.Directive=Oe.Text=Oe.Root=Oe.isTag=Oe.ElementType=void 0;var Ae;(function(He){He.Root="root",He.Text="text",He.Directive="directive",He.Comment="comment",He.Script="script",He.Style="style",He.Tag="tag",He.CDATA="cdata",He.Doctype="doctype"})(Ae=Oe.ElementType||(Oe.ElementType={}));function Ue(He){return He.type===Ae.Tag||He.type===Ae.Script||He.type===Ae.Style}Oe.isTag=Ue,Oe.Root=Ae.Root,Oe.Text=Ae.Text,Oe.Directive=Ae.Directive,Oe.Comment=Ae.Comment,Oe.Script=Ae.Script,Oe.Style=Ae.Style,Oe.Tag=Ae.Tag,Oe.CDATA=Ae.CDATA,Oe.Doctype=Ae.Doctype}(Du)),Du}var br={},Rf;function Df(){if(Rf)return br;Rf=1;var Oe=Pn&&Pn.__extends||function(){var I=function(H,X){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,x){Y.__proto__=x}||function(Y,x){for(var W in x)Object.prototype.hasOwnProperty.call(x,W)&&(Y[W]=x[W])},I(H,X)};return function(H,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");I(H,X);function Y(){this.constructor=H}H.prototype=X===null?Object.create(X):(Y.prototype=X.prototype,new Y)}}(),Ae=Pn&&Pn.__assign||function(){return Ae=Object.assign||function(I){for(var H,X=1,Y=arguments.length;X<Y;X++){H=arguments[X];for(var x in H)Object.prototype.hasOwnProperty.call(H,x)&&(I[x]=H[x])}return I},Ae.apply(this,arguments)};Object.defineProperty(br,"__esModule",{value:!0}),br.cloneNode=br.hasChildren=br.isDocument=br.isDirective=br.isComment=br.isText=br.isCDATA=br.isTag=br.Element=br.Document=br.NodeWithChildren=br.ProcessingInstruction=br.Comment=br.Text=br.DataNode=br.Node=void 0;var Ue=nl(),He=new Map([[Ue.ElementType.Tag,1],[Ue.ElementType.Script,1],[Ue.ElementType.Style,1],[Ue.ElementType.Directive,1],[Ue.ElementType.Text,3],[Ue.ElementType.CDATA,4],[Ue.ElementType.Comment,8],[Ue.ElementType.Root,9]]),ge=function(){function I(H){this.type=H,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(I.prototype,"nodeType",{get:function(){var H;return(H=He.get(this.type))!==null&&H!==void 0?H:1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"parentNode",{get:function(){return this.parent},set:function(H){this.parent=H},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"previousSibling",{get:function(){return this.prev},set:function(H){this.prev=H},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"nextSibling",{get:function(){return this.next},set:function(H){this.next=H},enumerable:!1,configurable:!0}),I.prototype.cloneNode=function(H){return H===void 0&&(H=!1),g(this,H)},I}();br.Node=ge;var _e=function(I){Oe(H,I);function H(X,Y){var x=I.call(this,X)||this;return x.data=Y,x}return Object.defineProperty(H.prototype,"nodeValue",{get:function(){return this.data},set:function(X){this.data=X},enumerable:!1,configurable:!0}),H}(ge);br.DataNode=_e;var z=function(I){Oe(H,I);function H(X){return I.call(this,Ue.ElementType.Text,X)||this}return H}(_e);br.Text=z;var ie=function(I){Oe(H,I);function H(X){return I.call(this,Ue.ElementType.Comment,X)||this}return H}(_e);br.Comment=ie;var w=function(I){Oe(H,I);function H(X,Y){var x=I.call(this,Ue.ElementType.Directive,Y)||this;return x.name=X,x}return H}(_e);br.ProcessingInstruction=w;var k=function(I){Oe(H,I);function H(X,Y){var x=I.call(this,X)||this;return x.children=Y,x}return Object.defineProperty(H.prototype,"firstChild",{get:function(){var X;return(X=this.children[0])!==null&&X!==void 0?X:null},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"childNodes",{get:function(){return this.children},set:function(X){this.children=X},enumerable:!1,configurable:!0}),H}(ge);br.NodeWithChildren=k;var $=function(I){Oe(H,I);function H(X){return I.call(this,Ue.ElementType.Root,X)||this}return H}(k);br.Document=$;var D=function(I){Oe(H,I);function H(X,Y,x,W){x===void 0&&(x=[]),W===void 0&&(W=X==="script"?Ue.ElementType.Script:X==="style"?Ue.ElementType.Style:Ue.ElementType.Tag);var oe=I.call(this,W,x)||this;return oe.name=X,oe.attribs=Y,oe}return Object.defineProperty(H.prototype,"tagName",{get:function(){return this.name},set:function(X){this.name=X},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"attributes",{get:function(){var X=this;return Object.keys(this.attribs).map(function(Y){var x,W;return{name:Y,value:X.attribs[Y],namespace:(x=X["x-attribsNamespace"])===null||x===void 0?void 0:x[Y],prefix:(W=X["x-attribsPrefix"])===null||W===void 0?void 0:W[Y]}})},enumerable:!1,configurable:!0}),H}(k);br.Element=D;function q(I){return(0,Ue.isTag)(I)}br.isTag=q;function l(I){return I.type===Ue.ElementType.CDATA}br.isCDATA=l;function P(I){return I.type===Ue.ElementType.Text}br.isText=P;function N(I){return I.type===Ue.ElementType.Comment}br.isComment=N;function C(I){return I.type===Ue.ElementType.Directive}br.isDirective=C;function y(I){return I.type===Ue.ElementType.Root}br.isDocument=y;function m(I){return Object.prototype.hasOwnProperty.call(I,"children")}br.hasChildren=m;function g(I,H){H===void 0&&(H=!1);var X;if(P(I))X=new z(I.data);else if(N(I))X=new ie(I.data);else if(q(I)){var Y=H?S(I.children):[],x=new D(I.name,Ae({},I.attribs),Y);Y.forEach(function(Z){return Z.parent=x}),I.namespace!=null&&(x.namespace=I.namespace),I["x-attribsNamespace"]&&(x["x-attribsNamespace"]=Ae({},I["x-attribsNamespace"])),I["x-attribsPrefix"]&&(x["x-attribsPrefix"]=Ae({},I["x-attribsPrefix"])),X=x}else if(l(I)){var Y=H?S(I.children):[],W=new k(Ue.ElementType.CDATA,Y);Y.forEach(function(B){return B.parent=W}),X=W}else if(y(I)){var Y=H?S(I.children):[],oe=new $(Y);Y.forEach(function(B){return B.parent=oe}),I["x-mode"]&&(oe["x-mode"]=I["x-mode"]),X=oe}else if(C(I)){var se=new w(I.name,I.data);I["x-name"]!=null&&(se["x-name"]=I["x-name"],se["x-publicId"]=I["x-publicId"],se["x-systemId"]=I["x-systemId"]),X=se}else throw new Error("Not implemented yet: ".concat(I.type));return X.startIndex=I.startIndex,X.endIndex=I.endIndex,I.sourceCodeLocation!=null&&(X.sourceCodeLocation=I.sourceCodeLocation),X}br.cloneNode=g;function S(I){for(var H=I.map(function(Y){return g(Y,!0)}),X=1;X<H.length;X++)H[X].prev=H[X-1],H[X-1].next=H[X];return H}return br}var Nf;function Fi(){return Nf||(Nf=1,function(Oe){var Ae=Pn&&Pn.__createBinding||(Object.create?function(w,k,$,D){D===void 0&&(D=$);var q=Object.getOwnPropertyDescriptor(k,$);(!q||("get"in q?!k.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return k[$]}}),Object.defineProperty(w,D,q)}:function(w,k,$,D){D===void 0&&(D=$),w[D]=k[$]}),Ue=Pn&&Pn.__exportStar||function(w,k){for(var $ in w)$!=="default"&&!Object.prototype.hasOwnProperty.call(k,$)&&Ae(k,w,$)};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.DomHandler=void 0;var He=nl(),ge=Df();Ue(Df(),Oe);var _e=/\s+/g,z={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},ie=function(){function w(k,$,D){this.dom=[],this.root=new ge.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof $=="function"&&(D=$,$=z),typeof k=="object"&&($=k,k=void 0),this.callback=k!=null?k:null,this.options=$!=null?$:z,this.elementCB=D!=null?D:null}return w.prototype.onparserinit=function(k){this.parser=k},w.prototype.onreset=function(){this.dom=[],this.root=new ge.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},w.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},w.prototype.onerror=function(k){this.handleCallback(k)},w.prototype.onclosetag=function(){this.lastNode=null;var k=this.tagStack.pop();this.options.withEndIndices&&(k.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(k)},w.prototype.onopentag=function(k,$){var D=this.options.xmlMode?He.ElementType.Tag:void 0,q=new ge.Element(k,$,void 0,D);this.addNode(q),this.tagStack.push(q)},w.prototype.ontext=function(k){var $=this.options.normalizeWhitespace,D=this.lastNode;if(D&&D.type===He.ElementType.Text)$?D.data=(D.data+k).replace(_e," "):D.data+=k,this.options.withEndIndices&&(D.endIndex=this.parser.endIndex);else{$&&(k=k.replace(_e," "));var q=new ge.Text(k);this.addNode(q),this.lastNode=q}},w.prototype.oncomment=function(k){if(this.lastNode&&this.lastNode.type===He.ElementType.Comment){this.lastNode.data+=k;return}var $=new ge.Comment(k);this.addNode($),this.lastNode=$},w.prototype.oncommentend=function(){this.lastNode=null},w.prototype.oncdatastart=function(){var k=new ge.Text(""),$=new ge.NodeWithChildren(He.ElementType.CDATA,[k]);this.addNode($),k.parent=$,this.lastNode=k},w.prototype.oncdataend=function(){this.lastNode=null},w.prototype.onprocessinginstruction=function(k,$){var D=new ge.ProcessingInstruction(k,$);this.addNode(D)},w.prototype.handleCallback=function(k){if(typeof this.callback=="function")this.callback(k,this.dom);else if(k)throw k},w.prototype.addNode=function(k){var $=this.tagStack[this.tagStack.length-1],D=$.children[$.children.length-1];this.options.withStartIndices&&(k.startIndex=this.parser.startIndex),this.options.withEndIndices&&(k.endIndex=this.parser.endIndex),$.children.push(k),D&&(k.prev=D,D.next=k),k.parent=$,this.lastNode=null},w}();Oe.DomHandler=ie,Oe.default=ie}(Ru)),Ru}var zl={},Nu={},ss={};const rd="\xC1",id="\xE1",od="\u0102",sd="\u0103",ad="\u223E",cd="\u223F",ld="\u223E\u0333",ud="\xC2",fd="\xE2",hd="\xB4",pd="\u0410",dd="\u0430",gd="\xC6",md="\xE6",vd="\u2061",yd="\u{1D504}",bd="\u{1D51E}",wd="\xC0",_d="\xE0",Td="\u2135",Od="\u2135",Cd="\u0391",Ed="\u03B1",Sd="\u0100",kd="\u0101",xd="\u2A3F",Pd="&",Ad="&",Rd="\u2A55",Dd="\u2A53",Nd="\u2227",Md="\u2A5C",jd="\u2A58",Ld="\u2A5A",Id="\u2220",Zd="\u29A4",Fd="\u2220",Bd="\u29A8",Hd="\u29A9",Vd="\u29AA",Ud="\u29AB",zd="\u29AC",qd="\u29AD",Wd="\u29AE",$d="\u29AF",Gd="\u2221",Kd="\u221F",Yd="\u22BE",Xd="\u299D",Jd="\u2222",Qd="\xC5",eg="\u237C",tg="\u0104",ng="\u0105",rg="\u{1D538}",ig="\u{1D552}",og="\u2A6F",sg="\u2248",ag="\u2A70",cg="\u224A",lg="\u224B",ug="'",fg="\u2061",hg="\u2248",pg="\u224A",dg="\xC5",gg="\xE5",mg="\u{1D49C}",vg="\u{1D4B6}",yg="\u2254",bg="*",wg="\u2248",_g="\u224D",Tg="\xC3",Og="\xE3",Cg="\xC4",Eg="\xE4",Sg="\u2233",kg="\u2A11",xg="\u224C",Pg="\u03F6",Ag="\u2035",Rg="\u223D",Dg="\u22CD",Ng="\u2216",Mg="\u2AE7",jg="\u22BD",Lg="\u2305",Ig="\u2306",Zg="\u2305",Fg="\u23B5",Bg="\u23B6",Hg="\u224C",Vg="\u0411",Ug="\u0431",zg="\u201E",qg="\u2235",Wg="\u2235",$g="\u2235",Gg="\u29B0",Kg="\u03F6",Yg="\u212C",Xg="\u212C",Jg="\u0392",Qg="\u03B2",e1="\u2136",t1="\u226C",n1="\u{1D505}",r1="\u{1D51F}",i1="\u22C2",o1="\u25EF",s1="\u22C3",a1="\u2A00",c1="\u2A01",l1="\u2A02",u1="\u2A06",f1="\u2605",h1="\u25BD",p1="\u25B3",d1="\u2A04",g1="\u22C1",m1="\u22C0",v1="\u290D",y1="\u29EB",b1="\u25AA",w1="\u25B4",_1="\u25BE",T1="\u25C2",O1="\u25B8",C1="\u2423",E1="\u2592",S1="\u2591",k1="\u2593",x1="\u2588",P1="=\u20E5",A1="\u2261\u20E5",R1="\u2AED",D1="\u2310",N1="\u{1D539}",M1="\u{1D553}",j1="\u22A5",L1="\u22A5",I1="\u22C8",Z1="\u29C9",F1="\u2510",B1="\u2555",H1="\u2556",V1="\u2557",U1="\u250C",z1="\u2552",q1="\u2553",W1="\u2554",$1="\u2500",G1="\u2550",K1="\u252C",Y1="\u2564",X1="\u2565",J1="\u2566",Q1="\u2534",em="\u2567",tm="\u2568",nm="\u2569",rm="\u229F",im="\u229E",om="\u22A0",sm="\u2518",am="\u255B",cm="\u255C",lm="\u255D",um="\u2514",fm="\u2558",hm="\u2559",pm="\u255A",dm="\u2502",gm="\u2551",mm="\u253C",vm="\u256A",ym="\u256B",bm="\u256C",wm="\u2524",_m="\u2561",Tm="\u2562",Om="\u2563",Cm="\u251C",Em="\u255E",Sm="\u255F",km="\u2560",xm="\u2035",Pm="\u02D8",Am="\u02D8",Rm="\xA6",Dm="\u{1D4B7}",Nm="\u212C",Mm="\u204F",jm="\u223D",Lm="\u22CD",Im="\u29C5",Zm="\\",Fm="\u27C8",Bm="\u2022",Hm="\u2022",Vm="\u224E",Um="\u2AAE",zm="\u224F",qm="\u224E",Wm="\u224F",$m="\u0106",Gm="\u0107",Km="\u2A44",Ym="\u2A49",Xm="\u2A4B",Jm="\u2229",Qm="\u22D2",ev="\u2A47",tv="\u2A40",nv="\u2145",rv="\u2229\uFE00",iv="\u2041",ov="\u02C7",sv="\u212D",av="\u2A4D",cv="\u010C",lv="\u010D",uv="\xC7",fv="\xE7",hv="\u0108",pv="\u0109",dv="\u2230",gv="\u2A4C",mv="\u2A50",vv="\u010A",yv="\u010B",bv="\xB8",wv="\xB8",_v="\u29B2",Tv="\xA2",Ov="\xB7",Cv="\xB7",Ev="\u{1D520}",Sv="\u212D",kv="\u0427",xv="\u0447",Pv="\u2713",Av="\u2713",Rv="\u03A7",Dv="\u03C7",Nv="\u02C6",Mv="\u2257",jv="\u21BA",Lv="\u21BB",Iv="\u229B",Zv="\u229A",Fv="\u229D",Bv="\u2299",Hv="\xAE",Vv="\u24C8",Uv="\u2296",zv="\u2295",qv="\u2297",Wv="\u25CB",$v="\u29C3",Gv="\u2257",Kv="\u2A10",Yv="\u2AEF",Xv="\u29C2",Jv="\u2232",Qv="\u201D",e0="\u2019",t0="\u2663",n0="\u2663",r0=":",i0="\u2237",o0="\u2A74",s0="\u2254",a0="\u2254",c0=",",l0="@",u0="\u2201",f0="\u2218",h0="\u2201",p0="\u2102",d0="\u2245",g0="\u2A6D",m0="\u2261",v0="\u222E",y0="\u222F",b0="\u222E",w0="\u{1D554}",_0="\u2102",T0="\u2210",O0="\u2210",C0="\xA9",E0="\xA9",S0="\u2117",k0="\u2233",x0="\u21B5",P0="\u2717",A0="\u2A2F",R0="\u{1D49E}",D0="\u{1D4B8}",N0="\u2ACF",M0="\u2AD1",j0="\u2AD0",L0="\u2AD2",I0="\u22EF",Z0="\u2938",F0="\u2935",B0="\u22DE",H0="\u22DF",V0="\u21B6",U0="\u293D",z0="\u2A48",q0="\u2A46",W0="\u224D",$0="\u222A",G0="\u22D3",K0="\u2A4A",Y0="\u228D",X0="\u2A45",J0="\u222A\uFE00",Q0="\u21B7",ey="\u293C",ty="\u22DE",ny="\u22DF",ry="\u22CE",iy="\u22CF",oy="\xA4",sy="\u21B6",ay="\u21B7",cy="\u22CE",ly="\u22CF",uy="\u2232",fy="\u2231",hy="\u232D",py="\u2020",dy="\u2021",gy="\u2138",my="\u2193",vy="\u21A1",yy="\u21D3",by="\u2010",wy="\u2AE4",_y="\u22A3",Ty="\u290F",Oy="\u02DD",Cy="\u010E",Ey="\u010F",Sy="\u0414",ky="\u0434",xy="\u2021",Py="\u21CA",Ay="\u2145",Ry="\u2146",Dy="\u2911",Ny="\u2A77",My="\xB0",jy="\u2207",Ly="\u0394",Iy="\u03B4",Zy="\u29B1",Fy="\u297F",By="\u{1D507}",Hy="\u{1D521}",Vy="\u2965",Uy="\u21C3",zy="\u21C2",qy="\xB4",Wy="\u02D9",$y="\u02DD",Gy="`",Ky="\u02DC",Yy="\u22C4",Xy="\u22C4",Jy="\u22C4",Qy="\u2666",eb="\u2666",tb="\xA8",nb="\u2146",rb="\u03DD",ib="\u22F2",ob="\xF7",sb="\xF7",ab="\u22C7",cb="\u22C7",lb="\u0402",ub="\u0452",fb="\u231E",hb="\u230D",pb="$",db="\u{1D53B}",gb="\u{1D555}",mb="\xA8",vb="\u02D9",yb="\u20DC",bb="\u2250",wb="\u2251",_b="\u2250",Tb="\u2238",Ob="\u2214",Cb="\u22A1",Eb="\u2306",Sb="\u222F",kb="\xA8",xb="\u21D3",Pb="\u21D0",Ab="\u21D4",Rb="\u2AE4",Db="\u27F8",Nb="\u27FA",Mb="\u27F9",jb="\u21D2",Lb="\u22A8",Ib="\u21D1",Zb="\u21D5",Fb="\u2225",Bb="\u2913",Hb="\u2193",Vb="\u2193",Ub="\u21D3",zb="\u21F5",qb="\u0311",Wb="\u21CA",$b="\u21C3",Gb="\u21C2",Kb="\u2950",Yb="\u295E",Xb="\u2956",Jb="\u21BD",Qb="\u295F",ew="\u2957",tw="\u21C1",nw="\u21A7",rw="\u22A4",iw="\u2910",ow="\u231F",sw="\u230C",aw="\u{1D49F}",cw="\u{1D4B9}",lw="\u0405",uw="\u0455",fw="\u29F6",hw="\u0110",pw="\u0111",dw="\u22F1",gw="\u25BF",mw="\u25BE",vw="\u21F5",yw="\u296F",bw="\u29A6",ww="\u040F",_w="\u045F",Tw="\u27FF",Ow="\xC9",Cw="\xE9",Ew="\u2A6E",Sw="\u011A",kw="\u011B",xw="\xCA",Pw="\xEA",Aw="\u2256",Rw="\u2255",Dw="\u042D",Nw="\u044D",Mw="\u2A77",jw="\u0116",Lw="\u0117",Iw="\u2251",Zw="\u2147",Fw="\u2252",Bw="\u{1D508}",Hw="\u{1D522}",Vw="\u2A9A",Uw="\xC8",zw="\xE8",qw="\u2A96",Ww="\u2A98",$w="\u2A99",Gw="\u2208",Kw="\u23E7",Yw="\u2113",Xw="\u2A95",Jw="\u2A97",Qw="\u0112",e_="\u0113",t_="\u2205",n_="\u2205",r_="\u25FB",i_="\u2205",o_="\u25AB",s_="\u2004",a_="\u2005",c_="\u2003",l_="\u014A",u_="\u014B",f_="\u2002",h_="\u0118",p_="\u0119",d_="\u{1D53C}",g_="\u{1D556}",m_="\u22D5",v_="\u29E3",y_="\u2A71",b_="\u03B5",w_="\u0395",__="\u03B5",T_="\u03F5",O_="\u2256",C_="\u2255",E_="\u2242",S_="\u2A96",k_="\u2A95",x_="\u2A75",P_="=",A_="\u2242",R_="\u225F",D_="\u21CC",N_="\u2261",M_="\u2A78",j_="\u29E5",L_="\u2971",I_="\u2253",Z_="\u212F",F_="\u2130",B_="\u2250",H_="\u2A73",V_="\u2242",U_="\u0397",z_="\u03B7",q_="\xD0",W_="\xF0",$_="\xCB",G_="\xEB",K_="\u20AC",Y_="!",X_="\u2203",J_="\u2203",Q_="\u2130",eT="\u2147",tT="\u2147",nT="\u2252",rT="\u0424",iT="\u0444",oT="\u2640",sT="\uFB03",aT="\uFB00",cT="\uFB04",lT="\u{1D509}",uT="\u{1D523}",fT="\uFB01",hT="\u25FC",pT="\u25AA",dT="fj",gT="\u266D",mT="\uFB02",vT="\u25B1",yT="\u0192",bT="\u{1D53D}",wT="\u{1D557}",_T="\u2200",TT="\u2200",OT="\u22D4",CT="\u2AD9",ET="\u2131",ST="\u2A0D",kT="\xBD",xT="\u2153",PT="\xBC",AT="\u2155",RT="\u2159",DT="\u215B",NT="\u2154",MT="\u2156",jT="\xBE",LT="\u2157",IT="\u215C",ZT="\u2158",FT="\u215A",BT="\u215D",HT="\u215E",VT="\u2044",UT="\u2322",zT="\u{1D4BB}",qT="\u2131",WT="\u01F5",$T="\u0393",GT="\u03B3",KT="\u03DC",YT="\u03DD",XT="\u2A86",JT="\u011E",QT="\u011F",e9="\u0122",t9="\u011C",n9="\u011D",r9="\u0413",i9="\u0433",o9="\u0120",s9="\u0121",a9="\u2265",c9="\u2267",l9="\u2A8C",u9="\u22DB",f9="\u2265",h9="\u2267",p9="\u2A7E",d9="\u2AA9",g9="\u2A7E",m9="\u2A80",v9="\u2A82",y9="\u2A84",b9="\u22DB\uFE00",w9="\u2A94",_9="\u{1D50A}",T9="\u{1D524}",O9="\u226B",C9="\u22D9",E9="\u22D9",S9="\u2137",k9="\u0403",x9="\u0453",P9="\u2AA5",A9="\u2277",R9="\u2A92",D9="\u2AA4",N9="\u2A8A",M9="\u2A8A",j9="\u2A88",L9="\u2269",I9="\u2A88",Z9="\u2269",F9="\u22E7",B9="\u{1D53E}",H9="\u{1D558}",V9="`",U9="\u2265",z9="\u22DB",q9="\u2267",W9="\u2AA2",$9="\u2277",G9="\u2A7E",K9="\u2273",Y9="\u{1D4A2}",X9="\u210A",J9="\u2273",Q9="\u2A8E",eO="\u2A90",tO="\u2AA7",nO="\u2A7A",rO=">",iO=">",oO="\u226B",sO="\u22D7",aO="\u2995",cO="\u2A7C",lO="\u2A86",uO="\u2978",fO="\u22D7",hO="\u22DB",pO="\u2A8C",dO="\u2277",gO="\u2273",mO="\u2269\uFE00",vO="\u2269\uFE00",yO="\u02C7",bO="\u200A",wO="\xBD",_O="\u210B",TO="\u042A",OO="\u044A",CO="\u2948",EO="\u2194",SO="\u21D4",kO="\u21AD",xO="^",PO="\u210F",AO="\u0124",RO="\u0125",DO="\u2665",NO="\u2665",MO="\u2026",jO="\u22B9",LO="\u{1D525}",IO="\u210C",ZO="\u210B",FO="\u2925",BO="\u2926",HO="\u21FF",VO="\u223B",UO="\u21A9",zO="\u21AA",qO="\u{1D559}",WO="\u210D",$O="\u2015",GO="\u2500",KO="\u{1D4BD}",YO="\u210B",XO="\u210F",JO="\u0126",QO="\u0127",eC="\u224E",tC="\u224F",nC="\u2043",rC="\u2010",iC="\xCD",oC="\xED",sC="\u2063",aC="\xCE",cC="\xEE",lC="\u0418",uC="\u0438",fC="\u0130",hC="\u0415",pC="\u0435",dC="\xA1",gC="\u21D4",mC="\u{1D526}",vC="\u2111",yC="\xCC",bC="\xEC",wC="\u2148",_C="\u2A0C",TC="\u222D",OC="\u29DC",CC="\u2129",EC="\u0132",SC="\u0133",kC="\u012A",xC="\u012B",PC="\u2111",AC="\u2148",RC="\u2110",DC="\u2111",NC="\u0131",MC="\u2111",jC="\u22B7",LC="\u01B5",IC="\u21D2",ZC="\u2105",FC="\u221E",BC="\u29DD",HC="\u0131",VC="\u22BA",UC="\u222B",zC="\u222C",qC="\u2124",WC="\u222B",$C="\u22BA",GC="\u22C2",KC="\u2A17",YC="\u2A3C",XC="\u2063",JC="\u2062",QC="\u0401",e5="\u0451",t5="\u012E",n5="\u012F",r5="\u{1D540}",i5="\u{1D55A}",o5="\u0399",s5="\u03B9",a5="\u2A3C",c5="\xBF",l5="\u{1D4BE}",u5="\u2110",f5="\u2208",h5="\u22F5",p5="\u22F9",d5="\u22F4",g5="\u22F3",m5="\u2208",v5="\u2062",y5="\u0128",b5="\u0129",w5="\u0406",_5="\u0456",T5="\xCF",O5="\xEF",C5="\u0134",E5="\u0135",S5="\u0419",k5="\u0439",x5="\u{1D50D}",P5="\u{1D527}",A5="\u0237",R5="\u{1D541}",D5="\u{1D55B}",N5="\u{1D4A5}",M5="\u{1D4BF}",j5="\u0408",L5="\u0458",I5="\u0404",Z5="\u0454",F5="\u039A",B5="\u03BA",H5="\u03F0",V5="\u0136",U5="\u0137",z5="\u041A",q5="\u043A",W5="\u{1D50E}",$5="\u{1D528}",G5="\u0138",K5="\u0425",Y5="\u0445",X5="\u040C",J5="\u045C",Q5="\u{1D542}",eE="\u{1D55C}",tE="\u{1D4A6}",nE="\u{1D4C0}",rE="\u21DA",iE="\u0139",oE="\u013A",sE="\u29B4",aE="\u2112",cE="\u039B",lE="\u03BB",uE="\u27E8",fE="\u27EA",hE="\u2991",pE="\u27E8",dE="\u2A85",gE="\u2112",mE="\xAB",vE="\u21E4",yE="\u291F",bE="\u2190",wE="\u219E",_E="\u21D0",TE="\u291D",OE="\u21A9",CE="\u21AB",EE="\u2939",SE="\u2973",kE="\u21A2",xE="\u2919",PE="\u291B",AE="\u2AAB",RE="\u2AAD",DE="\u2AAD\uFE00",NE="\u290C",ME="\u290E",jE="\u2772",LE="{",IE="[",ZE="\u298B",FE="\u298F",BE="\u298D",HE="\u013D",VE="\u013E",UE="\u013B",zE="\u013C",qE="\u2308",WE="{",$E="\u041B",GE="\u043B",KE="\u2936",YE="\u201C",XE="\u201E",JE="\u2967",QE="\u294B",eS="\u21B2",tS="\u2264",nS="\u2266",rS="\u27E8",iS="\u21E4",oS="\u2190",sS="\u2190",aS="\u21D0",cS="\u21C6",lS="\u21A2",uS="\u2308",fS="\u27E6",hS="\u2961",pS="\u2959",dS="\u21C3",gS="\u230A",mS="\u21BD",vS="\u21BC",yS="\u21C7",bS="\u2194",wS="\u2194",_S="\u21D4",TS="\u21C6",OS="\u21CB",CS="\u21AD",ES="\u294E",SS="\u21A4",kS="\u22A3",xS="\u295A",PS="\u22CB",AS="\u29CF",RS="\u22B2",DS="\u22B4",NS="\u2951",MS="\u2960",jS="\u2958",LS="\u21BF",IS="\u2952",ZS="\u21BC",FS="\u2A8B",BS="\u22DA",HS="\u2264",VS="\u2266",US="\u2A7D",zS="\u2AA8",qS="\u2A7D",WS="\u2A7F",$S="\u2A81",GS="\u2A83",KS="\u22DA\uFE00",YS="\u2A93",XS="\u2A85",JS="\u22D6",QS="\u22DA",ek="\u2A8B",tk="\u22DA",nk="\u2266",rk="\u2276",ik="\u2276",ok="\u2AA1",sk="\u2272",ak="\u2A7D",ck="\u2272",lk="\u297C",uk="\u230A",fk="\u{1D50F}",hk="\u{1D529}",pk="\u2276",dk="\u2A91",gk="\u2962",mk="\u21BD",vk="\u21BC",yk="\u296A",bk="\u2584",wk="\u0409",_k="\u0459",Tk="\u21C7",Ok="\u226A",Ck="\u22D8",Ek="\u231E",Sk="\u21DA",kk="\u296B",xk="\u25FA",Pk="\u013F",Ak="\u0140",Rk="\u23B0",Dk="\u23B0",Nk="\u2A89",Mk="\u2A89",jk="\u2A87",Lk="\u2268",Ik="\u2A87",Zk="\u2268",Fk="\u22E6",Bk="\u27EC",Hk="\u21FD",Vk="\u27E6",Uk="\u27F5",zk="\u27F5",qk="\u27F8",Wk="\u27F7",$k="\u27F7",Gk="\u27FA",Kk="\u27FC",Yk="\u27F6",Xk="\u27F6",Jk="\u27F9",Qk="\u21AB",ex="\u21AC",tx="\u2985",nx="\u{1D543}",rx="\u{1D55D}",ix="\u2A2D",ox="\u2A34",sx="\u2217",ax="_",cx="\u2199",lx="\u2198",ux="\u25CA",fx="\u25CA",hx="\u29EB",px="(",dx="\u2993",gx="\u21C6",mx="\u231F",vx="\u21CB",yx="\u296D",bx="\u200E",wx="\u22BF",_x="\u2039",Tx="\u{1D4C1}",Ox="\u2112",Cx="\u21B0",Ex="\u21B0",Sx="\u2272",kx="\u2A8D",xx="\u2A8F",Px="[",Ax="\u2018",Rx="\u201A",Dx="\u0141",Nx="\u0142",Mx="\u2AA6",jx="\u2A79",Lx="<",Ix="<",Zx="\u226A",Fx="\u22D6",Bx="\u22CB",Hx="\u22C9",Vx="\u2976",Ux="\u2A7B",zx="\u25C3",qx="\u22B4",Wx="\u25C2",$x="\u2996",Gx="\u294A",Kx="\u2966",Yx="\u2268\uFE00",Xx="\u2268\uFE00",Jx="\xAF",Qx="\u2642",e2="\u2720",t2="\u2720",n2="\u21A6",r2="\u21A6",i2="\u21A7",o2="\u21A4",s2="\u21A5",a2="\u25AE",c2="\u2A29",l2="\u041C",u2="\u043C",f2="\u2014",h2="\u223A",p2="\u2221",d2="\u205F",g2="\u2133",m2="\u{1D510}",v2="\u{1D52A}",y2="\u2127",b2="\xB5",w2="*",_2="\u2AF0",T2="\u2223",O2="\xB7",C2="\u229F",E2="\u2212",S2="\u2238",k2="\u2A2A",x2="\u2213",P2="\u2ADB",A2="\u2026",R2="\u2213",D2="\u22A7",N2="\u{1D544}",M2="\u{1D55E}",j2="\u2213",L2="\u{1D4C2}",I2="\u2133",Z2="\u223E",F2="\u039C",B2="\u03BC",H2="\u22B8",V2="\u22B8",U2="\u2207",z2="\u0143",q2="\u0144",W2="\u2220\u20D2",$2="\u2249",G2="\u2A70\u0338",K2="\u224B\u0338",Y2="\u0149",X2="\u2249",J2="\u266E",Q2="\u2115",e4="\u266E",t4="\xA0",n4="\u224E\u0338",r4="\u224F\u0338",i4="\u2A43",o4="\u0147",s4="\u0148",a4="\u0145",c4="\u0146",l4="\u2247",u4="\u2A6D\u0338",f4="\u2A42",h4="\u041D",p4="\u043D",d4="\u2013",g4="\u2924",m4="\u2197",v4="\u21D7",y4="\u2197",b4="\u2260",w4="\u2250\u0338",_4="\u200B",T4="\u200B",O4="\u200B",C4="\u200B",E4="\u2262",S4="\u2928",k4="\u2242\u0338",x4="\u226B",P4="\u226A",A4=`
`,R4="\u2204",D4="\u2204",N4="\u{1D511}",M4="\u{1D52B}",j4="\u2267\u0338",L4="\u2271",I4="\u2271",Z4="\u2267\u0338",F4="\u2A7E\u0338",B4="\u2A7E\u0338",H4="\u22D9\u0338",V4="\u2275",U4="\u226B\u20D2",z4="\u226F",q4="\u226F",W4="\u226B\u0338",$4="\u21AE",G4="\u21CE",K4="\u2AF2",Y4="\u220B",X4="\u22FC",J4="\u22FA",Q4="\u220B",eP="\u040A",tP="\u045A",nP="\u219A",rP="\u21CD",iP="\u2025",oP="\u2266\u0338",sP="\u2270",aP="\u219A",cP="\u21CD",lP="\u21AE",uP="\u21CE",fP="\u2270",hP="\u2266\u0338",pP="\u2A7D\u0338",dP="\u2A7D\u0338",gP="\u226E",mP="\u22D8\u0338",vP="\u2274",yP="\u226A\u20D2",bP="\u226E",wP="\u22EA",_P="\u22EC",TP="\u226A\u0338",OP="\u2224",CP="\u2060",EP="\xA0",SP="\u{1D55F}",kP="\u2115",xP="\u2AEC",PP="\xAC",AP="\u2262",RP="\u226D",DP="\u2226",NP="\u2209",MP="\u2260",jP="\u2242\u0338",LP="\u2204",IP="\u226F",ZP="\u2271",FP="\u2267\u0338",BP="\u226B\u0338",HP="\u2279",VP="\u2A7E\u0338",UP="\u2275",zP="\u224E\u0338",qP="\u224F\u0338",WP="\u2209",$P="\u22F5\u0338",GP="\u22F9\u0338",KP="\u2209",YP="\u22F7",XP="\u22F6",JP="\u29CF\u0338",QP="\u22EA",eA="\u22EC",tA="\u226E",nA="\u2270",rA="\u2278",iA="\u226A\u0338",oA="\u2A7D\u0338",sA="\u2274",aA="\u2AA2\u0338",cA="\u2AA1\u0338",lA="\u220C",uA="\u220C",fA="\u22FE",hA="\u22FD",pA="\u2280",dA="\u2AAF\u0338",gA="\u22E0",mA="\u220C",vA="\u29D0\u0338",yA="\u22EB",bA="\u22ED",wA="\u228F\u0338",_A="\u22E2",TA="\u2290\u0338",OA="\u22E3",CA="\u2282\u20D2",EA="\u2288",SA="\u2281",kA="\u2AB0\u0338",xA="\u22E1",PA="\u227F\u0338",AA="\u2283\u20D2",RA="\u2289",DA="\u2241",NA="\u2244",MA="\u2247",jA="\u2249",LA="\u2224",IA="\u2226",ZA="\u2226",FA="\u2AFD\u20E5",BA="\u2202\u0338",HA="\u2A14",VA="\u2280",UA="\u22E0",zA="\u2280",qA="\u2AAF\u0338",WA="\u2AAF\u0338",$A="\u2933\u0338",GA="\u219B",KA="\u21CF",YA="\u219D\u0338",XA="\u219B",JA="\u21CF",QA="\u22EB",e8="\u22ED",t8="\u2281",n8="\u22E1",r8="\u2AB0\u0338",i8="\u{1D4A9}",o8="\u{1D4C3}",s8="\u2224",a8="\u2226",c8="\u2241",l8="\u2244",u8="\u2244",f8="\u2224",h8="\u2226",p8="\u22E2",d8="\u22E3",g8="\u2284",m8="\u2AC5\u0338",v8="\u2288",y8="\u2282\u20D2",b8="\u2288",w8="\u2AC5\u0338",_8="\u2281",T8="\u2AB0\u0338",O8="\u2285",C8="\u2AC6\u0338",E8="\u2289",S8="\u2283\u20D2",k8="\u2289",x8="\u2AC6\u0338",P8="\u2279",A8="\xD1",R8="\xF1",D8="\u2278",N8="\u22EA",M8="\u22EC",j8="\u22EB",L8="\u22ED",I8="\u039D",Z8="\u03BD",F8="#",B8="\u2116",H8="\u2007",V8="\u224D\u20D2",U8="\u22AC",z8="\u22AD",q8="\u22AE",W8="\u22AF",$8="\u2265\u20D2",G8=">\u20D2",K8="\u2904",Y8="\u29DE",X8="\u2902",J8="\u2264\u20D2",Q8="<\u20D2",e3="\u22B4\u20D2",t3="\u2903",n3="\u22B5\u20D2",r3="\u223C\u20D2",i3="\u2923",o3="\u2196",s3="\u21D6",a3="\u2196",c3="\u2927",l3="\xD3",u3="\xF3",f3="\u229B",h3="\xD4",p3="\xF4",d3="\u229A",g3="\u041E",m3="\u043E",v3="\u229D",y3="\u0150",b3="\u0151",w3="\u2A38",_3="\u2299",T3="\u29BC",O3="\u0152",C3="\u0153",E3="\u29BF",S3="\u{1D512}",k3="\u{1D52C}",x3="\u02DB",P3="\xD2",A3="\xF2",R3="\u29C1",D3="\u29B5",N3="\u03A9",M3="\u222E",j3="\u21BA",L3="\u29BE",I3="\u29BB",Z3="\u203E",F3="\u29C0",B3="\u014C",H3="\u014D",V3="\u03A9",U3="\u03C9",z3="\u039F",q3="\u03BF",W3="\u29B6",$3="\u2296",G3="\u{1D546}",K3="\u{1D560}",Y3="\u29B7",X3="\u201C",J3="\u2018",Q3="\u29B9",e6="\u2295",t6="\u21BB",n6="\u2A54",r6="\u2228",i6="\u2A5D",o6="\u2134",s6="\u2134",a6="\xAA",c6="\xBA",l6="\u22B6",u6="\u2A56",f6="\u2A57",h6="\u2A5B",p6="\u24C8",d6="\u{1D4AA}",g6="\u2134",m6="\xD8",v6="\xF8",y6="\u2298",b6="\xD5",w6="\xF5",_6="\u2A36",T6="\u2A37",O6="\u2297",C6="\xD6",E6="\xF6",S6="\u233D",k6="\u203E",x6="\u23DE",P6="\u23B4",A6="\u23DC",R6="\xB6",D6="\u2225",N6="\u2225",M6="\u2AF3",j6="\u2AFD",L6="\u2202",I6="\u2202",Z6="\u041F",F6="\u043F",B6="%",H6=".",V6="\u2030",U6="\u22A5",z6="\u2031",q6="\u{1D513}",W6="\u{1D52D}",$6="\u03A6",G6="\u03C6",K6="\u03D5",Y6="\u2133",X6="\u260E",J6="\u03A0",Q6="\u03C0",eR="\u22D4",tR="\u03D6",nR="\u210F",rR="\u210E",iR="\u210F",oR="\u2A23",sR="\u229E",aR="\u2A22",cR="+",lR="\u2214",uR="\u2A25",fR="\u2A72",hR="\xB1",pR="\xB1",dR="\u2A26",gR="\u2A27",mR="\xB1",vR="\u210C",yR="\u2A15",bR="\u{1D561}",wR="\u2119",_R="\xA3",TR="\u2AB7",OR="\u2ABB",CR="\u227A",ER="\u227C",SR="\u2AB7",kR="\u227A",xR="\u227C",PR="\u227A",AR="\u2AAF",RR="\u227C",DR="\u227E",NR="\u2AAF",MR="\u2AB9",jR="\u2AB5",LR="\u22E8",IR="\u2AAF",ZR="\u2AB3",FR="\u227E",BR="\u2032",HR="\u2033",VR="\u2119",UR="\u2AB9",zR="\u2AB5",qR="\u22E8",WR="\u220F",$R="\u220F",GR="\u232E",KR="\u2312",YR="\u2313",XR="\u221D",JR="\u221D",QR="\u2237",e7="\u221D",t7="\u227E",n7="\u22B0",r7="\u{1D4AB}",i7="\u{1D4C5}",o7="\u03A8",s7="\u03C8",a7="\u2008",c7="\u{1D514}",l7="\u{1D52E}",u7="\u2A0C",f7="\u{1D562}",h7="\u211A",p7="\u2057",d7="\u{1D4AC}",g7="\u{1D4C6}",m7="\u210D",v7="\u2A16",y7="?",b7="\u225F",w7='"',_7='"',T7="\u21DB",O7="\u223D\u0331",C7="\u0154",E7="\u0155",S7="\u221A",k7="\u29B3",x7="\u27E9",P7="\u27EB",A7="\u2992",R7="\u29A5",D7="\u27E9",N7="\xBB",M7="\u2975",j7="\u21E5",L7="\u2920",I7="\u2933",Z7="\u2192",F7="\u21A0",B7="\u21D2",H7="\u291E",V7="\u21AA",U7="\u21AC",z7="\u2945",q7="\u2974",W7="\u2916",$7="\u21A3",G7="\u219D",K7="\u291A",Y7="\u291C",X7="\u2236",J7="\u211A",Q7="\u290D",eD="\u290F",tD="\u2910",nD="\u2773",rD="}",iD="]",oD="\u298C",sD="\u298E",aD="\u2990",cD="\u0158",lD="\u0159",uD="\u0156",fD="\u0157",hD="\u2309",pD="}",dD="\u0420",gD="\u0440",mD="\u2937",vD="\u2969",yD="\u201D",bD="\u201D",wD="\u21B3",_D="\u211C",TD="\u211B",OD="\u211C",CD="\u211D",ED="\u211C",SD="\u25AD",kD="\xAE",xD="\xAE",PD="\u220B",AD="\u21CB",RD="\u296F",DD="\u297D",ND="\u230B",MD="\u{1D52F}",jD="\u211C",LD="\u2964",ID="\u21C1",ZD="\u21C0",FD="\u296C",BD="\u03A1",HD="\u03C1",VD="\u03F1",UD="\u27E9",zD="\u21E5",qD="\u2192",WD="\u2192",$D="\u21D2",GD="\u21C4",KD="\u21A3",YD="\u2309",XD="\u27E7",JD="\u295D",QD="\u2955",eN="\u21C2",tN="\u230B",nN="\u21C1",rN="\u21C0",iN="\u21C4",oN="\u21CC",sN="\u21C9",aN="\u219D",cN="\u21A6",lN="\u22A2",uN="\u295B",fN="\u22CC",hN="\u29D0",pN="\u22B3",dN="\u22B5",gN="\u294F",mN="\u295C",vN="\u2954",yN="\u21BE",bN="\u2953",wN="\u21C0",_N="\u02DA",TN="\u2253",ON="\u21C4",CN="\u21CC",EN="\u200F",SN="\u23B1",kN="\u23B1",xN="\u2AEE",PN="\u27ED",AN="\u21FE",RN="\u27E7",DN="\u2986",NN="\u{1D563}",MN="\u211D",jN="\u2A2E",LN="\u2A35",IN="\u2970",ZN=")",FN="\u2994",BN="\u2A12",HN="\u21C9",VN="\u21DB",UN="\u203A",zN="\u{1D4C7}",qN="\u211B",WN="\u21B1",$N="\u21B1",GN="]",KN="\u2019",YN="\u2019",XN="\u22CC",JN="\u22CA",QN="\u25B9",eM="\u22B5",tM="\u25B8",nM="\u29CE",rM="\u29F4",iM="\u2968",oM="\u211E",sM="\u015A",aM="\u015B",cM="\u201A",lM="\u2AB8",uM="\u0160",fM="\u0161",hM="\u2ABC",pM="\u227B",dM="\u227D",gM="\u2AB0",mM="\u2AB4",vM="\u015E",yM="\u015F",bM="\u015C",wM="\u015D",_M="\u2ABA",TM="\u2AB6",OM="\u22E9",CM="\u2A13",EM="\u227F",SM="\u0421",kM="\u0441",xM="\u22A1",PM="\u22C5",AM="\u2A66",RM="\u2925",DM="\u2198",NM="\u21D8",MM="\u2198",jM="\xA7",LM=";",IM="\u2929",ZM="\u2216",FM="\u2216",BM="\u2736",HM="\u{1D516}",VM="\u{1D530}",UM="\u2322",zM="\u266F",qM="\u0429",WM="\u0449",$M="\u0428",GM="\u0448",KM="\u2193",YM="\u2190",XM="\u2223",JM="\u2225",QM="\u2192",ej="\u2191",tj="\xAD",nj="\u03A3",rj="\u03C3",ij="\u03C2",oj="\u03C2",sj="\u223C",aj="\u2A6A",cj="\u2243",lj="\u2243",uj="\u2A9E",fj="\u2AA0",hj="\u2A9D",pj="\u2A9F",dj="\u2246",gj="\u2A24",mj="\u2972",vj="\u2190",yj="\u2218",bj="\u2216",wj="\u2A33",_j="\u29E4",Tj="\u2223",Oj="\u2323",Cj="\u2AAA",Ej="\u2AAC",Sj="\u2AAC\uFE00",kj="\u042C",xj="\u044C",Pj="\u233F",Aj="\u29C4",Rj="/",Dj="\u{1D54A}",Nj="\u{1D564}",Mj="\u2660",jj="\u2660",Lj="\u2225",Ij="\u2293",Zj="\u2293\uFE00",Fj="\u2294",Bj="\u2294\uFE00",Hj="\u221A",Vj="\u228F",Uj="\u2291",zj="\u228F",qj="\u2291",Wj="\u2290",$j="\u2292",Gj="\u2290",Kj="\u2292",Yj="\u25A1",Xj="\u25A1",Jj="\u2293",Qj="\u228F",eL="\u2291",tL="\u2290",nL="\u2292",rL="\u2294",iL="\u25AA",oL="\u25A1",sL="\u25AA",aL="\u2192",cL="\u{1D4AE}",lL="\u{1D4C8}",uL="\u2216",fL="\u2323",hL="\u22C6",pL="\u22C6",dL="\u2606",gL="\u2605",mL="\u03F5",vL="\u03D5",yL="\xAF",bL="\u2282",wL="\u22D0",_L="\u2ABD",TL="\u2AC5",OL="\u2286",CL="\u2AC3",EL="\u2AC1",SL="\u2ACB",kL="\u228A",xL="\u2ABF",PL="\u2979",AL="\u2282",RL="\u22D0",DL="\u2286",NL="\u2AC5",ML="\u2286",jL="\u228A",LL="\u2ACB",IL="\u2AC7",ZL="\u2AD5",FL="\u2AD3",BL="\u2AB8",HL="\u227B",VL="\u227D",UL="\u227B",zL="\u2AB0",qL="\u227D",WL="\u227F",$L="\u2AB0",GL="\u2ABA",KL="\u2AB6",YL="\u22E9",XL="\u227F",JL="\u220B",QL="\u2211",eI="\u2211",tI="\u266A",nI="\xB9",rI="\xB2",iI="\xB3",oI="\u2283",sI="\u22D1",aI="\u2ABE",cI="\u2AD8",lI="\u2AC6",uI="\u2287",fI="\u2AC4",hI="\u2283",pI="\u2287",dI="\u27C9",gI="\u2AD7",mI="\u297B",vI="\u2AC2",yI="\u2ACC",bI="\u228B",wI="\u2AC0",_I="\u2283",TI="\u22D1",OI="\u2287",CI="\u2AC6",EI="\u228B",SI="\u2ACC",kI="\u2AC8",xI="\u2AD4",PI="\u2AD6",AI="\u2926",RI="\u2199",DI="\u21D9",NI="\u2199",MI="\u292A",jI="\xDF",LI="	",II="\u2316",ZI="\u03A4",FI="\u03C4",BI="\u23B4",HI="\u0164",VI="\u0165",UI="\u0162",zI="\u0163",qI="\u0422",WI="\u0442",$I="\u20DB",GI="\u2315",KI="\u{1D517}",YI="\u{1D531}",XI="\u2234",JI="\u2234",QI="\u2234",eZ="\u0398",tZ="\u03B8",nZ="\u03D1",rZ="\u03D1",iZ="\u2248",oZ="\u223C",sZ="\u205F\u200A",aZ="\u2009",cZ="\u2009",lZ="\u2248",uZ="\u223C",fZ="\xDE",hZ="\xFE",pZ="\u02DC",dZ="\u223C",gZ="\u2243",mZ="\u2245",vZ="\u2248",yZ="\u2A31",bZ="\u22A0",wZ="\xD7",_Z="\u2A30",TZ="\u222D",OZ="\u2928",CZ="\u2336",EZ="\u2AF1",SZ="\u22A4",kZ="\u{1D54B}",xZ="\u{1D565}",PZ="\u2ADA",AZ="\u2929",RZ="\u2034",DZ="\u2122",NZ="\u2122",MZ="\u25B5",jZ="\u25BF",LZ="\u25C3",IZ="\u22B4",ZZ="\u225C",FZ="\u25B9",BZ="\u22B5",HZ="\u25EC",VZ="\u225C",UZ="\u2A3A",zZ="\u20DB",qZ="\u2A39",WZ="\u29CD",$Z="\u2A3B",GZ="\u23E2",KZ="\u{1D4AF}",YZ="\u{1D4C9}",XZ="\u0426",JZ="\u0446",QZ="\u040B",eF="\u045B",tF="\u0166",nF="\u0167",rF="\u226C",iF="\u219E",oF="\u21A0",sF="\xDA",aF="\xFA",cF="\u2191",lF="\u219F",uF="\u21D1",fF="\u2949",hF="\u040E",pF="\u045E",dF="\u016C",gF="\u016D",mF="\xDB",vF="\xFB",yF="\u0423",bF="\u0443",wF="\u21C5",_F="\u0170",TF="\u0171",OF="\u296E",CF="\u297E",EF="\u{1D518}",SF="\u{1D532}",kF="\xD9",xF="\xF9",PF="\u2963",AF="\u21BF",RF="\u21BE",DF="\u2580",NF="\u231C",MF="\u231C",jF="\u230F",LF="\u25F8",IF="\u016A",ZF="\u016B",FF="\xA8",BF="_",HF="\u23DF",VF="\u23B5",UF="\u23DD",zF="\u22C3",qF="\u228E",WF="\u0172",$F="\u0173",GF="\u{1D54C}",KF="\u{1D566}",YF="\u2912",XF="\u2191",JF="\u2191",QF="\u21D1",eB="\u21C5",tB="\u2195",nB="\u2195",rB="\u21D5",iB="\u296E",oB="\u21BF",sB="\u21BE",aB="\u228E",cB="\u2196",lB="\u2197",uB="\u03C5",fB="\u03D2",hB="\u03D2",pB="\u03A5",dB="\u03C5",gB="\u21A5",mB="\u22A5",vB="\u21C8",yB="\u231D",bB="\u231D",wB="\u230E",_B="\u016E",TB="\u016F",OB="\u25F9",CB="\u{1D4B0}",EB="\u{1D4CA}",SB="\u22F0",kB="\u0168",xB="\u0169",PB="\u25B5",AB="\u25B4",RB="\u21C8",DB="\xDC",NB="\xFC",MB="\u29A7",jB="\u299C",LB="\u03F5",IB="\u03F0",ZB="\u2205",FB="\u03D5",BB="\u03D6",HB="\u221D",VB="\u2195",UB="\u21D5",zB="\u03F1",qB="\u03C2",WB="\u228A\uFE00",$B="\u2ACB\uFE00",GB="\u228B\uFE00",KB="\u2ACC\uFE00",YB="\u03D1",XB="\u22B2",JB="\u22B3",QB="\u2AE8",eH="\u2AEB",tH="\u2AE9",nH="\u0412",rH="\u0432",iH="\u22A2",oH="\u22A8",sH="\u22A9",aH="\u22AB",cH="\u2AE6",lH="\u22BB",uH="\u2228",fH="\u22C1",hH="\u225A",pH="\u22EE",dH="|",gH="\u2016",mH="|",vH="\u2016",yH="\u2223",bH="|",wH="\u2758",_H="\u2240",TH="\u200A",OH="\u{1D519}",CH="\u{1D533}",EH="\u22B2",SH="\u2282\u20D2",kH="\u2283\u20D2",xH="\u{1D54D}",PH="\u{1D567}",AH="\u221D",RH="\u22B3",DH="\u{1D4B1}",NH="\u{1D4CB}",MH="\u2ACB\uFE00",jH="\u228A\uFE00",LH="\u2ACC\uFE00",IH="\u228B\uFE00",ZH="\u22AA",FH="\u299A",BH="\u0174",HH="\u0175",VH="\u2A5F",UH="\u2227",zH="\u22C0",qH="\u2259",WH="\u2118",$H="\u{1D51A}",GH="\u{1D534}",KH="\u{1D54E}",YH="\u{1D568}",XH="\u2118",JH="\u2240",QH="\u2240",eV="\u{1D4B2}",tV="\u{1D4CC}",nV="\u22C2",rV="\u25EF",iV="\u22C3",oV="\u25BD",sV="\u{1D51B}",aV="\u{1D535}",cV="\u27F7",lV="\u27FA",uV="\u039E",fV="\u03BE",hV="\u27F5",pV="\u27F8",dV="\u27FC",gV="\u22FB",mV="\u2A00",vV="\u{1D54F}",yV="\u{1D569}",bV="\u2A01",wV="\u2A02",_V="\u27F6",TV="\u27F9",OV="\u{1D4B3}",CV="\u{1D4CD}",EV="\u2A06",SV="\u2A04",kV="\u25B3",xV="\u22C1",PV="\u22C0",AV="\xDD",RV="\xFD",DV="\u042F",NV="\u044F",MV="\u0176",jV="\u0177",LV="\u042B",IV="\u044B",ZV="\xA5",FV="\u{1D51C}",BV="\u{1D536}",HV="\u0407",VV="\u0457",UV="\u{1D550}",zV="\u{1D56A}",qV="\u{1D4B4}",WV="\u{1D4CE}",$V="\u042E",GV="\u044E",KV="\xFF",YV="\u0178",XV="\u0179",JV="\u017A",QV="\u017D",eU="\u017E",tU="\u0417",nU="\u0437",rU="\u017B",iU="\u017C",oU="\u2128",sU="\u200B",aU="\u0396",cU="\u03B6",lU="\u{1D537}",uU="\u2128",fU="\u0416",hU="\u0436",pU="\u21DD",dU="\u{1D56B}",gU="\u2124",mU="\u{1D4B5}",vU="\u{1D4CF}",yU="\u200D",bU="\u200C",hf={Aacute:rd,aacute:id,Abreve:od,abreve:sd,ac:ad,acd:cd,acE:ld,Acirc:ud,acirc:fd,acute:hd,Acy:pd,acy:dd,AElig:gd,aelig:md,af:vd,Afr:yd,afr:bd,Agrave:wd,agrave:_d,alefsym:Td,aleph:Od,Alpha:Cd,alpha:Ed,Amacr:Sd,amacr:kd,amalg:xd,amp:Pd,AMP:Ad,andand:Rd,And:Dd,and:Nd,andd:Md,andslope:jd,andv:Ld,ang:Id,ange:Zd,angle:Fd,angmsdaa:Bd,angmsdab:Hd,angmsdac:Vd,angmsdad:Ud,angmsdae:zd,angmsdaf:qd,angmsdag:Wd,angmsdah:$d,angmsd:Gd,angrt:Kd,angrtvb:Yd,angrtvbd:Xd,angsph:Jd,angst:Qd,angzarr:eg,Aogon:tg,aogon:ng,Aopf:rg,aopf:ig,apacir:og,ap:sg,apE:ag,ape:cg,apid:lg,apos:ug,ApplyFunction:fg,approx:hg,approxeq:pg,Aring:dg,aring:gg,Ascr:mg,ascr:vg,Assign:yg,ast:bg,asymp:wg,asympeq:_g,Atilde:Tg,atilde:Og,Auml:Cg,auml:Eg,awconint:Sg,awint:kg,backcong:xg,backepsilon:Pg,backprime:Ag,backsim:Rg,backsimeq:Dg,Backslash:Ng,Barv:Mg,barvee:jg,barwed:Lg,Barwed:Ig,barwedge:Zg,bbrk:Fg,bbrktbrk:Bg,bcong:Hg,Bcy:Vg,bcy:Ug,bdquo:zg,becaus:qg,because:Wg,Because:$g,bemptyv:Gg,bepsi:Kg,bernou:Yg,Bernoullis:Xg,Beta:Jg,beta:Qg,beth:e1,between:t1,Bfr:n1,bfr:r1,bigcap:i1,bigcirc:o1,bigcup:s1,bigodot:a1,bigoplus:c1,bigotimes:l1,bigsqcup:u1,bigstar:f1,bigtriangledown:h1,bigtriangleup:p1,biguplus:d1,bigvee:g1,bigwedge:m1,bkarow:v1,blacklozenge:y1,blacksquare:b1,blacktriangle:w1,blacktriangledown:_1,blacktriangleleft:T1,blacktriangleright:O1,blank:C1,blk12:E1,blk14:S1,blk34:k1,block:x1,bne:P1,bnequiv:A1,bNot:R1,bnot:D1,Bopf:N1,bopf:M1,bot:j1,bottom:L1,bowtie:I1,boxbox:Z1,boxdl:F1,boxdL:B1,boxDl:H1,boxDL:V1,boxdr:U1,boxdR:z1,boxDr:q1,boxDR:W1,boxh:$1,boxH:G1,boxhd:K1,boxHd:Y1,boxhD:X1,boxHD:J1,boxhu:Q1,boxHu:em,boxhU:tm,boxHU:nm,boxminus:rm,boxplus:im,boxtimes:om,boxul:sm,boxuL:am,boxUl:cm,boxUL:lm,boxur:um,boxuR:fm,boxUr:hm,boxUR:pm,boxv:dm,boxV:gm,boxvh:mm,boxvH:vm,boxVh:ym,boxVH:bm,boxvl:wm,boxvL:_m,boxVl:Tm,boxVL:Om,boxvr:Cm,boxvR:Em,boxVr:Sm,boxVR:km,bprime:xm,breve:Pm,Breve:Am,brvbar:Rm,bscr:Dm,Bscr:Nm,bsemi:Mm,bsim:jm,bsime:Lm,bsolb:Im,bsol:Zm,bsolhsub:Fm,bull:Bm,bullet:Hm,bump:Vm,bumpE:Um,bumpe:zm,Bumpeq:qm,bumpeq:Wm,Cacute:$m,cacute:Gm,capand:Km,capbrcup:Ym,capcap:Xm,cap:Jm,Cap:Qm,capcup:ev,capdot:tv,CapitalDifferentialD:nv,caps:rv,caret:iv,caron:ov,Cayleys:sv,ccaps:av,Ccaron:cv,ccaron:lv,Ccedil:uv,ccedil:fv,Ccirc:hv,ccirc:pv,Cconint:dv,ccups:gv,ccupssm:mv,Cdot:vv,cdot:yv,cedil:bv,Cedilla:wv,cemptyv:_v,cent:Tv,centerdot:Ov,CenterDot:Cv,cfr:Ev,Cfr:Sv,CHcy:kv,chcy:xv,check:Pv,checkmark:Av,Chi:Rv,chi:Dv,circ:Nv,circeq:Mv,circlearrowleft:jv,circlearrowright:Lv,circledast:Iv,circledcirc:Zv,circleddash:Fv,CircleDot:Bv,circledR:Hv,circledS:Vv,CircleMinus:Uv,CirclePlus:zv,CircleTimes:qv,cir:Wv,cirE:$v,cire:Gv,cirfnint:Kv,cirmid:Yv,cirscir:Xv,ClockwiseContourIntegral:Jv,CloseCurlyDoubleQuote:Qv,CloseCurlyQuote:e0,clubs:t0,clubsuit:n0,colon:r0,Colon:i0,Colone:o0,colone:s0,coloneq:a0,comma:c0,commat:l0,comp:u0,compfn:f0,complement:h0,complexes:p0,cong:d0,congdot:g0,Congruent:m0,conint:v0,Conint:y0,ContourIntegral:b0,copf:w0,Copf:_0,coprod:T0,Coproduct:O0,copy:C0,COPY:E0,copysr:S0,CounterClockwiseContourIntegral:k0,crarr:x0,cross:P0,Cross:A0,Cscr:R0,cscr:D0,csub:N0,csube:M0,csup:j0,csupe:L0,ctdot:I0,cudarrl:Z0,cudarrr:F0,cuepr:B0,cuesc:H0,cularr:V0,cularrp:U0,cupbrcap:z0,cupcap:q0,CupCap:W0,cup:$0,Cup:G0,cupcup:K0,cupdot:Y0,cupor:X0,cups:J0,curarr:Q0,curarrm:ey,curlyeqprec:ty,curlyeqsucc:ny,curlyvee:ry,curlywedge:iy,curren:oy,curvearrowleft:sy,curvearrowright:ay,cuvee:cy,cuwed:ly,cwconint:uy,cwint:fy,cylcty:hy,dagger:py,Dagger:dy,daleth:gy,darr:my,Darr:vy,dArr:yy,dash:by,Dashv:wy,dashv:_y,dbkarow:Ty,dblac:Oy,Dcaron:Cy,dcaron:Ey,Dcy:Sy,dcy:ky,ddagger:xy,ddarr:Py,DD:Ay,dd:Ry,DDotrahd:Dy,ddotseq:Ny,deg:My,Del:jy,Delta:Ly,delta:Iy,demptyv:Zy,dfisht:Fy,Dfr:By,dfr:Hy,dHar:Vy,dharl:Uy,dharr:zy,DiacriticalAcute:qy,DiacriticalDot:Wy,DiacriticalDoubleAcute:$y,DiacriticalGrave:Gy,DiacriticalTilde:Ky,diam:Yy,diamond:Xy,Diamond:Jy,diamondsuit:Qy,diams:eb,die:tb,DifferentialD:nb,digamma:rb,disin:ib,div:ob,divide:sb,divideontimes:ab,divonx:cb,DJcy:lb,djcy:ub,dlcorn:fb,dlcrop:hb,dollar:pb,Dopf:db,dopf:gb,Dot:mb,dot:vb,DotDot:yb,doteq:bb,doteqdot:wb,DotEqual:_b,dotminus:Tb,dotplus:Ob,dotsquare:Cb,doublebarwedge:Eb,DoubleContourIntegral:Sb,DoubleDot:kb,DoubleDownArrow:xb,DoubleLeftArrow:Pb,DoubleLeftRightArrow:Ab,DoubleLeftTee:Rb,DoubleLongLeftArrow:Db,DoubleLongLeftRightArrow:Nb,DoubleLongRightArrow:Mb,DoubleRightArrow:jb,DoubleRightTee:Lb,DoubleUpArrow:Ib,DoubleUpDownArrow:Zb,DoubleVerticalBar:Fb,DownArrowBar:Bb,downarrow:Hb,DownArrow:Vb,Downarrow:Ub,DownArrowUpArrow:zb,DownBreve:qb,downdownarrows:Wb,downharpoonleft:$b,downharpoonright:Gb,DownLeftRightVector:Kb,DownLeftTeeVector:Yb,DownLeftVectorBar:Xb,DownLeftVector:Jb,DownRightTeeVector:Qb,DownRightVectorBar:ew,DownRightVector:tw,DownTeeArrow:nw,DownTee:rw,drbkarow:iw,drcorn:ow,drcrop:sw,Dscr:aw,dscr:cw,DScy:lw,dscy:uw,dsol:fw,Dstrok:hw,dstrok:pw,dtdot:dw,dtri:gw,dtrif:mw,duarr:vw,duhar:yw,dwangle:bw,DZcy:ww,dzcy:_w,dzigrarr:Tw,Eacute:Ow,eacute:Cw,easter:Ew,Ecaron:Sw,ecaron:kw,Ecirc:xw,ecirc:Pw,ecir:Aw,ecolon:Rw,Ecy:Dw,ecy:Nw,eDDot:Mw,Edot:jw,edot:Lw,eDot:Iw,ee:Zw,efDot:Fw,Efr:Bw,efr:Hw,eg:Vw,Egrave:Uw,egrave:zw,egs:qw,egsdot:Ww,el:$w,Element:Gw,elinters:Kw,ell:Yw,els:Xw,elsdot:Jw,Emacr:Qw,emacr:e_,empty:t_,emptyset:n_,EmptySmallSquare:r_,emptyv:i_,EmptyVerySmallSquare:o_,emsp13:s_,emsp14:a_,emsp:c_,ENG:l_,eng:u_,ensp:f_,Eogon:h_,eogon:p_,Eopf:d_,eopf:g_,epar:m_,eparsl:v_,eplus:y_,epsi:b_,Epsilon:w_,epsilon:__,epsiv:T_,eqcirc:O_,eqcolon:C_,eqsim:E_,eqslantgtr:S_,eqslantless:k_,Equal:x_,equals:P_,EqualTilde:A_,equest:R_,Equilibrium:D_,equiv:N_,equivDD:M_,eqvparsl:j_,erarr:L_,erDot:I_,escr:Z_,Escr:F_,esdot:B_,Esim:H_,esim:V_,Eta:U_,eta:z_,ETH:q_,eth:W_,Euml:$_,euml:G_,euro:K_,excl:Y_,exist:X_,Exists:J_,expectation:Q_,exponentiale:eT,ExponentialE:tT,fallingdotseq:nT,Fcy:rT,fcy:iT,female:oT,ffilig:sT,fflig:aT,ffllig:cT,Ffr:lT,ffr:uT,filig:fT,FilledSmallSquare:hT,FilledVerySmallSquare:pT,fjlig:dT,flat:gT,fllig:mT,fltns:vT,fnof:yT,Fopf:bT,fopf:wT,forall:_T,ForAll:TT,fork:OT,forkv:CT,Fouriertrf:ET,fpartint:ST,frac12:kT,frac13:xT,frac14:PT,frac15:AT,frac16:RT,frac18:DT,frac23:NT,frac25:MT,frac34:jT,frac35:LT,frac38:IT,frac45:ZT,frac56:FT,frac58:BT,frac78:HT,frasl:VT,frown:UT,fscr:zT,Fscr:qT,gacute:WT,Gamma:$T,gamma:GT,Gammad:KT,gammad:YT,gap:XT,Gbreve:JT,gbreve:QT,Gcedil:e9,Gcirc:t9,gcirc:n9,Gcy:r9,gcy:i9,Gdot:o9,gdot:s9,ge:a9,gE:c9,gEl:l9,gel:u9,geq:f9,geqq:h9,geqslant:p9,gescc:d9,ges:g9,gesdot:m9,gesdoto:v9,gesdotol:y9,gesl:b9,gesles:w9,Gfr:_9,gfr:T9,gg:O9,Gg:C9,ggg:E9,gimel:S9,GJcy:k9,gjcy:x9,gla:P9,gl:A9,glE:R9,glj:D9,gnap:N9,gnapprox:M9,gne:j9,gnE:L9,gneq:I9,gneqq:Z9,gnsim:F9,Gopf:B9,gopf:H9,grave:V9,GreaterEqual:U9,GreaterEqualLess:z9,GreaterFullEqual:q9,GreaterGreater:W9,GreaterLess:$9,GreaterSlantEqual:G9,GreaterTilde:K9,Gscr:Y9,gscr:X9,gsim:J9,gsime:Q9,gsiml:eO,gtcc:tO,gtcir:nO,gt:rO,GT:iO,Gt:oO,gtdot:sO,gtlPar:aO,gtquest:cO,gtrapprox:lO,gtrarr:uO,gtrdot:fO,gtreqless:hO,gtreqqless:pO,gtrless:dO,gtrsim:gO,gvertneqq:mO,gvnE:vO,Hacek:yO,hairsp:bO,half:wO,hamilt:_O,HARDcy:TO,hardcy:OO,harrcir:CO,harr:EO,hArr:SO,harrw:kO,Hat:xO,hbar:PO,Hcirc:AO,hcirc:RO,hearts:DO,heartsuit:NO,hellip:MO,hercon:jO,hfr:LO,Hfr:IO,HilbertSpace:ZO,hksearow:FO,hkswarow:BO,hoarr:HO,homtht:VO,hookleftarrow:UO,hookrightarrow:zO,hopf:qO,Hopf:WO,horbar:$O,HorizontalLine:GO,hscr:KO,Hscr:YO,hslash:XO,Hstrok:JO,hstrok:QO,HumpDownHump:eC,HumpEqual:tC,hybull:nC,hyphen:rC,Iacute:iC,iacute:oC,ic:sC,Icirc:aC,icirc:cC,Icy:lC,icy:uC,Idot:fC,IEcy:hC,iecy:pC,iexcl:dC,iff:gC,ifr:mC,Ifr:vC,Igrave:yC,igrave:bC,ii:wC,iiiint:_C,iiint:TC,iinfin:OC,iiota:CC,IJlig:EC,ijlig:SC,Imacr:kC,imacr:xC,image:PC,ImaginaryI:AC,imagline:RC,imagpart:DC,imath:NC,Im:MC,imof:jC,imped:LC,Implies:IC,incare:ZC,in:"\u2208",infin:FC,infintie:BC,inodot:HC,intcal:VC,int:UC,Int:zC,integers:qC,Integral:WC,intercal:$C,Intersection:GC,intlarhk:KC,intprod:YC,InvisibleComma:XC,InvisibleTimes:JC,IOcy:QC,iocy:e5,Iogon:t5,iogon:n5,Iopf:r5,iopf:i5,Iota:o5,iota:s5,iprod:a5,iquest:c5,iscr:l5,Iscr:u5,isin:f5,isindot:h5,isinE:p5,isins:d5,isinsv:g5,isinv:m5,it:v5,Itilde:y5,itilde:b5,Iukcy:w5,iukcy:_5,Iuml:T5,iuml:O5,Jcirc:C5,jcirc:E5,Jcy:S5,jcy:k5,Jfr:x5,jfr:P5,jmath:A5,Jopf:R5,jopf:D5,Jscr:N5,jscr:M5,Jsercy:j5,jsercy:L5,Jukcy:I5,jukcy:Z5,Kappa:F5,kappa:B5,kappav:H5,Kcedil:V5,kcedil:U5,Kcy:z5,kcy:q5,Kfr:W5,kfr:$5,kgreen:G5,KHcy:K5,khcy:Y5,KJcy:X5,kjcy:J5,Kopf:Q5,kopf:eE,Kscr:tE,kscr:nE,lAarr:rE,Lacute:iE,lacute:oE,laemptyv:sE,lagran:aE,Lambda:cE,lambda:lE,lang:uE,Lang:fE,langd:hE,langle:pE,lap:dE,Laplacetrf:gE,laquo:mE,larrb:vE,larrbfs:yE,larr:bE,Larr:wE,lArr:_E,larrfs:TE,larrhk:OE,larrlp:CE,larrpl:EE,larrsim:SE,larrtl:kE,latail:xE,lAtail:PE,lat:AE,late:RE,lates:DE,lbarr:NE,lBarr:ME,lbbrk:jE,lbrace:LE,lbrack:IE,lbrke:ZE,lbrksld:FE,lbrkslu:BE,Lcaron:HE,lcaron:VE,Lcedil:UE,lcedil:zE,lceil:qE,lcub:WE,Lcy:$E,lcy:GE,ldca:KE,ldquo:YE,ldquor:XE,ldrdhar:JE,ldrushar:QE,ldsh:eS,le:tS,lE:nS,LeftAngleBracket:rS,LeftArrowBar:iS,leftarrow:oS,LeftArrow:sS,Leftarrow:aS,LeftArrowRightArrow:cS,leftarrowtail:lS,LeftCeiling:uS,LeftDoubleBracket:fS,LeftDownTeeVector:hS,LeftDownVectorBar:pS,LeftDownVector:dS,LeftFloor:gS,leftharpoondown:mS,leftharpoonup:vS,leftleftarrows:yS,leftrightarrow:bS,LeftRightArrow:wS,Leftrightarrow:_S,leftrightarrows:TS,leftrightharpoons:OS,leftrightsquigarrow:CS,LeftRightVector:ES,LeftTeeArrow:SS,LeftTee:kS,LeftTeeVector:xS,leftthreetimes:PS,LeftTriangleBar:AS,LeftTriangle:RS,LeftTriangleEqual:DS,LeftUpDownVector:NS,LeftUpTeeVector:MS,LeftUpVectorBar:jS,LeftUpVector:LS,LeftVectorBar:IS,LeftVector:ZS,lEg:FS,leg:BS,leq:HS,leqq:VS,leqslant:US,lescc:zS,les:qS,lesdot:WS,lesdoto:$S,lesdotor:GS,lesg:KS,lesges:YS,lessapprox:XS,lessdot:JS,lesseqgtr:QS,lesseqqgtr:ek,LessEqualGreater:tk,LessFullEqual:nk,LessGreater:rk,lessgtr:ik,LessLess:ok,lesssim:sk,LessSlantEqual:ak,LessTilde:ck,lfisht:lk,lfloor:uk,Lfr:fk,lfr:hk,lg:pk,lgE:dk,lHar:gk,lhard:mk,lharu:vk,lharul:yk,lhblk:bk,LJcy:wk,ljcy:_k,llarr:Tk,ll:Ok,Ll:Ck,llcorner:Ek,Lleftarrow:Sk,llhard:kk,lltri:xk,Lmidot:Pk,lmidot:Ak,lmoustache:Rk,lmoust:Dk,lnap:Nk,lnapprox:Mk,lne:jk,lnE:Lk,lneq:Ik,lneqq:Zk,lnsim:Fk,loang:Bk,loarr:Hk,lobrk:Vk,longleftarrow:Uk,LongLeftArrow:zk,Longleftarrow:qk,longleftrightarrow:Wk,LongLeftRightArrow:$k,Longleftrightarrow:Gk,longmapsto:Kk,longrightarrow:Yk,LongRightArrow:Xk,Longrightarrow:Jk,looparrowleft:Qk,looparrowright:ex,lopar:tx,Lopf:nx,lopf:rx,loplus:ix,lotimes:ox,lowast:sx,lowbar:ax,LowerLeftArrow:cx,LowerRightArrow:lx,loz:ux,lozenge:fx,lozf:hx,lpar:px,lparlt:dx,lrarr:gx,lrcorner:mx,lrhar:vx,lrhard:yx,lrm:bx,lrtri:wx,lsaquo:_x,lscr:Tx,Lscr:Ox,lsh:Cx,Lsh:Ex,lsim:Sx,lsime:kx,lsimg:xx,lsqb:Px,lsquo:Ax,lsquor:Rx,Lstrok:Dx,lstrok:Nx,ltcc:Mx,ltcir:jx,lt:Lx,LT:Ix,Lt:Zx,ltdot:Fx,lthree:Bx,ltimes:Hx,ltlarr:Vx,ltquest:Ux,ltri:zx,ltrie:qx,ltrif:Wx,ltrPar:$x,lurdshar:Gx,luruhar:Kx,lvertneqq:Yx,lvnE:Xx,macr:Jx,male:Qx,malt:e2,maltese:t2,Map:"\u2905",map:n2,mapsto:r2,mapstodown:i2,mapstoleft:o2,mapstoup:s2,marker:a2,mcomma:c2,Mcy:l2,mcy:u2,mdash:f2,mDDot:h2,measuredangle:p2,MediumSpace:d2,Mellintrf:g2,Mfr:m2,mfr:v2,mho:y2,micro:b2,midast:w2,midcir:_2,mid:T2,middot:O2,minusb:C2,minus:E2,minusd:S2,minusdu:k2,MinusPlus:x2,mlcp:P2,mldr:A2,mnplus:R2,models:D2,Mopf:N2,mopf:M2,mp:j2,mscr:L2,Mscr:I2,mstpos:Z2,Mu:F2,mu:B2,multimap:H2,mumap:V2,nabla:U2,Nacute:z2,nacute:q2,nang:W2,nap:$2,napE:G2,napid:K2,napos:Y2,napprox:X2,natural:J2,naturals:Q2,natur:e4,nbsp:t4,nbump:n4,nbumpe:r4,ncap:i4,Ncaron:o4,ncaron:s4,Ncedil:a4,ncedil:c4,ncong:l4,ncongdot:u4,ncup:f4,Ncy:h4,ncy:p4,ndash:d4,nearhk:g4,nearr:m4,neArr:v4,nearrow:y4,ne:b4,nedot:w4,NegativeMediumSpace:_4,NegativeThickSpace:T4,NegativeThinSpace:O4,NegativeVeryThinSpace:C4,nequiv:E4,nesear:S4,nesim:k4,NestedGreaterGreater:x4,NestedLessLess:P4,NewLine:A4,nexist:R4,nexists:D4,Nfr:N4,nfr:M4,ngE:j4,nge:L4,ngeq:I4,ngeqq:Z4,ngeqslant:F4,nges:B4,nGg:H4,ngsim:V4,nGt:U4,ngt:z4,ngtr:q4,nGtv:W4,nharr:$4,nhArr:G4,nhpar:K4,ni:Y4,nis:X4,nisd:J4,niv:Q4,NJcy:eP,njcy:tP,nlarr:nP,nlArr:rP,nldr:iP,nlE:oP,nle:sP,nleftarrow:aP,nLeftarrow:cP,nleftrightarrow:lP,nLeftrightarrow:uP,nleq:fP,nleqq:hP,nleqslant:pP,nles:dP,nless:gP,nLl:mP,nlsim:vP,nLt:yP,nlt:bP,nltri:wP,nltrie:_P,nLtv:TP,nmid:OP,NoBreak:CP,NonBreakingSpace:EP,nopf:SP,Nopf:kP,Not:xP,not:PP,NotCongruent:AP,NotCupCap:RP,NotDoubleVerticalBar:DP,NotElement:NP,NotEqual:MP,NotEqualTilde:jP,NotExists:LP,NotGreater:IP,NotGreaterEqual:ZP,NotGreaterFullEqual:FP,NotGreaterGreater:BP,NotGreaterLess:HP,NotGreaterSlantEqual:VP,NotGreaterTilde:UP,NotHumpDownHump:zP,NotHumpEqual:qP,notin:WP,notindot:$P,notinE:GP,notinva:KP,notinvb:YP,notinvc:XP,NotLeftTriangleBar:JP,NotLeftTriangle:QP,NotLeftTriangleEqual:eA,NotLess:tA,NotLessEqual:nA,NotLessGreater:rA,NotLessLess:iA,NotLessSlantEqual:oA,NotLessTilde:sA,NotNestedGreaterGreater:aA,NotNestedLessLess:cA,notni:lA,notniva:uA,notnivb:fA,notnivc:hA,NotPrecedes:pA,NotPrecedesEqual:dA,NotPrecedesSlantEqual:gA,NotReverseElement:mA,NotRightTriangleBar:vA,NotRightTriangle:yA,NotRightTriangleEqual:bA,NotSquareSubset:wA,NotSquareSubsetEqual:_A,NotSquareSuperset:TA,NotSquareSupersetEqual:OA,NotSubset:CA,NotSubsetEqual:EA,NotSucceeds:SA,NotSucceedsEqual:kA,NotSucceedsSlantEqual:xA,NotSucceedsTilde:PA,NotSuperset:AA,NotSupersetEqual:RA,NotTilde:DA,NotTildeEqual:NA,NotTildeFullEqual:MA,NotTildeTilde:jA,NotVerticalBar:LA,nparallel:IA,npar:ZA,nparsl:FA,npart:BA,npolint:HA,npr:VA,nprcue:UA,nprec:zA,npreceq:qA,npre:WA,nrarrc:$A,nrarr:GA,nrArr:KA,nrarrw:YA,nrightarrow:XA,nRightarrow:JA,nrtri:QA,nrtrie:e8,nsc:t8,nsccue:n8,nsce:r8,Nscr:i8,nscr:o8,nshortmid:s8,nshortparallel:a8,nsim:c8,nsime:l8,nsimeq:u8,nsmid:f8,nspar:h8,nsqsube:p8,nsqsupe:d8,nsub:g8,nsubE:m8,nsube:v8,nsubset:y8,nsubseteq:b8,nsubseteqq:w8,nsucc:_8,nsucceq:T8,nsup:O8,nsupE:C8,nsupe:E8,nsupset:S8,nsupseteq:k8,nsupseteqq:x8,ntgl:P8,Ntilde:A8,ntilde:R8,ntlg:D8,ntriangleleft:N8,ntrianglelefteq:M8,ntriangleright:j8,ntrianglerighteq:L8,Nu:I8,nu:Z8,num:F8,numero:B8,numsp:H8,nvap:V8,nvdash:U8,nvDash:z8,nVdash:q8,nVDash:W8,nvge:$8,nvgt:G8,nvHarr:K8,nvinfin:Y8,nvlArr:X8,nvle:J8,nvlt:Q8,nvltrie:e3,nvrArr:t3,nvrtrie:n3,nvsim:r3,nwarhk:i3,nwarr:o3,nwArr:s3,nwarrow:a3,nwnear:c3,Oacute:l3,oacute:u3,oast:f3,Ocirc:h3,ocirc:p3,ocir:d3,Ocy:g3,ocy:m3,odash:v3,Odblac:y3,odblac:b3,odiv:w3,odot:_3,odsold:T3,OElig:O3,oelig:C3,ofcir:E3,Ofr:S3,ofr:k3,ogon:x3,Ograve:P3,ograve:A3,ogt:R3,ohbar:D3,ohm:N3,oint:M3,olarr:j3,olcir:L3,olcross:I3,oline:Z3,olt:F3,Omacr:B3,omacr:H3,Omega:V3,omega:U3,Omicron:z3,omicron:q3,omid:W3,ominus:$3,Oopf:G3,oopf:K3,opar:Y3,OpenCurlyDoubleQuote:X3,OpenCurlyQuote:J3,operp:Q3,oplus:e6,orarr:t6,Or:n6,or:r6,ord:i6,order:o6,orderof:s6,ordf:a6,ordm:c6,origof:l6,oror:u6,orslope:f6,orv:h6,oS:p6,Oscr:d6,oscr:g6,Oslash:m6,oslash:v6,osol:y6,Otilde:b6,otilde:w6,otimesas:_6,Otimes:T6,otimes:O6,Ouml:C6,ouml:E6,ovbar:S6,OverBar:k6,OverBrace:x6,OverBracket:P6,OverParenthesis:A6,para:R6,parallel:D6,par:N6,parsim:M6,parsl:j6,part:L6,PartialD:I6,Pcy:Z6,pcy:F6,percnt:B6,period:H6,permil:V6,perp:U6,pertenk:z6,Pfr:q6,pfr:W6,Phi:$6,phi:G6,phiv:K6,phmmat:Y6,phone:X6,Pi:J6,pi:Q6,pitchfork:eR,piv:tR,planck:nR,planckh:rR,plankv:iR,plusacir:oR,plusb:sR,pluscir:aR,plus:cR,plusdo:lR,plusdu:uR,pluse:fR,PlusMinus:hR,plusmn:pR,plussim:dR,plustwo:gR,pm:mR,Poincareplane:vR,pointint:yR,popf:bR,Popf:wR,pound:_R,prap:TR,Pr:OR,pr:CR,prcue:ER,precapprox:SR,prec:kR,preccurlyeq:xR,Precedes:PR,PrecedesEqual:AR,PrecedesSlantEqual:RR,PrecedesTilde:DR,preceq:NR,precnapprox:MR,precneqq:jR,precnsim:LR,pre:IR,prE:ZR,precsim:FR,prime:BR,Prime:HR,primes:VR,prnap:UR,prnE:zR,prnsim:qR,prod:WR,Product:$R,profalar:GR,profline:KR,profsurf:YR,prop:XR,Proportional:JR,Proportion:QR,propto:e7,prsim:t7,prurel:n7,Pscr:r7,pscr:i7,Psi:o7,psi:s7,puncsp:a7,Qfr:c7,qfr:l7,qint:u7,qopf:f7,Qopf:h7,qprime:p7,Qscr:d7,qscr:g7,quaternions:m7,quatint:v7,quest:y7,questeq:b7,quot:w7,QUOT:_7,rAarr:T7,race:O7,Racute:C7,racute:E7,radic:S7,raemptyv:k7,rang:x7,Rang:P7,rangd:A7,range:R7,rangle:D7,raquo:N7,rarrap:M7,rarrb:j7,rarrbfs:L7,rarrc:I7,rarr:Z7,Rarr:F7,rArr:B7,rarrfs:H7,rarrhk:V7,rarrlp:U7,rarrpl:z7,rarrsim:q7,Rarrtl:W7,rarrtl:$7,rarrw:G7,ratail:K7,rAtail:Y7,ratio:X7,rationals:J7,rbarr:Q7,rBarr:eD,RBarr:tD,rbbrk:nD,rbrace:rD,rbrack:iD,rbrke:oD,rbrksld:sD,rbrkslu:aD,Rcaron:cD,rcaron:lD,Rcedil:uD,rcedil:fD,rceil:hD,rcub:pD,Rcy:dD,rcy:gD,rdca:mD,rdldhar:vD,rdquo:yD,rdquor:bD,rdsh:wD,real:_D,realine:TD,realpart:OD,reals:CD,Re:ED,rect:SD,reg:kD,REG:xD,ReverseElement:PD,ReverseEquilibrium:AD,ReverseUpEquilibrium:RD,rfisht:DD,rfloor:ND,rfr:MD,Rfr:jD,rHar:LD,rhard:ID,rharu:ZD,rharul:FD,Rho:BD,rho:HD,rhov:VD,RightAngleBracket:UD,RightArrowBar:zD,rightarrow:qD,RightArrow:WD,Rightarrow:$D,RightArrowLeftArrow:GD,rightarrowtail:KD,RightCeiling:YD,RightDoubleBracket:XD,RightDownTeeVector:JD,RightDownVectorBar:QD,RightDownVector:eN,RightFloor:tN,rightharpoondown:nN,rightharpoonup:rN,rightleftarrows:iN,rightleftharpoons:oN,rightrightarrows:sN,rightsquigarrow:aN,RightTeeArrow:cN,RightTee:lN,RightTeeVector:uN,rightthreetimes:fN,RightTriangleBar:hN,RightTriangle:pN,RightTriangleEqual:dN,RightUpDownVector:gN,RightUpTeeVector:mN,RightUpVectorBar:vN,RightUpVector:yN,RightVectorBar:bN,RightVector:wN,ring:_N,risingdotseq:TN,rlarr:ON,rlhar:CN,rlm:EN,rmoustache:SN,rmoust:kN,rnmid:xN,roang:PN,roarr:AN,robrk:RN,ropar:DN,ropf:NN,Ropf:MN,roplus:jN,rotimes:LN,RoundImplies:IN,rpar:ZN,rpargt:FN,rppolint:BN,rrarr:HN,Rrightarrow:VN,rsaquo:UN,rscr:zN,Rscr:qN,rsh:WN,Rsh:$N,rsqb:GN,rsquo:KN,rsquor:YN,rthree:XN,rtimes:JN,rtri:QN,rtrie:eM,rtrif:tM,rtriltri:nM,RuleDelayed:rM,ruluhar:iM,rx:oM,Sacute:sM,sacute:aM,sbquo:cM,scap:lM,Scaron:uM,scaron:fM,Sc:hM,sc:pM,sccue:dM,sce:gM,scE:mM,Scedil:vM,scedil:yM,Scirc:bM,scirc:wM,scnap:_M,scnE:TM,scnsim:OM,scpolint:CM,scsim:EM,Scy:SM,scy:kM,sdotb:xM,sdot:PM,sdote:AM,searhk:RM,searr:DM,seArr:NM,searrow:MM,sect:jM,semi:LM,seswar:IM,setminus:ZM,setmn:FM,sext:BM,Sfr:HM,sfr:VM,sfrown:UM,sharp:zM,SHCHcy:qM,shchcy:WM,SHcy:$M,shcy:GM,ShortDownArrow:KM,ShortLeftArrow:YM,shortmid:XM,shortparallel:JM,ShortRightArrow:QM,ShortUpArrow:ej,shy:tj,Sigma:nj,sigma:rj,sigmaf:ij,sigmav:oj,sim:sj,simdot:aj,sime:cj,simeq:lj,simg:uj,simgE:fj,siml:hj,simlE:pj,simne:dj,simplus:gj,simrarr:mj,slarr:vj,SmallCircle:yj,smallsetminus:bj,smashp:wj,smeparsl:_j,smid:Tj,smile:Oj,smt:Cj,smte:Ej,smtes:Sj,SOFTcy:kj,softcy:xj,solbar:Pj,solb:Aj,sol:Rj,Sopf:Dj,sopf:Nj,spades:Mj,spadesuit:jj,spar:Lj,sqcap:Ij,sqcaps:Zj,sqcup:Fj,sqcups:Bj,Sqrt:Hj,sqsub:Vj,sqsube:Uj,sqsubset:zj,sqsubseteq:qj,sqsup:Wj,sqsupe:$j,sqsupset:Gj,sqsupseteq:Kj,square:Yj,Square:Xj,SquareIntersection:Jj,SquareSubset:Qj,SquareSubsetEqual:eL,SquareSuperset:tL,SquareSupersetEqual:nL,SquareUnion:rL,squarf:iL,squ:oL,squf:sL,srarr:aL,Sscr:cL,sscr:lL,ssetmn:uL,ssmile:fL,sstarf:hL,Star:pL,star:dL,starf:gL,straightepsilon:mL,straightphi:vL,strns:yL,sub:bL,Sub:wL,subdot:_L,subE:TL,sube:OL,subedot:CL,submult:EL,subnE:SL,subne:kL,subplus:xL,subrarr:PL,subset:AL,Subset:RL,subseteq:DL,subseteqq:NL,SubsetEqual:ML,subsetneq:jL,subsetneqq:LL,subsim:IL,subsub:ZL,subsup:FL,succapprox:BL,succ:HL,succcurlyeq:VL,Succeeds:UL,SucceedsEqual:zL,SucceedsSlantEqual:qL,SucceedsTilde:WL,succeq:$L,succnapprox:GL,succneqq:KL,succnsim:YL,succsim:XL,SuchThat:JL,sum:QL,Sum:eI,sung:tI,sup1:nI,sup2:rI,sup3:iI,sup:oI,Sup:sI,supdot:aI,supdsub:cI,supE:lI,supe:uI,supedot:fI,Superset:hI,SupersetEqual:pI,suphsol:dI,suphsub:gI,suplarr:mI,supmult:vI,supnE:yI,supne:bI,supplus:wI,supset:_I,Supset:TI,supseteq:OI,supseteqq:CI,supsetneq:EI,supsetneqq:SI,supsim:kI,supsub:xI,supsup:PI,swarhk:AI,swarr:RI,swArr:DI,swarrow:NI,swnwar:MI,szlig:jI,Tab:LI,target:II,Tau:ZI,tau:FI,tbrk:BI,Tcaron:HI,tcaron:VI,Tcedil:UI,tcedil:zI,Tcy:qI,tcy:WI,tdot:$I,telrec:GI,Tfr:KI,tfr:YI,there4:XI,therefore:JI,Therefore:QI,Theta:eZ,theta:tZ,thetasym:nZ,thetav:rZ,thickapprox:iZ,thicksim:oZ,ThickSpace:sZ,ThinSpace:aZ,thinsp:cZ,thkap:lZ,thksim:uZ,THORN:fZ,thorn:hZ,tilde:pZ,Tilde:dZ,TildeEqual:gZ,TildeFullEqual:mZ,TildeTilde:vZ,timesbar:yZ,timesb:bZ,times:wZ,timesd:_Z,tint:TZ,toea:OZ,topbot:CZ,topcir:EZ,top:SZ,Topf:kZ,topf:xZ,topfork:PZ,tosa:AZ,tprime:RZ,trade:DZ,TRADE:NZ,triangle:MZ,triangledown:jZ,triangleleft:LZ,trianglelefteq:IZ,triangleq:ZZ,triangleright:FZ,trianglerighteq:BZ,tridot:HZ,trie:VZ,triminus:UZ,TripleDot:zZ,triplus:qZ,trisb:WZ,tritime:$Z,trpezium:GZ,Tscr:KZ,tscr:YZ,TScy:XZ,tscy:JZ,TSHcy:QZ,tshcy:eF,Tstrok:tF,tstrok:nF,twixt:rF,twoheadleftarrow:iF,twoheadrightarrow:oF,Uacute:sF,uacute:aF,uarr:cF,Uarr:lF,uArr:uF,Uarrocir:fF,Ubrcy:hF,ubrcy:pF,Ubreve:dF,ubreve:gF,Ucirc:mF,ucirc:vF,Ucy:yF,ucy:bF,udarr:wF,Udblac:_F,udblac:TF,udhar:OF,ufisht:CF,Ufr:EF,ufr:SF,Ugrave:kF,ugrave:xF,uHar:PF,uharl:AF,uharr:RF,uhblk:DF,ulcorn:NF,ulcorner:MF,ulcrop:jF,ultri:LF,Umacr:IF,umacr:ZF,uml:FF,UnderBar:BF,UnderBrace:HF,UnderBracket:VF,UnderParenthesis:UF,Union:zF,UnionPlus:qF,Uogon:WF,uogon:$F,Uopf:GF,uopf:KF,UpArrowBar:YF,uparrow:XF,UpArrow:JF,Uparrow:QF,UpArrowDownArrow:eB,updownarrow:tB,UpDownArrow:nB,Updownarrow:rB,UpEquilibrium:iB,upharpoonleft:oB,upharpoonright:sB,uplus:aB,UpperLeftArrow:cB,UpperRightArrow:lB,upsi:uB,Upsi:fB,upsih:hB,Upsilon:pB,upsilon:dB,UpTeeArrow:gB,UpTee:mB,upuparrows:vB,urcorn:yB,urcorner:bB,urcrop:wB,Uring:_B,uring:TB,urtri:OB,Uscr:CB,uscr:EB,utdot:SB,Utilde:kB,utilde:xB,utri:PB,utrif:AB,uuarr:RB,Uuml:DB,uuml:NB,uwangle:MB,vangrt:jB,varepsilon:LB,varkappa:IB,varnothing:ZB,varphi:FB,varpi:BB,varpropto:HB,varr:VB,vArr:UB,varrho:zB,varsigma:qB,varsubsetneq:WB,varsubsetneqq:$B,varsupsetneq:GB,varsupsetneqq:KB,vartheta:YB,vartriangleleft:XB,vartriangleright:JB,vBar:QB,Vbar:eH,vBarv:tH,Vcy:nH,vcy:rH,vdash:iH,vDash:oH,Vdash:sH,VDash:aH,Vdashl:cH,veebar:lH,vee:uH,Vee:fH,veeeq:hH,vellip:pH,verbar:dH,Verbar:gH,vert:mH,Vert:vH,VerticalBar:yH,VerticalLine:bH,VerticalSeparator:wH,VerticalTilde:_H,VeryThinSpace:TH,Vfr:OH,vfr:CH,vltri:EH,vnsub:SH,vnsup:kH,Vopf:xH,vopf:PH,vprop:AH,vrtri:RH,Vscr:DH,vscr:NH,vsubnE:MH,vsubne:jH,vsupnE:LH,vsupne:IH,Vvdash:ZH,vzigzag:FH,Wcirc:BH,wcirc:HH,wedbar:VH,wedge:UH,Wedge:zH,wedgeq:qH,weierp:WH,Wfr:$H,wfr:GH,Wopf:KH,wopf:YH,wp:XH,wr:JH,wreath:QH,Wscr:eV,wscr:tV,xcap:nV,xcirc:rV,xcup:iV,xdtri:oV,Xfr:sV,xfr:aV,xharr:cV,xhArr:lV,Xi:uV,xi:fV,xlarr:hV,xlArr:pV,xmap:dV,xnis:gV,xodot:mV,Xopf:vV,xopf:yV,xoplus:bV,xotime:wV,xrarr:_V,xrArr:TV,Xscr:OV,xscr:CV,xsqcup:EV,xuplus:SV,xutri:kV,xvee:xV,xwedge:PV,Yacute:AV,yacute:RV,YAcy:DV,yacy:NV,Ycirc:MV,ycirc:jV,Ycy:LV,ycy:IV,yen:ZV,Yfr:FV,yfr:BV,YIcy:HV,yicy:VV,Yopf:UV,yopf:zV,Yscr:qV,yscr:WV,YUcy:$V,yucy:GV,yuml:KV,Yuml:YV,Zacute:XV,zacute:JV,Zcaron:QV,zcaron:eU,Zcy:tU,zcy:nU,Zdot:rU,zdot:iU,zeetrf:oU,ZeroWidthSpace:sU,Zeta:aU,zeta:cU,zfr:lU,Zfr:uU,ZHcy:fU,zhcy:hU,zigrarr:pU,zopf:dU,Zopf:gU,Zscr:mU,zscr:vU,zwj:yU,zwnj:bU},wU="\xC1",_U="\xE1",TU="\xC2",OU="\xE2",CU="\xB4",EU="\xC6",SU="\xE6",kU="\xC0",xU="\xE0",PU="&",AU="&",RU="\xC5",DU="\xE5",NU="\xC3",MU="\xE3",jU="\xC4",LU="\xE4",IU="\xA6",ZU="\xC7",FU="\xE7",BU="\xB8",HU="\xA2",VU="\xA9",UU="\xA9",zU="\xA4",qU="\xB0",WU="\xF7",$U="\xC9",GU="\xE9",KU="\xCA",YU="\xEA",XU="\xC8",JU="\xE8",QU="\xD0",ez="\xF0",tz="\xCB",nz="\xEB",rz="\xBD",iz="\xBC",oz="\xBE",sz=">",az=">",cz="\xCD",lz="\xED",uz="\xCE",fz="\xEE",hz="\xA1",pz="\xCC",dz="\xEC",gz="\xBF",mz="\xCF",vz="\xEF",yz="\xAB",bz="<",wz="<",_z="\xAF",Tz="\xB5",Oz="\xB7",Cz="\xA0",Ez="\xAC",Sz="\xD1",kz="\xF1",xz="\xD3",Pz="\xF3",Az="\xD4",Rz="\xF4",Dz="\xD2",Nz="\xF2",Mz="\xAA",jz="\xBA",Lz="\xD8",Iz="\xF8",Zz="\xD5",Fz="\xF5",Bz="\xD6",Hz="\xF6",Vz="\xB6",Uz="\xB1",zz="\xA3",qz='"',Wz='"',$z="\xBB",Gz="\xAE",Kz="\xAE",Yz="\xA7",Xz="\xAD",Jz="\xB9",Qz="\xB2",eq="\xB3",tq="\xDF",nq="\xDE",rq="\xFE",iq="\xD7",oq="\xDA",sq="\xFA",aq="\xDB",cq="\xFB",lq="\xD9",uq="\xF9",fq="\xA8",hq="\xDC",pq="\xFC",dq="\xDD",gq="\xFD",mq="\xA5",vq="\xFF",vp={Aacute:wU,aacute:_U,Acirc:TU,acirc:OU,acute:CU,AElig:EU,aelig:SU,Agrave:kU,agrave:xU,amp:PU,AMP:AU,Aring:RU,aring:DU,Atilde:NU,atilde:MU,Auml:jU,auml:LU,brvbar:IU,Ccedil:ZU,ccedil:FU,cedil:BU,cent:HU,copy:VU,COPY:UU,curren:zU,deg:qU,divide:WU,Eacute:$U,eacute:GU,Ecirc:KU,ecirc:YU,Egrave:XU,egrave:JU,ETH:QU,eth:ez,Euml:tz,euml:nz,frac12:rz,frac14:iz,frac34:oz,gt:sz,GT:az,Iacute:cz,iacute:lz,Icirc:uz,icirc:fz,iexcl:hz,Igrave:pz,igrave:dz,iquest:gz,Iuml:mz,iuml:vz,laquo:yz,lt:bz,LT:wz,macr:_z,micro:Tz,middot:Oz,nbsp:Cz,not:Ez,Ntilde:Sz,ntilde:kz,Oacute:xz,oacute:Pz,Ocirc:Az,ocirc:Rz,Ograve:Dz,ograve:Nz,ordf:Mz,ordm:jz,Oslash:Lz,oslash:Iz,Otilde:Zz,otilde:Fz,Ouml:Bz,ouml:Hz,para:Vz,plusmn:Uz,pound:zz,quot:qz,QUOT:Wz,raquo:$z,reg:Gz,REG:Kz,sect:Yz,shy:Xz,sup1:Jz,sup2:Qz,sup3:eq,szlig:tq,THORN:nq,thorn:rq,times:iq,Uacute:oq,uacute:sq,Ucirc:aq,ucirc:cq,Ugrave:lq,ugrave:uq,uml:fq,Uuml:hq,uuml:pq,Yacute:dq,yacute:gq,yen:mq,yuml:vq},yq="&",bq="'",wq=">",_q="<",Tq='"',pf={amp:yq,apos:bq,gt:wq,lt:_q,quot:Tq};var ql={};const Oq={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376};var Mf;function yp(){if(Mf)return ql;Mf=1;var Oe=Pn&&Pn.__importDefault||function(ge){return ge&&ge.__esModule?ge:{default:ge}};Object.defineProperty(ql,"__esModule",{value:!0});var Ae=Oe(Oq),Ue=String.fromCodePoint||function(ge){var _e="";return ge>65535&&(ge-=65536,_e+=String.fromCharCode(ge>>>10&1023|55296),ge=56320|ge&1023),_e+=String.fromCharCode(ge),_e};function He(ge){return ge>=55296&&ge<=57343||ge>1114111?"\uFFFD":(ge in Ae.default&&(ge=Ae.default[ge]),Ue(ge))}return ql.default=He,ql}var jf;function Lf(){if(jf)return ss;jf=1;var Oe=Pn&&Pn.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(ss,"__esModule",{value:!0}),ss.decodeHTML=ss.decodeHTMLStrict=ss.decodeXML=void 0;var Ae=Oe(hf),Ue=Oe(vp),He=Oe(pf),ge=Oe(yp()),_e=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;ss.decodeXML=z(He.default),ss.decodeHTMLStrict=z(Ae.default);function z(k){var $=w(k);return function(D){return String(D).replace(_e,$)}}var ie=function(k,$){return k<$?1:-1};ss.decodeHTML=function(){for(var k=Object.keys(Ue.default).sort(ie),$=Object.keys(Ae.default).sort(ie),D=0,q=0;D<$.length;D++)k[q]===$[D]?($[D]+=";?",q++):$[D]+=";";var l=new RegExp("&(?:"+$.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),P=w(Ae.default);function N(C){return C.substr(-1)!==";"&&(C+=";"),P(C)}return function(C){return String(C).replace(l,N)}}();function w(k){return function(D){if(D.charAt(1)==="#"){var q=D.charAt(2);return q==="X"||q==="x"?ge.default(parseInt(D.substr(3),16)):ge.default(parseInt(D.substr(2),10))}return k[D.slice(1,-1)]||D}}return ss}var Wi={},If;function Zf(){if(If)return Wi;If=1;var Oe=Pn&&Pn.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.escapeUTF8=Wi.escape=Wi.encodeNonAsciiHTML=Wi.encodeHTML=Wi.encodeXML=void 0;var Ae=Oe(pf),Ue=ie(Ae.default),He=w(Ue);Wi.encodeXML=C(Ue);var ge=Oe(hf),_e=ie(ge.default),z=w(_e);Wi.encodeHTML=q(_e,z),Wi.encodeNonAsciiHTML=C(_e);function ie(y){return Object.keys(y).sort().reduce(function(m,g){return m[y[g]]="&"+g+";",m},{})}function w(y){for(var m=[],g=[],S=0,I=Object.keys(y);S<I.length;S++){var H=I[S];H.length===1?m.push("\\"+H):g.push(H)}m.sort();for(var X=0;X<m.length-1;X++){for(var Y=X;Y<m.length-1&&m[Y].charCodeAt(1)+1===m[Y+1].charCodeAt(1);)Y+=1;var x=1+Y-X;x<3||m.splice(X,x,m[X]+"-"+m[Y])}return g.unshift("["+m.join("")+"]"),new RegExp(g.join("|"),"g")}var k=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,$=String.prototype.codePointAt!=null?function(y){return y.codePointAt(0)}:function(y){return(y.charCodeAt(0)-55296)*1024+y.charCodeAt(1)-56320+65536};function D(y){return"&#x"+(y.length>1?$(y):y.charCodeAt(0)).toString(16).toUpperCase()+";"}function q(y,m){return function(g){return g.replace(m,function(S){return y[S]}).replace(k,D)}}var l=new RegExp(He.source+"|"+k.source,"g");function P(y){return y.replace(l,D)}Wi.escape=P;function N(y){return y.replace(He,D)}Wi.escapeUTF8=N;function C(y){return function(m){return m.replace(l,function(g){return y[g]||D(g)})}}return Wi}var Ff;function Cq(){return Ff||(Ff=1,function(Oe){Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.decodeXMLStrict=Oe.decodeHTML5Strict=Oe.decodeHTML4Strict=Oe.decodeHTML5=Oe.decodeHTML4=Oe.decodeHTMLStrict=Oe.decodeHTML=Oe.decodeXML=Oe.encodeHTML5=Oe.encodeHTML4=Oe.escapeUTF8=Oe.escape=Oe.encodeNonAsciiHTML=Oe.encodeHTML=Oe.encodeXML=Oe.encode=Oe.decodeStrict=Oe.decode=void 0;var Ae=Lf(),Ue=Zf();function He(w,k){return(!k||k<=0?Ae.decodeXML:Ae.decodeHTML)(w)}Oe.decode=He;function ge(w,k){return(!k||k<=0?Ae.decodeXML:Ae.decodeHTMLStrict)(w)}Oe.decodeStrict=ge;function _e(w,k){return(!k||k<=0?Ue.encodeXML:Ue.encodeHTML)(w)}Oe.encode=_e;var z=Zf();Object.defineProperty(Oe,"encodeXML",{enumerable:!0,get:function(){return z.encodeXML}}),Object.defineProperty(Oe,"encodeHTML",{enumerable:!0,get:function(){return z.encodeHTML}}),Object.defineProperty(Oe,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return z.encodeNonAsciiHTML}}),Object.defineProperty(Oe,"escape",{enumerable:!0,get:function(){return z.escape}}),Object.defineProperty(Oe,"escapeUTF8",{enumerable:!0,get:function(){return z.escapeUTF8}}),Object.defineProperty(Oe,"encodeHTML4",{enumerable:!0,get:function(){return z.encodeHTML}}),Object.defineProperty(Oe,"encodeHTML5",{enumerable:!0,get:function(){return z.encodeHTML}});var ie=Lf();Object.defineProperty(Oe,"decodeXML",{enumerable:!0,get:function(){return ie.decodeXML}}),Object.defineProperty(Oe,"decodeHTML",{enumerable:!0,get:function(){return ie.decodeHTML}}),Object.defineProperty(Oe,"decodeHTMLStrict",{enumerable:!0,get:function(){return ie.decodeHTMLStrict}}),Object.defineProperty(Oe,"decodeHTML4",{enumerable:!0,get:function(){return ie.decodeHTML}}),Object.defineProperty(Oe,"decodeHTML5",{enumerable:!0,get:function(){return ie.decodeHTML}}),Object.defineProperty(Oe,"decodeHTML4Strict",{enumerable:!0,get:function(){return ie.decodeHTMLStrict}}),Object.defineProperty(Oe,"decodeHTML5Strict",{enumerable:!0,get:function(){return ie.decodeHTMLStrict}}),Object.defineProperty(Oe,"decodeXMLStrict",{enumerable:!0,get:function(){return ie.decodeXML}})}(Nu)),Nu}var fa={},Bf;function Eq(){return Bf||(Bf=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.attributeNames=fa.elementNames=void 0,fa.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),fa.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])),fa}var Hf;function bp(){if(Hf)return zl;Hf=1;var Oe=Pn&&Pn.__assign||function(){return Oe=Object.assign||function(g){for(var S,I=1,H=arguments.length;I<H;I++){S=arguments[I];for(var X in S)Object.prototype.hasOwnProperty.call(S,X)&&(g[X]=S[X])}return g},Oe.apply(this,arguments)},Ae=Pn&&Pn.__createBinding||(Object.create?function(g,S,I,H){H===void 0&&(H=I),Object.defineProperty(g,H,{enumerable:!0,get:function(){return S[I]}})}:function(g,S,I,H){H===void 0&&(H=I),g[H]=S[I]}),Ue=Pn&&Pn.__setModuleDefault||(Object.create?function(g,S){Object.defineProperty(g,"default",{enumerable:!0,value:S})}:function(g,S){g.default=S}),He=Pn&&Pn.__importStar||function(g){if(g&&g.__esModule)return g;var S={};if(g!=null)for(var I in g)I!=="default"&&Object.prototype.hasOwnProperty.call(g,I)&&Ae(S,g,I);return Ue(S,g),S};Object.defineProperty(zl,"__esModule",{value:!0});var ge=He(nl()),_e=Cq(),z=Eq(),ie=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function w(g,S){if(!!g)return Object.keys(g).map(function(I){var H,X,Y=(H=g[I])!==null&&H!==void 0?H:"";return S.xmlMode==="foreign"&&(I=(X=z.attributeNames.get(I))!==null&&X!==void 0?X:I),!S.emptyAttrs&&!S.xmlMode&&Y===""?I:I+'="'+(S.decodeEntities!==!1?_e.encodeXML(Y):Y.replace(/"/g,"&quot;"))+'"'}).join(" ")}var k=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function $(g,S){S===void 0&&(S={});for(var I=("length"in g)?g:[g],H="",X=0;X<I.length;X++)H+=D(I[X],S);return H}zl.default=$;function D(g,S){switch(g.type){case ge.Root:return $(g.children,S);case ge.Directive:case ge.Doctype:return N(g);case ge.Comment:return m(g);case ge.CDATA:return y(g);case ge.Script:case ge.Style:case ge.Tag:return P(g,S);case ge.Text:return C(g,S)}}var q=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),l=new Set(["svg","math"]);function P(g,S){var I;S.xmlMode==="foreign"&&(g.name=(I=z.elementNames.get(g.name))!==null&&I!==void 0?I:g.name,g.parent&&q.has(g.parent.name)&&(S=Oe(Oe({},S),{xmlMode:!1}))),!S.xmlMode&&l.has(g.name)&&(S=Oe(Oe({},S),{xmlMode:"foreign"}));var H="<"+g.name,X=w(g.attribs,S);return X&&(H+=" "+X),g.children.length===0&&(S.xmlMode?S.selfClosingTags!==!1:S.selfClosingTags&&k.has(g.name))?(S.xmlMode||(H+=" "),H+="/>"):(H+=">",g.children.length>0&&(H+=$(g.children,S)),(S.xmlMode||!k.has(g.name))&&(H+="</"+g.name+">")),H}function N(g){return"<"+g.data+">"}function C(g,S){var I=g.data||"";return S.decodeEntities!==!1&&!(!S.xmlMode&&g.parent&&ie.has(g.parent.name))&&(I=_e.encodeXML(I)),I}function y(g){return"<![CDATA["+g.children[0].data+"]]>"}function m(g){return"<!--"+g.data+"-->"}return zl}var Vf;function wp(){if(Vf)return qi;Vf=1;var Oe=Pn&&Pn.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(qi,"__esModule",{value:!0}),qi.innerText=qi.textContent=qi.getText=qi.getInnerHTML=qi.getOuterHTML=void 0;var Ae=Fi(),Ue=Oe(bp()),He=nl();function ge(k,$){return(0,Ue.default)(k,$)}qi.getOuterHTML=ge;function _e(k,$){return(0,Ae.hasChildren)(k)?k.children.map(function(D){return ge(D,$)}).join(""):""}qi.getInnerHTML=_e;function z(k){return Array.isArray(k)?k.map(z).join(""):(0,Ae.isTag)(k)?k.name==="br"?`
`:z(k.children):(0,Ae.isCDATA)(k)?z(k.children):(0,Ae.isText)(k)?k.data:""}qi.getText=z;function ie(k){return Array.isArray(k)?k.map(ie).join(""):(0,Ae.hasChildren)(k)&&!(0,Ae.isComment)(k)?ie(k.children):(0,Ae.isText)(k)?k.data:""}qi.textContent=ie;function w(k){return Array.isArray(k)?k.map(w).join(""):(0,Ae.hasChildren)(k)&&(k.type===He.ElementType.Tag||(0,Ae.isCDATA)(k))?w(k.children):(0,Ae.isText)(k)?k.data:""}return qi.innerText=w,qi}var ci={},Uf;function Sq(){if(Uf)return ci;Uf=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.prevElementSibling=ci.nextElementSibling=ci.getName=ci.hasAttrib=ci.getAttributeValue=ci.getSiblings=ci.getParent=ci.getChildren=void 0;var Oe=Fi(),Ae=[];function Ue($){var D;return(D=$.children)!==null&&D!==void 0?D:Ae}ci.getChildren=Ue;function He($){return $.parent||null}ci.getParent=He;function ge($){var D,q,l=He($);if(l!=null)return Ue(l);for(var P=[$],N=$.prev,C=$.next;N!=null;)P.unshift(N),D=N,N=D.prev;for(;C!=null;)P.push(C),q=C,C=q.next;return P}ci.getSiblings=ge;function _e($,D){var q;return(q=$.attribs)===null||q===void 0?void 0:q[D]}ci.getAttributeValue=_e;function z($,D){return $.attribs!=null&&Object.prototype.hasOwnProperty.call($.attribs,D)&&$.attribs[D]!=null}ci.hasAttrib=z;function ie($){return $.name}ci.getName=ie;function w($){for(var D,q=$.next;q!==null&&!(0,Oe.isTag)(q);)D=q,q=D.next;return q}ci.nextElementSibling=w;function k($){for(var D,q=$.prev;q!==null&&!(0,Oe.isTag)(q);)D=q,q=D.prev;return q}return ci.prevElementSibling=k,ci}var xi={},zf;function kq(){if(zf)return xi;zf=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.prepend=xi.prependChild=xi.append=xi.appendChild=xi.replaceElement=xi.removeElement=void 0;function Oe(z){if(z.prev&&(z.prev.next=z.next),z.next&&(z.next.prev=z.prev),z.parent){var ie=z.parent.children;ie.splice(ie.lastIndexOf(z),1)}}xi.removeElement=Oe;function Ae(z,ie){var w=ie.prev=z.prev;w&&(w.next=ie);var k=ie.next=z.next;k&&(k.prev=ie);var $=ie.parent=z.parent;if($){var D=$.children;D[D.lastIndexOf(z)]=ie}}xi.replaceElement=Ae;function Ue(z,ie){if(Oe(ie),ie.next=null,ie.parent=z,z.children.push(ie)>1){var w=z.children[z.children.length-2];w.next=ie,ie.prev=w}else ie.prev=null}xi.appendChild=Ue;function He(z,ie){Oe(ie);var w=z.parent,k=z.next;if(ie.next=k,ie.prev=z,z.next=ie,ie.parent=w,k){if(k.prev=ie,w){var $=w.children;$.splice($.lastIndexOf(k),0,ie)}}else w&&w.children.push(ie)}xi.append=He;function ge(z,ie){if(Oe(ie),ie.parent=z,ie.prev=null,z.children.unshift(ie)!==1){var w=z.children[1];w.prev=ie,ie.next=w}else ie.next=null}xi.prependChild=ge;function _e(z,ie){Oe(ie);var w=z.parent;if(w){var k=w.children;k.splice(k.indexOf(z),0,ie)}z.prev&&(z.prev.next=ie),ie.parent=w,ie.prev=z.prev,ie.next=z,z.prev=ie}return xi.prepend=_e,xi}var Pi={},qf;function _p(){if(qf)return Pi;qf=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.findAll=Pi.existsOne=Pi.findOne=Pi.findOneChild=Pi.find=Pi.filter=void 0;var Oe=Fi();function Ae(ie,w,k,$){return k===void 0&&(k=!0),$===void 0&&($=1/0),Array.isArray(w)||(w=[w]),Ue(ie,w,k,$)}Pi.filter=Ae;function Ue(ie,w,k,$){for(var D=[],q=0,l=w;q<l.length;q++){var P=l[q];if(ie(P)&&(D.push(P),--$<=0))break;if(k&&(0,Oe.hasChildren)(P)&&P.children.length>0){var N=Ue(ie,P.children,k,$);if(D.push.apply(D,N),$-=N.length,$<=0)break}}return D}Pi.find=Ue;function He(ie,w){return w.find(ie)}Pi.findOneChild=He;function ge(ie,w,k){k===void 0&&(k=!0);for(var $=null,D=0;D<w.length&&!$;D++){var q=w[D];if((0,Oe.isTag)(q))ie(q)?$=q:k&&q.children.length>0&&($=ge(ie,q.children));else continue}return $}Pi.findOne=ge;function _e(ie,w){return w.some(function(k){return(0,Oe.isTag)(k)&&(ie(k)||k.children.length>0&&_e(ie,k.children))})}Pi.existsOne=_e;function z(ie,w){for(var k,$=[],D=w.filter(Oe.isTag),q;q=D.shift();){var l=(k=q.children)===null||k===void 0?void 0:k.filter(Oe.isTag);l&&l.length>0&&D.unshift.apply(D,l),ie(q)&&$.push(q)}return $}return Pi.findAll=z,Pi}var $i={},Wf;function Tp(){if(Wf)return $i;Wf=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.getElementsByTagType=$i.getElementsByTagName=$i.getElementById=$i.getElements=$i.testElement=void 0;var Oe=Fi(),Ae=_p(),Ue={tag_name:function(D){return typeof D=="function"?function(q){return(0,Oe.isTag)(q)&&D(q.name)}:D==="*"?Oe.isTag:function(q){return(0,Oe.isTag)(q)&&q.name===D}},tag_type:function(D){return typeof D=="function"?function(q){return D(q.type)}:function(q){return q.type===D}},tag_contains:function(D){return typeof D=="function"?function(q){return(0,Oe.isText)(q)&&D(q.data)}:function(q){return(0,Oe.isText)(q)&&q.data===D}}};function He(D,q){return typeof q=="function"?function(l){return(0,Oe.isTag)(l)&&q(l.attribs[D])}:function(l){return(0,Oe.isTag)(l)&&l.attribs[D]===q}}function ge(D,q){return function(l){return D(l)||q(l)}}function _e(D){var q=Object.keys(D).map(function(l){var P=D[l];return Object.prototype.hasOwnProperty.call(Ue,l)?Ue[l](P):He(l,P)});return q.length===0?null:q.reduce(ge)}function z(D,q){var l=_e(D);return l?l(q):!0}$i.testElement=z;function ie(D,q,l,P){P===void 0&&(P=1/0);var N=_e(D);return N?(0,Ae.filter)(N,q,l,P):[]}$i.getElements=ie;function w(D,q,l){return l===void 0&&(l=!0),Array.isArray(q)||(q=[q]),(0,Ae.findOne)(He("id",D),q,l)}$i.getElementById=w;function k(D,q,l,P){return l===void 0&&(l=!0),P===void 0&&(P=1/0),(0,Ae.filter)(Ue.tag_name(D),q,l,P)}$i.getElementsByTagName=k;function $(D,q,l,P){return l===void 0&&(l=!0),P===void 0&&(P=1/0),(0,Ae.filter)(Ue.tag_type(D),q,l,P)}return $i.getElementsByTagType=$,$i}var as={},$f;function xq(){if($f)return as;$f=1,Object.defineProperty(as,"__esModule",{value:!0}),as.uniqueSort=as.compareDocumentPosition=as.removeSubsets=void 0;var Oe=Fi();function Ae(ge){for(var _e=ge.length;--_e>=0;){var z=ge[_e];if(_e>0&&ge.lastIndexOf(z,_e-1)>=0){ge.splice(_e,1);continue}for(var ie=z.parent;ie;ie=ie.parent)if(ge.includes(ie)){ge.splice(_e,1);break}}return ge}as.removeSubsets=Ae;function Ue(ge,_e){var z=[],ie=[];if(ge===_e)return 0;for(var w=(0,Oe.hasChildren)(ge)?ge:ge.parent;w;)z.unshift(w),w=w.parent;for(w=(0,Oe.hasChildren)(_e)?_e:_e.parent;w;)ie.unshift(w),w=w.parent;for(var k=Math.min(z.length,ie.length),$=0;$<k&&z[$]===ie[$];)$++;if($===0)return 1;var D=z[$-1],q=D.children,l=z[$],P=ie[$];return q.indexOf(l)>q.indexOf(P)?D===_e?20:4:D===ge?10:2}as.compareDocumentPosition=Ue;function He(ge){return ge=ge.filter(function(_e,z,ie){return!ie.includes(_e,z+1)}),ge.sort(function(_e,z){var ie=Ue(_e,z);return ie&2?-1:ie&4?1:0}),ge}return as.uniqueSort=He,as}var qc={},Gf;function Pq(){if(Gf)return qc;Gf=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.getFeed=void 0;var Oe=wp(),Ae=Tp();function Ue(q){var l=w(D,q);return l?l.name==="feed"?He(l):ge(l):null}qc.getFeed=Ue;function He(q){var l,P=q.children,N={type:"atom",items:(0,Ae.getElementsByTagName)("entry",P).map(function(m){var g,S=m.children,I={media:ie(S)};$(I,"id","id",S),$(I,"title","title",S);var H=(g=w("link",S))===null||g===void 0?void 0:g.attribs.href;H&&(I.link=H);var X=k("summary",S)||k("content",S);X&&(I.description=X);var Y=k("updated",S);return Y&&(I.pubDate=new Date(Y)),I})};$(N,"id","id",P),$(N,"title","title",P);var C=(l=w("link",P))===null||l===void 0?void 0:l.attribs.href;C&&(N.link=C),$(N,"description","subtitle",P);var y=k("updated",P);return y&&(N.updated=new Date(y)),$(N,"author","email",P,!0),N}function ge(q){var l,P,N=(P=(l=w("channel",q.children))===null||l===void 0?void 0:l.children)!==null&&P!==void 0?P:[],C={type:q.name.substr(0,3),id:"",items:(0,Ae.getElementsByTagName)("item",q.children).map(function(m){var g=m.children,S={media:ie(g)};$(S,"id","guid",g),$(S,"title","title",g),$(S,"link","link",g),$(S,"description","description",g);var I=k("pubDate",g);return I&&(S.pubDate=new Date(I)),S})};$(C,"title","title",N),$(C,"link","link",N),$(C,"description","description",N);var y=k("lastBuildDate",N);return y&&(C.updated=new Date(y)),$(C,"author","managingEditor",N,!0),C}var _e=["url","type","lang"],z=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function ie(q){return(0,Ae.getElementsByTagName)("media:content",q).map(function(l){for(var P=l.attribs,N={medium:P.medium,isDefault:!!P.isDefault},C=0,y=_e;C<y.length;C++){var m=y[C];P[m]&&(N[m]=P[m])}for(var g=0,S=z;g<S.length;g++){var m=S[g];P[m]&&(N[m]=parseInt(P[m],10))}return P.expression&&(N.expression=P.expression),N})}function w(q,l){return(0,Ae.getElementsByTagName)(q,l,!0,1)[0]}function k(q,l,P){return P===void 0&&(P=!1),(0,Oe.textContent)((0,Ae.getElementsByTagName)(q,l,P,1)).trim()}function $(q,l,P,N,C){C===void 0&&(C=!1);var y=k(P,N,C);y&&(q[l]=y)}function D(q){return q==="rss"||q==="feed"||q==="rdf:RDF"}return qc}var Kf;function Xl(){return Kf||(Kf=1,function(Oe){var Ae=Pn&&Pn.__createBinding||(Object.create?function(ge,_e,z,ie){ie===void 0&&(ie=z),Object.defineProperty(ge,ie,{enumerable:!0,get:function(){return _e[z]}})}:function(ge,_e,z,ie){ie===void 0&&(ie=z),ge[ie]=_e[z]}),Ue=Pn&&Pn.__exportStar||function(ge,_e){for(var z in ge)z!=="default"&&!Object.prototype.hasOwnProperty.call(_e,z)&&Ae(_e,ge,z)};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.hasChildren=Oe.isDocument=Oe.isComment=Oe.isText=Oe.isCDATA=Oe.isTag=void 0,Ue(wp(),Oe),Ue(Sq(),Oe),Ue(kq(),Oe),Ue(_p(),Oe),Ue(Tp(),Oe),Ue(xq(),Oe),Ue(Pq(),Oe);var He=Fi();Object.defineProperty(Oe,"isTag",{enumerable:!0,get:function(){return He.isTag}}),Object.defineProperty(Oe,"isCDATA",{enumerable:!0,get:function(){return He.isCDATA}}),Object.defineProperty(Oe,"isText",{enumerable:!0,get:function(){return He.isText}}),Object.defineProperty(Oe,"isComment",{enumerable:!0,get:function(){return He.isComment}}),Object.defineProperty(Oe,"isDocument",{enumerable:!0,get:function(){return He.isDocument}}),Object.defineProperty(Oe,"hasChildren",{enumerable:!0,get:function(){return He.hasChildren}})}(Au)),Au}var Mu,Yf;function _a(){return Yf||(Yf=1,Mu={trueFunc:function(){return!0},falseFunc:function(){return!1}}),Mu}var cs={},Wl={},ju={},Xf;function df(){return Xf||(Xf=1,function(Oe){Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.isTraversal=Oe.procedure=void 0,Oe.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1};function Ae(Ue){return Oe.procedure[Ue.type]<0}Oe.isTraversal=Ae}(ju)),ju}var Jf;function Aq(){if(Jf)return Wl;Jf=1,Object.defineProperty(Wl,"__esModule",{value:!0});var Oe=tl,Ae=df(),Ue={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function He(_e){for(var z=_e.map(ge),ie=1;ie<_e.length;ie++){var w=z[ie];if(!(w<0))for(var k=ie-1;k>=0&&w<z[k];k--){var $=_e[k+1];_e[k+1]=_e[k],_e[k]=$,z[k+1]=z[k],z[k]=w}}}Wl.default=He;function ge(_e){var z=Ae.procedure[_e.type];if(_e.type===Oe.SelectorType.Attribute)z=Ue[_e.action],z===Ue.equals&&_e.name==="id"&&(z=9),_e.ignoreCase&&(z>>=1);else if(_e.type===Oe.SelectorType.Pseudo)if(!_e.data)z=3;else if(_e.name==="has"||_e.name==="contains")z=0;else if(Array.isArray(_e.data)){z=0;for(var ie=0;ie<_e.data.length;ie++)if(_e.data[ie].length===1){var w=ge(_e.data[ie][0]);if(w===0){z=0;break}w>z&&(z=w)}_e.data.length>1&&z>0&&(z-=1)}else z=1;return z}return Wl}var Wc={},$c={},Qf;function Rq(){if(Qf)return $c;Qf=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.attributeRules=void 0;var Oe=_a(),Ae=/[-[\]{}()*+?.,\\^$|#\s]/g;function Ue(_e){return _e.replace(Ae,"\\$&")}var He=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function ge(_e,z){return typeof _e.ignoreCase=="boolean"?_e.ignoreCase:_e.ignoreCase==="quirks"?!!z.quirksMode:!z.xmlMode&&He.has(_e.name)}return $c.attributeRules={equals:function(_e,z,ie){var w=ie.adapter,k=z.name,$=z.value;return ge(z,ie)?($=$.toLowerCase(),function(D){var q=w.getAttributeValue(D,k);return q!=null&&q.length===$.length&&q.toLowerCase()===$&&_e(D)}):function(D){return w.getAttributeValue(D,k)===$&&_e(D)}},hyphen:function(_e,z,ie){var w=ie.adapter,k=z.name,$=z.value,D=$.length;return ge(z,ie)?($=$.toLowerCase(),function(l){var P=w.getAttributeValue(l,k);return P!=null&&(P.length===D||P.charAt(D)==="-")&&P.substr(0,D).toLowerCase()===$&&_e(l)}):function(l){var P=w.getAttributeValue(l,k);return P!=null&&(P.length===D||P.charAt(D)==="-")&&P.substr(0,D)===$&&_e(l)}},element:function(_e,z,ie){var w=ie.adapter,k=z.name,$=z.value;if(/\s/.test($))return Oe.falseFunc;var D=new RegExp("(?:^|\\s)".concat(Ue($),"(?:$|\\s)"),ge(z,ie)?"i":"");return function(l){var P=w.getAttributeValue(l,k);return P!=null&&P.length>=$.length&&D.test(P)&&_e(l)}},exists:function(_e,z,ie){var w=z.name,k=ie.adapter;return function($){return k.hasAttrib($,w)&&_e($)}},start:function(_e,z,ie){var w=ie.adapter,k=z.name,$=z.value,D=$.length;return D===0?Oe.falseFunc:ge(z,ie)?($=$.toLowerCase(),function(q){var l=w.getAttributeValue(q,k);return l!=null&&l.length>=D&&l.substr(0,D).toLowerCase()===$&&_e(q)}):function(q){var l;return!!(!((l=w.getAttributeValue(q,k))===null||l===void 0)&&l.startsWith($))&&_e(q)}},end:function(_e,z,ie){var w=ie.adapter,k=z.name,$=z.value,D=-$.length;return D===0?Oe.falseFunc:ge(z,ie)?($=$.toLowerCase(),function(q){var l;return((l=w.getAttributeValue(q,k))===null||l===void 0?void 0:l.substr(D).toLowerCase())===$&&_e(q)}):function(q){var l;return!!(!((l=w.getAttributeValue(q,k))===null||l===void 0)&&l.endsWith($))&&_e(q)}},any:function(_e,z,ie){var w=ie.adapter,k=z.name,$=z.value;if($==="")return Oe.falseFunc;if(ge(z,ie)){var D=new RegExp(Ue($),"i");return function(l){var P=w.getAttributeValue(l,k);return P!=null&&P.length>=$.length&&D.test(P)&&_e(l)}}return function(q){var l;return!!(!((l=w.getAttributeValue(q,k))===null||l===void 0)&&l.includes($))&&_e(q)}},not:function(_e,z,ie){var w=ie.adapter,k=z.name,$=z.value;return $===""?function(D){return!!w.getAttributeValue(D,k)&&_e(D)}:ge(z,ie)?($=$.toLowerCase(),function(D){var q=w.getAttributeValue(D,k);return(q==null||q.length!==$.length||q.toLowerCase()!==$)&&_e(D)}):function(D){return w.getAttributeValue(D,k)!==$&&_e(D)}}},$c}var Lu={},Iu={},Zu={},Gc={},eh;function Dq(){if(eh)return Gc;eh=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.parse=void 0;var Oe=new Set([9,10,12,13,32]),Ae="0".charCodeAt(0),Ue="9".charCodeAt(0);function He(ge){if(ge=ge.trim().toLowerCase(),ge==="even")return[2,0];if(ge==="odd")return[2,1];var _e=0,z=0,ie=k(),w=$();if(_e<ge.length&&ge.charAt(_e)==="n"&&(_e++,z=ie*(w!=null?w:1),D(),_e<ge.length?(ie=k(),D(),w=$()):ie=w=0),w===null||_e<ge.length)throw new Error("n-th rule couldn't be parsed ('".concat(ge,"')"));return[z,ie*w];function k(){return ge.charAt(_e)==="-"?(_e++,-1):(ge.charAt(_e)==="+"&&_e++,1)}function $(){for(var q=_e,l=0;_e<ge.length&&ge.charCodeAt(_e)>=Ae&&ge.charCodeAt(_e)<=Ue;)l=l*10+(ge.charCodeAt(_e)-Ae),_e++;return _e===q?null:l}function D(){for(;_e<ge.length&&Oe.has(ge.charCodeAt(_e));)_e++}}return Gc.parse=He,Gc}var ha={},th;function Nq(){if(th)return ha;th=1;var Oe=Pn&&Pn.__importDefault||function(ge){return ge&&ge.__esModule?ge:{default:ge}};Object.defineProperty(ha,"__esModule",{value:!0}),ha.generate=ha.compile=void 0;var Ae=Oe(_a());function Ue(ge){var _e=ge[0],z=ge[1]-1;if(z<0&&_e<=0)return Ae.default.falseFunc;if(_e===-1)return function(k){return k<=z};if(_e===0)return function(k){return k===z};if(_e===1)return z<0?Ae.default.trueFunc:function(k){return k>=z};var ie=Math.abs(_e),w=(z%ie+ie)%ie;return _e>1?function(k){return k>=z&&k%ie===w}:function(k){return k<=z&&k%ie===w}}ha.compile=Ue;function He(ge){var _e=ge[0],z=ge[1]-1,ie=0;if(_e<0){var w=-_e,k=(z%w+w)%w;return function(){var $=k+w*ie++;return $>z?null:$}}return _e===0?z<0?function(){return null}:function(){return ie++===0?z:null}:(z<0&&(z+=_e*Math.ceil(-z/_e)),function(){return _e*ie+++z})}return ha.generate=He,ha}var nh;function Mq(){return nh||(nh=1,function(Oe){Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.sequence=Oe.generate=Oe.compile=Oe.parse=void 0;var Ae=Dq();Object.defineProperty(Oe,"parse",{enumerable:!0,get:function(){return Ae.parse}});var Ue=Nq();Object.defineProperty(Oe,"compile",{enumerable:!0,get:function(){return Ue.compile}}),Object.defineProperty(Oe,"generate",{enumerable:!0,get:function(){return Ue.generate}});function He(_e){return(0,Ue.compile)((0,Ae.parse)(_e))}Oe.default=He;function ge(_e){return(0,Ue.generate)((0,Ae.parse)(_e))}Oe.sequence=ge}(Zu)),Zu}var rh;function jq(){return rh||(rh=1,function(Oe){var Ae=Pn&&Pn.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.filters=void 0;var Ue=Ae(Mq()),He=_a();function ge(z,ie){return function(w){var k=ie.getParent(w);return k!=null&&ie.isTag(k)&&z(w)}}Oe.filters={contains:function(z,ie,w){var k=w.adapter;return function(D){return z(D)&&k.getText(D).includes(ie)}},icontains:function(z,ie,w){var k=w.adapter,$=ie.toLowerCase();return function(q){return z(q)&&k.getText(q).toLowerCase().includes($)}},"nth-child":function(z,ie,w){var k=w.adapter,$=w.equals,D=(0,Ue.default)(ie);return D===He.falseFunc?He.falseFunc:D===He.trueFunc?ge(z,k):function(l){for(var P=k.getSiblings(l),N=0,C=0;C<P.length&&!$(l,P[C]);C++)k.isTag(P[C])&&N++;return D(N)&&z(l)}},"nth-last-child":function(z,ie,w){var k=w.adapter,$=w.equals,D=(0,Ue.default)(ie);return D===He.falseFunc?He.falseFunc:D===He.trueFunc?ge(z,k):function(l){for(var P=k.getSiblings(l),N=0,C=P.length-1;C>=0&&!$(l,P[C]);C--)k.isTag(P[C])&&N++;return D(N)&&z(l)}},"nth-of-type":function(z,ie,w){var k=w.adapter,$=w.equals,D=(0,Ue.default)(ie);return D===He.falseFunc?He.falseFunc:D===He.trueFunc?ge(z,k):function(l){for(var P=k.getSiblings(l),N=0,C=0;C<P.length;C++){var y=P[C];if($(l,y))break;k.isTag(y)&&k.getName(y)===k.getName(l)&&N++}return D(N)&&z(l)}},"nth-last-of-type":function(z,ie,w){var k=w.adapter,$=w.equals,D=(0,Ue.default)(ie);return D===He.falseFunc?He.falseFunc:D===He.trueFunc?ge(z,k):function(l){for(var P=k.getSiblings(l),N=0,C=P.length-1;C>=0;C--){var y=P[C];if($(l,y))break;k.isTag(y)&&k.getName(y)===k.getName(l)&&N++}return D(N)&&z(l)}},root:function(z,ie,w){var k=w.adapter;return function($){var D=k.getParent($);return(D==null||!k.isTag(D))&&z($)}},scope:function(z,ie,w,k){var $=w.equals;return!k||k.length===0?Oe.filters.root(z,ie,w):k.length===1?function(D){return $(k[0],D)&&z(D)}:function(D){return k.includes(D)&&z(D)}},hover:_e("isHovered"),visited:_e("isVisited"),active:_e("isActive")};function _e(z){return function(w,k,$){var D=$.adapter,q=D[z];return typeof q!="function"?He.falseFunc:function(P){return q(P)&&w(P)}}}}(Iu)),Iu}var pa={},ih;function Lq(){if(ih)return pa;ih=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.verifyPseudoArgs=pa.pseudos=void 0,pa.pseudos={empty:function(Ae,Ue){var He=Ue.adapter;return!He.getChildren(Ae).some(function(ge){return He.isTag(ge)||He.getText(ge)!==""})},"first-child":function(Ae,Ue){var He=Ue.adapter,ge=Ue.equals,_e=He.getSiblings(Ae).find(function(z){return He.isTag(z)});return _e!=null&&ge(Ae,_e)},"last-child":function(Ae,Ue){for(var He=Ue.adapter,ge=Ue.equals,_e=He.getSiblings(Ae),z=_e.length-1;z>=0;z--){if(ge(Ae,_e[z]))return!0;if(He.isTag(_e[z]))break}return!1},"first-of-type":function(Ae,Ue){for(var He=Ue.adapter,ge=Ue.equals,_e=He.getSiblings(Ae),z=He.getName(Ae),ie=0;ie<_e.length;ie++){var w=_e[ie];if(ge(Ae,w))return!0;if(He.isTag(w)&&He.getName(w)===z)break}return!1},"last-of-type":function(Ae,Ue){for(var He=Ue.adapter,ge=Ue.equals,_e=He.getSiblings(Ae),z=He.getName(Ae),ie=_e.length-1;ie>=0;ie--){var w=_e[ie];if(ge(Ae,w))return!0;if(He.isTag(w)&&He.getName(w)===z)break}return!1},"only-of-type":function(Ae,Ue){var He=Ue.adapter,ge=Ue.equals,_e=He.getName(Ae);return He.getSiblings(Ae).every(function(z){return ge(Ae,z)||!He.isTag(z)||He.getName(z)!==_e})},"only-child":function(Ae,Ue){var He=Ue.adapter,ge=Ue.equals;return He.getSiblings(Ae).every(function(_e){return ge(Ae,_e)||!He.isTag(_e)})}};function Oe(Ae,Ue,He){if(He===null){if(Ae.length>2)throw new Error("pseudo-selector :".concat(Ue," requires an argument"))}else if(Ae.length===2)throw new Error("pseudo-selector :".concat(Ue," doesn't have any arguments"))}return pa.verifyPseudoArgs=Oe,pa}var Kc={},oh;function Iq(){return oh||(oh=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.aliases=void 0,Kc.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}),Kc}var Fu={},sh;function gf(){return sh||(sh=1,function(Oe){var Ae=Pn&&Pn.__spreadArray||function(ie,w,k){if(k||arguments.length===2)for(var $=0,D=w.length,q;$<D;$++)(q||!($ in w))&&(q||(q=Array.prototype.slice.call(w,0,$)),q[$]=w[$]);return ie.concat(q||Array.prototype.slice.call(w))};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.subselects=Oe.getNextSiblings=Oe.ensureIsTag=Oe.PLACEHOLDER_ELEMENT=void 0;var Ue=_a(),He=df();Oe.PLACEHOLDER_ELEMENT={};function ge(ie,w){return ie===Ue.falseFunc?Ue.falseFunc:function(k){return w.isTag(k)&&ie(k)}}Oe.ensureIsTag=ge;function _e(ie,w){var k=w.getSiblings(ie);if(k.length<=1)return[];var $=k.indexOf(ie);return $<0||$===k.length-1?[]:k.slice($+1).filter(w.isTag)}Oe.getNextSiblings=_e;var z=function(ie,w,k,$,D){var q={xmlMode:!!k.xmlMode,adapter:k.adapter,equals:k.equals},l=D(w,q,$);return function(P){return l(P)&&ie(P)}};Oe.subselects={is:z,matches:z,where:z,not:function(ie,w,k,$,D){var q={xmlMode:!!k.xmlMode,adapter:k.adapter,equals:k.equals},l=D(w,q,$);return l===Ue.falseFunc?ie:l===Ue.trueFunc?Ue.falseFunc:function(N){return!l(N)&&ie(N)}},has:function(ie,w,k,$,D){var q=k.adapter,l={xmlMode:!!k.xmlMode,adapter:q,equals:k.equals},P=w.some(function(g){return g.some(He.isTraversal)})?[Oe.PLACEHOLDER_ELEMENT]:void 0,N=D(w,l,P);if(N===Ue.falseFunc)return Ue.falseFunc;if(N===Ue.trueFunc)return function(g){return q.getChildren(g).some(q.isTag)&&ie(g)};var C=ge(N,q),y=N.shouldTestNextSiblings,m=y===void 0?!1:y;return P?function(g){P[0]=g;var S=q.getChildren(g),I=m?Ae(Ae([],S,!0),_e(g,q),!0):S;return ie(g)&&q.existsOne(C,I)}:function(g){return ie(g)&&q.existsOne(C,q.getChildren(g))}}}}(Fu)),Fu}var ah;function Op(){return ah||(ah=1,function(Oe){Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.compilePseudoSelector=Oe.aliases=Oe.pseudos=Oe.filters=void 0;var Ae=_a(),Ue=tl,He=jq();Object.defineProperty(Oe,"filters",{enumerable:!0,get:function(){return He.filters}});var ge=Lq();Object.defineProperty(Oe,"pseudos",{enumerable:!0,get:function(){return ge.pseudos}});var _e=Iq();Object.defineProperty(Oe,"aliases",{enumerable:!0,get:function(){return _e.aliases}});var z=gf();function ie(w,k,$,D,q){var l=k.name,P=k.data;if(Array.isArray(P))return z.subselects[l](w,P,$,D,q);if(l in _e.aliases){if(P!=null)throw new Error("Pseudo ".concat(l," doesn't have any arguments"));var N=(0,Ue.parse)(_e.aliases[l]);return z.subselects.is(w,N,$,D,q)}if(l in He.filters)return He.filters[l](w,P,$,D);if(l in ge.pseudos){var C=ge.pseudos[l];return(0,ge.verifyPseudoArgs)(C,l,P),C===Ae.falseFunc?Ae.falseFunc:w===Ae.trueFunc?function(y){return C(y,$,P)}:function(y){return C(y,$,P)&&w(y)}}throw new Error("unmatched pseudo-class :".concat(l))}Oe.compilePseudoSelector=ie}(Lu)),Lu}var ch;function Zq(){if(ch)return Wc;ch=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.compileGeneralSelector=void 0;var Oe=Rq(),Ae=Op(),Ue=tl;function He(ge,_e,z,ie,w){var k=z.adapter,$=z.equals;switch(_e.type){case Ue.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case Ue.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case Ue.SelectorType.Attribute:{if(_e.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!z.xmlMode||z.lowerCaseAttributeNames)&&(_e.name=_e.name.toLowerCase()),Oe.attributeRules[_e.action](ge,_e,z)}case Ue.SelectorType.Pseudo:return(0,Ae.compilePseudoSelector)(ge,_e,z,ie,w);case Ue.SelectorType.Tag:{if(_e.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var D=_e.name;return(!z.xmlMode||z.lowerCaseTags)&&(D=D.toLowerCase()),function(P){return k.getName(P)===D&&ge(P)}}case Ue.SelectorType.Descendant:{if(z.cacheResults===!1||typeof WeakSet>"u")return function(P){for(var N=P;N=k.getParent(N);)if(k.isTag(N)&&ge(N))return!0;return!1};var q=new WeakSet;return function(P){for(var N=P;N=k.getParent(N);)if(!q.has(N)){if(k.isTag(N)&&ge(N))return!0;q.add(N)}return!1}}case"_flexibleDescendant":return function(P){var N=P;do if(k.isTag(N)&&ge(N))return!0;while(N=k.getParent(N));return!1};case Ue.SelectorType.Parent:return function(P){return k.getChildren(P).some(function(N){return k.isTag(N)&&ge(N)})};case Ue.SelectorType.Child:return function(P){var N=k.getParent(P);return N!=null&&k.isTag(N)&&ge(N)};case Ue.SelectorType.Sibling:return function(P){for(var N=k.getSiblings(P),C=0;C<N.length;C++){var y=N[C];if($(P,y))break;if(k.isTag(y)&&ge(y))return!0}return!1};case Ue.SelectorType.Adjacent:return k.prevElementSibling?function(P){var N=k.prevElementSibling(P);return N!=null&&ge(N)}:function(P){for(var N=k.getSiblings(P),C,y=0;y<N.length;y++){var m=N[y];if($(P,m))break;k.isTag(m)&&(C=m)}return!!C&&ge(C)};case Ue.SelectorType.Universal:{if(_e.namespace!=null&&_e.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return ge}}}return Wc.compileGeneralSelector=He,Wc}var lh;function Fq(){if(lh)return cs;lh=1;var Oe=Pn&&Pn.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(cs,"__esModule",{value:!0}),cs.compileToken=cs.compileUnsafe=cs.compile=void 0;var Ae=tl,Ue=_a(),He=Oe(Aq()),ge=df(),_e=Zq(),z=gf();function ie(y,m,g){var S=w(y,m,g);return(0,z.ensureIsTag)(S,m.adapter)}cs.compile=ie;function w(y,m,g){var S=typeof y=="string"?(0,Ae.parse)(y):y;return P(S,m,g)}cs.compileUnsafe=w;function k(y){return y.type==="pseudo"&&(y.name==="scope"||Array.isArray(y.data)&&y.data.some(function(m){return m.some(k)}))}var $={type:Ae.SelectorType.Descendant},D={type:"_flexibleDescendant"},q={type:Ae.SelectorType.Pseudo,name:"scope",data:null};function l(y,m,g){for(var S=m.adapter,I=!!(g!=null&&g.every(function(x){var W=S.isTag(x)&&S.getParent(x);return x===z.PLACEHOLDER_ELEMENT||W&&S.isTag(W)})),H=0,X=y;H<X.length;H++){var Y=X[H];if(!(Y.length>0&&(0,ge.isTraversal)(Y[0])&&Y[0].type!=="descendant"))if(I&&!Y.some(k))Y.unshift($);else continue;Y.unshift(q)}}function P(y,m,g){var S;y=y.filter(function(x){return x.length>0}),y.forEach(He.default),g=(S=m.context)!==null&&S!==void 0?S:g;var I=Array.isArray(g),H=g&&(Array.isArray(g)?g:[g]);l(y,m,H);var X=!1,Y=y.map(function(x){if(x.length>=2){var W=x[0],oe=x[1];W.type!=="pseudo"||W.name!=="scope"||(I&&oe.type==="descendant"?x[1]=D:(oe.type==="adjacent"||oe.type==="sibling")&&(X=!0))}return N(x,m,H)}).reduce(C,Ue.falseFunc);return Y.shouldTestNextSiblings=X,Y}cs.compileToken=P;function N(y,m,g){var S;return y.reduce(function(I,H){return I===Ue.falseFunc?Ue.falseFunc:(0,_e.compileGeneralSelector)(I,H,m,g,P)},(S=m.rootFunc)!==null&&S!==void 0?S:Ue.trueFunc)}function C(y,m){return m===Ue.falseFunc||y===Ue.trueFunc?y:y===Ue.falseFunc||m===Ue.trueFunc?m:function(S){return y(S)||m(S)}}return cs}var uh;function fh(){return uh||(uh=1,function(Oe){var Ae=Pn&&Pn.__createBinding||(Object.create?function(y,m,g,S){S===void 0&&(S=g);var I=Object.getOwnPropertyDescriptor(m,g);(!I||("get"in I?!m.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(y,S,I)}:function(y,m,g,S){S===void 0&&(S=g),y[S]=m[g]}),Ue=Pn&&Pn.__setModuleDefault||(Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m}),He=Pn&&Pn.__importStar||function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var g in y)g!=="default"&&Object.prototype.hasOwnProperty.call(y,g)&&Ae(m,y,g);return Ue(m,y),m};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.aliases=Oe.pseudos=Oe.filters=Oe.is=Oe.selectOne=Oe.selectAll=Oe.prepareContext=Oe._compileToken=Oe._compileUnsafe=Oe.compile=void 0;var ge=He(Xl()),_e=_a(),z=Fq(),ie=gf(),w=function(y,m){return y===m},k={adapter:ge,equals:w};function $(y){var m,g,S,I,H=y!=null?y:k;return(m=H.adapter)!==null&&m!==void 0||(H.adapter=ge),(g=H.equals)!==null&&g!==void 0||(H.equals=(I=(S=H.adapter)===null||S===void 0?void 0:S.equals)!==null&&I!==void 0?I:w),H}function D(y){return function(g,S,I){var H=$(S);return y(g,H,I)}}Oe.compile=D(z.compile),Oe._compileUnsafe=D(z.compileUnsafe),Oe._compileToken=D(z.compileToken);function q(y){return function(g,S,I){var H=$(I);typeof g!="function"&&(g=(0,z.compileUnsafe)(g,H,S));var X=l(S,H.adapter,g.shouldTestNextSiblings);return y(g,X,H)}}function l(y,m,g){return g===void 0&&(g=!1),g&&(y=P(y,m)),Array.isArray(y)?m.removeSubsets(y):m.getChildren(y)}Oe.prepareContext=l;function P(y,m){for(var g=Array.isArray(y)?y.slice(0):[y],S=g.length,I=0;I<S;I++){var H=(0,ie.getNextSiblings)(g[I],m);g.push.apply(g,H)}return g}Oe.selectAll=q(function(y,m,g){return y===_e.falseFunc||!m||m.length===0?[]:g.adapter.findAll(y,m)}),Oe.selectOne=q(function(y,m,g){return y===_e.falseFunc||!m||m.length===0?null:g.adapter.findOne(y,m)});function N(y,m,g){var S=$(g);return(typeof m=="function"?m:(0,z.compile)(m,S))(y)}Oe.is=N,Oe.default=Oe.selectAll;var C=Op();Object.defineProperty(Oe,"filters",{enumerable:!0,get:function(){return C.filters}}),Object.defineProperty(Oe,"pseudos",{enumerable:!0,get:function(){return C.pseudos}}),Object.defineProperty(Oe,"aliases",{enumerable:!0,get:function(){return C.aliases}})}(Pu)),Pu}var da={},Bu={},hh;function Cp(){return hh||(hh=1,function(Oe){Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.getLimit=Oe.isFilter=Oe.filterNames=void 0,Oe.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function Ae(He){return He.type!=="pseudo"?!1:Oe.filterNames.has(He.name)?!0:He.name==="not"&&Array.isArray(He.data)?He.data.some(function(ge){return ge.some(Ae)}):!1}Oe.isFilter=Ae;function Ue(He,ge){var _e=ge!=null?parseInt(ge,10):NaN;switch(He){case"first":return 1;case"nth":case"eq":return isFinite(_e)?_e>=0?_e+1:1/0:0;case"lt":return isFinite(_e)?_e>=0?_e:1/0:0;case"gt":return isFinite(_e)?1/0:0;default:return 1/0}}Oe.getLimit=Ue}(Bu)),Bu}var ph;function Bq(){if(ph)return da;ph=1,Object.defineProperty(da,"__esModule",{value:!0}),da.groupSelectors=da.getDocumentRoot=void 0;var Oe=Cp();function Ae(He){for(;He.parent;)He=He.parent;return He}da.getDocumentRoot=Ae;function Ue(He){for(var ge=[],_e=[],z=0,ie=He;z<ie.length;z++){var w=ie[z];w.some(Oe.isFilter)?ge.push(w):_e.push(w)}return[_e,ge]}return da.groupSelectors=Ue,da}var dh;function Ep(){return dh||(dh=1,function(Oe){var Ae=Pn&&Pn.__assign||function(){return Ae=Object.assign||function(Z){for(var B,T=1,j=arguments.length;T<j;T++){B=arguments[T];for(var U in B)Object.prototype.hasOwnProperty.call(B,U)&&(Z[U]=B[U])}return Z},Ae.apply(this,arguments)},Ue=Pn&&Pn.__createBinding||(Object.create?function(Z,B,T,j){j===void 0&&(j=T);var U=Object.getOwnPropertyDescriptor(B,T);(!U||("get"in U?!B.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return B[T]}}),Object.defineProperty(Z,j,U)}:function(Z,B,T,j){j===void 0&&(j=T),Z[j]=B[T]}),He=Pn&&Pn.__setModuleDefault||(Object.create?function(Z,B){Object.defineProperty(Z,"default",{enumerable:!0,value:B})}:function(Z,B){Z.default=B}),ge=Pn&&Pn.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var B={};if(Z!=null)for(var T in Z)T!=="default"&&Object.prototype.hasOwnProperty.call(Z,T)&&Ue(B,Z,T);return He(B,Z),B},_e=Pn&&Pn.__spreadArray||function(Z,B,T){if(T||arguments.length===2)for(var j=0,U=B.length,E;j<U;j++)(E||!(j in B))&&(E||(E=Array.prototype.slice.call(B,0,j)),E[j]=B[j]);return Z.concat(E||Array.prototype.slice.call(B))};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.select=Oe.filter=Oe.some=Oe.is=Oe.aliases=Oe.pseudos=Oe.filters=void 0;var z=tl,ie=fh(),w=ge(Xl()),k=Bq(),$=Cp(),D=fh();Object.defineProperty(Oe,"filters",{enumerable:!0,get:function(){return D.filters}}),Object.defineProperty(Oe,"pseudos",{enumerable:!0,get:function(){return D.pseudos}}),Object.defineProperty(Oe,"aliases",{enumerable:!0,get:function(){return D.aliases}});var q={type:z.SelectorType.Pseudo,name:"scope",data:null},l=Ae({},q),P={type:z.SelectorType.Universal,namespace:null};function N(Z,B,T){return T===void 0&&(T={}),C([Z],B,T)}Oe.is=N;function C(Z,B,T){if(T===void 0&&(T={}),typeof B=="function")return Z.some(B);var j=(0,k.groupSelectors)((0,z.parse)(B)),U=j[0],E=j[1];return U.length>0&&Z.some((0,ie._compileToken)(U,T))||E.some(function(M){return S(M,Z,T).length>0})}Oe.some=C;function y(Z,B,T,j){var U=typeof T=="string"?parseInt(T,10):NaN;switch(Z){case"first":case"lt":return B;case"last":return B.length>0?[B[B.length-1]]:B;case"nth":case"eq":return isFinite(U)&&Math.abs(U)<B.length?[U<0?B[B.length+U]:B[U]]:[];case"gt":return isFinite(U)?B.slice(U+1):[];case"even":return B.filter(function(M,c){return c%2===0});case"odd":return B.filter(function(M,c){return c%2===1});case"not":{var E=new Set(g(T,B,j));return B.filter(function(M){return!E.has(M)})}}}function m(Z,B,T){return T===void 0&&(T={}),g((0,z.parse)(Z),B,T)}Oe.filter=m;function g(Z,B,T){if(B.length===0)return[];var j=(0,k.groupSelectors)(Z),U=j[0],E=j[1],M;if(U.length){var c=se(B,U,T);if(E.length===0)return c;c.length&&(M=new Set(c))}for(var d=0;d<E.length&&(M==null?void 0:M.size)!==B.length;d++){var s=E[d],p=M?B.filter(function(K){return w.isTag(K)&&!M.has(K)}):B;if(p.length===0)break;var c=S(s,B,T);if(c.length)if(M)c.forEach(function(K){return M.add(K)});else{if(d===E.length-1)return c;M=new Set(c)}}return typeof M<"u"?M.size===B.length?B:B.filter(function(O){return M.has(O)}):[]}function S(Z,B,T){var j;if(Z.some(z.isTraversal)){var U=(j=T.root)!==null&&j!==void 0?j:(0,k.getDocumentRoot)(B[0]),E=_e(_e([],Z,!0),[l],!1);return x(U,E,T,!0,B)}return x(B,Z,T,!1)}function I(Z,B,T){if(T===void 0&&(T={}),typeof Z=="function")return oe(B,Z);var j=(0,k.groupSelectors)((0,z.parse)(Z)),U=j[0],E=j[1],M=E.map(function(c){return x(B,c,T,!0)});return U.length&&M.push(W(B,U,T,1/0)),M.length===0?[]:M.length===1?M[0]:w.uniqueSort(M.reduce(function(c,d){return _e(_e([],c,!0),d,!0)}))}Oe.select=I;var H=new Set([z.SelectorType.Descendant,z.SelectorType.Adjacent]);function X(Z){return Z!==q&&Z.type==="pseudo"&&(Z.name==="scope"||Array.isArray(Z.data)&&Z.data.some(function(B){return B.some(X)}))}function Y(Z,B,T){return T&&Z.some(X)?Ae(Ae({},B),{context:T}):B}function x(Z,B,T,j,U){var E=B.findIndex($.isFilter),M=B.slice(0,E),c=B[E],d=(0,$.getLimit)(c.name,c.data);if(d===0)return[];var s=Y(M,T,U),p=M.length===0&&!Array.isArray(Z)?w.getChildren(Z).filter(w.isTag):M.length===0||M.length===1&&M[0]===q?(Array.isArray(Z)?Z:[Z]).filter(w.isTag):j||M.some(z.isTraversal)?W(Z,[M],s,d):se(Z,[M],s),O=p.slice(0,d),K=y(c.name,O,c.data,T);if(K.length===0||B.length===E+1)return K;var Q=B.slice(E+1),ne=Q.some(z.isTraversal),R=Y(Q,T,U);return ne&&(H.has(Q[0].type)&&Q.unshift(P),Q.unshift(q)),Q.some($.isFilter)?x(K,Q,T,!1,U):ne?W(K,[Q],R,1/0):se(K,[Q],R)}function W(Z,B,T,j){if(j===0)return[];var U=(0,ie._compileToken)(B,T,Z);return oe(Z,U,j)}function oe(Z,B,T){T===void 0&&(T=1/0);var j=(0,ie.prepareContext)(Z,w,B.shouldTestNextSiblings);return w.find(function(U){return w.isTag(U)&&B(U)},j,!0,T)}function se(Z,B,T){var j=(Array.isArray(Z)?Z:[Z]).filter(w.isTag);if(j.length===0)return j;var U=(0,ie._compileToken)(B,T);return j.filter(U)}}(ku)),ku}var Hu={},Yc={},$l={},gh;function Sp(){if(gh)return $l;gh=1;var Oe=Pn&&Pn.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty($l,"__esModule",{value:!0});var Ae=Oe(yp()),Ue=Oe(hf),He=Oe(vp),ge=Oe(pf);function _e(p){return p===" "||p===`
`||p==="	"||p==="\f"||p==="\r"}function z(p){return p>="a"&&p<="z"||p>="A"&&p<="Z"}function ie(p,O,K){var Q=p.toLowerCase();return p===Q?function(ne,R){R===Q?ne._state=O:(ne._state=K,ne._index--)}:function(ne,R){R===Q||R===p?ne._state=O:(ne._state=K,ne._index--)}}function w(p,O){var K=p.toLowerCase();return function(Q,ne){ne===K||ne===p?Q._state=O:(Q._state=3,Q._index--)}}var k=ie("C",24,16),$=ie("D",25,16),D=ie("A",26,16),q=ie("T",27,16),l=ie("A",28,16),P=w("R",35),N=w("I",36),C=w("P",37),y=w("T",38),m=ie("R",40,1),g=ie("I",41,1),S=ie("P",42,1),I=ie("T",43,1),H=w("Y",45),X=w("L",46),Y=w("E",47),x=ie("Y",49,1),W=ie("L",50,1),oe=ie("E",51,1),se=w("I",54),Z=w("T",55),B=w("L",56),T=w("E",57),j=ie("I",58,1),U=ie("T",59,1),E=ie("L",60,1),M=ie("E",61,1),c=ie("#",63,64),d=ie("X",66,65),s=function(){function p(O,K){var Q;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=K,this.xmlMode=!!(O!=null&&O.xmlMode),this.decodeEntities=(Q=O==null?void 0:O.decodeEntities)!==null&&Q!==void 0?Q:!0}return p.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},p.prototype.write=function(O){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=O,this.parse()},p.prototype.end=function(O){this.ended&&this.cbs.onerror(Error(".end() after done!")),O&&this.write(O),this.ended=!0,this.running&&this.finish()},p.prototype.pause=function(){this.running=!1},p.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},p.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},p.prototype.stateText=function(O){O==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):this.decodeEntities&&O==="&"&&(this.special===1||this.special===4)&&(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},p.prototype.isTagStartChar=function(O){return z(O)||this.xmlMode&&!_e(O)&&O!=="/"&&O!==">"},p.prototype.stateBeforeTagName=function(O){O==="/"?this._state=5:O==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):O===">"||this.special!==1||_e(O)?this._state=1:O==="!"?(this._state=15,this.sectionStart=this._index+1):O==="?"?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(O)?(this._state=!this.xmlMode&&(O==="s"||O==="S")?32:!this.xmlMode&&(O==="t"||O==="T")?52:3,this.sectionStart=this._index):this._state=1},p.prototype.stateInTagName=function(O){(O==="/"||O===">"||_e(O))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},p.prototype.stateBeforeClosingTagName=function(O){_e(O)||(O===">"?this._state=1:this.special!==1?this.special!==4&&(O==="s"||O==="S")?this._state=33:this.special===4&&(O==="t"||O==="T")?this._state=53:(this._state=1,this._index--):this.isTagStartChar(O)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},p.prototype.stateInClosingTagName=function(O){(O===">"||_e(O))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},p.prototype.stateAfterClosingTagName=function(O){O===">"&&(this._state=1,this.sectionStart=this._index+1)},p.prototype.stateBeforeAttributeName=function(O){O===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):O==="/"?this._state=4:_e(O)||(this._state=9,this.sectionStart=this._index)},p.prototype.stateInSelfClosingTag=function(O){O===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):_e(O)||(this._state=8,this._index--)},p.prototype.stateInAttributeName=function(O){(O==="="||O==="/"||O===">"||_e(O))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},p.prototype.stateAfterAttributeName=function(O){O==="="?this._state=11:O==="/"||O===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):_e(O)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},p.prototype.stateBeforeAttributeValue=function(O){O==='"'?(this._state=12,this.sectionStart=this._index+1):O==="'"?(this._state=13,this.sectionStart=this._index+1):_e(O)||(this._state=14,this.sectionStart=this._index,this._index--)},p.prototype.handleInAttributeValue=function(O,K){O===K?(this.emitToken("onattribdata"),this.cbs.onattribend(K),this._state=8):this.decodeEntities&&O==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},p.prototype.stateInAttributeValueDoubleQuotes=function(O){this.handleInAttributeValue(O,'"')},p.prototype.stateInAttributeValueSingleQuotes=function(O){this.handleInAttributeValue(O,"'")},p.prototype.stateInAttributeValueNoQuotes=function(O){_e(O)||O===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&O==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},p.prototype.stateBeforeDeclaration=function(O){this._state=O==="["?23:O==="-"?18:16},p.prototype.stateInDeclaration=function(O){O===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},p.prototype.stateInProcessingInstruction=function(O){O===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},p.prototype.stateBeforeComment=function(O){O==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},p.prototype.stateInComment=function(O){O==="-"&&(this._state=21)},p.prototype.stateInSpecialComment=function(O){O===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},p.prototype.stateAfterComment1=function(O){O==="-"?this._state=22:this._state=19},p.prototype.stateAfterComment2=function(O){O===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):O!=="-"&&(this._state=19)},p.prototype.stateBeforeCdata6=function(O){O==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},p.prototype.stateInCdata=function(O){O==="]"&&(this._state=30)},p.prototype.stateAfterCdata1=function(O){O==="]"?this._state=31:this._state=29},p.prototype.stateAfterCdata2=function(O){O===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):O!=="]"&&(this._state=29)},p.prototype.stateBeforeSpecialS=function(O){O==="c"||O==="C"?this._state=34:O==="t"||O==="T"?this._state=44:(this._state=3,this._index--)},p.prototype.stateBeforeSpecialSEnd=function(O){this.special===2&&(O==="c"||O==="C")?this._state=39:this.special===3&&(O==="t"||O==="T")?this._state=48:this._state=1},p.prototype.stateBeforeSpecialLast=function(O,K){(O==="/"||O===">"||_e(O))&&(this.special=K),this._state=3,this._index--},p.prototype.stateAfterSpecialLast=function(O,K){O===">"||_e(O)?(this.special=1,this._state=6,this.sectionStart=this._index-K,this._index--):this._state=1},p.prototype.parseFixedEntity=function(O){if(O===void 0&&(O=this.xmlMode?ge.default:Ue.default),this.sectionStart+1<this._index){var K=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(O,K)&&(this.emitPartial(O[K]),this.sectionStart=this._index+1)}},p.prototype.parseLegacyEntity=function(){for(var O=this.sectionStart+1,K=Math.min(this._index-O,6);K>=2;){var Q=this.buffer.substr(O,K);if(Object.prototype.hasOwnProperty.call(He.default,Q)){this.emitPartial(He.default[Q]),this.sectionStart+=K+1;return}K--}},p.prototype.stateInNamedEntity=function(O){O===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(O<"0"||O>"9")&&!z(O)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?O!=="="&&this.parseFixedEntity(He.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},p.prototype.decodeNumericEntity=function(O,K,Q){var ne=this.sectionStart+O;if(ne!==this._index){var R=this.buffer.substring(ne,this._index),v=parseInt(R,K);this.emitPartial(Ae.default(v)),this.sectionStart=Q?this._index+1:this._index}this._state=this.baseState},p.prototype.stateInNumericEntity=function(O){O===";"?this.decodeNumericEntity(2,10,!0):(O<"0"||O>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},p.prototype.stateInHexEntity=function(O){O===";"?this.decodeNumericEntity(3,16,!0):(O<"a"||O>"f")&&(O<"A"||O>"F")&&(O<"0"||O>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},p.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},p.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var O=this.buffer.charAt(this._index);this._state===1?this.stateText(O):this._state===12?this.stateInAttributeValueDoubleQuotes(O):this._state===9?this.stateInAttributeName(O):this._state===19?this.stateInComment(O):this._state===20?this.stateInSpecialComment(O):this._state===8?this.stateBeforeAttributeName(O):this._state===3?this.stateInTagName(O):this._state===6?this.stateInClosingTagName(O):this._state===2?this.stateBeforeTagName(O):this._state===10?this.stateAfterAttributeName(O):this._state===13?this.stateInAttributeValueSingleQuotes(O):this._state===11?this.stateBeforeAttributeValue(O):this._state===5?this.stateBeforeClosingTagName(O):this._state===7?this.stateAfterClosingTagName(O):this._state===32?this.stateBeforeSpecialS(O):this._state===21?this.stateAfterComment1(O):this._state===14?this.stateInAttributeValueNoQuotes(O):this._state===4?this.stateInSelfClosingTag(O):this._state===16?this.stateInDeclaration(O):this._state===15?this.stateBeforeDeclaration(O):this._state===22?this.stateAfterComment2(O):this._state===18?this.stateBeforeComment(O):this._state===33?this.stateBeforeSpecialSEnd(O):this._state===53?j(this,O):this._state===39?m(this,O):this._state===40?g(this,O):this._state===41?S(this,O):this._state===34?P(this,O):this._state===35?N(this,O):this._state===36?C(this,O):this._state===37?y(this,O):this._state===38?this.stateBeforeSpecialLast(O,2):this._state===42?I(this,O):this._state===43?this.stateAfterSpecialLast(O,6):this._state===44?H(this,O):this._state===29?this.stateInCdata(O):this._state===45?X(this,O):this._state===46?Y(this,O):this._state===47?this.stateBeforeSpecialLast(O,3):this._state===48?x(this,O):this._state===49?W(this,O):this._state===50?oe(this,O):this._state===51?this.stateAfterSpecialLast(O,5):this._state===52?se(this,O):this._state===54?Z(this,O):this._state===55?B(this,O):this._state===56?T(this,O):this._state===57?this.stateBeforeSpecialLast(O,4):this._state===58?U(this,O):this._state===59?E(this,O):this._state===60?M(this,O):this._state===61?this.stateAfterSpecialLast(O,5):this._state===17?this.stateInProcessingInstruction(O):this._state===64?this.stateInNamedEntity(O):this._state===23?k(this,O):this._state===62?c(this,O):this._state===24?$(this,O):this._state===25?D(this,O):this._state===30?this.stateAfterCdata1(O):this._state===31?this.stateAfterCdata2(O):this._state===26?q(this,O):this._state===27?l(this,O):this._state===28?this.stateBeforeCdata6(O):this._state===66?this.stateInHexEntity(O):this._state===65?this.stateInNumericEntity(O):this._state===63?d(this,O):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},p.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},p.prototype.handleTrailingData=function(){var O=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(O):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(O):this._state===64&&!this.xmlMode?(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===65&&!this.xmlMode?(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===66&&!this.xmlMode?(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(O)},p.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},p.prototype.emitToken=function(O){this.cbs[O](this.getSection()),this.sectionStart=-1},p.prototype.emitPartial=function(O){this.baseState!==1?this.cbs.onattribdata(O):this.cbs.ontext(O)},p}();return $l.default=s,$l}var mh;function kp(){if(mh)return Yc;mh=1;var Oe=Pn&&Pn.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.Parser=void 0;var Ae=Oe(Sp()),Ue=new Set(["input","option","optgroup","select","button","datalist","textarea"]),He=new Set(["p"]),ge={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:He,h1:He,h2:He,h3:He,h4:He,h5:He,h6:He,select:Ue,input:Ue,output:Ue,button:Ue,datalist:Ue,textarea:Ue,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:He,article:He,aside:He,blockquote:He,details:He,div:He,dl:He,fieldset:He,figcaption:He,figure:He,footer:He,form:He,header:He,hr:He,main:He,nav:He,ol:He,pre:He,section:He,table:He,ul:He,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},_e=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),z=new Set(["math","svg"]),ie=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),w=/\s|\//,k=function(){function $(D,q){q===void 0&&(q={});var l,P,N,C,y;this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=q,this.cbs=D!=null?D:{},this.lowerCaseTagNames=(l=q.lowerCaseTags)!==null&&l!==void 0?l:!q.xmlMode,this.lowerCaseAttributeNames=(P=q.lowerCaseAttributeNames)!==null&&P!==void 0?P:!q.xmlMode,this.tokenizer=new((N=q.Tokenizer)!==null&&N!==void 0?N:Ae.default)(this.options,this),(y=(C=this.cbs).onparserinit)===null||y===void 0||y.call(C,this)}return $.prototype.updatePosition=function(D){this.endIndex===null?this.tokenizer.sectionStart<=D?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-D:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},$.prototype.ontext=function(D){var q,l;this.updatePosition(1),this.endIndex--,(l=(q=this.cbs).ontext)===null||l===void 0||l.call(q,D)},$.prototype.onopentagname=function(D){var q,l;if(this.lowerCaseTagNames&&(D=D.toLowerCase()),this.tagname=D,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(ge,D))for(var P=void 0;this.stack.length>0&&ge[D].has(P=this.stack[this.stack.length-1]);)this.onclosetag(P);(this.options.xmlMode||!_e.has(D))&&(this.stack.push(D),z.has(D)?this.foreignContext.push(!0):ie.has(D)&&this.foreignContext.push(!1)),(l=(q=this.cbs).onopentagname)===null||l===void 0||l.call(q,D),this.cbs.onopentag&&(this.attribs={})},$.prototype.onopentagend=function(){var D,q;this.updatePosition(1),this.attribs&&((q=(D=this.cbs).onopentag)===null||q===void 0||q.call(D,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&_e.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},$.prototype.onclosetag=function(D){if(this.updatePosition(1),this.lowerCaseTagNames&&(D=D.toLowerCase()),(z.has(D)||ie.has(D))&&this.foreignContext.pop(),this.stack.length&&(this.options.xmlMode||!_e.has(D))){var q=this.stack.lastIndexOf(D);if(q!==-1)if(this.cbs.onclosetag)for(q=this.stack.length-q;q--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=q;else D==="p"&&!this.options.xmlMode&&(this.onopentagname(D),this.closeCurrentTag())}else!this.options.xmlMode&&(D==="br"||D==="p")&&(this.onopentagname(D),this.closeCurrentTag())},$.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},$.prototype.closeCurrentTag=function(){var D,q,l=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===l&&((q=(D=this.cbs).onclosetag)===null||q===void 0||q.call(D,l),this.stack.pop())},$.prototype.onattribname=function(D){this.lowerCaseAttributeNames&&(D=D.toLowerCase()),this.attribname=D},$.prototype.onattribdata=function(D){this.attribvalue+=D},$.prototype.onattribend=function(D){var q,l;(l=(q=this.cbs).onattribute)===null||l===void 0||l.call(q,this.attribname,this.attribvalue,D),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},$.prototype.getInstructionName=function(D){var q=D.search(w),l=q<0?D:D.substr(0,q);return this.lowerCaseTagNames&&(l=l.toLowerCase()),l},$.prototype.ondeclaration=function(D){if(this.cbs.onprocessinginstruction){var q=this.getInstructionName(D);this.cbs.onprocessinginstruction("!"+q,"!"+D)}},$.prototype.onprocessinginstruction=function(D){if(this.cbs.onprocessinginstruction){var q=this.getInstructionName(D);this.cbs.onprocessinginstruction("?"+q,"?"+D)}},$.prototype.oncomment=function(D){var q,l,P,N;this.updatePosition(4),(l=(q=this.cbs).oncomment)===null||l===void 0||l.call(q,D),(N=(P=this.cbs).oncommentend)===null||N===void 0||N.call(P)},$.prototype.oncdata=function(D){var q,l,P,N,C,y;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((l=(q=this.cbs).oncdatastart)===null||l===void 0||l.call(q),(N=(P=this.cbs).ontext)===null||N===void 0||N.call(P,D),(y=(C=this.cbs).oncdataend)===null||y===void 0||y.call(C)):this.oncomment("[CDATA["+D+"]]")},$.prototype.onerror=function(D){var q,l;(l=(q=this.cbs).onerror)===null||l===void 0||l.call(q,D)},$.prototype.onend=function(){var D,q;if(this.cbs.onclosetag)for(var l=this.stack.length;l>0;this.cbs.onclosetag(this.stack[--l]));(q=(D=this.cbs).onend)===null||q===void 0||q.call(D)},$.prototype.reset=function(){var D,q,l,P;(q=(D=this.cbs).onreset)===null||q===void 0||q.call(D),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(P=(l=this.cbs).onparserinit)===null||P===void 0||P.call(l,this)},$.prototype.parseComplete=function(D){this.reset(),this.end(D)},$.prototype.write=function(D){this.tokenizer.write(D)},$.prototype.end=function(D){this.tokenizer.end(D)},$.prototype.pause=function(){this.tokenizer.pause()},$.prototype.resume=function(){this.tokenizer.resume()},$.prototype.parseChunk=function(D){this.write(D)},$.prototype.done=function(D){this.end(D)},$}();return Yc.Parser=k,Yc}var ga={},vh;function yh(){if(vh)return ga;vh=1;var Oe=Pn&&Pn.__extends||function(){var g=function(S,I){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,X){H.__proto__=X}||function(H,X){for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(H[Y]=X[Y])},g(S,I)};return function(S,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");g(S,I);function H(){this.constructor=S}S.prototype=I===null?Object.create(I):(H.prototype=I.prototype,new H)}}(),Ae=Pn&&Pn.__createBinding||(Object.create?function(g,S,I,H){H===void 0&&(H=I),Object.defineProperty(g,H,{enumerable:!0,get:function(){return S[I]}})}:function(g,S,I,H){H===void 0&&(H=I),g[H]=S[I]}),Ue=Pn&&Pn.__setModuleDefault||(Object.create?function(g,S){Object.defineProperty(g,"default",{enumerable:!0,value:S})}:function(g,S){g.default=S}),He=Pn&&Pn.__importStar||function(g){if(g&&g.__esModule)return g;var S={};if(g!=null)for(var I in g)I!=="default"&&Object.prototype.hasOwnProperty.call(g,I)&&Ae(S,g,I);return Ue(S,g),S},ge=Pn&&Pn.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(ga,"__esModule",{value:!0}),ga.parseFeed=ga.FeedHandler=void 0;var _e=ge(Fi()),z=He(Xl()),ie=kp(),w;(function(g){g[g.image=0]="image",g[g.audio=1]="audio",g[g.video=2]="video",g[g.document=3]="document",g[g.executable=4]="executable"})(w||(w={}));var k;(function(g){g[g.sample=0]="sample",g[g.full=1]="full",g[g.nonstop=2]="nonstop"})(k||(k={}));var $=function(g){Oe(S,g);function S(I,H){var X=this;return typeof I=="object"&&(I=void 0,H=I),X=g.call(this,I,H)||this,X}return S.prototype.onend=function(){var I,H,X=l(y,this.dom);if(!X){this.handleCallback(new Error("couldn't find root of feed"));return}var Y={};if(X.name==="feed"){var x=X.children;Y.type="atom",C(Y,"id","id",x),C(Y,"title","title",x);var W=N("href",l("link",x));W&&(Y.link=W),C(Y,"description","subtitle",x);var oe=P("updated",x);oe&&(Y.updated=new Date(oe)),C(Y,"author","email",x,!0),Y.items=q("entry",x).map(function(se){var Z={},B=se.children;C(Z,"id","id",B),C(Z,"title","title",B);var T=N("href",l("link",B));T&&(Z.link=T);var j=P("summary",B)||P("content",B);j&&(Z.description=j);var U=P("updated",B);return U&&(Z.pubDate=new Date(U)),Z.media=D(B),Z})}else{var x=(H=(I=l("channel",X.children))===null||I===void 0?void 0:I.children)!==null&&H!==void 0?H:[];Y.type=X.name.substr(0,3),Y.id="",C(Y,"title","title",x),C(Y,"link","link",x),C(Y,"description","description",x);var oe=P("lastBuildDate",x);oe&&(Y.updated=new Date(oe)),C(Y,"author","managingEditor",x,!0),Y.items=q("item",X.children).map(function(B){var T={},j=B.children;C(T,"id","guid",j),C(T,"title","title",j),C(T,"link","link",j),C(T,"description","description",j);var U=P("pubDate",j);return U&&(T.pubDate=new Date(U)),T.media=D(j),T})}this.feed=Y,this.handleCallback(null)},S}(_e.default);ga.FeedHandler=$;function D(g){return q("media:content",g).map(function(S){var I={medium:S.attribs.medium,isDefault:!!S.attribs.isDefault};return S.attribs.url&&(I.url=S.attribs.url),S.attribs.fileSize&&(I.fileSize=parseInt(S.attribs.fileSize,10)),S.attribs.type&&(I.type=S.attribs.type),S.attribs.expression&&(I.expression=S.attribs.expression),S.attribs.bitrate&&(I.bitrate=parseInt(S.attribs.bitrate,10)),S.attribs.framerate&&(I.framerate=parseInt(S.attribs.framerate,10)),S.attribs.samplingrate&&(I.samplingrate=parseInt(S.attribs.samplingrate,10)),S.attribs.channels&&(I.channels=parseInt(S.attribs.channels,10)),S.attribs.duration&&(I.duration=parseInt(S.attribs.duration,10)),S.attribs.height&&(I.height=parseInt(S.attribs.height,10)),S.attribs.width&&(I.width=parseInt(S.attribs.width,10)),S.attribs.lang&&(I.lang=S.attribs.lang),I})}function q(g,S){return z.getElementsByTagName(g,S,!0)}function l(g,S){return z.getElementsByTagName(g,S,!0,1)[0]}function P(g,S,I){return I===void 0&&(I=!1),z.getText(z.getElementsByTagName(g,S,I,1)).trim()}function N(g,S){if(!S)return null;var I=S.attribs;return I[g]}function C(g,S,I,H,X){X===void 0&&(X=!1);var Y=P(I,H,X);Y&&(g[S]=Y)}function y(g){return g==="rss"||g==="feed"||g==="rdf:RDF"}function m(g,S){S===void 0&&(S={xmlMode:!0});var I=new $(S);return new ie.Parser(I,S).end(g),I.feed}return ga.parseFeed=m,ga}var bh;function ec(){return bh||(bh=1,function(Oe){var Ae=Pn&&Pn.__createBinding||(Object.create?function(P,N,C,y){y===void 0&&(y=C),Object.defineProperty(P,y,{enumerable:!0,get:function(){return N[C]}})}:function(P,N,C,y){y===void 0&&(y=C),P[y]=N[C]}),Ue=Pn&&Pn.__setModuleDefault||(Object.create?function(P,N){Object.defineProperty(P,"default",{enumerable:!0,value:N})}:function(P,N){P.default=N}),He=Pn&&Pn.__importStar||function(P){if(P&&P.__esModule)return P;var N={};if(P!=null)for(var C in P)C!=="default"&&Object.prototype.hasOwnProperty.call(P,C)&&Ae(N,P,C);return Ue(N,P),N},ge=Pn&&Pn.__exportStar||function(P,N){for(var C in P)C!=="default"&&!Object.prototype.hasOwnProperty.call(N,C)&&Ae(N,P,C)},_e=Pn&&Pn.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.RssHandler=Oe.DefaultHandler=Oe.DomUtils=Oe.ElementType=Oe.Tokenizer=Oe.createDomStream=Oe.parseDOM=Oe.parseDocument=Oe.DomHandler=Oe.Parser=void 0;var z=kp();Object.defineProperty(Oe,"Parser",{enumerable:!0,get:function(){return z.Parser}});var ie=Fi();Object.defineProperty(Oe,"DomHandler",{enumerable:!0,get:function(){return ie.DomHandler}}),Object.defineProperty(Oe,"DefaultHandler",{enumerable:!0,get:function(){return ie.DomHandler}});function w(P,N){var C=new ie.DomHandler(void 0,N);return new z.Parser(C,N).end(P),C.root}Oe.parseDocument=w;function k(P,N){return w(P,N).children}Oe.parseDOM=k;function $(P,N,C){var y=new ie.DomHandler(P,N,C);return new z.Parser(y,N)}Oe.createDomStream=$;var D=Sp();Object.defineProperty(Oe,"Tokenizer",{enumerable:!0,get:function(){return _e(D).default}});var q=He(nl());Oe.ElementType=q,ge(yh(),Oe),Oe.DomUtils=He(Xl());var l=yh();Object.defineProperty(Oe,"RssHandler",{enumerable:!0,get:function(){return l.FeedHandler}})}(Hu)),Hu}var ma={},Xc={},Io={},wh;function mf(){if(wh)return Io;wh=1;const Oe=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];return Io.REPLACEMENT_CHARACTER="\uFFFD",Io.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},Io.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},Io.isSurrogate=function(Ae){return Ae>=55296&&Ae<=57343},Io.isSurrogatePair=function(Ae){return Ae>=56320&&Ae<=57343},Io.getSurrogatePairCodePoint=function(Ae,Ue){return(Ae-55296)*1024+9216+Ue},Io.isControlCodePoint=function(Ae){return Ae!==32&&Ae!==10&&Ae!==13&&Ae!==9&&Ae!==12&&Ae>=1&&Ae<=31||Ae>=127&&Ae<=159},Io.isUndefinedCodePoint=function(Ae){return Ae>=64976&&Ae<=65007||Oe.indexOf(Ae)>-1},Io}var Vu,_h;function vf(){return _h||(_h=1,Vu={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}),Vu}var Uu,Th;function Hq(){if(Th)return Uu;Th=1;const Oe=mf(),Ae=vf(),Ue=Oe.CODE_POINTS,He=1<<16;class ge{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=He}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(z){if(this.pos!==this.lastCharPos){const ie=this.html.charCodeAt(this.pos+1);if(Oe.isSurrogatePair(ie))return this.pos++,this._addGap(),Oe.getSurrogatePairCodePoint(z,ie)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Ue.EOF;return this._err(Ae.surrogateInInputStream),z}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(z,ie){this.html?this.html+=z:this.html=z,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=ie}insertHtmlAtCurrentPos(z){this.html=this.html.substring(0,this.pos+1)+z+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,Ue.EOF;let z=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&z===Ue.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):z===Ue.CARRIAGE_RETURN?(this.skipNextNewLine=!0,Ue.LINE_FEED):(this.skipNextNewLine=!1,Oe.isSurrogate(z)&&(z=this._processSurrogate(z)),z>31&&z<127||z===Ue.LINE_FEED||z===Ue.CARRIAGE_RETURN||z>159&&z<64976||this._checkForProblematicCharacters(z),z)}_checkForProblematicCharacters(z){Oe.isControlCodePoint(z)?this._err(Ae.controlCharacterInInputStream):Oe.isUndefinedCodePoint(z)&&this._err(Ae.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}return Uu=ge,Uu}var zu,Oh;function Vq(){return Oh||(Oh=1,zu=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])),zu}var qu,Ch;function Jl(){if(Ch)return qu;Ch=1;const Oe=Hq(),Ae=mf(),Ue=Vq(),He=vf(),ge=Ae.CODE_POINTS,_e=Ae.CODE_POINT_SEQUENCES,z={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},ie=1<<0,w=1<<1,k=1<<2,$=ie|w|k,D="DATA_STATE",q="RCDATA_STATE",l="RAWTEXT_STATE",P="SCRIPT_DATA_STATE",N="PLAINTEXT_STATE",C="TAG_OPEN_STATE",y="END_TAG_OPEN_STATE",m="TAG_NAME_STATE",g="RCDATA_LESS_THAN_SIGN_STATE",S="RCDATA_END_TAG_OPEN_STATE",I="RCDATA_END_TAG_NAME_STATE",H="RAWTEXT_LESS_THAN_SIGN_STATE",X="RAWTEXT_END_TAG_OPEN_STATE",Y="RAWTEXT_END_TAG_NAME_STATE",x="SCRIPT_DATA_LESS_THAN_SIGN_STATE",W="SCRIPT_DATA_END_TAG_OPEN_STATE",oe="SCRIPT_DATA_END_TAG_NAME_STATE",se="SCRIPT_DATA_ESCAPE_START_STATE",Z="SCRIPT_DATA_ESCAPE_START_DASH_STATE",B="SCRIPT_DATA_ESCAPED_STATE",T="SCRIPT_DATA_ESCAPED_DASH_STATE",j="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",U="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",E="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",M="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",c="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",d="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",s="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",p="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",O="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",K="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",Q="BEFORE_ATTRIBUTE_NAME_STATE",ne="ATTRIBUTE_NAME_STATE",R="AFTER_ATTRIBUTE_NAME_STATE",v="BEFORE_ATTRIBUTE_VALUE_STATE",b="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",a="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",f="ATTRIBUTE_VALUE_UNQUOTED_STATE",h="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",_="SELF_CLOSING_START_TAG_STATE",A="BOGUS_COMMENT_STATE",J="MARKUP_DECLARATION_OPEN_STATE",te="COMMENT_START_STATE",F="COMMENT_START_DASH_STATE",G="COMMENT_STATE",V="COMMENT_LESS_THAN_SIGN_STATE",le="COMMENT_LESS_THAN_SIGN_BANG_STATE",ve="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",Ne="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",Ze="COMMENT_END_DASH_STATE",Me="COMMENT_END_STATE",je="COMMENT_END_BANG_STATE",ae="DOCTYPE_STATE",be="BEFORE_DOCTYPE_NAME_STATE",re="DOCTYPE_NAME_STATE",Te="AFTER_DOCTYPE_NAME_STATE",Re="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",Fe="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",it="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",lt="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",St="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",Ut="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",Xt="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",Dt="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",ot="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",st="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",Ve="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Ge="BOGUS_DOCTYPE_STATE",dt="CDATA_SECTION_STATE",We="CDATA_SECTION_BRACKET_STATE",mt="CDATA_SECTION_END_STATE",Ke="CHARACTER_REFERENCE_STATE",gt="NAMED_CHARACTER_REFERENCE_STATE",vt="AMBIGUOS_AMPERSAND_STATE",Ct="NUMERIC_CHARACTER_REFERENCE_STATE",It="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",Nt="DECIMAL_CHARACTER_REFERENCE_START_STATE",sn="HEXADEMICAL_CHARACTER_REFERENCE_STATE",mn="DECIMAL_CHARACTER_REFERENCE_STATE",hn="NUMERIC_CHARACTER_REFERENCE_END_STATE";function fn(ln){return ln===ge.SPACE||ln===ge.LINE_FEED||ln===ge.TABULATION||ln===ge.FORM_FEED}function pn(ln){return ln>=ge.DIGIT_0&&ln<=ge.DIGIT_9}function Qt(ln){return ln>=ge.LATIN_CAPITAL_A&&ln<=ge.LATIN_CAPITAL_Z}function rn(ln){return ln>=ge.LATIN_SMALL_A&&ln<=ge.LATIN_SMALL_Z}function nn(ln){return rn(ln)||Qt(ln)}function wn(ln){return nn(ln)||pn(ln)}function Bn(ln){return ln>=ge.LATIN_CAPITAL_A&&ln<=ge.LATIN_CAPITAL_F}function Hn(ln){return ln>=ge.LATIN_SMALL_A&&ln<=ge.LATIN_SMALL_F}function Zn(ln){return pn(ln)||Bn(ln)||Hn(ln)}function Fn(ln){return ln+32}function xn(ln){return ln<=65535?String.fromCharCode(ln):(ln-=65536,String.fromCharCode(ln>>>10&1023|55296)+String.fromCharCode(56320|ln&1023))}function Nn(ln){return String.fromCharCode(Fn(ln))}function Vn(ln,ze){const bn=Ue[++ln];let zn=++ln,In=zn+bn-1;for(;zn<=In;){const Mn=zn+In>>>1,cn=Ue[Mn];if(cn<ze)zn=Mn+1;else if(cn>ze)In=Mn-1;else return Ue[Mn+bn]}return-1}class Sn{constructor(){this.preprocessor=new Oe,this.tokenQueue=[],this.allowCDATA=!1,this.state=D,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(ze){this._consume(),this._err(ze),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const ze=this._consume();this._ensureHibernation()||this[this.state](ze)}return this.tokenQueue.shift()}write(ze,bn){this.active=!0,this.preprocessor.write(ze,bn)}insertHtmlAtCurrentPos(ze){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(ze)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Sn.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(ze){this.state=ze,this._unconsume()}_consumeSequenceIfMatch(ze,bn,zn){let In=0,Mn=!0;const cn=ze.length;let Tn=0,gn=bn,jn;for(;Tn<cn;Tn++){if(Tn>0&&(gn=this._consume(),In++),gn===ge.EOF){Mn=!1;break}if(jn=ze[Tn],gn!==jn&&(zn||gn!==Fn(jn))){Mn=!1;break}}if(!Mn)for(;In--;)this._unconsume();return Mn}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==_e.SCRIPT_STRING.length)return!1;for(let ze=0;ze<this.tempBuff.length;ze++)if(this.tempBuff[ze]!==_e.SCRIPT_STRING[ze])return!1;return!0}_createStartTagToken(){this.currentToken={type:Sn.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:Sn.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:Sn.COMMENT_TOKEN,data:""}}_createDoctypeToken(ze){this.currentToken={type:Sn.DOCTYPE_TOKEN,name:ze,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(ze,bn){this.currentCharacterToken={type:ze,chars:bn}}_createEOFToken(){this.currentToken={type:Sn.EOF_TOKEN}}_createAttr(ze){this.currentAttr={name:ze,value:""}}_leaveAttrName(ze){Sn.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(He.duplicateAttribute),this.state=ze}_leaveAttrValue(ze){this.state=ze}_emitCurrentToken(){this._emitCurrentCharacterToken();const ze=this.currentToken;this.currentToken=null,ze.type===Sn.START_TAG_TOKEN?this.lastStartTagName=ze.tagName:ze.type===Sn.END_TAG_TOKEN&&(ze.attrs.length>0&&this._err(He.endTagWithAttributes),ze.selfClosing&&this._err(He.endTagWithTrailingSolidus)),this.tokenQueue.push(ze)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(ze,bn){this.currentCharacterToken&&this.currentCharacterToken.type!==ze&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=bn:this._createCharacterToken(ze,bn)}_emitCodePoint(ze){let bn=Sn.CHARACTER_TOKEN;fn(ze)?bn=Sn.WHITESPACE_CHARACTER_TOKEN:ze===ge.NULL&&(bn=Sn.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(bn,xn(ze))}_emitSeveralCodePoints(ze){for(let bn=0;bn<ze.length;bn++)this._emitCodePoint(ze[bn])}_emitChars(ze){this._appendCharToCurrentCharacterToken(Sn.CHARACTER_TOKEN,ze)}_matchNamedCharacterReference(ze){let bn=null,zn=1,In=Vn(0,ze);for(this.tempBuff.push(ze);In>-1;){const Mn=Ue[In],cn=Mn<$;cn&&Mn&ie&&(bn=Mn&w?[Ue[++In],Ue[++In]]:[Ue[++In]],zn=0);const gn=this._consume();if(this.tempBuff.push(gn),zn++,gn===ge.EOF)break;cn?In=Mn&k?Vn(In,gn):-1:In=gn===Mn?++In:-1}for(;zn--;)this.tempBuff.pop(),this._unconsume();return bn}_isCharacterReferenceInAttribute(){return this.returnState===b||this.returnState===a||this.returnState===f}_isCharacterReferenceAttributeQuirk(ze){if(!ze&&this._isCharacterReferenceInAttribute()){const bn=this._consume();return this._unconsume(),bn===ge.EQUALS_SIGN||wn(bn)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let ze=0;ze<this.tempBuff.length;ze++)this.currentAttr.value+=xn(this.tempBuff[ze]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[D](ze){this.preprocessor.dropParsedChunk(),ze===ge.LESS_THAN_SIGN?this.state=C:ze===ge.AMPERSAND?(this.returnState=D,this.state=Ke):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this._emitCodePoint(ze)):ze===ge.EOF?this._emitEOFToken():this._emitCodePoint(ze)}[q](ze){this.preprocessor.dropParsedChunk(),ze===ge.AMPERSAND?(this.returnState=q,this.state=Ke):ze===ge.LESS_THAN_SIGN?this.state=g:ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this._emitChars(Ae.REPLACEMENT_CHARACTER)):ze===ge.EOF?this._emitEOFToken():this._emitCodePoint(ze)}[l](ze){this.preprocessor.dropParsedChunk(),ze===ge.LESS_THAN_SIGN?this.state=H:ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this._emitChars(Ae.REPLACEMENT_CHARACTER)):ze===ge.EOF?this._emitEOFToken():this._emitCodePoint(ze)}[P](ze){this.preprocessor.dropParsedChunk(),ze===ge.LESS_THAN_SIGN?this.state=x:ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this._emitChars(Ae.REPLACEMENT_CHARACTER)):ze===ge.EOF?this._emitEOFToken():this._emitCodePoint(ze)}[N](ze){this.preprocessor.dropParsedChunk(),ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this._emitChars(Ae.REPLACEMENT_CHARACTER)):ze===ge.EOF?this._emitEOFToken():this._emitCodePoint(ze)}[C](ze){ze===ge.EXCLAMATION_MARK?this.state=J:ze===ge.SOLIDUS?this.state=y:nn(ze)?(this._createStartTagToken(),this._reconsumeInState(m)):ze===ge.QUESTION_MARK?(this._err(He.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(A)):ze===ge.EOF?(this._err(He.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(He.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(D))}[y](ze){nn(ze)?(this._createEndTagToken(),this._reconsumeInState(m)):ze===ge.GREATER_THAN_SIGN?(this._err(He.missingEndTagName),this.state=D):ze===ge.EOF?(this._err(He.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(He.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(A))}[m](ze){fn(ze)?this.state=Q:ze===ge.SOLIDUS?this.state=_:ze===ge.GREATER_THAN_SIGN?(this.state=D,this._emitCurrentToken()):Qt(ze)?this.currentToken.tagName+=Nn(ze):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentToken.tagName+=Ae.REPLACEMENT_CHARACTER):ze===ge.EOF?(this._err(He.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=xn(ze)}[g](ze){ze===ge.SOLIDUS?(this.tempBuff=[],this.state=S):(this._emitChars("<"),this._reconsumeInState(q))}[S](ze){nn(ze)?(this._createEndTagToken(),this._reconsumeInState(I)):(this._emitChars("</"),this._reconsumeInState(q))}[I](ze){if(Qt(ze))this.currentToken.tagName+=Nn(ze),this.tempBuff.push(ze);else if(rn(ze))this.currentToken.tagName+=xn(ze),this.tempBuff.push(ze);else{if(this.lastStartTagName===this.currentToken.tagName){if(fn(ze)){this.state=Q;return}if(ze===ge.SOLIDUS){this.state=_;return}if(ze===ge.GREATER_THAN_SIGN){this.state=D,this._emitCurrentToken();return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(q)}}[H](ze){ze===ge.SOLIDUS?(this.tempBuff=[],this.state=X):(this._emitChars("<"),this._reconsumeInState(l))}[X](ze){nn(ze)?(this._createEndTagToken(),this._reconsumeInState(Y)):(this._emitChars("</"),this._reconsumeInState(l))}[Y](ze){if(Qt(ze))this.currentToken.tagName+=Nn(ze),this.tempBuff.push(ze);else if(rn(ze))this.currentToken.tagName+=xn(ze),this.tempBuff.push(ze);else{if(this.lastStartTagName===this.currentToken.tagName){if(fn(ze)){this.state=Q;return}if(ze===ge.SOLIDUS){this.state=_;return}if(ze===ge.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=D;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(l)}}[x](ze){ze===ge.SOLIDUS?(this.tempBuff=[],this.state=W):ze===ge.EXCLAMATION_MARK?(this.state=se,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(P))}[W](ze){nn(ze)?(this._createEndTagToken(),this._reconsumeInState(oe)):(this._emitChars("</"),this._reconsumeInState(P))}[oe](ze){if(Qt(ze))this.currentToken.tagName+=Nn(ze),this.tempBuff.push(ze);else if(rn(ze))this.currentToken.tagName+=xn(ze),this.tempBuff.push(ze);else{if(this.lastStartTagName===this.currentToken.tagName){if(fn(ze)){this.state=Q;return}else if(ze===ge.SOLIDUS){this.state=_;return}else if(ze===ge.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=D;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(P)}}[se](ze){ze===ge.HYPHEN_MINUS?(this.state=Z,this._emitChars("-")):this._reconsumeInState(P)}[Z](ze){ze===ge.HYPHEN_MINUS?(this.state=j,this._emitChars("-")):this._reconsumeInState(P)}[B](ze){ze===ge.HYPHEN_MINUS?(this.state=T,this._emitChars("-")):ze===ge.LESS_THAN_SIGN?this.state=U:ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this._emitChars(Ae.REPLACEMENT_CHARACTER)):ze===ge.EOF?(this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(ze)}[T](ze){ze===ge.HYPHEN_MINUS?(this.state=j,this._emitChars("-")):ze===ge.LESS_THAN_SIGN?this.state=U:ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.state=B,this._emitChars(Ae.REPLACEMENT_CHARACTER)):ze===ge.EOF?(this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=B,this._emitCodePoint(ze))}[j](ze){ze===ge.HYPHEN_MINUS?this._emitChars("-"):ze===ge.LESS_THAN_SIGN?this.state=U:ze===ge.GREATER_THAN_SIGN?(this.state=P,this._emitChars(">")):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.state=B,this._emitChars(Ae.REPLACEMENT_CHARACTER)):ze===ge.EOF?(this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=B,this._emitCodePoint(ze))}[U](ze){ze===ge.SOLIDUS?(this.tempBuff=[],this.state=E):nn(ze)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(c)):(this._emitChars("<"),this._reconsumeInState(B))}[E](ze){nn(ze)?(this._createEndTagToken(),this._reconsumeInState(M)):(this._emitChars("</"),this._reconsumeInState(B))}[M](ze){if(Qt(ze))this.currentToken.tagName+=Nn(ze),this.tempBuff.push(ze);else if(rn(ze))this.currentToken.tagName+=xn(ze),this.tempBuff.push(ze);else{if(this.lastStartTagName===this.currentToken.tagName){if(fn(ze)){this.state=Q;return}if(ze===ge.SOLIDUS){this.state=_;return}if(ze===ge.GREATER_THAN_SIGN){this._emitCurrentToken(),this.state=D;return}}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(B)}}[c](ze){fn(ze)||ze===ge.SOLIDUS||ze===ge.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?d:B,this._emitCodePoint(ze)):Qt(ze)?(this.tempBuff.push(Fn(ze)),this._emitCodePoint(ze)):rn(ze)?(this.tempBuff.push(ze),this._emitCodePoint(ze)):this._reconsumeInState(B)}[d](ze){ze===ge.HYPHEN_MINUS?(this.state=s,this._emitChars("-")):ze===ge.LESS_THAN_SIGN?(this.state=O,this._emitChars("<")):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this._emitChars(Ae.REPLACEMENT_CHARACTER)):ze===ge.EOF?(this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(ze)}[s](ze){ze===ge.HYPHEN_MINUS?(this.state=p,this._emitChars("-")):ze===ge.LESS_THAN_SIGN?(this.state=O,this._emitChars("<")):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.state=d,this._emitChars(Ae.REPLACEMENT_CHARACTER)):ze===ge.EOF?(this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=d,this._emitCodePoint(ze))}[p](ze){ze===ge.HYPHEN_MINUS?this._emitChars("-"):ze===ge.LESS_THAN_SIGN?(this.state=O,this._emitChars("<")):ze===ge.GREATER_THAN_SIGN?(this.state=P,this._emitChars(">")):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.state=d,this._emitChars(Ae.REPLACEMENT_CHARACTER)):ze===ge.EOF?(this._err(He.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=d,this._emitCodePoint(ze))}[O](ze){ze===ge.SOLIDUS?(this.tempBuff=[],this.state=K,this._emitChars("/")):this._reconsumeInState(d)}[K](ze){fn(ze)||ze===ge.SOLIDUS||ze===ge.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?B:d,this._emitCodePoint(ze)):Qt(ze)?(this.tempBuff.push(Fn(ze)),this._emitCodePoint(ze)):rn(ze)?(this.tempBuff.push(ze),this._emitCodePoint(ze)):this._reconsumeInState(d)}[Q](ze){fn(ze)||(ze===ge.SOLIDUS||ze===ge.GREATER_THAN_SIGN||ze===ge.EOF?this._reconsumeInState(R):ze===ge.EQUALS_SIGN?(this._err(He.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=ne):(this._createAttr(""),this._reconsumeInState(ne)))}[ne](ze){fn(ze)||ze===ge.SOLIDUS||ze===ge.GREATER_THAN_SIGN||ze===ge.EOF?(this._leaveAttrName(R),this._unconsume()):ze===ge.EQUALS_SIGN?this._leaveAttrName(v):Qt(ze)?this.currentAttr.name+=Nn(ze):ze===ge.QUOTATION_MARK||ze===ge.APOSTROPHE||ze===ge.LESS_THAN_SIGN?(this._err(He.unexpectedCharacterInAttributeName),this.currentAttr.name+=xn(ze)):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentAttr.name+=Ae.REPLACEMENT_CHARACTER):this.currentAttr.name+=xn(ze)}[R](ze){fn(ze)||(ze===ge.SOLIDUS?this.state=_:ze===ge.EQUALS_SIGN?this.state=v:ze===ge.GREATER_THAN_SIGN?(this.state=D,this._emitCurrentToken()):ze===ge.EOF?(this._err(He.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(ne)))}[v](ze){fn(ze)||(ze===ge.QUOTATION_MARK?this.state=b:ze===ge.APOSTROPHE?this.state=a:ze===ge.GREATER_THAN_SIGN?(this._err(He.missingAttributeValue),this.state=D,this._emitCurrentToken()):this._reconsumeInState(f))}[b](ze){ze===ge.QUOTATION_MARK?this.state=h:ze===ge.AMPERSAND?(this.returnState=b,this.state=Ke):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentAttr.value+=Ae.REPLACEMENT_CHARACTER):ze===ge.EOF?(this._err(He.eofInTag),this._emitEOFToken()):this.currentAttr.value+=xn(ze)}[a](ze){ze===ge.APOSTROPHE?this.state=h:ze===ge.AMPERSAND?(this.returnState=a,this.state=Ke):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentAttr.value+=Ae.REPLACEMENT_CHARACTER):ze===ge.EOF?(this._err(He.eofInTag),this._emitEOFToken()):this.currentAttr.value+=xn(ze)}[f](ze){fn(ze)?this._leaveAttrValue(Q):ze===ge.AMPERSAND?(this.returnState=f,this.state=Ke):ze===ge.GREATER_THAN_SIGN?(this._leaveAttrValue(D),this._emitCurrentToken()):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentAttr.value+=Ae.REPLACEMENT_CHARACTER):ze===ge.QUOTATION_MARK||ze===ge.APOSTROPHE||ze===ge.LESS_THAN_SIGN||ze===ge.EQUALS_SIGN||ze===ge.GRAVE_ACCENT?(this._err(He.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=xn(ze)):ze===ge.EOF?(this._err(He.eofInTag),this._emitEOFToken()):this.currentAttr.value+=xn(ze)}[h](ze){fn(ze)?this._leaveAttrValue(Q):ze===ge.SOLIDUS?this._leaveAttrValue(_):ze===ge.GREATER_THAN_SIGN?(this._leaveAttrValue(D),this._emitCurrentToken()):ze===ge.EOF?(this._err(He.eofInTag),this._emitEOFToken()):(this._err(He.missingWhitespaceBetweenAttributes),this._reconsumeInState(Q))}[_](ze){ze===ge.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=D,this._emitCurrentToken()):ze===ge.EOF?(this._err(He.eofInTag),this._emitEOFToken()):(this._err(He.unexpectedSolidusInTag),this._reconsumeInState(Q))}[A](ze){ze===ge.GREATER_THAN_SIGN?(this.state=D,this._emitCurrentToken()):ze===ge.EOF?(this._emitCurrentToken(),this._emitEOFToken()):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentToken.data+=Ae.REPLACEMENT_CHARACTER):this.currentToken.data+=xn(ze)}[J](ze){this._consumeSequenceIfMatch(_e.DASH_DASH_STRING,ze,!0)?(this._createCommentToken(),this.state=te):this._consumeSequenceIfMatch(_e.DOCTYPE_STRING,ze,!1)?this.state=ae:this._consumeSequenceIfMatch(_e.CDATA_START_STRING,ze,!0)?this.allowCDATA?this.state=dt:(this._err(He.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=A):this._ensureHibernation()||(this._err(He.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(A))}[te](ze){ze===ge.HYPHEN_MINUS?this.state=F:ze===ge.GREATER_THAN_SIGN?(this._err(He.abruptClosingOfEmptyComment),this.state=D,this._emitCurrentToken()):this._reconsumeInState(G)}[F](ze){ze===ge.HYPHEN_MINUS?this.state=Me:ze===ge.GREATER_THAN_SIGN?(this._err(He.abruptClosingOfEmptyComment),this.state=D,this._emitCurrentToken()):ze===ge.EOF?(this._err(He.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(G))}[G](ze){ze===ge.HYPHEN_MINUS?this.state=Ze:ze===ge.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=V):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentToken.data+=Ae.REPLACEMENT_CHARACTER):ze===ge.EOF?(this._err(He.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=xn(ze)}[V](ze){ze===ge.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=le):ze===ge.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(G)}[le](ze){ze===ge.HYPHEN_MINUS?this.state=ve:this._reconsumeInState(G)}[ve](ze){ze===ge.HYPHEN_MINUS?this.state=Ne:this._reconsumeInState(Ze)}[Ne](ze){ze!==ge.GREATER_THAN_SIGN&&ze!==ge.EOF&&this._err(He.nestedComment),this._reconsumeInState(Me)}[Ze](ze){ze===ge.HYPHEN_MINUS?this.state=Me:ze===ge.EOF?(this._err(He.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(G))}[Me](ze){ze===ge.GREATER_THAN_SIGN?(this.state=D,this._emitCurrentToken()):ze===ge.EXCLAMATION_MARK?this.state=je:ze===ge.HYPHEN_MINUS?this.currentToken.data+="-":ze===ge.EOF?(this._err(He.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(G))}[je](ze){ze===ge.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=Ze):ze===ge.GREATER_THAN_SIGN?(this._err(He.incorrectlyClosedComment),this.state=D,this._emitCurrentToken()):ze===ge.EOF?(this._err(He.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(G))}[ae](ze){fn(ze)?this.state=be:ze===ge.GREATER_THAN_SIGN?this._reconsumeInState(be):ze===ge.EOF?(this._err(He.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(He.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(be))}[be](ze){fn(ze)||(Qt(ze)?(this._createDoctypeToken(Nn(ze)),this.state=re):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this._createDoctypeToken(Ae.REPLACEMENT_CHARACTER),this.state=re):ze===ge.GREATER_THAN_SIGN?(this._err(He.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=D):ze===ge.EOF?(this._err(He.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(xn(ze)),this.state=re))}[re](ze){fn(ze)?this.state=Te:ze===ge.GREATER_THAN_SIGN?(this.state=D,this._emitCurrentToken()):Qt(ze)?this.currentToken.name+=Nn(ze):ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentToken.name+=Ae.REPLACEMENT_CHARACTER):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=xn(ze)}[Te](ze){fn(ze)||(ze===ge.GREATER_THAN_SIGN?(this.state=D,this._emitCurrentToken()):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(_e.PUBLIC_STRING,ze,!1)?this.state=Re:this._consumeSequenceIfMatch(_e.SYSTEM_STRING,ze,!1)?this.state=Xt:this._ensureHibernation()||(this._err(He.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ge)))}[Re](ze){fn(ze)?this.state=Fe:ze===ge.QUOTATION_MARK?(this._err(He.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=it):ze===ge.APOSTROPHE?(this._err(He.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=lt):ze===ge.GREATER_THAN_SIGN?(this._err(He.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=D,this._emitCurrentToken()):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(He.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ge))}[Fe](ze){fn(ze)||(ze===ge.QUOTATION_MARK?(this.currentToken.publicId="",this.state=it):ze===ge.APOSTROPHE?(this.currentToken.publicId="",this.state=lt):ze===ge.GREATER_THAN_SIGN?(this._err(He.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=D,this._emitCurrentToken()):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(He.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ge)))}[it](ze){ze===ge.QUOTATION_MARK?this.state=St:ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentToken.publicId+=Ae.REPLACEMENT_CHARACTER):ze===ge.GREATER_THAN_SIGN?(this._err(He.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=D):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=xn(ze)}[lt](ze){ze===ge.APOSTROPHE?this.state=St:ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentToken.publicId+=Ae.REPLACEMENT_CHARACTER):ze===ge.GREATER_THAN_SIGN?(this._err(He.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=D):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=xn(ze)}[St](ze){fn(ze)?this.state=Ut:ze===ge.GREATER_THAN_SIGN?(this.state=D,this._emitCurrentToken()):ze===ge.QUOTATION_MARK?(this._err(He.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=ot):ze===ge.APOSTROPHE?(this._err(He.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=st):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(He.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ge))}[Ut](ze){fn(ze)||(ze===ge.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=D):ze===ge.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ot):ze===ge.APOSTROPHE?(this.currentToken.systemId="",this.state=st):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(He.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ge)))}[Xt](ze){fn(ze)?this.state=Dt:ze===ge.QUOTATION_MARK?(this._err(He.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=ot):ze===ge.APOSTROPHE?(this._err(He.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=st):ze===ge.GREATER_THAN_SIGN?(this._err(He.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=D,this._emitCurrentToken()):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(He.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ge))}[Dt](ze){fn(ze)||(ze===ge.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ot):ze===ge.APOSTROPHE?(this.currentToken.systemId="",this.state=st):ze===ge.GREATER_THAN_SIGN?(this._err(He.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=D,this._emitCurrentToken()):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(He.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Ge)))}[ot](ze){ze===ge.QUOTATION_MARK?this.state=Ve:ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentToken.systemId+=Ae.REPLACEMENT_CHARACTER):ze===ge.GREATER_THAN_SIGN?(this._err(He.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=D):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=xn(ze)}[st](ze){ze===ge.APOSTROPHE?this.state=Ve:ze===ge.NULL?(this._err(He.unexpectedNullCharacter),this.currentToken.systemId+=Ae.REPLACEMENT_CHARACTER):ze===ge.GREATER_THAN_SIGN?(this._err(He.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=D):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=xn(ze)}[Ve](ze){fn(ze)||(ze===ge.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=D):ze===ge.EOF?(this._err(He.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(He.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(Ge)))}[Ge](ze){ze===ge.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=D):ze===ge.NULL?this._err(He.unexpectedNullCharacter):ze===ge.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[dt](ze){ze===ge.RIGHT_SQUARE_BRACKET?this.state=We:ze===ge.EOF?(this._err(He.eofInCdata),this._emitEOFToken()):this._emitCodePoint(ze)}[We](ze){ze===ge.RIGHT_SQUARE_BRACKET?this.state=mt:(this._emitChars("]"),this._reconsumeInState(dt))}[mt](ze){ze===ge.GREATER_THAN_SIGN?this.state=D:ze===ge.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(dt))}[Ke](ze){this.tempBuff=[ge.AMPERSAND],ze===ge.NUMBER_SIGN?(this.tempBuff.push(ze),this.state=Ct):wn(ze)?this._reconsumeInState(gt):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[gt](ze){const bn=this._matchNamedCharacterReference(ze);if(this._ensureHibernation())this.tempBuff=[ge.AMPERSAND];else if(bn){const zn=this.tempBuff[this.tempBuff.length-1]===ge.SEMICOLON;this._isCharacterReferenceAttributeQuirk(zn)||(zn||this._errOnNextCodePoint(He.missingSemicolonAfterCharacterReference),this.tempBuff=bn),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=vt}[vt](ze){wn(ze)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=xn(ze):this._emitCodePoint(ze):(ze===ge.SEMICOLON&&this._err(He.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[Ct](ze){this.charRefCode=0,ze===ge.LATIN_SMALL_X||ze===ge.LATIN_CAPITAL_X?(this.tempBuff.push(ze),this.state=It):this._reconsumeInState(Nt)}[It](ze){Zn(ze)?this._reconsumeInState(sn):(this._err(He.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Nt](ze){pn(ze)?this._reconsumeInState(mn):(this._err(He.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[sn](ze){Bn(ze)?this.charRefCode=this.charRefCode*16+ze-55:Hn(ze)?this.charRefCode=this.charRefCode*16+ze-87:pn(ze)?this.charRefCode=this.charRefCode*16+ze-48:ze===ge.SEMICOLON?this.state=hn:(this._err(He.missingSemicolonAfterCharacterReference),this._reconsumeInState(hn))}[mn](ze){pn(ze)?this.charRefCode=this.charRefCode*10+ze-48:ze===ge.SEMICOLON?this.state=hn:(this._err(He.missingSemicolonAfterCharacterReference),this._reconsumeInState(hn))}[hn](){if(this.charRefCode===ge.NULL)this._err(He.nullCharacterReference),this.charRefCode=ge.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(He.characterReferenceOutsideUnicodeRange),this.charRefCode=ge.REPLACEMENT_CHARACTER;else if(Ae.isSurrogate(this.charRefCode))this._err(He.surrogateCharacterReference),this.charRefCode=ge.REPLACEMENT_CHARACTER;else if(Ae.isUndefinedCodePoint(this.charRefCode))this._err(He.noncharacterCharacterReference);else if(Ae.isControlCodePoint(this.charRefCode)||this.charRefCode===ge.CARRIAGE_RETURN){this._err(He.controlCharacterReference);const ze=z[this.charRefCode];ze&&(this.charRefCode=ze)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}return Sn.CHARACTER_TOKEN="CHARACTER_TOKEN",Sn.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Sn.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Sn.START_TAG_TOKEN="START_TAG_TOKEN",Sn.END_TAG_TOKEN="END_TAG_TOKEN",Sn.COMMENT_TOKEN="COMMENT_TOKEN",Sn.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Sn.EOF_TOKEN="EOF_TOKEN",Sn.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Sn.MODE={DATA:D,RCDATA:q,RAWTEXT:l,SCRIPT_DATA:P,PLAINTEXT:N},Sn.getTokenAttr=function(ln,ze){for(let bn=ln.attrs.length-1;bn>=0;bn--)if(ln.attrs[bn].name===ze)return ln.attrs[bn].value;return null},qu=Sn,qu}var va={},Eh;function Is(){if(Eh)return va;Eh=1;const Oe=va.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};va.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},va.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const Ae=va.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};return va.SPECIAL_ELEMENTS={[Oe.HTML]:{[Ae.ADDRESS]:!0,[Ae.APPLET]:!0,[Ae.AREA]:!0,[Ae.ARTICLE]:!0,[Ae.ASIDE]:!0,[Ae.BASE]:!0,[Ae.BASEFONT]:!0,[Ae.BGSOUND]:!0,[Ae.BLOCKQUOTE]:!0,[Ae.BODY]:!0,[Ae.BR]:!0,[Ae.BUTTON]:!0,[Ae.CAPTION]:!0,[Ae.CENTER]:!0,[Ae.COL]:!0,[Ae.COLGROUP]:!0,[Ae.DD]:!0,[Ae.DETAILS]:!0,[Ae.DIR]:!0,[Ae.DIV]:!0,[Ae.DL]:!0,[Ae.DT]:!0,[Ae.EMBED]:!0,[Ae.FIELDSET]:!0,[Ae.FIGCAPTION]:!0,[Ae.FIGURE]:!0,[Ae.FOOTER]:!0,[Ae.FORM]:!0,[Ae.FRAME]:!0,[Ae.FRAMESET]:!0,[Ae.H1]:!0,[Ae.H2]:!0,[Ae.H3]:!0,[Ae.H4]:!0,[Ae.H5]:!0,[Ae.H6]:!0,[Ae.HEAD]:!0,[Ae.HEADER]:!0,[Ae.HGROUP]:!0,[Ae.HR]:!0,[Ae.HTML]:!0,[Ae.IFRAME]:!0,[Ae.IMG]:!0,[Ae.INPUT]:!0,[Ae.LI]:!0,[Ae.LINK]:!0,[Ae.LISTING]:!0,[Ae.MAIN]:!0,[Ae.MARQUEE]:!0,[Ae.MENU]:!0,[Ae.META]:!0,[Ae.NAV]:!0,[Ae.NOEMBED]:!0,[Ae.NOFRAMES]:!0,[Ae.NOSCRIPT]:!0,[Ae.OBJECT]:!0,[Ae.OL]:!0,[Ae.P]:!0,[Ae.PARAM]:!0,[Ae.PLAINTEXT]:!0,[Ae.PRE]:!0,[Ae.SCRIPT]:!0,[Ae.SECTION]:!0,[Ae.SELECT]:!0,[Ae.SOURCE]:!0,[Ae.STYLE]:!0,[Ae.SUMMARY]:!0,[Ae.TABLE]:!0,[Ae.TBODY]:!0,[Ae.TD]:!0,[Ae.TEMPLATE]:!0,[Ae.TEXTAREA]:!0,[Ae.TFOOT]:!0,[Ae.TH]:!0,[Ae.THEAD]:!0,[Ae.TITLE]:!0,[Ae.TR]:!0,[Ae.TRACK]:!0,[Ae.UL]:!0,[Ae.WBR]:!0,[Ae.XMP]:!0},[Oe.MATHML]:{[Ae.MI]:!0,[Ae.MO]:!0,[Ae.MN]:!0,[Ae.MS]:!0,[Ae.MTEXT]:!0,[Ae.ANNOTATION_XML]:!0},[Oe.SVG]:{[Ae.TITLE]:!0,[Ae.FOREIGN_OBJECT]:!0,[Ae.DESC]:!0}},va}var Wu,Sh;function Uq(){if(Sh)return Wu;Sh=1;const Oe=Is(),Ae=Oe.TAG_NAMES,Ue=Oe.NAMESPACES;function He(ie){switch(ie.length){case 1:return ie===Ae.P;case 2:return ie===Ae.RB||ie===Ae.RP||ie===Ae.RT||ie===Ae.DD||ie===Ae.DT||ie===Ae.LI;case 3:return ie===Ae.RTC;case 6:return ie===Ae.OPTION;case 8:return ie===Ae.OPTGROUP}return!1}function ge(ie){switch(ie.length){case 1:return ie===Ae.P;case 2:return ie===Ae.RB||ie===Ae.RP||ie===Ae.RT||ie===Ae.DD||ie===Ae.DT||ie===Ae.LI||ie===Ae.TD||ie===Ae.TH||ie===Ae.TR;case 3:return ie===Ae.RTC;case 5:return ie===Ae.TBODY||ie===Ae.TFOOT||ie===Ae.THEAD;case 6:return ie===Ae.OPTION;case 7:return ie===Ae.CAPTION;case 8:return ie===Ae.OPTGROUP||ie===Ae.COLGROUP}return!1}function _e(ie,w){switch(ie.length){case 2:if(ie===Ae.TD||ie===Ae.TH)return w===Ue.HTML;if(ie===Ae.MI||ie===Ae.MO||ie===Ae.MN||ie===Ae.MS)return w===Ue.MATHML;break;case 4:if(ie===Ae.HTML)return w===Ue.HTML;if(ie===Ae.DESC)return w===Ue.SVG;break;case 5:if(ie===Ae.TABLE)return w===Ue.HTML;if(ie===Ae.MTEXT)return w===Ue.MATHML;if(ie===Ae.TITLE)return w===Ue.SVG;break;case 6:return(ie===Ae.APPLET||ie===Ae.OBJECT)&&w===Ue.HTML;case 7:return(ie===Ae.CAPTION||ie===Ae.MARQUEE)&&w===Ue.HTML;case 8:return ie===Ae.TEMPLATE&&w===Ue.HTML;case 13:return ie===Ae.FOREIGN_OBJECT&&w===Ue.SVG;case 14:return ie===Ae.ANNOTATION_XML&&w===Ue.MATHML}return!1}class z{constructor(w,k){this.stackTop=-1,this.items=[],this.current=w,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=k}_indexOf(w){let k=-1;for(let $=this.stackTop;$>=0;$--)if(this.items[$]===w){k=$;break}return k}_isInTemplate(){return this.currentTagName===Ae.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ue.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(w){this.items[++this.stackTop]=w,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(w,k){const $=this._indexOf(w);this.items[$]=k,$===this.stackTop&&this._updateCurrentElement()}insertAfter(w,k){const $=this._indexOf(w)+1;this.items.splice($,0,k),$===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(w){for(;this.stackTop>-1;){const k=this.currentTagName,$=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),k===w&&$===Ue.HTML)break}}popUntilElementPopped(w){for(;this.stackTop>-1;){const k=this.current;if(this.pop(),k===w)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const w=this.currentTagName,k=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),w===Ae.H1||w===Ae.H2||w===Ae.H3||w===Ae.H4||w===Ae.H5||w===Ae.H6&&k===Ue.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const w=this.currentTagName,k=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),w===Ae.TD||w===Ae.TH&&k===Ue.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==Ae.TABLE&&this.currentTagName!==Ae.TEMPLATE&&this.currentTagName!==Ae.HTML||this.treeAdapter.getNamespaceURI(this.current)!==Ue.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==Ae.TBODY&&this.currentTagName!==Ae.TFOOT&&this.currentTagName!==Ae.THEAD&&this.currentTagName!==Ae.TEMPLATE&&this.currentTagName!==Ae.HTML||this.treeAdapter.getNamespaceURI(this.current)!==Ue.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==Ae.TR&&this.currentTagName!==Ae.TEMPLATE&&this.currentTagName!==Ae.HTML||this.treeAdapter.getNamespaceURI(this.current)!==Ue.HTML;)this.pop()}remove(w){for(let k=this.stackTop;k>=0;k--)if(this.items[k]===w){this.items.splice(k,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const w=this.items[1];return w&&this.treeAdapter.getTagName(w)===Ae.BODY?w:null}contains(w){return this._indexOf(w)>-1}getCommonAncestor(w){let k=this._indexOf(w);return--k>=0?this.items[k]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.currentTagName===Ae.HTML}hasInScope(w){for(let k=this.stackTop;k>=0;k--){const $=this.treeAdapter.getTagName(this.items[k]),D=this.treeAdapter.getNamespaceURI(this.items[k]);if($===w&&D===Ue.HTML)return!0;if(_e($,D))return!1}return!0}hasNumberedHeaderInScope(){for(let w=this.stackTop;w>=0;w--){const k=this.treeAdapter.getTagName(this.items[w]),$=this.treeAdapter.getNamespaceURI(this.items[w]);if((k===Ae.H1||k===Ae.H2||k===Ae.H3||k===Ae.H4||k===Ae.H5||k===Ae.H6)&&$===Ue.HTML)return!0;if(_e(k,$))return!1}return!0}hasInListItemScope(w){for(let k=this.stackTop;k>=0;k--){const $=this.treeAdapter.getTagName(this.items[k]),D=this.treeAdapter.getNamespaceURI(this.items[k]);if($===w&&D===Ue.HTML)return!0;if(($===Ae.UL||$===Ae.OL)&&D===Ue.HTML||_e($,D))return!1}return!0}hasInButtonScope(w){for(let k=this.stackTop;k>=0;k--){const $=this.treeAdapter.getTagName(this.items[k]),D=this.treeAdapter.getNamespaceURI(this.items[k]);if($===w&&D===Ue.HTML)return!0;if($===Ae.BUTTON&&D===Ue.HTML||_e($,D))return!1}return!0}hasInTableScope(w){for(let k=this.stackTop;k>=0;k--){const $=this.treeAdapter.getTagName(this.items[k]);if(this.treeAdapter.getNamespaceURI(this.items[k])===Ue.HTML){if($===w)return!0;if($===Ae.TABLE||$===Ae.TEMPLATE||$===Ae.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let w=this.stackTop;w>=0;w--){const k=this.treeAdapter.getTagName(this.items[w]);if(this.treeAdapter.getNamespaceURI(this.items[w])===Ue.HTML){if(k===Ae.TBODY||k===Ae.THEAD||k===Ae.TFOOT)return!0;if(k===Ae.TABLE||k===Ae.HTML)return!1}}return!0}hasInSelectScope(w){for(let k=this.stackTop;k>=0;k--){const $=this.treeAdapter.getTagName(this.items[k]);if(this.treeAdapter.getNamespaceURI(this.items[k])===Ue.HTML){if($===w)return!0;if($!==Ae.OPTION&&$!==Ae.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;He(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;ge(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(w){for(;He(this.currentTagName)&&this.currentTagName!==w;)this.pop()}}return Wu=z,Wu}var $u,kh;function zq(){if(kh)return $u;kh=1;const Oe=3;class Ae{constructor(He){this.length=0,this.entries=[],this.treeAdapter=He,this.bookmark=null}_getNoahArkConditionCandidates(He){const ge=[];if(this.length>=Oe){const _e=this.treeAdapter.getAttrList(He).length,z=this.treeAdapter.getTagName(He),ie=this.treeAdapter.getNamespaceURI(He);for(let w=this.length-1;w>=0;w--){const k=this.entries[w];if(k.type===Ae.MARKER_ENTRY)break;const $=k.element,D=this.treeAdapter.getAttrList($);this.treeAdapter.getTagName($)===z&&this.treeAdapter.getNamespaceURI($)===ie&&D.length===_e&&ge.push({idx:w,attrs:D})}}return ge.length<Oe?[]:ge}_ensureNoahArkCondition(He){const ge=this._getNoahArkConditionCandidates(He);let _e=ge.length;if(_e){const z=this.treeAdapter.getAttrList(He),ie=z.length,w=Object.create(null);for(let k=0;k<ie;k++){const $=z[k];w[$.name]=$.value}for(let k=0;k<ie;k++)for(let $=0;$<_e;$++){const D=ge[$].attrs[k];if(w[D.name]!==D.value&&(ge.splice($,1),_e--),ge.length<Oe)return}for(let k=_e-1;k>=Oe-1;k--)this.entries.splice(ge[k].idx,1),this.length--}}insertMarker(){this.entries.push({type:Ae.MARKER_ENTRY}),this.length++}pushElement(He,ge){this._ensureNoahArkCondition(He),this.entries.push({type:Ae.ELEMENT_ENTRY,element:He,token:ge}),this.length++}insertElementAfterBookmark(He,ge){let _e=this.length-1;for(;_e>=0&&this.entries[_e]!==this.bookmark;_e--);this.entries.splice(_e+1,0,{type:Ae.ELEMENT_ENTRY,element:He,token:ge}),this.length++}removeEntry(He){for(let ge=this.length-1;ge>=0;ge--)if(this.entries[ge]===He){this.entries.splice(ge,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const He=this.entries.pop();if(this.length--,He.type===Ae.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(He){for(let ge=this.length-1;ge>=0;ge--){const _e=this.entries[ge];if(_e.type===Ae.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(_e.element)===He)return _e}return null}getElementEntry(He){for(let ge=this.length-1;ge>=0;ge--){const _e=this.entries[ge];if(_e.type===Ae.ELEMENT_ENTRY&&_e.element===He)return _e}return null}}return Ae.MARKER_ENTRY="MARKER_ENTRY",Ae.ELEMENT_ENTRY="ELEMENT_ENTRY",$u=Ae,$u}var Gu,xh;function hs(){if(xh)return Gu;xh=1;class Oe{constructor(Ue){const He={},ge=this._getOverriddenMethods(this,He);for(const _e of Object.keys(ge))typeof ge[_e]=="function"&&(He[_e]=Ue[_e],Ue[_e]=ge[_e])}_getOverriddenMethods(){throw new Error("Not implemented")}}return Oe.install=function(Ae,Ue,He){Ae.__mixins||(Ae.__mixins=[]);for(let _e=0;_e<Ae.__mixins.length;_e++)if(Ae.__mixins[_e].constructor===Ue)return Ae.__mixins[_e];const ge=new Ue(Ae,He);return Ae.__mixins.push(ge),ge},Gu=Oe,Gu}var Ku,Ph;function xp(){if(Ph)return Ku;Ph=1;const Oe=hs();class Ae extends Oe{constructor(He){super(He),this.preprocessor=He,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(He,ge){return{advance(){const _e=this.pos+1,z=this.html[_e];return He.isEol&&(He.isEol=!1,He.line++,He.lineStartPos=_e),(z===`
`||z==="\r"&&this.html[_e+1]!==`
`)&&(He.isEol=!0),He.col=_e-He.lineStartPos+1,He.offset=He.droppedBufferSize+_e,ge.advance.call(this)},retreat(){ge.retreat.call(this),He.isEol=!1,He.col=this.pos-He.lineStartPos+1},dropParsedChunk(){const _e=this.pos;ge.dropParsedChunk.call(this);const z=_e-this.pos;He.lineStartPos-=z,He.droppedBufferSize+=z,He.offset=He.droppedBufferSize+this.pos}}}}return Ku=Ae,Ku}var Yu,Ah;function Pp(){if(Ah)return Yu;Ah=1;const Oe=hs(),Ae=Jl(),Ue=xp();class He extends Oe{constructor(_e){super(_e),this.tokenizer=_e,this.posTracker=Oe.install(_e.preprocessor,Ue),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const _e=this.tokenizer.currentToken,z=this.tokenizer.currentAttr;_e.location.attrs||(_e.location.attrs=Object.create(null)),_e.location.attrs[z.name]=this.currentAttrLocation}_getOverriddenMethods(_e,z){const ie={_createStartTagToken(){z._createStartTagToken.call(this),this.currentToken.location=_e.ctLoc},_createEndTagToken(){z._createEndTagToken.call(this),this.currentToken.location=_e.ctLoc},_createCommentToken(){z._createCommentToken.call(this),this.currentToken.location=_e.ctLoc},_createDoctypeToken(w){z._createDoctypeToken.call(this,w),this.currentToken.location=_e.ctLoc},_createCharacterToken(w,k){z._createCharacterToken.call(this,w,k),this.currentCharacterToken.location=_e.ctLoc},_createEOFToken(){z._createEOFToken.call(this),this.currentToken.location=_e._getCurrentLocation()},_createAttr(w){z._createAttr.call(this,w),_e.currentAttrLocation=_e._getCurrentLocation()},_leaveAttrName(w){z._leaveAttrName.call(this,w),_e._attachCurrentAttrLocationInfo()},_leaveAttrValue(w){z._leaveAttrValue.call(this,w),_e._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const w=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=w.startLine,this.currentCharacterToken.location.endCol=w.startCol,this.currentCharacterToken.location.endOffset=w.startOffset),this.currentToken.type===Ae.EOF_TOKEN?(w.endLine=w.startLine,w.endCol=w.startCol,w.endOffset=w.startOffset):(w.endLine=_e.posTracker.line,w.endCol=_e.posTracker.col+1,w.endOffset=_e.posTracker.offset+1),z._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const w=this.currentCharacterToken&&this.currentCharacterToken.location;w&&w.endOffset===-1&&(w.endLine=_e.posTracker.line,w.endCol=_e.posTracker.col,w.endOffset=_e.posTracker.offset),z._emitCurrentCharacterToken.call(this)}};return Object.keys(Ae.MODE).forEach(w=>{const k=Ae.MODE[w];ie[k]=function($){_e.ctLoc=_e._getCurrentLocation(),z[k].call(this,$)}}),ie}}return Yu=He,Yu}var Xu,Rh;function qq(){if(Rh)return Xu;Rh=1;const Oe=hs();class Ae extends Oe{constructor(He,ge){super(He),this.onItemPop=ge.onItemPop}_getOverriddenMethods(He,ge){return{pop(){He.onItemPop(this.current),ge.pop.call(this)},popAllUpToHtmlElement(){for(let _e=this.stackTop;_e>0;_e--)He.onItemPop(this.items[_e]);ge.popAllUpToHtmlElement.call(this)},remove(_e){He.onItemPop(this.current),ge.remove.call(this,_e)}}}}return Xu=Ae,Xu}var Ju,Dh;function Wq(){if(Dh)return Ju;Dh=1;const Oe=hs(),Ae=Jl(),Ue=Pp(),He=qq(),_e=Is().TAG_NAMES;class z extends Oe{constructor(w){super(w),this.parser=w,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(w){let k=null;this.lastStartTagToken&&(k=Object.assign({},this.lastStartTagToken.location),k.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(w,k)}_setEndLocation(w,k){if(this.treeAdapter.getNodeSourceCodeLocation(w)&&k.location){const D=k.location,q=this.treeAdapter.getTagName(w),l=k.type===Ae.END_TAG_TOKEN&&q===k.tagName,P={};l?(P.endTag=Object.assign({},D),P.endLine=D.endLine,P.endCol=D.endCol,P.endOffset=D.endOffset):(P.endLine=D.startLine,P.endCol=D.startCol,P.endOffset=D.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(w,P)}}_getOverriddenMethods(w,k){return{_bootstrap($,D){k._bootstrap.call(this,$,D),w.lastStartTagToken=null,w.lastFosterParentingLocation=null,w.currentToken=null;const q=Oe.install(this.tokenizer,Ue);w.posTracker=q.posTracker,Oe.install(this.openElements,He,{onItemPop:function(l){w._setEndLocation(l,w.currentToken)}})},_runParsingLoop($){k._runParsingLoop.call(this,$);for(let D=this.openElements.stackTop;D>=0;D--)w._setEndLocation(this.openElements.items[D],w.currentToken)},_processTokenInForeignContent($){w.currentToken=$,k._processTokenInForeignContent.call(this,$)},_processToken($){if(w.currentToken=$,k._processToken.call(this,$),$.type===Ae.END_TAG_TOKEN&&($.tagName===_e.HTML||$.tagName===_e.BODY&&this.openElements.hasInScope(_e.BODY)))for(let q=this.openElements.stackTop;q>=0;q--){const l=this.openElements.items[q];if(this.treeAdapter.getTagName(l)===$.tagName){w._setEndLocation(l,$);break}}},_setDocumentType($){k._setDocumentType.call(this,$);const D=this.treeAdapter.getChildNodes(this.document),q=D.length;for(let l=0;l<q;l++){const P=D[l];if(this.treeAdapter.isDocumentTypeNode(P)){this.treeAdapter.setNodeSourceCodeLocation(P,$.location);break}}},_attachElementToTree($){w._setStartLocation($),w.lastStartTagToken=null,k._attachElementToTree.call(this,$)},_appendElement($,D){w.lastStartTagToken=$,k._appendElement.call(this,$,D)},_insertElement($,D){w.lastStartTagToken=$,k._insertElement.call(this,$,D)},_insertTemplate($){w.lastStartTagToken=$,k._insertTemplate.call(this,$);const D=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(D,null)},_insertFakeRootElement(){k._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode($,D){k._appendCommentNode.call(this,$,D);const q=this.treeAdapter.getChildNodes(D),l=q[q.length-1];this.treeAdapter.setNodeSourceCodeLocation(l,$.location)},_findFosterParentingLocation(){return w.lastFosterParentingLocation=k._findFosterParentingLocation.call(this),w.lastFosterParentingLocation},_insertCharacters($){k._insertCharacters.call(this,$);const D=this._shouldFosterParentOnInsertion(),q=D&&w.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,l=this.treeAdapter.getChildNodes(q),P=D&&w.lastFosterParentingLocation.beforeElement?l.indexOf(w.lastFosterParentingLocation.beforeElement)-1:l.length-1,N=l[P];if(this.treeAdapter.getNodeSourceCodeLocation(N)){const{endLine:y,endCol:m,endOffset:g}=$.location;this.treeAdapter.updateNodeSourceCodeLocation(N,{endLine:y,endCol:m,endOffset:g})}else this.treeAdapter.setNodeSourceCodeLocation(N,$.location)}}}}return Ju=z,Ju}var Qu,Nh;function yf(){if(Nh)return Qu;Nh=1;const Oe=hs();class Ae extends Oe{constructor(He,ge){super(He),this.posTracker=null,this.onParseError=ge.onParseError}_setErrorLocation(He){He.startLine=He.endLine=this.posTracker.line,He.startCol=He.endCol=this.posTracker.col,He.startOffset=He.endOffset=this.posTracker.offset}_reportError(He){const ge={code:He,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(ge),this.onParseError(ge)}_getOverriddenMethods(He){return{_err(ge){He._reportError(ge)}}}}return Qu=Ae,Qu}var ef,Mh;function $q(){if(Mh)return ef;Mh=1;const Oe=yf(),Ae=xp(),Ue=hs();class He extends Oe{constructor(_e,z){super(_e,z),this.posTracker=Ue.install(_e,Ae),this.lastErrOffset=-1}_reportError(_e){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(_e))}}return ef=He,ef}var tf,jh;function Gq(){if(jh)return tf;jh=1;const Oe=yf(),Ae=$q(),Ue=hs();class He extends Oe{constructor(_e,z){super(_e,z);const ie=Ue.install(_e.preprocessor,Ae,z);this.posTracker=ie.posTracker}}return tf=He,tf}var nf,Lh;function Kq(){if(Lh)return nf;Lh=1;const Oe=yf(),Ae=Gq(),Ue=Pp(),He=hs();class ge extends Oe{constructor(z,ie){super(z,ie),this.opts=ie,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(z){this.ctLoc&&(z.startLine=this.ctLoc.startLine,z.startCol=this.ctLoc.startCol,z.startOffset=this.ctLoc.startOffset,z.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,z.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,z.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(z,ie){return{_bootstrap(w,k){ie._bootstrap.call(this,w,k),He.install(this.tokenizer,Ae,z.opts),He.install(this.tokenizer,Ue)},_processInputToken(w){z.ctLoc=w.location,ie._processInputToken.call(this,w)},_err(w,k){z.locBeforeToken=k&&k.beforeToken,z._reportError(w)}}}}return nf=ge,nf}var wr={},Ih;function Ap(){if(Ih)return wr;Ih=1;const{DOCUMENT_MODE:Oe}=Is();wr.createDocument=function(){return{nodeName:"#document",mode:Oe.NO_QUIRKS,childNodes:[]}},wr.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},wr.createElement=function(ge,_e,z){return{nodeName:ge,tagName:ge,attrs:z,namespaceURI:_e,childNodes:[],parentNode:null}},wr.createCommentNode=function(ge){return{nodeName:"#comment",data:ge,parentNode:null}};const Ae=function(ge){return{nodeName:"#text",value:ge,parentNode:null}},Ue=wr.appendChild=function(ge,_e){ge.childNodes.push(_e),_e.parentNode=ge},He=wr.insertBefore=function(ge,_e,z){const ie=ge.childNodes.indexOf(z);ge.childNodes.splice(ie,0,_e),_e.parentNode=ge};return wr.setTemplateContent=function(ge,_e){ge.content=_e},wr.getTemplateContent=function(ge){return ge.content},wr.setDocumentType=function(ge,_e,z,ie){let w=null;for(let k=0;k<ge.childNodes.length;k++)if(ge.childNodes[k].nodeName==="#documentType"){w=ge.childNodes[k];break}w?(w.name=_e,w.publicId=z,w.systemId=ie):Ue(ge,{nodeName:"#documentType",name:_e,publicId:z,systemId:ie})},wr.setDocumentMode=function(ge,_e){ge.mode=_e},wr.getDocumentMode=function(ge){return ge.mode},wr.detachNode=function(ge){if(ge.parentNode){const _e=ge.parentNode.childNodes.indexOf(ge);ge.parentNode.childNodes.splice(_e,1),ge.parentNode=null}},wr.insertText=function(ge,_e){if(ge.childNodes.length){const z=ge.childNodes[ge.childNodes.length-1];if(z.nodeName==="#text"){z.value+=_e;return}}Ue(ge,Ae(_e))},wr.insertTextBefore=function(ge,_e,z){const ie=ge.childNodes[ge.childNodes.indexOf(z)-1];ie&&ie.nodeName==="#text"?ie.value+=_e:He(ge,Ae(_e),z)},wr.adoptAttributes=function(ge,_e){const z=[];for(let ie=0;ie<ge.attrs.length;ie++)z.push(ge.attrs[ie].name);for(let ie=0;ie<_e.length;ie++)z.indexOf(_e[ie].name)===-1&&ge.attrs.push(_e[ie])},wr.getFirstChild=function(ge){return ge.childNodes[0]},wr.getChildNodes=function(ge){return ge.childNodes},wr.getParentNode=function(ge){return ge.parentNode},wr.getAttrList=function(ge){return ge.attrs},wr.getTagName=function(ge){return ge.tagName},wr.getNamespaceURI=function(ge){return ge.namespaceURI},wr.getTextNodeContent=function(ge){return ge.value},wr.getCommentNodeContent=function(ge){return ge.data},wr.getDocumentTypeNodeName=function(ge){return ge.name},wr.getDocumentTypeNodePublicId=function(ge){return ge.publicId},wr.getDocumentTypeNodeSystemId=function(ge){return ge.systemId},wr.isTextNode=function(ge){return ge.nodeName==="#text"},wr.isCommentNode=function(ge){return ge.nodeName==="#comment"},wr.isDocumentTypeNode=function(ge){return ge.nodeName==="#documentType"},wr.isElementNode=function(ge){return!!ge.tagName},wr.setNodeSourceCodeLocation=function(ge,_e){ge.sourceCodeLocation=_e},wr.getNodeSourceCodeLocation=function(ge){return ge.sourceCodeLocation},wr.updateNodeSourceCodeLocation=function(ge,_e){ge.sourceCodeLocation=Object.assign(ge.sourceCodeLocation,_e)},wr}var rf,Zh;function Rp(){return Zh||(Zh=1,rf=function(Ae,Ue){return Ue=Ue||Object.create(null),[Ae,Ue].reduce((He,ge)=>(Object.keys(ge).forEach(_e=>{He[_e]=ge[_e]}),He),Object.create(null))}),rf}var Jc={},Fh;function bf(){if(Fh)return Jc;Fh=1;const{DOCUMENT_MODE:Oe}=Is(),Ae="html",Ue="about:legacy-compat",He="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",ge=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],_e=ge.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),z=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],ie=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],w=ie.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function k(D){const q=D.indexOf('"')!==-1?"'":'"';return q+D+q}function $(D,q){for(let l=0;l<q.length;l++)if(D.indexOf(q[l])===0)return!0;return!1}return Jc.isConforming=function(D){return D.name===Ae&&D.publicId===null&&(D.systemId===null||D.systemId===Ue)},Jc.getDocumentMode=function(D){if(D.name!==Ae)return Oe.QUIRKS;const q=D.systemId;if(q&&q.toLowerCase()===He)return Oe.QUIRKS;let l=D.publicId;if(l!==null){if(l=l.toLowerCase(),z.indexOf(l)>-1)return Oe.QUIRKS;let P=q===null?_e:ge;if($(l,P))return Oe.QUIRKS;if(P=q===null?ie:w,$(l,P))return Oe.LIMITED_QUIRKS}return Oe.NO_QUIRKS},Jc.serializeContent=function(D,q,l){let P="!DOCTYPE ";return D&&(P+=D),q?P+=" PUBLIC "+k(q):l&&(P+=" SYSTEM"),l!==null&&(P+=" "+k(l)),P},Jc}var ls={},Bh;function Yq(){if(Bh)return ls;Bh=1;const Oe=Jl(),Ae=Is(),Ue=Ae.TAG_NAMES,He=Ae.NAMESPACES,ge=Ae.ATTRS,_e={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},z="definitionurl",ie="definitionURL",w={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},k={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:He.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:He.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:He.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:He.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:He.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:He.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:He.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:He.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:He.XML},"xml:space":{prefix:"xml",name:"space",namespace:He.XML},xmlns:{prefix:"",name:"xmlns",namespace:He.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:He.XMLNS}},$=ls.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},D={[Ue.B]:!0,[Ue.BIG]:!0,[Ue.BLOCKQUOTE]:!0,[Ue.BODY]:!0,[Ue.BR]:!0,[Ue.CENTER]:!0,[Ue.CODE]:!0,[Ue.DD]:!0,[Ue.DIV]:!0,[Ue.DL]:!0,[Ue.DT]:!0,[Ue.EM]:!0,[Ue.EMBED]:!0,[Ue.H1]:!0,[Ue.H2]:!0,[Ue.H3]:!0,[Ue.H4]:!0,[Ue.H5]:!0,[Ue.H6]:!0,[Ue.HEAD]:!0,[Ue.HR]:!0,[Ue.I]:!0,[Ue.IMG]:!0,[Ue.LI]:!0,[Ue.LISTING]:!0,[Ue.MENU]:!0,[Ue.META]:!0,[Ue.NOBR]:!0,[Ue.OL]:!0,[Ue.P]:!0,[Ue.PRE]:!0,[Ue.RUBY]:!0,[Ue.S]:!0,[Ue.SMALL]:!0,[Ue.SPAN]:!0,[Ue.STRONG]:!0,[Ue.STRIKE]:!0,[Ue.SUB]:!0,[Ue.SUP]:!0,[Ue.TABLE]:!0,[Ue.TT]:!0,[Ue.U]:!0,[Ue.UL]:!0,[Ue.VAR]:!0};ls.causesExit=function(P){const N=P.tagName;return N===Ue.FONT&&(Oe.getTokenAttr(P,ge.COLOR)!==null||Oe.getTokenAttr(P,ge.SIZE)!==null||Oe.getTokenAttr(P,ge.FACE)!==null)?!0:D[N]},ls.adjustTokenMathMLAttrs=function(P){for(let N=0;N<P.attrs.length;N++)if(P.attrs[N].name===z){P.attrs[N].name=ie;break}},ls.adjustTokenSVGAttrs=function(P){for(let N=0;N<P.attrs.length;N++){const C=w[P.attrs[N].name];C&&(P.attrs[N].name=C)}},ls.adjustTokenXMLAttrs=function(P){for(let N=0;N<P.attrs.length;N++){const C=k[P.attrs[N].name];C&&(P.attrs[N].prefix=C.prefix,P.attrs[N].name=C.name,P.attrs[N].namespace=C.namespace)}},ls.adjustTokenSVGTagName=function(P){const N=$[P.tagName];N&&(P.tagName=N)};function q(P,N){return N===He.MATHML&&(P===Ue.MI||P===Ue.MO||P===Ue.MN||P===Ue.MS||P===Ue.MTEXT)}function l(P,N,C){if(N===He.MATHML&&P===Ue.ANNOTATION_XML){for(let y=0;y<C.length;y++)if(C[y].name===ge.ENCODING){const m=C[y].value.toLowerCase();return m===_e.TEXT_HTML||m===_e.APPLICATION_XML}}return N===He.SVG&&(P===Ue.FOREIGN_OBJECT||P===Ue.DESC||P===Ue.TITLE)}return ls.isIntegrationPoint=function(P,N,C,y){return!!((!y||y===He.HTML)&&l(P,N,C)||(!y||y===He.MATHML)&&q(P,N))},ls}var of,Hh;function Xq(){if(Hh)return of;Hh=1;const Oe=Jl(),Ae=Uq(),Ue=zq(),He=Wq(),ge=Kq(),_e=hs(),z=Ap(),ie=Rp(),w=bf(),k=Yq(),$=vf(),D=mf(),q=Is(),l=q.TAG_NAMES,P=q.NAMESPACES,N=q.ATTRS,C={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:z},y="hidden",m=8,g=3,S="INITIAL_MODE",I="BEFORE_HTML_MODE",H="BEFORE_HEAD_MODE",X="IN_HEAD_MODE",Y="IN_HEAD_NO_SCRIPT_MODE",x="AFTER_HEAD_MODE",W="IN_BODY_MODE",oe="TEXT_MODE",se="IN_TABLE_MODE",Z="IN_TABLE_TEXT_MODE",B="IN_CAPTION_MODE",T="IN_COLUMN_GROUP_MODE",j="IN_TABLE_BODY_MODE",U="IN_ROW_MODE",E="IN_CELL_MODE",M="IN_SELECT_MODE",c="IN_SELECT_IN_TABLE_MODE",d="IN_TEMPLATE_MODE",s="AFTER_BODY_MODE",p="IN_FRAMESET_MODE",O="AFTER_FRAMESET_MODE",K="AFTER_AFTER_BODY_MODE",Q="AFTER_AFTER_FRAMESET_MODE",ne={[l.TR]:U,[l.TBODY]:j,[l.THEAD]:j,[l.TFOOT]:j,[l.CAPTION]:B,[l.COLGROUP]:T,[l.TABLE]:se,[l.BODY]:W,[l.FRAMESET]:p},R={[l.CAPTION]:se,[l.COLGROUP]:se,[l.TBODY]:se,[l.TFOOT]:se,[l.THEAD]:se,[l.COL]:T,[l.TR]:j,[l.TD]:U,[l.TH]:U},v={[S]:{[Oe.CHARACTER_TOKEN]:je,[Oe.NULL_CHARACTER_TOKEN]:je,[Oe.WHITESPACE_CHARACTER_TOKEN]:F,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:Me,[Oe.START_TAG_TOKEN]:je,[Oe.END_TAG_TOKEN]:je,[Oe.EOF_TOKEN]:je},[I]:{[Oe.CHARACTER_TOKEN]:re,[Oe.NULL_CHARACTER_TOKEN]:re,[Oe.WHITESPACE_CHARACTER_TOKEN]:F,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:ae,[Oe.END_TAG_TOKEN]:be,[Oe.EOF_TOKEN]:re},[H]:{[Oe.CHARACTER_TOKEN]:Fe,[Oe.NULL_CHARACTER_TOKEN]:Fe,[Oe.WHITESPACE_CHARACTER_TOKEN]:F,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:G,[Oe.START_TAG_TOKEN]:Te,[Oe.END_TAG_TOKEN]:Re,[Oe.EOF_TOKEN]:Fe},[X]:{[Oe.CHARACTER_TOKEN]:St,[Oe.NULL_CHARACTER_TOKEN]:St,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ne,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:G,[Oe.START_TAG_TOKEN]:it,[Oe.END_TAG_TOKEN]:lt,[Oe.EOF_TOKEN]:St},[Y]:{[Oe.CHARACTER_TOKEN]:Dt,[Oe.NULL_CHARACTER_TOKEN]:Dt,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ne,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:G,[Oe.START_TAG_TOKEN]:Ut,[Oe.END_TAG_TOKEN]:Xt,[Oe.EOF_TOKEN]:Dt},[x]:{[Oe.CHARACTER_TOKEN]:Ve,[Oe.NULL_CHARACTER_TOKEN]:Ve,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ne,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:G,[Oe.START_TAG_TOKEN]:ot,[Oe.END_TAG_TOKEN]:st,[Oe.EOF_TOKEN]:Ve},[W]:{[Oe.CHARACTER_TOKEN]:dt,[Oe.NULL_CHARACTER_TOKEN]:F,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ge,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:Tn,[Oe.END_TAG_TOKEN]:xt,[Oe.EOF_TOKEN]:Kt},[oe]:{[Oe.CHARACTER_TOKEN]:Ne,[Oe.NULL_CHARACTER_TOKEN]:Ne,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ne,[Oe.COMMENT_TOKEN]:F,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:F,[Oe.END_TAG_TOKEN]:Ht,[Oe.EOF_TOKEN]:kn},[se]:{[Oe.CHARACTER_TOKEN]:an,[Oe.NULL_CHARACTER_TOKEN]:an,[Oe.WHITESPACE_CHARACTER_TOKEN]:an,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:tr,[Oe.END_TAG_TOKEN]:Yn,[Oe.EOF_TOKEN]:Kt},[Z]:{[Oe.CHARACTER_TOKEN]:yt,[Oe.NULL_CHARACTER_TOKEN]:F,[Oe.WHITESPACE_CHARACTER_TOKEN]:ft,[Oe.COMMENT_TOKEN]:Ce,[Oe.DOCTYPE_TOKEN]:Ce,[Oe.START_TAG_TOKEN]:Ce,[Oe.END_TAG_TOKEN]:Ce,[Oe.EOF_TOKEN]:Ce},[B]:{[Oe.CHARACTER_TOKEN]:dt,[Oe.NULL_CHARACTER_TOKEN]:F,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ge,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:ce,[Oe.END_TAG_TOKEN]:he,[Oe.EOF_TOKEN]:Kt},[T]:{[Oe.CHARACTER_TOKEN]:Ie,[Oe.NULL_CHARACTER_TOKEN]:Ie,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ne,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:ee,[Oe.END_TAG_TOKEN]:we,[Oe.EOF_TOKEN]:Kt},[j]:{[Oe.CHARACTER_TOKEN]:an,[Oe.NULL_CHARACTER_TOKEN]:an,[Oe.WHITESPACE_CHARACTER_TOKEN]:an,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:qe,[Oe.END_TAG_TOKEN]:ht,[Oe.EOF_TOKEN]:Kt},[U]:{[Oe.CHARACTER_TOKEN]:an,[Oe.NULL_CHARACTER_TOKEN]:an,[Oe.WHITESPACE_CHARACTER_TOKEN]:an,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:bt,[Oe.END_TAG_TOKEN]:Pt,[Oe.EOF_TOKEN]:Kt},[E]:{[Oe.CHARACTER_TOKEN]:dt,[Oe.NULL_CHARACTER_TOKEN]:F,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ge,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:kt,[Oe.END_TAG_TOKEN]:Mt,[Oe.EOF_TOKEN]:Kt},[M]:{[Oe.CHARACTER_TOKEN]:Ne,[Oe.NULL_CHARACTER_TOKEN]:F,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ne,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:$t,[Oe.END_TAG_TOKEN]:Yt,[Oe.EOF_TOKEN]:Kt},[c]:{[Oe.CHARACTER_TOKEN]:Ne,[Oe.NULL_CHARACTER_TOKEN]:F,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ne,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:dn,[Oe.END_TAG_TOKEN]:Xe,[Oe.EOF_TOKEN]:Kt},[d]:{[Oe.CHARACTER_TOKEN]:dt,[Oe.NULL_CHARACTER_TOKEN]:F,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ge,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:tt,[Oe.END_TAG_TOKEN]:fe,[Oe.EOF_TOKEN]:me},[s]:{[Oe.CHARACTER_TOKEN]:Ye,[Oe.NULL_CHARACTER_TOKEN]:Ye,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ge,[Oe.COMMENT_TOKEN]:le,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:de,[Oe.END_TAG_TOKEN]:Ee,[Oe.EOF_TOKEN]:Ze},[p]:{[Oe.CHARACTER_TOKEN]:F,[Oe.NULL_CHARACTER_TOKEN]:F,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ne,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:Ot,[Oe.END_TAG_TOKEN]:Rt,[Oe.EOF_TOKEN]:Ze},[O]:{[Oe.CHARACTER_TOKEN]:F,[Oe.NULL_CHARACTER_TOKEN]:F,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ne,[Oe.COMMENT_TOKEN]:V,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:Vt,[Oe.END_TAG_TOKEN]:Ft,[Oe.EOF_TOKEN]:Ze},[K]:{[Oe.CHARACTER_TOKEN]:At,[Oe.NULL_CHARACTER_TOKEN]:At,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ge,[Oe.COMMENT_TOKEN]:ve,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:Zt,[Oe.END_TAG_TOKEN]:At,[Oe.EOF_TOKEN]:Ze},[Q]:{[Oe.CHARACTER_TOKEN]:F,[Oe.NULL_CHARACTER_TOKEN]:F,[Oe.WHITESPACE_CHARACTER_TOKEN]:Ge,[Oe.COMMENT_TOKEN]:ve,[Oe.DOCTYPE_TOKEN]:F,[Oe.START_TAG_TOKEN]:Lt,[Oe.END_TAG_TOKEN]:F,[Oe.EOF_TOKEN]:Ze}};class b{constructor(Pe){this.options=ie(C,Pe),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&_e.install(this,He),this.options.onParseError&&_e.install(this,ge,{onParseError:this.options.onParseError})}parse(Pe){const De=this.treeAdapter.createDocument();return this._bootstrap(De,null),this.tokenizer.write(Pe,!0),this._runParsingLoop(null),De}parseFragment(Pe,De){De||(De=this.treeAdapter.createElement(l.TEMPLATE,P.HTML,[]));const un=this.treeAdapter.createElement("documentmock",P.HTML,[]);this._bootstrap(un,De),this.treeAdapter.getTagName(De)===l.TEMPLATE&&this._pushTmplInsertionMode(d),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(Pe,!0),this._runParsingLoop(null);const An=this.treeAdapter.getFirstChild(un),$n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(An,$n),$n}_bootstrap(Pe,De){this.tokenizer=new Oe(this.options),this.stopped=!1,this.insertionMode=S,this.originalInsertionMode="",this.document=Pe,this.fragmentContext=De,this.headElement=null,this.formElement=null,this.openElements=new Ae(this.document,this.treeAdapter),this.activeFormattingElements=new Ue(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(Pe){for(;!this.stopped;){this._setupTokenizerCDATAMode();const De=this.tokenizer.getNextToken();if(De.type===Oe.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,De.type===Oe.WHITESPACE_CHARACTER_TOKEN&&De.chars[0]===`
`)){if(De.chars.length===1)continue;De.chars=De.chars.substr(1)}if(this._processInputToken(De),Pe&&this.pendingScript)break}}runParsingLoopForCurrentChunk(Pe,De){if(this._runParsingLoop(De),De&&this.pendingScript){const un=this.pendingScript;this.pendingScript=null,De(un);return}Pe&&Pe()}_setupTokenizerCDATAMode(){const Pe=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=Pe&&Pe!==this.document&&this.treeAdapter.getNamespaceURI(Pe)!==P.HTML&&!this._isIntegrationPoint(Pe)}_switchToTextParsing(Pe,De){this._insertElement(Pe,P.HTML),this.tokenizer.state=De,this.originalInsertionMode=this.insertionMode,this.insertionMode=oe}switchToPlaintextParsing(){this.insertionMode=oe,this.originalInsertionMode=W,this.tokenizer.state=Oe.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let Pe=this.fragmentContext;do{if(this.treeAdapter.getTagName(Pe)===l.FORM){this.formElement=Pe;break}Pe=this.treeAdapter.getParentNode(Pe)}while(Pe)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===P.HTML){const Pe=this.treeAdapter.getTagName(this.fragmentContext);Pe===l.TITLE||Pe===l.TEXTAREA?this.tokenizer.state=Oe.MODE.RCDATA:Pe===l.STYLE||Pe===l.XMP||Pe===l.IFRAME||Pe===l.NOEMBED||Pe===l.NOFRAMES||Pe===l.NOSCRIPT?this.tokenizer.state=Oe.MODE.RAWTEXT:Pe===l.SCRIPT?this.tokenizer.state=Oe.MODE.SCRIPT_DATA:Pe===l.PLAINTEXT&&(this.tokenizer.state=Oe.MODE.PLAINTEXT)}}_setDocumentType(Pe){const De=Pe.name||"",un=Pe.publicId||"",An=Pe.systemId||"";this.treeAdapter.setDocumentType(this.document,De,un,An)}_attachElementToTree(Pe){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(Pe);else{const De=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(De,Pe)}}_appendElement(Pe,De){const un=this.treeAdapter.createElement(Pe.tagName,De,Pe.attrs);this._attachElementToTree(un)}_insertElement(Pe,De){const un=this.treeAdapter.createElement(Pe.tagName,De,Pe.attrs);this._attachElementToTree(un),this.openElements.push(un)}_insertFakeElement(Pe){const De=this.treeAdapter.createElement(Pe,P.HTML,[]);this._attachElementToTree(De),this.openElements.push(De)}_insertTemplate(Pe){const De=this.treeAdapter.createElement(Pe.tagName,P.HTML,Pe.attrs),un=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(De,un),this._attachElementToTree(De),this.openElements.push(De)}_insertFakeRootElement(){const Pe=this.treeAdapter.createElement(l.HTML,P.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,Pe),this.openElements.push(Pe)}_appendCommentNode(Pe,De){const un=this.treeAdapter.createCommentNode(Pe.data);this.treeAdapter.appendChild(De,un)}_insertCharacters(Pe){if(this._shouldFosterParentOnInsertion())this._fosterParentText(Pe.chars);else{const De=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(De,Pe.chars)}}_adoptNodes(Pe,De){for(let un=this.treeAdapter.getFirstChild(Pe);un;un=this.treeAdapter.getFirstChild(Pe))this.treeAdapter.detachNode(un),this.treeAdapter.appendChild(De,un)}_shouldProcessTokenInForeignContent(Pe){const De=this._getAdjustedCurrentElement();if(!De||De===this.document)return!1;const un=this.treeAdapter.getNamespaceURI(De);if(un===P.HTML||this.treeAdapter.getTagName(De)===l.ANNOTATION_XML&&un===P.MATHML&&Pe.type===Oe.START_TAG_TOKEN&&Pe.tagName===l.SVG)return!1;const An=Pe.type===Oe.CHARACTER_TOKEN||Pe.type===Oe.NULL_CHARACTER_TOKEN||Pe.type===Oe.WHITESPACE_CHARACTER_TOKEN;return(Pe.type===Oe.START_TAG_TOKEN&&Pe.tagName!==l.MGLYPH&&Pe.tagName!==l.MALIGNMARK||An)&&this._isIntegrationPoint(De,P.MATHML)||(Pe.type===Oe.START_TAG_TOKEN||An)&&this._isIntegrationPoint(De,P.HTML)?!1:Pe.type!==Oe.EOF_TOKEN}_processToken(Pe){v[this.insertionMode][Pe.type](this,Pe)}_processTokenInBodyMode(Pe){v[W][Pe.type](this,Pe)}_processTokenInForeignContent(Pe){Pe.type===Oe.CHARACTER_TOKEN?vn(this,Pe):Pe.type===Oe.NULL_CHARACTER_TOKEN?Gt(this,Pe):Pe.type===Oe.WHITESPACE_CHARACTER_TOKEN?Ne(this,Pe):Pe.type===Oe.COMMENT_TOKEN?V(this,Pe):Pe.type===Oe.START_TAG_TOKEN?En(this,Pe):Pe.type===Oe.END_TAG_TOKEN&&Jn(this,Pe)}_processInputToken(Pe){this._shouldProcessTokenInForeignContent(Pe)?this._processTokenInForeignContent(Pe):this._processToken(Pe),Pe.type===Oe.START_TAG_TOKEN&&Pe.selfClosing&&!Pe.ackSelfClosing&&this._err($.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(Pe,De){const un=this.treeAdapter.getTagName(Pe),An=this.treeAdapter.getNamespaceURI(Pe),$n=this.treeAdapter.getAttrList(Pe);return k.isIntegrationPoint(un,An,$n,De)}_reconstructActiveFormattingElements(){const Pe=this.activeFormattingElements.length;if(Pe){let De=Pe,un=null;do if(De--,un=this.activeFormattingElements.entries[De],un.type===Ue.MARKER_ENTRY||this.openElements.contains(un.element)){De++;break}while(De>0);for(let An=De;An<Pe;An++)un=this.activeFormattingElements.entries[An],this._insertElement(un.token,this.treeAdapter.getNamespaceURI(un.element)),un.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=U}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(l.P),this.openElements.popUntilTagNamePopped(l.P)}_resetInsertionMode(){for(let Pe=this.openElements.stackTop,De=!1;Pe>=0;Pe--){let un=this.openElements.items[Pe];Pe===0&&(De=!0,this.fragmentContext&&(un=this.fragmentContext));const An=this.treeAdapter.getTagName(un),$n=ne[An];if($n){this.insertionMode=$n;break}else if(!De&&(An===l.TD||An===l.TH)){this.insertionMode=E;break}else if(!De&&An===l.HEAD){this.insertionMode=X;break}else if(An===l.SELECT){this._resetInsertionModeForSelect(Pe);break}else if(An===l.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}else if(An===l.HTML){this.insertionMode=this.headElement?x:H;break}else if(De){this.insertionMode=W;break}}}_resetInsertionModeForSelect(Pe){if(Pe>0)for(let De=Pe-1;De>0;De--){const un=this.openElements.items[De],An=this.treeAdapter.getTagName(un);if(An===l.TEMPLATE)break;if(An===l.TABLE){this.insertionMode=c;return}}this.insertionMode=M}_pushTmplInsertionMode(Pe){this.tmplInsertionModeStack.push(Pe),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=Pe}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(Pe){const De=this.treeAdapter.getTagName(Pe);return De===l.TABLE||De===l.TBODY||De===l.TFOOT||De===l.THEAD||De===l.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const Pe={parent:null,beforeElement:null};for(let De=this.openElements.stackTop;De>=0;De--){const un=this.openElements.items[De],An=this.treeAdapter.getTagName(un),$n=this.treeAdapter.getNamespaceURI(un);if(An===l.TEMPLATE&&$n===P.HTML){Pe.parent=this.treeAdapter.getTemplateContent(un);break}else if(An===l.TABLE){Pe.parent=this.treeAdapter.getParentNode(un),Pe.parent?Pe.beforeElement=un:Pe.parent=this.openElements.items[De-1];break}}return Pe.parent||(Pe.parent=this.openElements.items[0]),Pe}_fosterParentElement(Pe){const De=this._findFosterParentingLocation();De.beforeElement?this.treeAdapter.insertBefore(De.parent,Pe,De.beforeElement):this.treeAdapter.appendChild(De.parent,Pe)}_fosterParentText(Pe){const De=this._findFosterParentingLocation();De.beforeElement?this.treeAdapter.insertTextBefore(De.parent,Pe,De.beforeElement):this.treeAdapter.insertText(De.parent,Pe)}_isSpecialElement(Pe){const De=this.treeAdapter.getTagName(Pe),un=this.treeAdapter.getNamespaceURI(Pe);return q.SPECIAL_ELEMENTS[un][De]}}of=b;function a(ye,Pe){let De=ye.activeFormattingElements.getElementEntryInScopeWithTagName(Pe.tagName);return De?ye.openElements.contains(De.element)?ye.openElements.hasInScope(Pe.tagName)||(De=null):(ye.activeFormattingElements.removeEntry(De),De=null):ut(ye,Pe),De}function f(ye,Pe){let De=null;for(let un=ye.openElements.stackTop;un>=0;un--){const An=ye.openElements.items[un];if(An===Pe.element)break;ye._isSpecialElement(An)&&(De=An)}return De||(ye.openElements.popUntilElementPopped(Pe.element),ye.activeFormattingElements.removeEntry(Pe)),De}function h(ye,Pe,De){let un=Pe,An=ye.openElements.getCommonAncestor(Pe);for(let $n=0,er=An;er!==De;$n++,er=An){An=ye.openElements.getCommonAncestor(er);const Br=ye.activeFormattingElements.getElementEntry(er),Nr=Br&&$n>=g;!Br||Nr?(Nr&&ye.activeFormattingElements.removeEntry(Br),ye.openElements.remove(er)):(er=_(ye,Br),un===Pe&&(ye.activeFormattingElements.bookmark=Br),ye.treeAdapter.detachNode(un),ye.treeAdapter.appendChild(er,un),un=er)}return un}function _(ye,Pe){const De=ye.treeAdapter.getNamespaceURI(Pe.element),un=ye.treeAdapter.createElement(Pe.token.tagName,De,Pe.token.attrs);return ye.openElements.replace(Pe.element,un),Pe.element=un,un}function A(ye,Pe,De){if(ye._isElementCausesFosterParenting(Pe))ye._fosterParentElement(De);else{const un=ye.treeAdapter.getTagName(Pe),An=ye.treeAdapter.getNamespaceURI(Pe);un===l.TEMPLATE&&An===P.HTML&&(Pe=ye.treeAdapter.getTemplateContent(Pe)),ye.treeAdapter.appendChild(Pe,De)}}function J(ye,Pe,De){const un=ye.treeAdapter.getNamespaceURI(De.element),An=De.token,$n=ye.treeAdapter.createElement(An.tagName,un,An.attrs);ye._adoptNodes(Pe,$n),ye.treeAdapter.appendChild(Pe,$n),ye.activeFormattingElements.insertElementAfterBookmark($n,De.token),ye.activeFormattingElements.removeEntry(De),ye.openElements.remove(De.element),ye.openElements.insertAfter(Pe,$n)}function te(ye,Pe){let De;for(let un=0;un<m&&(De=a(ye,Pe),!!De);un++){const An=f(ye,De);if(!An)break;ye.activeFormattingElements.bookmark=De;const $n=h(ye,An,De.element),er=ye.openElements.getCommonAncestor(De.element);ye.treeAdapter.detachNode($n),A(ye,er,$n),J(ye,An,De)}}function F(){}function G(ye){ye._err($.misplacedDoctype)}function V(ye,Pe){ye._appendCommentNode(Pe,ye.openElements.currentTmplContent||ye.openElements.current)}function le(ye,Pe){ye._appendCommentNode(Pe,ye.openElements.items[0])}function ve(ye,Pe){ye._appendCommentNode(Pe,ye.document)}function Ne(ye,Pe){ye._insertCharacters(Pe)}function Ze(ye){ye.stopped=!0}function Me(ye,Pe){ye._setDocumentType(Pe);const De=Pe.forceQuirks?q.DOCUMENT_MODE.QUIRKS:w.getDocumentMode(Pe);w.isConforming(Pe)||ye._err($.nonConformingDoctype),ye.treeAdapter.setDocumentMode(ye.document,De),ye.insertionMode=I}function je(ye,Pe){ye._err($.missingDoctype,{beforeToken:!0}),ye.treeAdapter.setDocumentMode(ye.document,q.DOCUMENT_MODE.QUIRKS),ye.insertionMode=I,ye._processToken(Pe)}function ae(ye,Pe){Pe.tagName===l.HTML?(ye._insertElement(Pe,P.HTML),ye.insertionMode=H):re(ye,Pe)}function be(ye,Pe){const De=Pe.tagName;(De===l.HTML||De===l.HEAD||De===l.BODY||De===l.BR)&&re(ye,Pe)}function re(ye,Pe){ye._insertFakeRootElement(),ye.insertionMode=H,ye._processToken(Pe)}function Te(ye,Pe){const De=Pe.tagName;De===l.HTML?Tn(ye,Pe):De===l.HEAD?(ye._insertElement(Pe,P.HTML),ye.headElement=ye.openElements.current,ye.insertionMode=X):Fe(ye,Pe)}function Re(ye,Pe){const De=Pe.tagName;De===l.HEAD||De===l.BODY||De===l.HTML||De===l.BR?Fe(ye,Pe):ye._err($.endTagWithoutMatchingOpenElement)}function Fe(ye,Pe){ye._insertFakeElement(l.HEAD),ye.headElement=ye.openElements.current,ye.insertionMode=X,ye._processToken(Pe)}function it(ye,Pe){const De=Pe.tagName;De===l.HTML?Tn(ye,Pe):De===l.BASE||De===l.BASEFONT||De===l.BGSOUND||De===l.LINK||De===l.META?(ye._appendElement(Pe,P.HTML),Pe.ackSelfClosing=!0):De===l.TITLE?ye._switchToTextParsing(Pe,Oe.MODE.RCDATA):De===l.NOSCRIPT?ye.options.scriptingEnabled?ye._switchToTextParsing(Pe,Oe.MODE.RAWTEXT):(ye._insertElement(Pe,P.HTML),ye.insertionMode=Y):De===l.NOFRAMES||De===l.STYLE?ye._switchToTextParsing(Pe,Oe.MODE.RAWTEXT):De===l.SCRIPT?ye._switchToTextParsing(Pe,Oe.MODE.SCRIPT_DATA):De===l.TEMPLATE?(ye._insertTemplate(Pe,P.HTML),ye.activeFormattingElements.insertMarker(),ye.framesetOk=!1,ye.insertionMode=d,ye._pushTmplInsertionMode(d)):De===l.HEAD?ye._err($.misplacedStartTagForHeadElement):St(ye,Pe)}function lt(ye,Pe){const De=Pe.tagName;De===l.HEAD?(ye.openElements.pop(),ye.insertionMode=x):De===l.BODY||De===l.BR||De===l.HTML?St(ye,Pe):De===l.TEMPLATE&&ye.openElements.tmplCount>0?(ye.openElements.generateImpliedEndTagsThoroughly(),ye.openElements.currentTagName!==l.TEMPLATE&&ye._err($.closingOfElementWithOpenChildElements),ye.openElements.popUntilTagNamePopped(l.TEMPLATE),ye.activeFormattingElements.clearToLastMarker(),ye._popTmplInsertionMode(),ye._resetInsertionMode()):ye._err($.endTagWithoutMatchingOpenElement)}function St(ye,Pe){ye.openElements.pop(),ye.insertionMode=x,ye._processToken(Pe)}function Ut(ye,Pe){const De=Pe.tagName;De===l.HTML?Tn(ye,Pe):De===l.BASEFONT||De===l.BGSOUND||De===l.HEAD||De===l.LINK||De===l.META||De===l.NOFRAMES||De===l.STYLE?it(ye,Pe):De===l.NOSCRIPT?ye._err($.nestedNoscriptInHead):Dt(ye,Pe)}function Xt(ye,Pe){const De=Pe.tagName;De===l.NOSCRIPT?(ye.openElements.pop(),ye.insertionMode=X):De===l.BR?Dt(ye,Pe):ye._err($.endTagWithoutMatchingOpenElement)}function Dt(ye,Pe){const De=Pe.type===Oe.EOF_TOKEN?$.openElementsLeftAfterEof:$.disallowedContentInNoscriptInHead;ye._err(De),ye.openElements.pop(),ye.insertionMode=X,ye._processToken(Pe)}function ot(ye,Pe){const De=Pe.tagName;De===l.HTML?Tn(ye,Pe):De===l.BODY?(ye._insertElement(Pe,P.HTML),ye.framesetOk=!1,ye.insertionMode=W):De===l.FRAMESET?(ye._insertElement(Pe,P.HTML),ye.insertionMode=p):De===l.BASE||De===l.BASEFONT||De===l.BGSOUND||De===l.LINK||De===l.META||De===l.NOFRAMES||De===l.SCRIPT||De===l.STYLE||De===l.TEMPLATE||De===l.TITLE?(ye._err($.abandonedHeadElementChild),ye.openElements.push(ye.headElement),it(ye,Pe),ye.openElements.remove(ye.headElement)):De===l.HEAD?ye._err($.misplacedStartTagForHeadElement):Ve(ye,Pe)}function st(ye,Pe){const De=Pe.tagName;De===l.BODY||De===l.HTML||De===l.BR?Ve(ye,Pe):De===l.TEMPLATE?lt(ye,Pe):ye._err($.endTagWithoutMatchingOpenElement)}function Ve(ye,Pe){ye._insertFakeElement(l.BODY),ye.insertionMode=W,ye._processToken(Pe)}function Ge(ye,Pe){ye._reconstructActiveFormattingElements(),ye._insertCharacters(Pe)}function dt(ye,Pe){ye._reconstructActiveFormattingElements(),ye._insertCharacters(Pe),ye.framesetOk=!1}function We(ye,Pe){ye.openElements.tmplCount===0&&ye.treeAdapter.adoptAttributes(ye.openElements.items[0],Pe.attrs)}function mt(ye,Pe){const De=ye.openElements.tryPeekProperlyNestedBodyElement();De&&ye.openElements.tmplCount===0&&(ye.framesetOk=!1,ye.treeAdapter.adoptAttributes(De,Pe.attrs))}function Ke(ye,Pe){const De=ye.openElements.tryPeekProperlyNestedBodyElement();ye.framesetOk&&De&&(ye.treeAdapter.detachNode(De),ye.openElements.popAllUpToHtmlElement(),ye._insertElement(Pe,P.HTML),ye.insertionMode=p)}function gt(ye,Pe){ye.openElements.hasInButtonScope(l.P)&&ye._closePElement(),ye._insertElement(Pe,P.HTML)}function vt(ye,Pe){ye.openElements.hasInButtonScope(l.P)&&ye._closePElement();const De=ye.openElements.currentTagName;(De===l.H1||De===l.H2||De===l.H3||De===l.H4||De===l.H5||De===l.H6)&&ye.openElements.pop(),ye._insertElement(Pe,P.HTML)}function Ct(ye,Pe){ye.openElements.hasInButtonScope(l.P)&&ye._closePElement(),ye._insertElement(Pe,P.HTML),ye.skipNextNewLine=!0,ye.framesetOk=!1}function It(ye,Pe){const De=ye.openElements.tmplCount>0;(!ye.formElement||De)&&(ye.openElements.hasInButtonScope(l.P)&&ye._closePElement(),ye._insertElement(Pe,P.HTML),De||(ye.formElement=ye.openElements.current))}function Nt(ye,Pe){ye.framesetOk=!1;const De=Pe.tagName;for(let un=ye.openElements.stackTop;un>=0;un--){const An=ye.openElements.items[un],$n=ye.treeAdapter.getTagName(An);let er=null;if(De===l.LI&&$n===l.LI?er=l.LI:(De===l.DD||De===l.DT)&&($n===l.DD||$n===l.DT)&&(er=$n),er){ye.openElements.generateImpliedEndTagsWithExclusion(er),ye.openElements.popUntilTagNamePopped(er);break}if($n!==l.ADDRESS&&$n!==l.DIV&&$n!==l.P&&ye._isSpecialElement(An))break}ye.openElements.hasInButtonScope(l.P)&&ye._closePElement(),ye._insertElement(Pe,P.HTML)}function sn(ye,Pe){ye.openElements.hasInButtonScope(l.P)&&ye._closePElement(),ye._insertElement(Pe,P.HTML),ye.tokenizer.state=Oe.MODE.PLAINTEXT}function mn(ye,Pe){ye.openElements.hasInScope(l.BUTTON)&&(ye.openElements.generateImpliedEndTags(),ye.openElements.popUntilTagNamePopped(l.BUTTON)),ye._reconstructActiveFormattingElements(),ye._insertElement(Pe,P.HTML),ye.framesetOk=!1}function hn(ye,Pe){const De=ye.activeFormattingElements.getElementEntryInScopeWithTagName(l.A);De&&(te(ye,Pe),ye.openElements.remove(De.element),ye.activeFormattingElements.removeEntry(De)),ye._reconstructActiveFormattingElements(),ye._insertElement(Pe,P.HTML),ye.activeFormattingElements.pushElement(ye.openElements.current,Pe)}function fn(ye,Pe){ye._reconstructActiveFormattingElements(),ye._insertElement(Pe,P.HTML),ye.activeFormattingElements.pushElement(ye.openElements.current,Pe)}function pn(ye,Pe){ye._reconstructActiveFormattingElements(),ye.openElements.hasInScope(l.NOBR)&&(te(ye,Pe),ye._reconstructActiveFormattingElements()),ye._insertElement(Pe,P.HTML),ye.activeFormattingElements.pushElement(ye.openElements.current,Pe)}function Qt(ye,Pe){ye._reconstructActiveFormattingElements(),ye._insertElement(Pe,P.HTML),ye.activeFormattingElements.insertMarker(),ye.framesetOk=!1}function rn(ye,Pe){ye.treeAdapter.getDocumentMode(ye.document)!==q.DOCUMENT_MODE.QUIRKS&&ye.openElements.hasInButtonScope(l.P)&&ye._closePElement(),ye._insertElement(Pe,P.HTML),ye.framesetOk=!1,ye.insertionMode=se}function nn(ye,Pe){ye._reconstructActiveFormattingElements(),ye._appendElement(Pe,P.HTML),ye.framesetOk=!1,Pe.ackSelfClosing=!0}function wn(ye,Pe){ye._reconstructActiveFormattingElements(),ye._appendElement(Pe,P.HTML);const De=Oe.getTokenAttr(Pe,N.TYPE);(!De||De.toLowerCase()!==y)&&(ye.framesetOk=!1),Pe.ackSelfClosing=!0}function Bn(ye,Pe){ye._appendElement(Pe,P.HTML),Pe.ackSelfClosing=!0}function Hn(ye,Pe){ye.openElements.hasInButtonScope(l.P)&&ye._closePElement(),ye._appendElement(Pe,P.HTML),ye.framesetOk=!1,Pe.ackSelfClosing=!0}function Zn(ye,Pe){Pe.tagName=l.IMG,nn(ye,Pe)}function Fn(ye,Pe){ye._insertElement(Pe,P.HTML),ye.skipNextNewLine=!0,ye.tokenizer.state=Oe.MODE.RCDATA,ye.originalInsertionMode=ye.insertionMode,ye.framesetOk=!1,ye.insertionMode=oe}function xn(ye,Pe){ye.openElements.hasInButtonScope(l.P)&&ye._closePElement(),ye._reconstructActiveFormattingElements(),ye.framesetOk=!1,ye._switchToTextParsing(Pe,Oe.MODE.RAWTEXT)}function Nn(ye,Pe){ye.framesetOk=!1,ye._switchToTextParsing(Pe,Oe.MODE.RAWTEXT)}function Vn(ye,Pe){ye._switchToTextParsing(Pe,Oe.MODE.RAWTEXT)}function Sn(ye,Pe){ye._reconstructActiveFormattingElements(),ye._insertElement(Pe,P.HTML),ye.framesetOk=!1,ye.insertionMode===se||ye.insertionMode===B||ye.insertionMode===j||ye.insertionMode===U||ye.insertionMode===E?ye.insertionMode=c:ye.insertionMode=M}function ln(ye,Pe){ye.openElements.currentTagName===l.OPTION&&ye.openElements.pop(),ye._reconstructActiveFormattingElements(),ye._insertElement(Pe,P.HTML)}function ze(ye,Pe){ye.openElements.hasInScope(l.RUBY)&&ye.openElements.generateImpliedEndTags(),ye._insertElement(Pe,P.HTML)}function bn(ye,Pe){ye.openElements.hasInScope(l.RUBY)&&ye.openElements.generateImpliedEndTagsWithExclusion(l.RTC),ye._insertElement(Pe,P.HTML)}function zn(ye,Pe){ye.openElements.hasInButtonScope(l.P)&&ye._closePElement(),ye._insertElement(Pe,P.HTML)}function In(ye,Pe){ye._reconstructActiveFormattingElements(),k.adjustTokenMathMLAttrs(Pe),k.adjustTokenXMLAttrs(Pe),Pe.selfClosing?ye._appendElement(Pe,P.MATHML):ye._insertElement(Pe,P.MATHML),Pe.ackSelfClosing=!0}function Mn(ye,Pe){ye._reconstructActiveFormattingElements(),k.adjustTokenSVGAttrs(Pe),k.adjustTokenXMLAttrs(Pe),Pe.selfClosing?ye._appendElement(Pe,P.SVG):ye._insertElement(Pe,P.SVG),Pe.ackSelfClosing=!0}function cn(ye,Pe){ye._reconstructActiveFormattingElements(),ye._insertElement(Pe,P.HTML)}function Tn(ye,Pe){const De=Pe.tagName;switch(De.length){case 1:De===l.I||De===l.S||De===l.B||De===l.U?fn(ye,Pe):De===l.P?gt(ye,Pe):De===l.A?hn(ye,Pe):cn(ye,Pe);break;case 2:De===l.DL||De===l.OL||De===l.UL?gt(ye,Pe):De===l.H1||De===l.H2||De===l.H3||De===l.H4||De===l.H5||De===l.H6?vt(ye,Pe):De===l.LI||De===l.DD||De===l.DT?Nt(ye,Pe):De===l.EM||De===l.TT?fn(ye,Pe):De===l.BR?nn(ye,Pe):De===l.HR?Hn(ye,Pe):De===l.RB?ze(ye,Pe):De===l.RT||De===l.RP?bn(ye,Pe):De!==l.TH&&De!==l.TD&&De!==l.TR&&cn(ye,Pe);break;case 3:De===l.DIV||De===l.DIR||De===l.NAV?gt(ye,Pe):De===l.PRE?Ct(ye,Pe):De===l.BIG?fn(ye,Pe):De===l.IMG||De===l.WBR?nn(ye,Pe):De===l.XMP?xn(ye,Pe):De===l.SVG?Mn(ye,Pe):De===l.RTC?ze(ye,Pe):De!==l.COL&&cn(ye,Pe);break;case 4:De===l.HTML?We(ye,Pe):De===l.BASE||De===l.LINK||De===l.META?it(ye,Pe):De===l.BODY?mt(ye,Pe):De===l.MAIN||De===l.MENU?gt(ye,Pe):De===l.FORM?It(ye,Pe):De===l.CODE||De===l.FONT?fn(ye,Pe):De===l.NOBR?pn(ye,Pe):De===l.AREA?nn(ye,Pe):De===l.MATH?In(ye,Pe):De===l.MENU?zn(ye,Pe):De!==l.HEAD&&cn(ye,Pe);break;case 5:De===l.STYLE||De===l.TITLE?it(ye,Pe):De===l.ASIDE?gt(ye,Pe):De===l.SMALL?fn(ye,Pe):De===l.TABLE?rn(ye,Pe):De===l.EMBED?nn(ye,Pe):De===l.INPUT?wn(ye,Pe):De===l.PARAM||De===l.TRACK?Bn(ye,Pe):De===l.IMAGE?Zn(ye,Pe):De!==l.FRAME&&De!==l.TBODY&&De!==l.TFOOT&&De!==l.THEAD&&cn(ye,Pe);break;case 6:De===l.SCRIPT?it(ye,Pe):De===l.CENTER||De===l.FIGURE||De===l.FOOTER||De===l.HEADER||De===l.HGROUP||De===l.DIALOG?gt(ye,Pe):De===l.BUTTON?mn(ye,Pe):De===l.STRIKE||De===l.STRONG?fn(ye,Pe):De===l.APPLET||De===l.OBJECT?Qt(ye,Pe):De===l.KEYGEN?nn(ye,Pe):De===l.SOURCE?Bn(ye,Pe):De===l.IFRAME?Nn(ye,Pe):De===l.SELECT?Sn(ye,Pe):De===l.OPTION?ln(ye,Pe):cn(ye,Pe);break;case 7:De===l.BGSOUND?it(ye,Pe):De===l.DETAILS||De===l.ADDRESS||De===l.ARTICLE||De===l.SECTION||De===l.SUMMARY?gt(ye,Pe):De===l.LISTING?Ct(ye,Pe):De===l.MARQUEE?Qt(ye,Pe):De===l.NOEMBED?Vn(ye,Pe):De!==l.CAPTION&&cn(ye,Pe);break;case 8:De===l.BASEFONT?it(ye,Pe):De===l.FRAMESET?Ke(ye,Pe):De===l.FIELDSET?gt(ye,Pe):De===l.TEXTAREA?Fn(ye,Pe):De===l.TEMPLATE?it(ye,Pe):De===l.NOSCRIPT?ye.options.scriptingEnabled?Vn(ye,Pe):cn(ye,Pe):De===l.OPTGROUP?ln(ye,Pe):De!==l.COLGROUP&&cn(ye,Pe);break;case 9:De===l.PLAINTEXT?sn(ye,Pe):cn(ye,Pe);break;case 10:De===l.BLOCKQUOTE||De===l.FIGCAPTION?gt(ye,Pe):cn(ye,Pe);break;default:cn(ye,Pe)}}function gn(ye){ye.openElements.hasInScope(l.BODY)&&(ye.insertionMode=s)}function jn(ye,Pe){ye.openElements.hasInScope(l.BODY)&&(ye.insertionMode=s,ye._processToken(Pe))}function On(ye,Pe){const De=Pe.tagName;ye.openElements.hasInScope(De)&&(ye.openElements.generateImpliedEndTags(),ye.openElements.popUntilTagNamePopped(De))}function yn(ye){const Pe=ye.openElements.tmplCount>0,De=ye.formElement;Pe||(ye.formElement=null),(De||Pe)&&ye.openElements.hasInScope(l.FORM)&&(ye.openElements.generateImpliedEndTags(),Pe?ye.openElements.popUntilTagNamePopped(l.FORM):ye.openElements.remove(De))}function Rn(ye){ye.openElements.hasInButtonScope(l.P)||ye._insertFakeElement(l.P),ye._closePElement()}function Dn(ye){ye.openElements.hasInListItemScope(l.LI)&&(ye.openElements.generateImpliedEndTagsWithExclusion(l.LI),ye.openElements.popUntilTagNamePopped(l.LI))}function en(ye,Pe){const De=Pe.tagName;ye.openElements.hasInScope(De)&&(ye.openElements.generateImpliedEndTagsWithExclusion(De),ye.openElements.popUntilTagNamePopped(De))}function Qe(ye){ye.openElements.hasNumberedHeaderInScope()&&(ye.openElements.generateImpliedEndTags(),ye.openElements.popUntilNumberedHeaderPopped())}function at(ye,Pe){const De=Pe.tagName;ye.openElements.hasInScope(De)&&(ye.openElements.generateImpliedEndTags(),ye.openElements.popUntilTagNamePopped(De),ye.activeFormattingElements.clearToLastMarker())}function Be(ye){ye._reconstructActiveFormattingElements(),ye._insertFakeElement(l.BR),ye.openElements.pop(),ye.framesetOk=!1}function ut(ye,Pe){const De=Pe.tagName;for(let un=ye.openElements.stackTop;un>0;un--){const An=ye.openElements.items[un];if(ye.treeAdapter.getTagName(An)===De){ye.openElements.generateImpliedEndTagsWithExclusion(De),ye.openElements.popUntilElementPopped(An);break}if(ye._isSpecialElement(An))break}}function xt(ye,Pe){const De=Pe.tagName;switch(De.length){case 1:De===l.A||De===l.B||De===l.I||De===l.S||De===l.U?te(ye,Pe):De===l.P?Rn(ye):ut(ye,Pe);break;case 2:De===l.DL||De===l.UL||De===l.OL?On(ye,Pe):De===l.LI?Dn(ye):De===l.DD||De===l.DT?en(ye,Pe):De===l.H1||De===l.H2||De===l.H3||De===l.H4||De===l.H5||De===l.H6?Qe(ye):De===l.BR?Be(ye):De===l.EM||De===l.TT?te(ye,Pe):ut(ye,Pe);break;case 3:De===l.BIG?te(ye,Pe):De===l.DIR||De===l.DIV||De===l.NAV||De===l.PRE?On(ye,Pe):ut(ye,Pe);break;case 4:De===l.BODY?gn(ye):De===l.HTML?jn(ye,Pe):De===l.FORM?yn(ye):De===l.CODE||De===l.FONT||De===l.NOBR?te(ye,Pe):De===l.MAIN||De===l.MENU?On(ye,Pe):ut(ye,Pe);break;case 5:De===l.ASIDE?On(ye,Pe):De===l.SMALL?te(ye,Pe):ut(ye,Pe);break;case 6:De===l.CENTER||De===l.FIGURE||De===l.FOOTER||De===l.HEADER||De===l.HGROUP||De===l.DIALOG?On(ye,Pe):De===l.APPLET||De===l.OBJECT?at(ye,Pe):De===l.STRIKE||De===l.STRONG?te(ye,Pe):ut(ye,Pe);break;case 7:De===l.ADDRESS||De===l.ARTICLE||De===l.DETAILS||De===l.SECTION||De===l.SUMMARY||De===l.LISTING?On(ye,Pe):De===l.MARQUEE?at(ye,Pe):ut(ye,Pe);break;case 8:De===l.FIELDSET?On(ye,Pe):De===l.TEMPLATE?lt(ye,Pe):ut(ye,Pe);break;case 10:De===l.BLOCKQUOTE||De===l.FIGCAPTION?On(ye,Pe):ut(ye,Pe);break;default:ut(ye,Pe)}}function Kt(ye,Pe){ye.tmplInsertionModeStackTop>-1?me(ye,Pe):ye.stopped=!0}function Ht(ye,Pe){Pe.tagName===l.SCRIPT&&(ye.pendingScript=ye.openElements.current),ye.openElements.pop(),ye.insertionMode=ye.originalInsertionMode}function kn(ye,Pe){ye._err($.eofInElementThatCanContainOnlyText),ye.openElements.pop(),ye.insertionMode=ye.originalInsertionMode,ye._processToken(Pe)}function an(ye,Pe){const De=ye.openElements.currentTagName;De===l.TABLE||De===l.TBODY||De===l.TFOOT||De===l.THEAD||De===l.TR?(ye.pendingCharacterTokens=[],ye.hasNonWhitespacePendingCharacterToken=!1,ye.originalInsertionMode=ye.insertionMode,ye.insertionMode=Z,ye._processToken(Pe)):Kn(ye,Pe)}function Qn(ye,Pe){ye.openElements.clearBackToTableContext(),ye.activeFormattingElements.insertMarker(),ye._insertElement(Pe,P.HTML),ye.insertionMode=B}function Gn(ye,Pe){ye.openElements.clearBackToTableContext(),ye._insertElement(Pe,P.HTML),ye.insertionMode=T}function gr(ye,Pe){ye.openElements.clearBackToTableContext(),ye._insertFakeElement(l.COLGROUP),ye.insertionMode=T,ye._processToken(Pe)}function or(ye,Pe){ye.openElements.clearBackToTableContext(),ye._insertElement(Pe,P.HTML),ye.insertionMode=j}function pr(ye,Pe){ye.openElements.clearBackToTableContext(),ye._insertFakeElement(l.TBODY),ye.insertionMode=j,ye._processToken(Pe)}function mr(ye,Pe){ye.openElements.hasInTableScope(l.TABLE)&&(ye.openElements.popUntilTagNamePopped(l.TABLE),ye._resetInsertionMode(),ye._processToken(Pe))}function cr(ye,Pe){const De=Oe.getTokenAttr(Pe,N.TYPE);De&&De.toLowerCase()===y?ye._appendElement(Pe,P.HTML):Kn(ye,Pe),Pe.ackSelfClosing=!0}function Xn(ye,Pe){!ye.formElement&&ye.openElements.tmplCount===0&&(ye._insertElement(Pe,P.HTML),ye.formElement=ye.openElements.current,ye.openElements.pop())}function tr(ye,Pe){const De=Pe.tagName;switch(De.length){case 2:De===l.TD||De===l.TH||De===l.TR?pr(ye,Pe):Kn(ye,Pe);break;case 3:De===l.COL?gr(ye,Pe):Kn(ye,Pe);break;case 4:De===l.FORM?Xn(ye,Pe):Kn(ye,Pe);break;case 5:De===l.TABLE?mr(ye,Pe):De===l.STYLE?it(ye,Pe):De===l.TBODY||De===l.TFOOT||De===l.THEAD?or(ye,Pe):De===l.INPUT?cr(ye,Pe):Kn(ye,Pe);break;case 6:De===l.SCRIPT?it(ye,Pe):Kn(ye,Pe);break;case 7:De===l.CAPTION?Qn(ye,Pe):Kn(ye,Pe);break;case 8:De===l.COLGROUP?Gn(ye,Pe):De===l.TEMPLATE?it(ye,Pe):Kn(ye,Pe);break;default:Kn(ye,Pe)}}function Yn(ye,Pe){const De=Pe.tagName;De===l.TABLE?ye.openElements.hasInTableScope(l.TABLE)&&(ye.openElements.popUntilTagNamePopped(l.TABLE),ye._resetInsertionMode()):De===l.TEMPLATE?lt(ye,Pe):De!==l.BODY&&De!==l.CAPTION&&De!==l.COL&&De!==l.COLGROUP&&De!==l.HTML&&De!==l.TBODY&&De!==l.TD&&De!==l.TFOOT&&De!==l.TH&&De!==l.THEAD&&De!==l.TR&&Kn(ye,Pe)}function Kn(ye,Pe){const De=ye.fosterParentingEnabled;ye.fosterParentingEnabled=!0,ye._processTokenInBodyMode(Pe),ye.fosterParentingEnabled=De}function ft(ye,Pe){ye.pendingCharacterTokens.push(Pe)}function yt(ye,Pe){ye.pendingCharacterTokens.push(Pe),ye.hasNonWhitespacePendingCharacterToken=!0}function Ce(ye,Pe){let De=0;if(ye.hasNonWhitespacePendingCharacterToken)for(;De<ye.pendingCharacterTokens.length;De++)Kn(ye,ye.pendingCharacterTokens[De]);else for(;De<ye.pendingCharacterTokens.length;De++)ye._insertCharacters(ye.pendingCharacterTokens[De]);ye.insertionMode=ye.originalInsertionMode,ye._processToken(Pe)}function ce(ye,Pe){const De=Pe.tagName;De===l.CAPTION||De===l.COL||De===l.COLGROUP||De===l.TBODY||De===l.TD||De===l.TFOOT||De===l.TH||De===l.THEAD||De===l.TR?ye.openElements.hasInTableScope(l.CAPTION)&&(ye.openElements.generateImpliedEndTags(),ye.openElements.popUntilTagNamePopped(l.CAPTION),ye.activeFormattingElements.clearToLastMarker(),ye.insertionMode=se,ye._processToken(Pe)):Tn(ye,Pe)}function he(ye,Pe){const De=Pe.tagName;De===l.CAPTION||De===l.TABLE?ye.openElements.hasInTableScope(l.CAPTION)&&(ye.openElements.generateImpliedEndTags(),ye.openElements.popUntilTagNamePopped(l.CAPTION),ye.activeFormattingElements.clearToLastMarker(),ye.insertionMode=se,De===l.TABLE&&ye._processToken(Pe)):De!==l.BODY&&De!==l.COL&&De!==l.COLGROUP&&De!==l.HTML&&De!==l.TBODY&&De!==l.TD&&De!==l.TFOOT&&De!==l.TH&&De!==l.THEAD&&De!==l.TR&&xt(ye,Pe)}function ee(ye,Pe){const De=Pe.tagName;De===l.HTML?Tn(ye,Pe):De===l.COL?(ye._appendElement(Pe,P.HTML),Pe.ackSelfClosing=!0):De===l.TEMPLATE?it(ye,Pe):Ie(ye,Pe)}function we(ye,Pe){const De=Pe.tagName;De===l.COLGROUP?ye.openElements.currentTagName===l.COLGROUP&&(ye.openElements.pop(),ye.insertionMode=se):De===l.TEMPLATE?lt(ye,Pe):De!==l.COL&&Ie(ye,Pe)}function Ie(ye,Pe){ye.openElements.currentTagName===l.COLGROUP&&(ye.openElements.pop(),ye.insertionMode=se,ye._processToken(Pe))}function qe(ye,Pe){const De=Pe.tagName;De===l.TR?(ye.openElements.clearBackToTableBodyContext(),ye._insertElement(Pe,P.HTML),ye.insertionMode=U):De===l.TH||De===l.TD?(ye.openElements.clearBackToTableBodyContext(),ye._insertFakeElement(l.TR),ye.insertionMode=U,ye._processToken(Pe)):De===l.CAPTION||De===l.COL||De===l.COLGROUP||De===l.TBODY||De===l.TFOOT||De===l.THEAD?ye.openElements.hasTableBodyContextInTableScope()&&(ye.openElements.clearBackToTableBodyContext(),ye.openElements.pop(),ye.insertionMode=se,ye._processToken(Pe)):tr(ye,Pe)}function ht(ye,Pe){const De=Pe.tagName;De===l.TBODY||De===l.TFOOT||De===l.THEAD?ye.openElements.hasInTableScope(De)&&(ye.openElements.clearBackToTableBodyContext(),ye.openElements.pop(),ye.insertionMode=se):De===l.TABLE?ye.openElements.hasTableBodyContextInTableScope()&&(ye.openElements.clearBackToTableBodyContext(),ye.openElements.pop(),ye.insertionMode=se,ye._processToken(Pe)):(De!==l.BODY&&De!==l.CAPTION&&De!==l.COL&&De!==l.COLGROUP||De!==l.HTML&&De!==l.TD&&De!==l.TH&&De!==l.TR)&&Yn(ye,Pe)}function bt(ye,Pe){const De=Pe.tagName;De===l.TH||De===l.TD?(ye.openElements.clearBackToTableRowContext(),ye._insertElement(Pe,P.HTML),ye.insertionMode=E,ye.activeFormattingElements.insertMarker()):De===l.CAPTION||De===l.COL||De===l.COLGROUP||De===l.TBODY||De===l.TFOOT||De===l.THEAD||De===l.TR?ye.openElements.hasInTableScope(l.TR)&&(ye.openElements.clearBackToTableRowContext(),ye.openElements.pop(),ye.insertionMode=j,ye._processToken(Pe)):tr(ye,Pe)}function Pt(ye,Pe){const De=Pe.tagName;De===l.TR?ye.openElements.hasInTableScope(l.TR)&&(ye.openElements.clearBackToTableRowContext(),ye.openElements.pop(),ye.insertionMode=j):De===l.TABLE?ye.openElements.hasInTableScope(l.TR)&&(ye.openElements.clearBackToTableRowContext(),ye.openElements.pop(),ye.insertionMode=j,ye._processToken(Pe)):De===l.TBODY||De===l.TFOOT||De===l.THEAD?(ye.openElements.hasInTableScope(De)||ye.openElements.hasInTableScope(l.TR))&&(ye.openElements.clearBackToTableRowContext(),ye.openElements.pop(),ye.insertionMode=j,ye._processToken(Pe)):(De!==l.BODY&&De!==l.CAPTION&&De!==l.COL&&De!==l.COLGROUP||De!==l.HTML&&De!==l.TD&&De!==l.TH)&&Yn(ye,Pe)}function kt(ye,Pe){const De=Pe.tagName;De===l.CAPTION||De===l.COL||De===l.COLGROUP||De===l.TBODY||De===l.TD||De===l.TFOOT||De===l.TH||De===l.THEAD||De===l.TR?(ye.openElements.hasInTableScope(l.TD)||ye.openElements.hasInTableScope(l.TH))&&(ye._closeTableCell(),ye._processToken(Pe)):Tn(ye,Pe)}function Mt(ye,Pe){const De=Pe.tagName;De===l.TD||De===l.TH?ye.openElements.hasInTableScope(De)&&(ye.openElements.generateImpliedEndTags(),ye.openElements.popUntilTagNamePopped(De),ye.activeFormattingElements.clearToLastMarker(),ye.insertionMode=U):De===l.TABLE||De===l.TBODY||De===l.TFOOT||De===l.THEAD||De===l.TR?ye.openElements.hasInTableScope(De)&&(ye._closeTableCell(),ye._processToken(Pe)):De!==l.BODY&&De!==l.CAPTION&&De!==l.COL&&De!==l.COLGROUP&&De!==l.HTML&&xt(ye,Pe)}function $t(ye,Pe){const De=Pe.tagName;De===l.HTML?Tn(ye,Pe):De===l.OPTION?(ye.openElements.currentTagName===l.OPTION&&ye.openElements.pop(),ye._insertElement(Pe,P.HTML)):De===l.OPTGROUP?(ye.openElements.currentTagName===l.OPTION&&ye.openElements.pop(),ye.openElements.currentTagName===l.OPTGROUP&&ye.openElements.pop(),ye._insertElement(Pe,P.HTML)):De===l.INPUT||De===l.KEYGEN||De===l.TEXTAREA||De===l.SELECT?ye.openElements.hasInSelectScope(l.SELECT)&&(ye.openElements.popUntilTagNamePopped(l.SELECT),ye._resetInsertionMode(),De!==l.SELECT&&ye._processToken(Pe)):(De===l.SCRIPT||De===l.TEMPLATE)&&it(ye,Pe)}function Yt(ye,Pe){const De=Pe.tagName;if(De===l.OPTGROUP){const un=ye.openElements.items[ye.openElements.stackTop-1],An=un&&ye.treeAdapter.getTagName(un);ye.openElements.currentTagName===l.OPTION&&An===l.OPTGROUP&&ye.openElements.pop(),ye.openElements.currentTagName===l.OPTGROUP&&ye.openElements.pop()}else De===l.OPTION?ye.openElements.currentTagName===l.OPTION&&ye.openElements.pop():De===l.SELECT&&ye.openElements.hasInSelectScope(l.SELECT)?(ye.openElements.popUntilTagNamePopped(l.SELECT),ye._resetInsertionMode()):De===l.TEMPLATE&&lt(ye,Pe)}function dn(ye,Pe){const De=Pe.tagName;De===l.CAPTION||De===l.TABLE||De===l.TBODY||De===l.TFOOT||De===l.THEAD||De===l.TR||De===l.TD||De===l.TH?(ye.openElements.popUntilTagNamePopped(l.SELECT),ye._resetInsertionMode(),ye._processToken(Pe)):$t(ye,Pe)}function Xe(ye,Pe){const De=Pe.tagName;De===l.CAPTION||De===l.TABLE||De===l.TBODY||De===l.TFOOT||De===l.THEAD||De===l.TR||De===l.TD||De===l.TH?ye.openElements.hasInTableScope(De)&&(ye.openElements.popUntilTagNamePopped(l.SELECT),ye._resetInsertionMode(),ye._processToken(Pe)):Yt(ye,Pe)}function tt(ye,Pe){const De=Pe.tagName;if(De===l.BASE||De===l.BASEFONT||De===l.BGSOUND||De===l.LINK||De===l.META||De===l.NOFRAMES||De===l.SCRIPT||De===l.STYLE||De===l.TEMPLATE||De===l.TITLE)it(ye,Pe);else{const un=R[De]||W;ye._popTmplInsertionMode(),ye._pushTmplInsertionMode(un),ye.insertionMode=un,ye._processToken(Pe)}}function fe(ye,Pe){Pe.tagName===l.TEMPLATE&&lt(ye,Pe)}function me(ye,Pe){ye.openElements.tmplCount>0?(ye.openElements.popUntilTagNamePopped(l.TEMPLATE),ye.activeFormattingElements.clearToLastMarker(),ye._popTmplInsertionMode(),ye._resetInsertionMode(),ye._processToken(Pe)):ye.stopped=!0}function de(ye,Pe){Pe.tagName===l.HTML?Tn(ye,Pe):Ye(ye,Pe)}function Ee(ye,Pe){Pe.tagName===l.HTML?ye.fragmentContext||(ye.insertionMode=K):Ye(ye,Pe)}function Ye(ye,Pe){ye.insertionMode=W,ye._processToken(Pe)}function Ot(ye,Pe){const De=Pe.tagName;De===l.HTML?Tn(ye,Pe):De===l.FRAMESET?ye._insertElement(Pe,P.HTML):De===l.FRAME?(ye._appendElement(Pe,P.HTML),Pe.ackSelfClosing=!0):De===l.NOFRAMES&&it(ye,Pe)}function Rt(ye,Pe){Pe.tagName===l.FRAMESET&&!ye.openElements.isRootHtmlElementCurrent()&&(ye.openElements.pop(),!ye.fragmentContext&&ye.openElements.currentTagName!==l.FRAMESET&&(ye.insertionMode=O))}function Vt(ye,Pe){const De=Pe.tagName;De===l.HTML?Tn(ye,Pe):De===l.NOFRAMES&&it(ye,Pe)}function Ft(ye,Pe){Pe.tagName===l.HTML&&(ye.insertionMode=Q)}function Zt(ye,Pe){Pe.tagName===l.HTML?Tn(ye,Pe):At(ye,Pe)}function At(ye,Pe){ye.insertionMode=W,ye._processToken(Pe)}function Lt(ye,Pe){const De=Pe.tagName;De===l.HTML?Tn(ye,Pe):De===l.NOFRAMES&&it(ye,Pe)}function Gt(ye,Pe){Pe.chars=D.REPLACEMENT_CHARACTER,ye._insertCharacters(Pe)}function vn(ye,Pe){ye._insertCharacters(Pe),ye.framesetOk=!1}function En(ye,Pe){if(k.causesExit(Pe)&&!ye.fragmentContext){for(;ye.treeAdapter.getNamespaceURI(ye.openElements.current)!==P.HTML&&!ye._isIntegrationPoint(ye.openElements.current);)ye.openElements.pop();ye._processToken(Pe)}else{const De=ye._getAdjustedCurrentElement(),un=ye.treeAdapter.getNamespaceURI(De);un===P.MATHML?k.adjustTokenMathMLAttrs(Pe):un===P.SVG&&(k.adjustTokenSVGTagName(Pe),k.adjustTokenSVGAttrs(Pe)),k.adjustTokenXMLAttrs(Pe),Pe.selfClosing?ye._appendElement(Pe,un):ye._insertElement(Pe,un),Pe.ackSelfClosing=!0}}function Jn(ye,Pe){for(let De=ye.openElements.stackTop;De>0;De--){const un=ye.openElements.items[De];if(ye.treeAdapter.getNamespaceURI(un)===P.HTML){ye._processToken(Pe);break}if(ye.treeAdapter.getTagName(un).toLowerCase()===Pe.tagName){ye.openElements.popUntilElementPopped(un);break}}}return of}var sf,Vh;function Jq(){if(Vh)return sf;Vh=1;const Oe=Ap(),Ae=Rp(),Ue=bf(),He=Is(),ge=He.TAG_NAMES,_e=He.NAMESPACES,z={treeAdapter:Oe},ie=/&/g,w=/\u00a0/g,k=/"/g,$=/</g,D=/>/g;class q{constructor(P,N){this.options=Ae(z,N),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=P}serialize(){return this._serializeChildNodes(this.startNode),this.html}_serializeChildNodes(P){const N=this.treeAdapter.getChildNodes(P);if(N)for(let C=0,y=N.length;C<y;C++){const m=N[C];this.treeAdapter.isElementNode(m)?this._serializeElement(m):this.treeAdapter.isTextNode(m)?this._serializeTextNode(m):this.treeAdapter.isCommentNode(m)?this._serializeCommentNode(m):this.treeAdapter.isDocumentTypeNode(m)&&this._serializeDocumentTypeNode(m)}}_serializeElement(P){const N=this.treeAdapter.getTagName(P),C=this.treeAdapter.getNamespaceURI(P);if(this.html+="<"+N,this._serializeAttributes(P),this.html+=">",N!==ge.AREA&&N!==ge.BASE&&N!==ge.BASEFONT&&N!==ge.BGSOUND&&N!==ge.BR&&N!==ge.COL&&N!==ge.EMBED&&N!==ge.FRAME&&N!==ge.HR&&N!==ge.IMG&&N!==ge.INPUT&&N!==ge.KEYGEN&&N!==ge.LINK&&N!==ge.META&&N!==ge.PARAM&&N!==ge.SOURCE&&N!==ge.TRACK&&N!==ge.WBR){const y=N===ge.TEMPLATE&&C===_e.HTML?this.treeAdapter.getTemplateContent(P):P;this._serializeChildNodes(y),this.html+="</"+N+">"}}_serializeAttributes(P){const N=this.treeAdapter.getAttrList(P);for(let C=0,y=N.length;C<y;C++){const m=N[C],g=q.escapeString(m.value,!0);this.html+=" ",m.namespace?m.namespace===_e.XML?this.html+="xml:"+m.name:m.namespace===_e.XMLNS?(m.name!=="xmlns"&&(this.html+="xmlns:"),this.html+=m.name):m.namespace===_e.XLINK?this.html+="xlink:"+m.name:this.html+=m.prefix+":"+m.name:this.html+=m.name,this.html+='="'+g+'"'}}_serializeTextNode(P){const N=this.treeAdapter.getTextNodeContent(P),C=this.treeAdapter.getParentNode(P);let y;C&&this.treeAdapter.isElementNode(C)&&(y=this.treeAdapter.getTagName(C)),y===ge.STYLE||y===ge.SCRIPT||y===ge.XMP||y===ge.IFRAME||y===ge.NOEMBED||y===ge.NOFRAMES||y===ge.PLAINTEXT||y===ge.NOSCRIPT?this.html+=N:this.html+=q.escapeString(N,!1)}_serializeCommentNode(P){this.html+="<!--"+this.treeAdapter.getCommentNodeContent(P)+"-->"}_serializeDocumentTypeNode(P){const N=this.treeAdapter.getDocumentTypeNodeName(P);this.html+="<"+Ue.serializeContent(N,null,null)+">"}}return q.escapeString=function(l,P){return l=l.replace(ie,"&amp;").replace(w,"&nbsp;"),P?l=l.replace(k,"&quot;"):l=l.replace($,"&lt;").replace(D,"&gt;"),l},sf=q,sf}var Uh;function Qq(){if(Uh)return Xc;Uh=1;const Oe=Xq(),Ae=Jq();return Xc.parse=function(He,ge){return new Oe(ge).parse(He)},Xc.parseFragment=function(He,ge,_e){return typeof He=="string"&&(_e=ge,ge=He,He=null),new Oe(_e).parseFragment(ge,He)},Xc.serialize=function(Ue,He){return new Ae(Ue,He).serialize()},Xc}var _r={},zh;function eW(){if(zh)return _r;zh=1;const Oe=bf(),{DOCUMENT_MODE:Ae}=Is(),Ue={element:1,text:3,cdata:4,comment:8},He={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"};class ge{constructor(k){for(const $ of Object.keys(k))this[$]=k[$]}get firstChild(){const k=this.children;return k&&k[0]||null}get lastChild(){const k=this.children;return k&&k[k.length-1]||null}get nodeType(){return Ue[this.type]||Ue.element}}Object.keys(He).forEach(w=>{const k=He[w];Object.defineProperty(ge.prototype,w,{get:function(){return this[k]||null},set:function($){return this[k]=$,$}})}),_r.createDocument=function(){return new ge({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":Ae.NO_QUIRKS})},_r.createDocumentFragment=function(){return new ge({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},_r.createElement=function(w,k,$){const D=Object.create(null),q=Object.create(null),l=Object.create(null);for(let P=0;P<$.length;P++){const N=$[P].name;D[N]=$[P].value,q[N]=$[P].namespace,l[N]=$[P].prefix}return new ge({type:w==="script"||w==="style"?w:"tag",name:w,namespace:k,attribs:D,"x-attribsNamespace":q,"x-attribsPrefix":l,children:[],parent:null,prev:null,next:null})},_r.createCommentNode=function(w){return new ge({type:"comment",data:w,parent:null,prev:null,next:null})};const _e=function(w){return new ge({type:"text",data:w,parent:null,prev:null,next:null})},z=_r.appendChild=function(w,k){const $=w.children[w.children.length-1];$&&($.next=k,k.prev=$),w.children.push(k),k.parent=w},ie=_r.insertBefore=function(w,k,$){const D=w.children.indexOf($),q=$.prev;q&&(q.next=k,k.prev=q),$.prev=k,k.next=$,w.children.splice(D,0,k),k.parent=w};return _r.setTemplateContent=function(w,k){z(w,k)},_r.getTemplateContent=function(w){return w.children[0]},_r.setDocumentType=function(w,k,$,D){const q=Oe.serializeContent(k,$,D);let l=null;for(let P=0;P<w.children.length;P++)if(w.children[P].type==="directive"&&w.children[P].name==="!doctype"){l=w.children[P];break}l?(l.data=q,l["x-name"]=k,l["x-publicId"]=$,l["x-systemId"]=D):z(w,new ge({type:"directive",name:"!doctype",data:q,"x-name":k,"x-publicId":$,"x-systemId":D}))},_r.setDocumentMode=function(w,k){w["x-mode"]=k},_r.getDocumentMode=function(w){return w["x-mode"]},_r.detachNode=function(w){if(w.parent){const k=w.parent.children.indexOf(w),$=w.prev,D=w.next;w.prev=null,w.next=null,$&&($.next=D),D&&(D.prev=$),w.parent.children.splice(k,1),w.parent=null}},_r.insertText=function(w,k){const $=w.children[w.children.length-1];$&&$.type==="text"?$.data+=k:z(w,_e(k))},_r.insertTextBefore=function(w,k,$){const D=w.children[w.children.indexOf($)-1];D&&D.type==="text"?D.data+=k:ie(w,_e(k),$)},_r.adoptAttributes=function(w,k){for(let $=0;$<k.length;$++){const D=k[$].name;typeof w.attribs[D]>"u"&&(w.attribs[D]=k[$].value,w["x-attribsNamespace"][D]=k[$].namespace,w["x-attribsPrefix"][D]=k[$].prefix)}},_r.getFirstChild=function(w){return w.children[0]},_r.getChildNodes=function(w){return w.children},_r.getParentNode=function(w){return w.parent},_r.getAttrList=function(w){const k=[];for(const $ in w.attribs)k.push({name:$,value:w.attribs[$],namespace:w["x-attribsNamespace"][$],prefix:w["x-attribsPrefix"][$]});return k},_r.getTagName=function(w){return w.name},_r.getNamespaceURI=function(w){return w.namespace},_r.getTextNodeContent=function(w){return w.data},_r.getCommentNodeContent=function(w){return w.data},_r.getDocumentTypeNodeName=function(w){return w["x-name"]},_r.getDocumentTypeNodePublicId=function(w){return w["x-publicId"]},_r.getDocumentTypeNodeSystemId=function(w){return w["x-systemId"]},_r.isTextNode=function(w){return w.type==="text"},_r.isCommentNode=function(w){return w.type==="comment"},_r.isDocumentTypeNode=function(w){return w.type==="directive"&&w.name==="!doctype"},_r.isElementNode=function(w){return!!w.attribs},_r.setNodeSourceCodeLocation=function(w,k){w.sourceCodeLocation=k},_r.getNodeSourceCodeLocation=function(w){return w.sourceCodeLocation},_r.updateNodeSourceCodeLocation=function(w,k){w.sourceCodeLocation=Object.assign(w.sourceCodeLocation,k)},_r}var qh;function Dp(){if(qh)return ma;qh=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.render=ma.parse=void 0;var Oe=fs.exports,Ae=Fi(),Ue=Qq(),He=Oe.__importDefault(eW());function ge(z,ie,w){var k={scriptingEnabled:typeof ie.scriptingEnabled=="boolean"?ie.scriptingEnabled:!0,treeAdapter:He.default,sourceCodeLocationInfo:ie.sourceCodeLocationInfo},$=ie.context;return w?Ue.parse(z,k):Ue.parseFragment($,z,k)}ma.parse=ge;function _e(z){for(var ie,w=("length"in z)?z:[z],k=0;k<w.length;k+=1){var $=w[k];Ae.isDocument($)&&(ie=Array.prototype.splice).call.apply(ie,Oe.__spreadArray([w,k,1],$.children))}return Ue.serialize({children:w},{treeAdapter:He.default})}return ma.render=_e,ma}var af={},Wh;function Np(){return Wh||(Wh=1,function(Oe){var Ae=Pn&&Pn.__importDefault||function(ge){return ge&&ge.__esModule?ge:{default:ge}};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.render=Oe.parse=void 0;var Ue=ec();Object.defineProperty(Oe,"parse",{enumerable:!0,get:function(){return Ue.parseDocument}});var He=bp();Object.defineProperty(Oe,"render",{enumerable:!0,get:function(){return Ae(He).default}})}(af)),af}var $h;function rl(){if($h)return mi;$h=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.merge=mi.contains=mi.root=mi.parseHTML=mi.text=mi.xml=mi.html=void 0;var Oe=fs.exports,Ae=Oe.__importStar(ff()),Ue=Ep(),He=ec(),ge=Dp(),_e=Np();function z(C,y,m){var g,S=y?typeof y=="string"?Ue.select(y,(g=C==null?void 0:C._root)!==null&&g!==void 0?g:[],m):y:C==null?void 0:C._root.children;return S?m.xmlMode||m._useHtmlParser2?_e.render(S,m):ge.render(S):""}function ie(C){return typeof C=="object"&&C!=null&&!("length"in C)&&!("type"in C)}function w(C,y){!y&&ie(C)&&(y=C,C=void 0);var m=Oe.__assign(Oe.__assign(Oe.__assign({},Ae.default),this?this._options:{}),Ae.flatten(y!=null?y:{}));return z(this||void 0,C,m)}mi.html=w;function k(C){var y=Oe.__assign(Oe.__assign({},this._options),{xmlMode:!0});return z(this,C,y)}mi.xml=k;function $(C){for(var y=C||(this?this.root():[]),m="",g=0;g<y.length;g++){var S=y[g];He.DomUtils.isText(S)?m+=S.data:He.DomUtils.hasChildren(S)&&S.type!==He.ElementType.Comment&&S.type!==He.ElementType.Script&&S.type!==He.ElementType.Style&&(m+=$(S.children))}return m}mi.text=$;function D(C,y,m){if(m===void 0&&(m=typeof y=="boolean"?y:!1),!C||typeof C!="string")return null;typeof y=="boolean"&&(m=y);var g=this.load(C,Ae.default,!1);return m||g("script").remove(),g.root()[0].children.slice()}mi.parseHTML=D;function q(){return this(this._root)}mi.root=q;function l(C,y){if(y===C)return!1;for(var m=y;m&&m!==m.parent;)if(m=m.parent,m===C)return!0;return!1}mi.contains=l;function P(C,y){if(!(!N(C)||!N(y))){for(var m=C.length,g=+y.length,S=0;S<g;S++)C[m++]=y[S];return C.length=m,C}}mi.merge=P;function N(C){if(Array.isArray(C))return!0;if(typeof C!="object"||!Object.prototype.hasOwnProperty.call(C,"length")||typeof C.length!="number"||C.length<0)return!1;for(var y=0;y<C.length;y++)if(!(y in C))return!1;return!0}return mi}var Qc={},Ja={},Gh;function wf(){if(Gh)return Ja;Gh=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.update=void 0;var Oe=ec(),Ae=Np(),Ue=Dp(),He=Fi();function ge(z,ie,w){if(typeof Buffer<"u"&&Buffer.isBuffer(z)&&(z=z.toString()),typeof z=="string")return ie.xmlMode||ie._useHtmlParser2?Ae.parse(z,ie):Ue.parse(z,ie,w);var k=z;if(!Array.isArray(k)&&He.isDocument(k))return k;var $=new He.Document([]);return _e(k,$),$}Ja.default=ge;function _e(z,ie){var w=Array.isArray(z)?z:[z];ie?ie.children=w:ie=null;for(var k=0;k<w.length;k++){var $=w[k];$.parent&&$.parent.children!==w&&Oe.DomUtils.removeElement($),ie?($.prev=w[k-1]||null,$.next=w[k+1]||null):$.prev=$.next=null,$.parent=ie}return ie}return Ja.update=_e,Ja}var vi={},Kh;function tc(){if(Kh)return vi;Kh=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.isHtml=vi.cloneDom=vi.domEach=vi.cssCase=vi.camelCase=vi.isCheerio=vi.isTag=void 0;var Oe=ec(),Ae=Fi();vi.isTag=Oe.DomUtils.isTag;function Ue(k){return k.cheerio!=null}vi.isCheerio=Ue;function He(k){return k.replace(/[_.-](\w|$)/g,function($,D){return D.toUpperCase()})}vi.camelCase=He;function ge(k){return k.replace(/[A-Z]/g,"-$&").toLowerCase()}vi.cssCase=ge;function _e(k,$){for(var D=k.length,q=0;q<D;q++)$(k[q],q);return k}vi.domEach=_e;function z(k){var $="length"in k?Array.prototype.map.call(k,function(q){return Ae.cloneNode(q,!0)}):[Ae.cloneNode(k,!0)],D=new Ae.Document($);return $.forEach(function(q){q.parent=D}),$}vi.cloneDom=z;var ie=/<[a-zA-Z][^]*>/;function w(k){return ie.test(k)}return vi.isHtml=w,vi}var ti={},Yh;function tW(){if(Yh)return ti;Yh=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.toggleClass=ti.removeClass=ti.addClass=ti.hasClass=ti.removeAttr=ti.val=ti.data=ti.prop=ti.attr=void 0;var Oe=rl(),Ae=tc(),Ue=Object.prototype.hasOwnProperty,He=/\s+/,ge="data-",_e={null:null,true:!0,false:!1},z=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ie=/^{[^]*}$|^\[[^]*]$/;function w(x,W,oe){var se;if(!(!x||!Ae.isTag(x))){if((se=x.attribs)!==null&&se!==void 0||(x.attribs={}),!W)return x.attribs;if(Ue.call(x.attribs,W))return!oe&&z.test(W)?W:x.attribs[W];if(x.name==="option"&&W==="value")return Oe.text(x.children);if(x.name==="input"&&(x.attribs.type==="radio"||x.attribs.type==="checkbox")&&W==="value")return"on"}}function k(x,W,oe){oe===null?m(x,W):x.attribs[W]=""+oe}function $(x,W){if(typeof x=="object"||W!==void 0){if(typeof W=="function"){if(typeof x!="string")throw new Error("Bad combination of arguments.");return Ae.domEach(this,function(oe,se){Ae.isTag(oe)&&k(oe,x,W.call(oe,se,oe.attribs[x]))})}return Ae.domEach(this,function(oe){!Ae.isTag(oe)||(typeof x=="object"?Object.keys(x).forEach(function(se){var Z=x[se];k(oe,se,Z)}):k(oe,x,W))})}return arguments.length>1?this:w(this[0],x,this.options.xmlMode)}ti.attr=$;function D(x,W,oe){if(!(!x||!Ae.isTag(x)))return W in x?x[W]:!oe&&z.test(W)?w(x,W,!1)!==void 0:w(x,W,oe)}function q(x,W,oe,se){W in x?x[W]=oe:k(x,W,!se&&z.test(W)?oe?"":null:""+oe)}function l(x,W){var oe=this;if(typeof x=="string"&&W===void 0)switch(x){case"style":{var se=this.css(),Z=Object.keys(se);return Z.forEach(function(T,j){se[j]=T}),se.length=Z.length,se}case"tagName":case"nodeName":{var B=this[0];return Ae.isTag(B)?B.name.toUpperCase():void 0}case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return D(this[0],x,this.options.xmlMode)}if(typeof x=="object"||W!==void 0){if(typeof W=="function"){if(typeof x=="object")throw new Error("Bad combination of arguments.");return Ae.domEach(this,function(T,j){Ae.isTag(T)&&q(T,x,W.call(T,j,D(T,x,oe.options.xmlMode)),oe.options.xmlMode)})}return Ae.domEach(this,function(T){!Ae.isTag(T)||(typeof x=="object"?Object.keys(x).forEach(function(j){var U=x[j];q(T,j,U,oe.options.xmlMode)}):q(T,x,W,oe.options.xmlMode))})}}ti.prop=l;function P(x,W,oe){var se,Z=x;(se=Z.data)!==null&&se!==void 0||(Z.data={}),typeof W=="object"?Object.assign(Z.data,W):typeof W=="string"&&oe!==void 0&&(Z.data[W]=oe)}function N(x,W){var oe,se,Z;W==null?(oe=Object.keys(x.attribs).filter(function(U){return U.startsWith(ge)}),se=oe.map(function(U){return Ae.camelCase(U.slice(ge.length))})):(oe=[ge+Ae.cssCase(W)],se=[W]);for(var B=0;B<oe.length;++B){var T=oe[B],j=se[B];if(Ue.call(x.attribs,T)&&!Ue.call(x.data,j)){if(Z=x.attribs[T],Ue.call(_e,Z))Z=_e[Z];else if(Z===String(Number(Z)))Z=Number(Z);else if(ie.test(Z))try{Z=JSON.parse(Z)}catch{}x.data[j]=Z}}return W==null?x.data:Z}function C(x,W){var oe,se=this[0];if(!(!se||!Ae.isTag(se))){var Z=se;return(oe=Z.data)!==null&&oe!==void 0||(Z.data={}),x?typeof x=="object"||W!==void 0?(Ae.domEach(this,function(B){Ae.isTag(B)&&(typeof x=="object"?P(B,x):P(B,x,W))}),this):Ue.call(Z.data,x)?Z.data[x]:N(Z,x):N(Z)}}ti.data=C;function y(x){var W=arguments.length===0,oe=this[0];if(!oe||!Ae.isTag(oe))return W?void 0:this;switch(oe.name){case"textarea":return this.text(x);case"select":{var se=this.find("option:selected");if(!W){if(this.attr("multiple")==null&&typeof x=="object")return this;this.find("option").removeAttr("selected");for(var Z=typeof x!="object"?[x]:x,B=0;B<Z.length;B++)this.find('option[value="'+Z[B]+'"]').attr("selected","");return this}return this.attr("multiple")?se.toArray().map(function(T){return Oe.text(T.children)}):se.attr("value")}case"input":case"option":return W?this.attr("value"):this.attr("value",x)}}ti.val=y;function m(x,W){!x.attribs||!Ue.call(x.attribs,W)||delete x.attribs[W]}function g(x){return x?x.trim().split(He):[]}function S(x){for(var W=g(x),oe=function(B){Ae.domEach(se,function(T){Ae.isTag(T)&&m(T,W[B])})},se=this,Z=0;Z<W.length;Z++)oe(Z);return this}ti.removeAttr=S;function I(x){return this.toArray().some(function(W){var oe=Ae.isTag(W)&&W.attribs.class,se=-1;if(oe&&x.length)for(;(se=oe.indexOf(x,se+1))>-1;){var Z=se+x.length;if((se===0||He.test(oe[se-1]))&&(Z===oe.length||He.test(oe[Z])))return!0}return!1})}ti.hasClass=I;function H(x){if(typeof x=="function")return Ae.domEach(this,function(E,M){if(Ae.isTag(E)){var c=E.attribs.class||"";H.call([E],x.call(E,M,c))}});if(!x||typeof x!="string")return this;for(var W=x.split(He),oe=this.length,se=0;se<oe;se++){var Z=this[se];if(!!Ae.isTag(Z)){var B=w(Z,"class",!1);if(!B)k(Z,"class",W.join(" ").trim());else{for(var T=" "+B+" ",j=0;j<W.length;j++){var U=W[j]+" ";T.includes(" "+U)||(T+=U)}k(Z,"class",T.trim())}}}return this}ti.addClass=H;function X(x){if(typeof x=="function")return Ae.domEach(this,function(Z,B){Ae.isTag(Z)&&X.call([Z],x.call(Z,B,Z.attribs.class||""))});var W=g(x),oe=W.length,se=arguments.length===0;return Ae.domEach(this,function(Z){if(!!Ae.isTag(Z))if(se)Z.attribs.class="";else{for(var B=g(Z.attribs.class),T=!1,j=0;j<oe;j++){var U=B.indexOf(W[j]);U>=0&&(B.splice(U,1),T=!0,j--)}T&&(Z.attribs.class=B.join(" "))}})}ti.removeClass=X;function Y(x,W){if(typeof x=="function")return Ae.domEach(this,function(c,d){Ae.isTag(c)&&Y.call([c],x.call(c,d,c.attribs.class||"",W),W)});if(!x||typeof x!="string")return this;for(var oe=x.split(He),se=oe.length,Z=typeof W=="boolean"?W?1:-1:0,B=this.length,T=0;T<B;T++){var j=this[T];if(!!Ae.isTag(j)){for(var U=g(j.attribs.class),E=0;E<se;E++){var M=U.indexOf(oe[E]);Z>=0&&M<0?U.push(oe[E]):Z<=0&&M>=0&&U.splice(M,1)}j.attribs.class=U.join(" ")}}return this}return ti.toggleClass=Y,ti}var Un={},Xh;function nW(){if(Xh)return Un;Xh=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.addBack=Un.add=Un.end=Un.slice=Un.index=Un.toArray=Un.get=Un.eq=Un.last=Un.first=Un.has=Un.not=Un.is=Un.filterArray=Un.filter=Un.map=Un.each=Un.contents=Un.children=Un.siblings=Un.prevUntil=Un.prevAll=Un.prev=Un.nextUntil=Un.nextAll=Un.next=Un.closest=Un.parentsUntil=Un.parents=Un.parent=Un.find=void 0;var Oe=fs.exports,Ae=Fi(),Ue=Oe.__importStar(Ep()),He=tc(),ge=rl(),_e=ec(),z=_e.DomUtils.uniqueSort,ie=/^\s*[~+]/;function w(E){var M;if(!E)return this._make([]);var c=this.toArray();if(typeof E!="string"){var d=He.isCheerio(E)?E.toArray():[E];return this._make(d.filter(function(O){return c.some(function(K){return ge.contains(K,O)})}))}var s=ie.test(E)?c:this.children().toArray(),p={context:c,root:(M=this._root)===null||M===void 0?void 0:M[0],xmlMode:this.options.xmlMode};return this._make(Ue.select(E,s,p))}Un.find=w;function k(E){return function(M){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return function(s){var p,O=E(M,this);return s&&(O=S(O,s,this.options.xmlMode,(p=this._root)===null||p===void 0?void 0:p[0])),this._make(this.length>1&&O.length>1?c.reduce(function(K,Q){return Q(K)},O):O)}}}var $=k(function(E,M){for(var c,d=[],s=0;s<M.length;s++){var p=E(M[s]);d.push(p)}return(c=new Array).concat.apply(c,d)}),D=k(function(E,M){for(var c=[],d=0;d<M.length;d++){var s=E(M[d]);s!==null&&c.push(s)}return c});function q(E){for(var M=[],c=1;c<arguments.length;c++)M[c-1]=arguments[c];var d=null,s=k(function(p,O){var K=[];return He.domEach(O,function(Q){for(var ne;(ne=p(Q))&&!(d!=null&&d(ne,K.length));Q=ne)K.push(ne)}),K}).apply(void 0,Oe.__spreadArray([E],M));return function(p,O){var K=this;d=typeof p=="string"?function(ne){return Ue.is(ne,p,K.options)}:p?m(p):null;var Q=s.call(this,O);return d=null,Q}}function l(E){return Array.from(new Set(E))}Un.parent=D(function(E){var M=E.parent;return M&&!Ae.isDocument(M)?M:null},l),Un.parents=$(function(E){for(var M=[];E.parent&&!Ae.isDocument(E.parent);)M.push(E.parent),E=E.parent;return M},z,function(E){return E.reverse()}),Un.parentsUntil=q(function(E){var M=E.parent;return M&&!Ae.isDocument(M)?M:null},z,function(E){return E.reverse()});function P(E){var M=this,c=[];return E?(He.domEach(this,function(d){for(var s;d&&d.type!=="root";){if(!E||S([d],E,M.options.xmlMode,(s=M._root)===null||s===void 0?void 0:s[0]).length){d&&!c.includes(d)&&c.push(d);break}d=d.parent}}),this._make(c)):this._make(c)}Un.closest=P,Un.next=D(function(E){return _e.DomUtils.nextElementSibling(E)}),Un.nextAll=$(function(E){for(var M=[];E.next;)E=E.next,He.isTag(E)&&M.push(E);return M},l),Un.nextUntil=q(function(E){return _e.DomUtils.nextElementSibling(E)},l),Un.prev=D(function(E){return _e.DomUtils.prevElementSibling(E)}),Un.prevAll=$(function(E){for(var M=[];E.prev;)E=E.prev,He.isTag(E)&&M.push(E);return M},l),Un.prevUntil=q(function(E){return _e.DomUtils.prevElementSibling(E)},l),Un.siblings=$(function(E){return _e.DomUtils.getSiblings(E).filter(function(M){return He.isTag(M)&&M!==E})},z),Un.children=$(function(E){return _e.DomUtils.getChildren(E).filter(He.isTag)},l);function N(){var E=this.toArray().reduce(function(M,c){return Ae.hasChildren(c)?M.concat(c.children):M},[]);return this._make(E)}Un.contents=N;function C(E){for(var M=0,c=this.length;M<c&&E.call(this[M],M,this[M])!==!1;)++M;return this}Un.each=C;function y(E){for(var M=[],c=0;c<this.length;c++){var d=this[c],s=E.call(d,c,d);s!=null&&(M=M.concat(s))}return this._make(M)}Un.map=y;function m(E){return typeof E=="function"?function(M,c){return E.call(M,c,M)}:He.isCheerio(E)?function(M){return Array.prototype.includes.call(E,M)}:function(M){return E===M}}function g(E){var M;return this._make(S(this.toArray(),E,this.options.xmlMode,(M=this._root)===null||M===void 0?void 0:M[0]))}Un.filter=g;function S(E,M,c,d){return typeof M=="string"?Ue.filter(M,E,{xmlMode:c,root:d}):E.filter(m(M))}Un.filterArray=S;function I(E){var M=this.toArray();return typeof E=="string"?Ue.some(M.filter(He.isTag),E,this.options):E?M.some(m(E)):!1}Un.is=I;function H(E){var M=this.toArray();if(typeof E=="string"){var c=new Set(Ue.filter(E,M,this.options));M=M.filter(function(s){return!c.has(s)})}else{var d=m(E);M=M.filter(function(s,p){return!d(s,p)})}return this._make(M)}Un.not=H;function X(E){var M=this;return this.filter(typeof E=="string"?":has("+E+")":function(c,d){return M._make(d).find(E).length>0})}Un.has=X;function Y(){return this.length>1?this._make(this[0]):this}Un.first=Y;function x(){return this.length>0?this._make(this[this.length-1]):this}Un.last=x;function W(E){var M;return E=+E,E===0&&this.length<=1?this:(E<0&&(E=this.length+E),this._make((M=this[E])!==null&&M!==void 0?M:[]))}Un.eq=W;function oe(E){return E==null?this.toArray():this[E<0?this.length+E:E]}Un.get=oe;function se(){return Array.prototype.slice.call(this)}Un.toArray=se;function Z(E){var M,c;return E==null?(M=this.parent().children(),c=this[0]):typeof E=="string"?(M=this._make(E),c=this[0]):(M=this,c=He.isCheerio(E)?E[0]:E),Array.prototype.indexOf.call(M,c)}Un.index=Z;function B(E,M){return this._make(Array.prototype.slice.call(this,E,M))}Un.slice=B;function T(){var E;return(E=this.prevObject)!==null&&E!==void 0?E:this._make([])}Un.end=T;function j(E,M){var c=this._make(E,M),d=z(Oe.__spreadArray(Oe.__spreadArray([],this.get()),c.get()));return this._make(d)}Un.add=j;function U(E){return this.prevObject?this.add(E?this.prevObject.filter(E):this.prevObject):this}return Un.addBack=U,Un}var ir={},Jh;function rW(){if(Jh)return ir;Jh=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.clone=ir.text=ir.toString=ir.html=ir.empty=ir.replaceWith=ir.remove=ir.insertBefore=ir.before=ir.insertAfter=ir.after=ir.wrapAll=ir.unwrap=ir.wrapInner=ir.wrap=ir.prepend=ir.append=ir.prependTo=ir.appendTo=ir._makeDomArray=void 0;var Oe=fs.exports,Ae=Fi(),Ue=Fi(),He=Oe.__importStar(wf()),ge=rl(),_e=tc(),z=ec();function ie(W,oe){var se=this;return W==null?[]:_e.isCheerio(W)?oe?_e.cloneDom(W.get()):W.get():Array.isArray(W)?W.reduce(function(Z,B){return Z.concat(se._makeDomArray(B,oe))},[]):typeof W=="string"?He.default(W,this.options,!1).children:oe?_e.cloneDom([W]):[W]}ir._makeDomArray=ie;function w(W){return function(){for(var oe=this,se=[],Z=0;Z<arguments.length;Z++)se[Z]=arguments[Z];var B=this.length-1;return _e.domEach(this,function(T,j){if(!!Ae.hasChildren(T)){var U=typeof se[0]=="function"?se[0].call(T,j,ge.html(T.children)):se,E=oe._makeDomArray(U,j<B);W(E,T.children,T)}})}}function k(W,oe,se,Z,B){for(var T,j,U=Oe.__spreadArray([oe,se],Z),E=W[oe-1]||null,M=W[oe+se]||null,c=0;c<Z.length;++c){var d=Z[c],s=d.parent;if(s){var p=s.children.indexOf(Z[c]);p>-1&&(s.children.splice(p,1),B===s&&oe>p&&U[0]--)}d.parent=B,d.prev&&(d.prev.next=(T=d.next)!==null&&T!==void 0?T:null),d.next&&(d.next.prev=(j=d.prev)!==null&&j!==void 0?j:null),d.prev=Z[c-1]||E,d.next=Z[c+1]||M}return E&&(E.next=Z[0]),M&&(M.prev=Z[Z.length-1]),W.splice.apply(W,U)}function $(W){var oe=_e.isCheerio(W)?W:this._make(W);return oe.append(this),this}ir.appendTo=$;function D(W){var oe=_e.isCheerio(W)?W:this._make(W);return oe.prepend(this),this}ir.prependTo=D,ir.append=w(function(W,oe,se){k(oe,oe.length,0,W,se)}),ir.prepend=w(function(W,oe,se){k(oe,0,0,W,se)});function q(W){return function(oe){for(var se=this.length-1,Z=this.parents().last(),B=0;B<this.length;B++){var T=this[B],j=typeof oe=="function"?oe.call(T,B,T):typeof oe=="string"&&!_e.isHtml(oe)?Z.find(oe).clone():oe,U=this._makeDomArray(j,B<se)[0];if(!(!U||!z.DomUtils.hasChildren(U))){for(var E=U,M=0;M<E.children.length;){var c=E.children[M];_e.isTag(c)?(E=c,M=0):M++}W(T,E,[U])}}return this}}ir.wrap=q(function(W,oe,se){var Z=W.parent;if(!!Z){var B=Z.children,T=B.indexOf(W);He.update([W],oe),k(B,T,0,se,Z)}}),ir.wrapInner=q(function(W,oe,se){!Ae.hasChildren(W)||(He.update(W.children,oe),He.update(se,W))});function l(W){var oe=this;return this.parent(W).not("body").each(function(se,Z){oe._make(Z).replaceWith(Z.children)}),this}ir.unwrap=l;function P(W){var oe=this[0];if(oe){for(var se=this._make(typeof W=="function"?W.call(oe,0,oe):W).insertBefore(oe),Z=void 0,B=0;B<se.length;B++)se[B].type==="tag"&&(Z=se[B]);for(var T=0;Z&&T<Z.children.length;){var j=Z.children[T];j.type==="tag"?(Z=j,T=0):T++}Z&&this._make(Z).append(this)}return this}ir.wrapAll=P;function N(){for(var W=this,oe=[],se=0;se<arguments.length;se++)oe[se]=arguments[se];var Z=this.length-1;return _e.domEach(this,function(B,T){var j=B.parent;if(!(!z.DomUtils.hasChildren(B)||!j)){var U=j.children,E=U.indexOf(B);if(!(E<0)){var M=typeof oe[0]=="function"?oe[0].call(B,T,ge.html(B.children)):oe,c=W._makeDomArray(M,T<Z);k(U,E+1,0,c,j)}}})}ir.after=N;function C(W){var oe=this;typeof W=="string"&&(W=this._make(W)),this.remove();var se=[];return this._makeDomArray(W).forEach(function(Z){var B=oe.clone().toArray(),T=Z.parent;if(!!T){var j=T.children,U=j.indexOf(Z);U<0||(k(j,U+1,0,B,T),se.push.apply(se,B))}}),this._make(se)}ir.insertAfter=C;function y(){for(var W=this,oe=[],se=0;se<arguments.length;se++)oe[se]=arguments[se];var Z=this.length-1;return _e.domEach(this,function(B,T){var j=B.parent;if(!(!z.DomUtils.hasChildren(B)||!j)){var U=j.children,E=U.indexOf(B);if(!(E<0)){var M=typeof oe[0]=="function"?oe[0].call(B,T,ge.html(B.children)):oe,c=W._makeDomArray(M,T<Z);k(U,E,0,c,j)}}})}ir.before=y;function m(W){var oe=this,se=this._make(W);this.remove();var Z=[];return _e.domEach(se,function(B){var T=oe.clone().toArray(),j=B.parent;if(!!j){var U=j.children,E=U.indexOf(B);E<0||(k(U,E,0,T,j),Z.push.apply(Z,T))}}),this._make(Z)}ir.insertBefore=m;function g(W){var oe=W?this.filter(W):this;return _e.domEach(oe,function(se){z.DomUtils.removeElement(se),se.prev=se.next=se.parent=null}),this}ir.remove=g;function S(W){var oe=this;return _e.domEach(this,function(se,Z){var B=se.parent;if(!!B){var T=B.children,j=typeof W=="function"?W.call(se,Z,se):W,U=oe._makeDomArray(j);He.update(U,null);var E=T.indexOf(se);k(T,E,1,U,B),U.includes(se)||(se.parent=se.prev=se.next=null)}})}ir.replaceWith=S;function I(){return _e.domEach(this,function(W){!z.DomUtils.hasChildren(W)||(W.children.forEach(function(oe){oe.next=oe.prev=oe.parent=null}),W.children.length=0)})}ir.empty=I;function H(W){if(W===void 0){var oe=this[0];return!oe||!z.DomUtils.hasChildren(oe)?null:ge.html(oe.children,this.options)}var se=Oe.__assign(Oe.__assign({},this.options),{context:null});return _e.domEach(this,function(Z){if(!!z.DomUtils.hasChildren(Z)){Z.children.forEach(function(T){T.next=T.prev=T.parent=null}),se.context=Z;var B=_e.isCheerio(W)?W.toArray():He.default(""+W,se,!1).children;He.update(B,Z)}})}ir.html=H;function X(){return ge.html(this,this.options)}ir.toString=X;function Y(W){var oe=this;return W===void 0?ge.text(this):typeof W=="function"?_e.domEach(this,function(se,Z){Y.call(oe._make(se),W.call(se,Z,ge.text([se])))}):_e.domEach(this,function(se){if(!!z.DomUtils.hasChildren(se)){se.children.forEach(function(B){B.next=B.prev=B.parent=null});var Z=new Ue.Text(W);He.update(Z,se)}})}ir.text=Y;function x(){return this._make(_e.cloneDom(this.get()))}return ir.clone=x,ir}var el={},Qh;function iW(){if(Qh)return el;Qh=1,Object.defineProperty(el,"__esModule",{value:!0}),el.css=void 0;var Oe=tc();function Ae(z,ie){return z!=null&&ie!=null||typeof z=="object"&&!Array.isArray(z)?Oe.domEach(this,function(w,k){Oe.isTag(w)&&Ue(w,z,ie,k)}):He(this[0],z)}el.css=Ae;function Ue(z,ie,w,k){if(typeof ie=="string"){var $=He(z),D=typeof w=="function"?w.call(z,k,$[ie]):w;D===""?delete $[ie]:D!=null&&($[ie]=D),z.attribs.style=ge($)}else typeof ie=="object"&&Object.keys(ie).forEach(function(q,l){Ue(z,q,ie[q],l)})}function He(z,ie){if(!(!z||!Oe.isTag(z))){var w=_e(z.attribs.style);if(typeof ie=="string")return w[ie];if(Array.isArray(ie)){var k={};return ie.forEach(function($){w[$]!=null&&(k[$]=w[$])}),k}return w}}function ge(z){return Object.keys(z).reduce(function(ie,w){return""+ie+(ie?" ":"")+w+": "+z[w]+";"},"")}function _e(z){return z=(z||"").trim(),z?z.split(";").reduce(function(ie,w){var k=w.indexOf(":");return k<1||k===w.length-1||(ie[w.slice(0,k).trim()]=w.slice(k+1).trim()),ie},{}):{}}return el}var ya={},ep;function oW(){if(ep)return ya;ep=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.serializeArray=ya.serialize=void 0;var Oe=tc(),Ae="input,select,textarea,keygen",Ue=/%20/g,He=/\r?\n/g;function ge(){var z=this.serializeArray(),ie=z.map(function(w){return encodeURIComponent(w.name)+"="+encodeURIComponent(w.value)});return ie.join("&").replace(Ue,"+")}ya.serialize=ge;function _e(){var z=this;return this.map(function(ie,w){var k=z._make(w);return Oe.isTag(w)&&w.name==="form"?k.find(Ae).toArray():k.filter(Ae).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(ie,w){var k,$=z._make(w),D=$.attr("name"),q=(k=$.val())!==null&&k!==void 0?k:"";return Array.isArray(q)?q.map(function(l){return{name:D,value:l.replace(He,`\r
`)}}):{name:D,value:q.replace(He,`\r
`)}}).toArray()}return ya.serializeArray=_e,ya}var tp;function sW(){if(tp)return Qc;tp=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.Cheerio=void 0;var Oe=fs.exports,Ae=Oe.__importDefault(wf()),Ue=Oe.__importDefault(ff()),He=tc(),ge=Oe.__importStar(tW()),_e=Oe.__importStar(nW()),z=Oe.__importStar(rW()),ie=Oe.__importStar(iW()),w=Oe.__importStar(oW()),k=function(){function D(q,l,P,N){var C=this;if(N===void 0&&(N=Ue.default),this.length=0,this.options=N,!q)return this;if(P&&(typeof P=="string"&&(P=Ae.default(P,this.options,!1)),this._root=new this.constructor(P,null,null,this.options),this._root._root=this._root),He.isCheerio(q))return q;var y=typeof q=="string"&&He.isHtml(q)?Ae.default(q,this.options,!1).children:$(q)?[q]:Array.isArray(q)?q:null;if(y)return y.forEach(function(S,I){C[I]=S}),this.length=y.length,this;var m=q,g=l?typeof l=="string"?He.isHtml(l)?this._make(Ae.default(l,this.options,!1)):(m=l+" "+m,this._root):He.isCheerio(l)?l:this._make(l):this._root;return g?g.find(m):this}return D.prototype._make=function(q,l){var P=new this.constructor(q,l,this._root,this.options);return P.prevObject=this,P},D}();Qc.Cheerio=k,k.prototype.cheerio="[cheerio object]",k.prototype.splice=Array.prototype.splice,k.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(k.prototype,ge,_e,z,ie,w);function $(D){return!!D.name||D.type==="root"||D.type==="text"||D.type==="comment"}return Qc}var np;function rp(){if(np)return Uc;np=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.load=void 0;var Oe=fs.exports,Ae=Oe.__importStar(ff()),Ue=Oe.__importStar(rl()),He=sW(),ge=Oe.__importDefault(wf());function _e(z,ie,w){if(w===void 0&&(w=!0),z==null)throw new Error("cheerio.load() expects a string");var k=Oe.__assign(Oe.__assign({},Ae.default),Ae.flatten(ie)),$=ge.default(z,k,w),D=function(l){Oe.__extends(P,l);function P(){return l!==null&&l.apply(this,arguments)||this}return P}(He.Cheerio);function q(l,P,N,C){return N===void 0&&(N=$),new D(l,P,N,Oe.__assign(Oe.__assign({},k),Ae.flatten(C)))}return Object.assign(q,Ue,{load:_e,_root:$,_options:k,fn:D.prototype,prototype:D.prototype}),q}return Uc.load=_e,Uc}(function(Oe){Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.root=Oe.parseHTML=Oe.merge=Oe.contains=void 0;var Ae=fs.exports;Ae.__exportStar(qp(),Oe),Ae.__exportStar(rp(),Oe);var Ue=rp();Oe.default=Ue.load([]);var He=Ae.__importStar(rl());Oe.contains=He.contains,Oe.merge=He.merge,Oe.parseHTML=He.parseHTML,Oe.root=He.root})(up);var cf={},_f={exports:{}},Ql={exports:{}};(function(Oe,Ae){Oe.exports=Ue;function Ue(ge){return He.bind(null,ge)}function He(ge){var _e=[].slice.call(arguments,1);_e.unshift("["+ge+"]"),process.stderr.write(_e.join(" ")+`
`)}})(Ql);(function(Oe,Ae){Ql.exports("lex"),Oe.exports=Ue;function Ue(He){var ge="",_e,z=0,ie=-1,w=0,k=1,$="before-selector",D=[$],q={},l=[],P=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function N(){return Y(),He[ie]}function C(U){return U?D[D.length-1-U]:$}function y(U){var E=ie+1;return U===He.slice(E,E+U.length)}function m(U){var E=He.slice(ie).indexOf(U);return E>0?E:!1}function g(U){return U===S(1)}function S(U){return He[ie+(U||1)]}function I(){var U=D.pop();return $=D[D.length-1],U}function H(U){return $=U,D.push($),D.length}function X(U){var E=$;return D[D.length-1]=$=U,E}function Y(U){if((U||1)==1)He[ie]==`
`?(k++,z=1):z++,ie++;else{var E=He.slice(ie,ie+U).split(`
`);E.length>1&&(k+=E.length-1,z=1),z+=E[E.length-1].length,ie=ie+U}}function x(){q.end={line:k,col:z},l.push(q),ge="",q={}}function W(U){q={type:U,start:{line:k,col:z}}}for(;_e=N();)switch(_e){case" ":switch(C()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":ge+=_e;break}break;case`
`:case"	":case"\r":case"\f":switch(C()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":ge+=_e;break;case"at-value":_e===`
`&&(q.value=ge.trim(),x(),I());break}break;case":":switch(C()){case"name":q.name=ge.trim(),ge="",X("before-value");break;case"before-selector":ge+=_e,W("selector"),H("selector");break;case"before-value":X("value"),ge+=_e;break;default:ge+=_e;break}break;case";":switch(C()){case"name":case"before-value":case"value":ge.trim().length>0&&(q.value=ge.trim(),x()),X("before-name");break;case"value-paren":ge+=_e;break;case"at-value":q.value=ge.trim(),x(),I();break;case"before-name":break;default:ge+=_e;break}break;case"{":switch(C()){case"selector":if(S(-1)==="\\"){ge+=_e;break}q.text=ge.trim(),x(),X("before-name"),w=w+1;break;case"at-group":switch(q.name=ge.trim(),q.type){case"font-face":case"viewport":case"page":H("before-name");break;default:H("before-selector")}x(),w=w+1;break;case"name":case"at-rule":q.name=ge.trim(),x(),H("before-name"),w=w+1;break;case"comment":case"double-string":case"single-string":ge+=_e;break;case"before-value":X("value"),ge+=_e;break}break;case"}":switch(C()){case"before-name":case"name":case"before-value":case"value":ge&&(q.value=ge.trim()),q.name&&q.value&&x(),W("end"),x(),I(),C()==="at-group"&&(W("at-group-end"),x(),I()),w>0&&(w=w-1);break;case"at-group":case"before-selector":case"selector":if(S(-1)==="\\"){ge+=_e;break}w>0&&C(1)==="at-group"&&(W("at-group-end"),x()),w>1&&I(),w>0&&(w=w-1);break;case"double-string":case"single-string":case"comment":ge+=_e;break}break;case'"':case"'":switch(C()){case"double-string":_e==='"'&&S(-1)!=="\\"&&I();break;case"single-string":_e==="'"&&S(-1)!=="\\"&&I();break;case"before-at-value":X("at-value"),H(_e==='"'?"double-string":"single-string");break;case"before-value":X("value"),H(_e==='"'?"double-string":"single-string");break;case"comment":break;default:S(-1)!=="\\"&&H(_e==='"'?"double-string":"single-string")}ge+=_e;break;case"/":switch(C()){case"comment":case"double-string":case"single-string":ge+=_e;break;case"before-value":case"selector":case"name":case"value":if(g("*")){var oe=m("*/");oe&&Y(oe+1)}else C()=="before-value"&&X("value"),ge+=_e;break;default:g("*")?(W("comment"),H("comment"),Y()):ge+=_e;break}break;case"*":switch(C()){case"comment":g("/")?(q.text=ge,Y(),x(),I()):ge+=_e;break;case"before-selector":ge+=_e,W("selector"),H("selector");break;case"before-value":X("value"),ge+=_e;break;default:ge+=_e}break;case"@":switch(C()){case"comment":case"double-string":case"single-string":ge+=_e;break;case"before-value":X("value"),ge+=_e;break;default:for(var se=!1,Z,B,T=0,j=P.length;!se&&T<j;++T)B=P[T],Z=B.name||B,y(Z)&&(se=!0,W(Z),H(B.state||"at-group"),Y(Z.length),B.prefix&&(q.prefix=B.prefix),B.type&&(q.type=B.type));se||(ge+=_e);break}break;case"(":switch(C()){case"value":H("value-paren");break;case"before-value":X("value");break}ge+=_e;break;case")":switch(C()){case"value-paren":I();break;case"before-value":X("value");break}ge+=_e;break;default:switch(C()){case"before-selector":W("selector"),H("selector");break;case"before-name":W("property"),X("name");break;case"before-value":X("value");break;case"before-at-value":X("at-value");break}ge+=_e;break}return l}})(_f);var Mp={exports:{}};(function(Oe,Ae){Ql.exports("parse");var Ue=_f.exports;Oe.exports=ie;var He,ge,_e,z;function ie(I,H){H||(H={}),He=!!H.comments,_e=!!H.position,ge=0,z=Array.isArray(I)?I.slice():Ue(I);for(var X,Y=[],x;x=k();)X=y(x),X&&Y.push(X);return{type:"stylesheet",stylesheet:{rules:Y}}}function w(I,H){H||(H={});for(var X,Y=["type","name","value"],x={},W=0;W<Y.length;++W)X=Y[W],I[X]&&(x[X]=H[X]||I[X]);for(Y=Object.keys(H),W=0;W<Y.length;++W)X=Y[W],x[X]||(x[X]=H[X]);return _e&&(x.position={start:I.start,end:I.end}),x}function k(){var I=z.shift();return I}function $(I){ge=ge+1;var H={};switch(I.type){case"font-face":case"viewport":H.declarations=g();break;case"page":H.prefix=I.prefix,H.declarations=g();break;default:H.prefix=I.prefix,H.rules=S()}return w(I,H)}function D(I){return w(I)}function q(I){return w(I)}function l(I){return w(I,{text:I.text})}function P(I){return w(I)}function N(I){return w(I)}function C(I){function H(X){return X.trim()}return w(I,{type:"rule",selectors:I.text.split(",").map(H),declarations:g()})}function y(I){switch(I.type){case"property":return N(I);case"selector":return C(I);case"at-group-end":ge=ge-1;return;case"media":case"keyframes":return $(I);case"comment":if(He)return l(I);break;case"charset":return q(I);case"import":return D(I);case"namespace":return P(I);case"font-face":case"supports":case"viewport":case"document":case"page":return $(I)}}function m(I){for(var H,X=[],Y;(Y=k())&&I&&I(Y);)H=y(Y),H&&X.push(H);return Y&&Y.type!=="end"&&z.unshift(Y),X}function g(){return m(function(I){return I.type==="property"||I.type==="comment"})}function S(){return m(function(){return ge})}})(Mp);var jp={exports:{}};(function(Oe,Ae){Ql.exports("stringify");var Ue,He,ge,_e,z,ie;Oe.exports=w;function w(S,I){I||(I={}),ge=I.indentation||"",He=!!I.compress,Ue=!!I.comments,_e=1,He?z=ie="":(z=`
`,ie=" ");var H=P(S.stylesheet.rules,m).join(`
`).trim();return H}function k(S){if(S){_e+=S;return}return He?"":Array(_e).join(ge||"")}function $(S){return"@"+S.type+" "+S.value+";"+z}function D(S){var I="",H=S.prefix||"";S.name&&(I=" "+S.name);var X=S.type!=="page";return"@"+H+S.type+I+ie+N(S,X)+z}function q(S){return Ue?"/*"+(S.text||"")+"*/"+z:""}function l(S){var I;return S.selectors?I=S.selectors.join(","+z):(I="@"+S.type,I+=S.name?" "+S.name:""),k()+I+ie+N(S)+z}function P(S,I){return S.reduce(function(H,X){var Y=X.type==="comment"?q(X):I(X);return Y&&H.push(Y),H},[])}function N(S,I){var H=S.declarations,X=y;return S.rules&&(H=S.rules,X=l),H=C(H,X),H&&(H=z+H+(I?"":z)),"{"+H+k()+"}"}function C(S,I){if(!S)return"";k(1);var H=P(S,I);return k(-1),H.length?H.join(z):""}function y(S){if(S.type==="property")return g(S)}function m(S){switch(S.type){case"rule":return l(S);case"media":case"keyframes":return D(S);case"comment":return q(S);case"import":case"charset":case"namespace":return $(S);case"font-face":case"supports":case"viewport":case"document":case"page":return D(S)}}function g(S){var I=S.name?S.name+":"+ie:"";return k()+I+S.value+";"}})(jp);var aW={lex:_f.exports,parse:Mp.exports,stringify:jp.exports},Lp={exports:{}},cW=/([-.*+?^${}()|[\]\/\\])/g,lW=/\\/g,wa=function(Oe){return(Oe+"").replace(cW,"\\$1")},ba=function(Oe){return(Oe+"").replace(lW,"")},uW=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+wa(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),Ip=function(Ae){this.combinator=Ae||" ",this.tag="*"};Ip.prototype.toString=function(){if(!this.raw){var Oe="",Ae,Ue;if(Oe+=this.tag||"*",this.id&&(Oe+="#"+this.id),this.classes&&(Oe+="."+this.classList.join(".")),this.attributes)for(Ae=0;Ue=this.attributes[Ae++];)Oe+="["+Ue.name+(Ue.operator?Ue.operator+'"'+Ue.value+'"':"")+"]";if(this.pseudos)for(Ae=0;Ue=this.pseudos[Ae++];)Oe+=":"+Ue.name,Ue.value&&(Oe+="("+Ue.value+")");this.raw=Oe}return this.raw};var Zp=function(){this.length=0};Zp.prototype.toString=function(){if(!this.raw){for(var Oe="",Ae=0,Ue;Ue=this[Ae++];)Ae!==1&&(Oe+=" "),Ue.combinator!==" "&&(Oe+=Ue.combinator+" "),Oe+=Ue;this.raw=Oe}return this.raw};var fW=function(Oe,Ae,Ue,He,ge,_e,z,ie,w,k,$,D,q,l,P,N){var C,y;if((Ae||!this.length)&&(C=this[this.length++]=new Zp,Ae))return"";if(C||(C=this[this.length-1]),(Ue||He||!C.length)&&(y=C[C.length++]=new Ip(Ue)),y||(y=C[C.length-1]),ge)y.tag=ba(ge);else if(_e)y.id=ba(_e);else if(z){var m=ba(z),g=y.classes||(y.classes={});if(!g[m]){g[m]=wa(z);var S=y.classList||(y.classList=[]);S.push(m),S.sort()}}else q?(N=N||P,(y.pseudos||(y.pseudos=[])).push({type:D.length==1?"class":"element",name:ba(q),escapedName:wa(q),value:N?ba(N):null,escapedValue:N?wa(N):null})):ie&&($=$?wa($):null,(y.attributes||(y.attributes=[])).push({operator:w,name:ba(ie),escapedName:wa(ie),value:$?ba($):null,escapedValue:$?wa($):null}));return""},Fp=function(Ae){this.length=0;for(var Ue=this,He=Ae,ge;Ae;){if(ge=Ae.replace(uW,function(){return fW.apply(Ue,arguments)}),ge===Ae)throw new Error(He+" is an invalid expression");Ae=ge}};Fp.prototype.toString=function(){if(!this.raw){for(var Oe=[],Ae=0,Ue;Ue=this[Ae++];)Oe.push(Ue);this.raw=Oe.join(", ")}return this.raw};var ip={},hW=function(Oe){return Oe==null?null:(Oe=(""+Oe).replace(/^\s+|\s+$/g,""),ip[Oe]||(ip[Oe]=new Fp(Oe)))},pW=hW;(function(Oe,Ae){var Ue=pW;Oe.exports=He;function He(_e,z){this.text=_e,this.spec=void 0,this.styleAttribute=z||!1}He.prototype.parsed=function(){return this.tokens||(this.tokens=ge(this.text)),this.tokens},He.prototype.specificity=function(){var _e=this.styleAttribute;return this.spec||(this.spec=z(this.text,this.parsed())),this.spec;function z(ie,w){for(var k=w||ge(ie),$=[_e?1:0,0,0,0],D=[],q=0;q<k.length;q++){var l=k[q],P=l.pseudos;if(l.id&&$[1]++,l.attributes&&($[2]+=l.attributes.length),l.classList&&($[2]+=l.classList.length),l.tag&&l.tag!=="*"&&$[3]++,P){$[3]+=P.length;for(var N=0;N<P.length;N++)P[N].name==="not"&&(D.push(P[N].value),$[3]--)}}for(var C=D.length;C--;)for(var y=z(D[C]),m=4;m--;)$[m]+=y[m];return $}};function ge(_e){try{return Ue(_e)[0]}catch{return[]}}})(Lp);var lf={exports:{}},op;function dW(){return op||(op=1,function(Oe,Ae){Oe.exports=He;var Ue=Tf();function He(ge,_e,z,ie,w){this.prop=ge,this.value=_e,this.selector=z,this.priority=ie||0,this.additionalPriority=w||[]}He.prototype.compareFunc=function(ge){var _e=[];_e.push.apply(_e,this.selector.specificity()),_e.push.apply(_e,this.additionalPriority),_e[0]+=this.priority;var z=[];return z.push.apply(z,ge.selector.specificity()),z.push.apply(z,ge.additionalPriority),z[0]+=ge.priority,Ue.compareFunc(_e,z)},He.prototype.compare=function(ge){var _e=this.compareFunc(ge);return _e===1?this:ge},He.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}}(lf)),lf.exports}var sp;function Tf(){return sp||(sp=1,function(Oe){var Ae=aW,Ue=Lp.exports,He=dW();Oe.Selector=Ue,Oe.Property=He;/**
 * Returns an array of the selectors.
 *
 * @license Sizzle CSS Selector Engine - MIT
 * @param {String} selectorText from mensch
 * @api public
 */Oe.extract=function(_e){for(var z=0,ie=[],w="",k=0,$=_e.length;k<$;k++){var D=_e.charAt(k);z?((D==="]"||D===")")&&z--,w+=D):D===","?(ie.push(w),w=""):((D==="["||D==="(")&&z++,(w.length||D!==","&&D!==`
`&&D!==" ")&&(w+=D))}return w.length&&ie.push(w),ie},Oe.parseCSS=function(ge){for(var _e=Ae.parse(ge,{position:!0,comments:!0}),z=typeof _e.stylesheet<"u"&&_e.stylesheet.rules?_e.stylesheet.rules:[],ie=[],w=0,k=z.length;w<k;w++)if(z[w].type=="rule")for(var $=z[w],D=$.selectors,q=0,l=D.length;q<l;q++)ie.push([D[q],$.declarations]);return ie},Oe.getPreservedText=function(ge,_e,z){for(var ie=Ae.parse(ge,{position:!0,comments:!0}),w=typeof ie.stylesheet<"u"&&ie.stylesheet.rules?ie.stylesheet.rules:[],k=[],$=w.length-1;$>=0;$--)(_e.fontFaces&&w[$].type==="font-face"||_e.mediaQueries&&w[$].type==="media"||_e.keyFrames&&w[$].type==="keyframes"||_e.pseudos&&w[$].selectors&&this.matchesPseudo(w[$].selectors[0],z))&&k.unshift(Ae.stringify({stylesheet:{rules:[w[$]]}},{comments:!1,indentation:"  "})),w[$].position.start;return k.length===0?!1:`
`+k.join(`
`)+`
`},Oe.normalizeLineEndings=function(ge){return ge.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`)},Oe.matchesPseudo=function(ge,_e){return _e.find(function(z){return ge.indexOf(z)>-1})},Oe.compareFunc=function(ge,_e){for(var z=Math.min(ge.length,_e.length),ie=0;ie<z;ie++)if(ge[ie]!==_e[ie])return ge[ie]>_e[ie]?1:-1;return ge.length-_e.length},Oe.compare=function(ge,_e){return Oe.compareFunc(ge,_e)==1?ge:_e},Oe.getDefaultOptions=function(ge){var _e=Object.assign({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,preserveKeyFrames:!0,preservePseudos:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},ge);return _e.webResources=_e.webResources||{},_e}}(cf)),cf}(function(Oe){var Ae=up;Tf();var Ue=function(ge,_e,z){return _e=Object.assign({decodeEntities:!1,_useHtmlParser2:!0},_e),ge=z(ge),Ae.load(ge,_e)},He=function(){var ge=[],_e=function(ie){var w=Oe.exports.codeBlocks;return Object.keys(w).forEach(function(k){var $=new RegExp(w[k].start+"([\\S\\s]*?)"+w[k].end,"g");ie=ie.replace($,function(D,q){return ge.push(D),"JUICE_CODE_BLOCK_"+(ge.length-1)+"_"})}),ie},z=function(ie){for(var w=0;w<ge.length;w++){var k=new RegExp("JUICE_CODE_BLOCK_"+w+'_(="")?',"gi");ie=ie.replace(k,function(){return ge[w]})}return ie};return{encodeEntities:_e,decodeEntities:z}};Oe.exports=function(ge,_e,z,ie){var w=He(),k=Ue(ge,_e,w.encodeEntities),$=[k];$.push.apply($,ie);var D=z.apply(void 0,$)||k;return _e&&_e.xmlMode?w.decodeEntities(D.xml()):w.decodeEntities(D.html())},Oe.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}})(lp);var Of={};Of.romanize=function(Oe){if(isNaN(Oe))return NaN;for(var Ae=String(+Oe).split(""),Ue=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],He="",ge=3;ge--;)He=(Ue[+Ae.pop()+ge*10]||"")+He;return Array(+Ae.join("")+1).join("M")+He};Of.alphanumeric=function(Oe){for(var Ae="",Ue;Oe>0;)Ue=(Oe-1)%26,Ae=String.fromCharCode(65+Ue)+Ae,Oe=(Oe-Ue)/26|0;return Ae||void 0};var Ls=Tf(),Gl=Of,gW=function(Ae){Ae.ignoredPseudos=["hover","active","focus","visited","link"],Ae.widthElements=["TABLE","TD","TH","IMG"],Ae.heightElements=["TABLE","TD","TH","IMG"],Ae.tableElements=["TABLE","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],Ae.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],Ae.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},Ae.excludedProperties=[],Ae.juiceDocument=$,Ae.inlineDocument=Ue;function Ue(l,P,N){N=N||{};var C=Ls.parseCSS(P),y=[],m="style",g={};if(N.styleAttributeName&&(m=N.styleAttributeName),C.forEach(H),y.forEach(X),N.inlinePseudoElements&&y.forEach(Y),N.applyWidthAttributes&&y.forEach(function(se){x(se,"width")}),N.applyHeightAttributes&&y.forEach(function(se){x(se,"height")}),N.applyAttributesTableElements&&y.forEach(oe),N.insertPreservedExtraCss&&N.extraCss){var S=Ls.getPreservedText(N.extraCss,{mediaQueries:N.preserveMediaQueries,fontFaces:N.preserveFontFaces,keyFrames:N.preserveKeyFrames});if(S){var I=null;N.insertPreservedExtraCss!==!0?I=l(N.insertPreservedExtraCss):(I=l("head"),I.length||(I=l("body")),I.length||(I=l.root())),I.first().append("<style>"+S+"</style>")}}function H(se){var Z=se[0],B=se[1],T=new Ls.Selector(Z),j=T.parsed();if(!!j){for(var U=ie(j),E=0;E<j.length;++E){var M=j[E];if(M.pseudos)for(var c=0;c<M.pseudos.length;++c){var d=M.pseudos[c];if(Ae.ignoredPseudos.indexOf(d.name)>=0)return}}if(U){var s=j[j.length-1],p=s.pseudos;s.pseudos=k(s.pseudos),Z=j.toString(),s.pseudos=p}var O;try{O=l(Z)}catch{return}O.each(function(){var K=this;if(K.name&&Ae.nonVisualElements.indexOf(K.name.toUpperCase())>=0)return;if(U){var Q="pseudo"+U,ne=K[Q];ne||(ne=K[Q]=l("<span />").get(0),ne.pseudoElementType=U,ne.pseudoElementParent=K,ne.counterProps=K.counterProps,K[Q]=ne),K=ne}if(!K.styleProps){if(K.styleProps={},l(K).attr(m)){var R="* { "+l(K).attr(m)+" } ";a(Ls.parseCSS(R)[0][1],new Ls.Selector("<style>",!0))}y.push(K)}K.counterProps||(K.counterProps=K.parent&&K.parent.counterProps?Object.create(K.parent.counterProps):{});function v(f,h){for(var _=h.split(/\s+/),A=0;A<_.length;A++){var J=_[A],te=parseInt(_[A+1],10);isNaN(te)?f.counterProps[J]=g[J]=0:f.counterProps[J]=g[_[A++]]=te}}function b(f,h){for(var _=h.split(/\s+/),A=0;A<_.length;A++){var J=_[A];if(f.counterProps[J]!==void 0){var te=parseInt(_[A+1],10);isNaN(te)?f.counterProps[J]=g[J]+=1:f.counterProps[J]=g[_[A++]]+=te}}}function a(f,h){for(var _=0,A=f.length;_<A;_++)if(f[_].type=="property"){var J=f[_].name,te=f[_].value;J==="counter-reset"&&v(K,te),J==="counter-increment"&&b(K,te);var F=te.match(/!important$/)!==null;F&&!N.preserveImportant&&(te=He(te));var G=[f[_].position.start.line,f[_].position.start.col],V=new Ls.Property(J,te,h,F?2:0,G),le=K.styleProps[J];Ae.excludedProperties.indexOf(J)<0&&(le&&le.compare(V)===V||!le)&&(le&&le.selector!==h?delete K.styleProps[J]:le&&(V.nextProp=le),K.styleProps[J]=V)}}a(B,T)})}}function X(se){Object.keys(se.styleProps).length;var Z=[];Object.keys(se.styleProps).forEach(function(T){for(var j=se.styleProps[T];typeof j<"u";)Z.push(j),j=j.nextProp}),Z.sort(function(T,j){return T.compareFunc(j)});var B=Z.filter(function(T){return T.prop!=="content"}).map(function(T){return T.prop+": "+T.value.replace(/["]/g,"'")+";"}).join(" ");B&&l(se).attr(m,B)}function Y(se){if(se.pseudoElementType&&se.styleProps.content){var Z=z(se);Z.img?(se.name="img",l(se).attr("src",Z.img)):l(se).text(Z);var B=se.pseudoElementParent;se.pseudoElementType==="before"?l(B).prepend(se):l(B).append(se)}}function x(se,Z){if(!!se.name){var B=se.name.toUpperCase();if(Ae[Z+"Elements"].indexOf(B)>-1){for(var T in se.styleProps)if(se.styleProps[T].prop===Z){var j=se.styleProps[T].value;if(N.preserveImportant&&(j=He(j)),j.match(/px/)){var U=j.replace("px","");l(se).attr(Z,U);return}if(Ae.tableElements.indexOf(B)>-1&&j.match(/\%/)){l(se).attr(Z,j);return}}}}}function W(se){return se.indexOf("url(")!==0?se:se.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}function oe(se){if(!!se.name){var Z=se.name.toUpperCase(),B=Object.keys(Ae.styleToAttribute);if(Ae.tableElements.indexOf(Z)>-1){for(var T in se.styleProps)if(B.indexOf(se.styleProps[T].prop)>-1){var j=Ae.styleToAttribute[se.styleProps[T].prop],U=se.styleProps[T].value;if(N.preserveImportant&&(U=He(U)),j==="background"&&(U=W(U)),/(linear|radial)-gradient\(/i.test(U))continue;l(se).attr(j,U)}}}}}function He(l){return l.replace(/\s*!important$/,"")}function ge(l,P){for(;l;){if(P in l.styleProps)return l.styleProps[P].value;var l=l.pseudoElementParent||l.parent}}function _e(l,P){switch(P){case"lower-roman":return Gl.romanize(l).toLowerCase();case"upper-roman":return Gl.romanize(l);case"lower-latin":case"lower-alpha":return Gl.alphanumeric(l).toLowerCase();case"upper-latin":case"upper-alpha":return Gl.alphanumeric(l);default:return l.toString()}}function z(l){var P=l.styleProps.content.value;if(P==="none"||P==="normal")return"";var N=P.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);if(N){var C=N[1].replace(/^['"]|['"]$/g,"");return{img:C}}for(var y=[],m=P.split(/['"]/),g=0;g<m.length;g++)if(m[g]!==""){var S=m[g].match(/var\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(S){var I=ge(l,S[1])||S[2];y.push(I.replace(/^['"]|['"]$/g,""));continue}var H=m[g].match(/counter\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(H&&H[1]in l.counterProps){var X=l.counterProps[H[1]];y.push(_e(X,H[3]));continue}var Y=m[g].match(/attr\s*\(\s*(.*?)\s*\)/i);if(Y){var x=Y[1];y.push(l.pseudoElementParent?l.pseudoElementParent.attribs[x]:l.attribs[x]);continue}y.push(m[g])}return P=y.join(""),P=P.replace(/\\/g,""),P}function ie(l){if(l.length!==0){var P=l[l.length-1].pseudos;if(!!P){for(var N=0;N<P.length;N++)if(w(P[N]))return P[N].name}}}function w(l){return l.name==="before"||l.name==="after"}function k(l){return l.filter(function(P){return!w(P)})}function $(l,P){P=Ls.getDefaultOptions(P);var N=q(l,P);return N+=`
`+P.extraCss,Ue(l,N,P),l}function D(l,P){var N=[],C=l("style"),y,m,g;return C.each(function(){g=this;var S=!!g.childNodes;if(y=S?g.childNodes:g.children,y.length!==1){P.removeStyleTags&&l(g).remove();return}if(m=y[0].data,P.applyStyleTags&&l(g).attr("data-embed")===void 0&&N.push(m),P.removeStyleTags&&l(g).attr("data-embed")===void 0){var I=S?g.childNodes[0].nodeValue:g.children[0].data,H=Ls.getPreservedText(I,{mediaQueries:P.preserveMediaQueries,fontFaces:P.preserveFontFaces,keyFrames:P.preserveKeyFrames,pseudos:P.preservePseudos},Ae.ignoredPseudos);H?S?g.childNodes[0].nodeValue=H:g.children[0].data=H:l(g).remove()}l(g).removeAttr("data-embed")}),N}function q(l,P){var N=D(l,P),C=N.join(`
`);return C}return Ae},Bp=lp.exports,mW=gW,Yl=mW(function(Oe,Ae){return Bp(Oe,{xmlMode:Ae&&Ae.xmlMode},vW,[Ae])}),vW=function(Oe,Ae){return Yl.juiceDocument(Oe,Ae)};Yl.inlineContent=function(Oe,Ae,Ue){return Bp(Oe,{xmlMode:Ue&&Ue.xmlMode},Yl.inlineDocument,[Ae,Ue])};var ap=Yl,Hp={exports:{}};/*! grapesjs - 0.20.1 */(function(Oe,Ae){(function(Ue,He){Oe.exports=He()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:Pn,()=>(()=>{var Ue={3410:(z,ie,w)=>{var k,$,D;$=[w(9050),w(2316)],k=function(q,l){var P=Array.prototype.slice;function N(T,j,U){return U.length<=4?T.call(j,U[0],U[1],U[2],U[3]):T.apply(j,U)}function C(T,j){return P.call(T,j)}function y(T,j){return T!=null&&(q.isArray(j)||(j=C(arguments,1)),q.all(j,function(U){return U in T}))}var m=function(){var T=!1,j=-1;function U(){j++,T=!0,q.defer(function(){T=!1})}return function(){return T||U(),j}}();function g(){this.registeredObjects=[],this.cidIndexes=[]}function S(T,j,U,E){for(var M,c=0,d=j.length;c<d;c++)if(M=j[c]){if(T==="on"){if(!E.objectRegistry.register(M))continue}else if(!E.objectRegistry.unregister(M))continue;q.isFunction(M[T])&&M[T]("all",U,E)}}function I(T,j){var U=j.type,E=j.undoTypes,M=!E[U]||E[U][T];q.isFunction(M)&&M(j.object,j.before,j.after,j.options)}function H(T,j,U,E,M){if(!(U.isCurrentlyUndoRedoing||T==="undo"&&U.pointer===-1||T==="redo"&&U.pointer===U.length-1)){U.isCurrentlyUndoRedoing=!0;var c,d,s=T==="undo";for(M?d=s&&U.pointer===U.length-1||!s&&U.pointer===-1?q.clone(U.models):P.apply(U.models,s?[0,U.pointer]:[U.pointer,U.length-1]):(c=U.at(s?U.pointer:U.pointer+1),d=E?U.where({magicFusionIndex:c.get("magicFusionIndex")}):[c]),U.pointer+=(s?-1:1)*d.length;c=s?d.pop():d.shift();)c[T]();U.isCurrentlyUndoRedoing=!1,j.trigger(T,j)}}function X(T,j){var U=T.condition,E=typeof U;return E==="function"?!!N(U,T,j):E!=="boolean"||U}function Y(T,j,U,E){if(T.track&&!T.isCurrentlyUndoRedoing&&j in E&&X(E[j],U)){var M=N(E[j].on,E[j],U);if(y(M,"object","before","after")){if(M.type=j,M.magicFusionIndex=m(),M.undoTypes=E,T.pointer<T.length-1)for(var c=T.length-T.pointer-1;c--;)T.pop();T.pointer=T.length,T.add(M),T.length>T.maximumStackLength&&(T.shift(),T.pointer--)}}}g.prototype={isRegistered:function(T){return T&&T.cid?this.registeredObjects[T.cid]:q.contains(this.registeredObjects,T)},register:function(T){return!this.isRegistered(T)&&(T&&T.cid?(this.registeredObjects[T.cid]=T,this.cidIndexes.push(T.cid)):this.registeredObjects.push(T),!0)},unregister:function(T){if(this.isRegistered(T)){if(T&&T.cid)delete this.registeredObjects[T.cid],this.cidIndexes.splice(q.indexOf(this.cidIndexes,T.cid),1);else{var j=q.indexOf(this.registeredObjects,T);this.registeredObjects.splice(j,1)}return!0}return!1},get:function(){return q.map(this.cidIndexes,function(T){return this.registeredObjects[T]},this).concat(this.registeredObjects)}};var x={add:{undo:function(T,j,U,E){T.remove(U,E)},redo:function(T,j,U,E){E.index&&(E.at=E.index),T.add(U,E)},on:function(T,j,U){return{object:j,before:void 0,after:T,options:q.clone(U)}}},remove:{undo:function(T,j,U,E){"index"in E&&(E.at=E.index),T.add(j,E)},redo:function(T,j,U,E){T.remove(j,E)},on:function(T,j,U){return{object:j,before:T,after:void 0,options:q.clone(U)}}},change:{undo:function(T,j,U,E){q.isEmpty(j)?q.each(q.keys(U),T.unset,T):(T.set(j),E&&E.unsetData&&E.unsetData.before&&E.unsetData.before.length&&q.each(E.unsetData.before,T.unset,T))},redo:function(T,j,U,E){q.isEmpty(U)?q.each(q.keys(j),T.unset,T):(T.set(U),E&&E.unsetData&&E.unsetData.after&&E.unsetData.after.length&&q.each(E.unsetData.after,T.unset,T))},on:function(T,j){var U=T.changedAttributes(),E=q.keys(U),M=q.pick(T.previousAttributes(),E),c=q.keys(M),d=(j||(j={})).unsetData={after:[],before:[]};return E.length!=c.length&&(E.length>c.length?q.each(E,function(s){s in M||d.before.push(s)},this):q.each(c,function(s){s in U||d.after.push(s)})),{object:T,before:M,after:U,options:q.clone(j)}}},reset:{undo:function(T,j,U){T.reset(j)},redo:function(T,j,U){T.reset(U)},on:function(T,j){return{object:T,before:j.previousModels,after:q.clone(T.models)}}}};function W(){}function oe(T,j,U,E){if(typeof j=="object")return q.each(j,function(M,c){T===2?oe(T,M,U,E):oe(T,c,M,U)});switch(T){case 0:y(U,"undo","redo","on")&&q.all(q.pick(U,"undo","redo","on"),q.isFunction)&&(E[j]=U);break;case 1:E[j]&&q.isObject(U)&&(E[j]=q.extend({},E[j],U));break;case 2:delete E[j]}return this}W.prototype=x;var se=l.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(T){I("undo",this.attributes)},redo:function(T){I("redo",this.attributes)}}),Z=l.Collection.extend({model:se,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(T){this.maximumStackLength=T}}),B=l.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(T){this.stack=new Z,this.objectRegistry=new g,this.undoTypes=new W,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(j,U){this.stack.setMaxLength(U)},this),T&&T.track&&this.startTracking(),T&&T.register&&(q.isArray(T.register)||q.isArguments(T.register)?N(this.register,this,T.register):this.register(T.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(T){Y(this.stack,T,C(arguments,1),this.undoTypes)},register:function(){S("on",arguments,this._addToStack,this)},unregister:function(){S("off",arguments,this._addToStack,this)},unregisterAll:function(){N(this.unregister,this,this.objectRegistry.get())},undo:function(T){H("undo",this,this.stack,T)},undoAll:function(){H("undo",this,this.stack,!1,!0)},redo:function(T){H("redo",this,this.stack,T)},redoAll:function(){H("redo",this,this.stack,!1,!0)},isAvailable:function(T){var j=this.stack,U=j.length;switch(T){case"undo":return U>0&&j.pointer>-1;case"redo":return U>0&&j.pointer<U-1;default:return!1}},merge:function(T){for(var j,U=q.isArray(T)?T:C(arguments);j=U.pop();)j instanceof B&&j.stack instanceof Z&&(j.stack=this.stack)},addUndoType:function(T,j){oe(0,T,j,this.undoTypes)},changeUndoType:function(T,j){oe(1,T,j,this.undoTypes)},removeUndoType:function(T){oe(2,T,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return q.extend(B,{defaults:function(T){q.extend(B.prototype.defaults,T)},addUndoType:function(T,j){oe(0,T,j,x)},changeUndoType:function(T,j){oe(1,T,j,x)},removeUndoType:function(T){oe(2,T,void 0,x)}}),l.UndoManager=B},(D=typeof k=="function"?k.apply(ie,$):k)===void 0||(z.exports=D)},2316:(z,ie,w)=>{var k,$;(function(D){var q=typeof self=="object"&&self.self===self&&self||typeof w.g=="object"&&w.g.global===w.g&&w.g;k=[w(9050),w(2579),ie],$=function(l,P,N){q.Backbone=function(C,y,m,g){var S=C.Backbone,I=Array.prototype.slice;y.VERSION="1.4.1",y.$=g,y.noConflict=function(){return C.Backbone=S,this},y.emulateHTTP=!1,y.emulateJSON=!1;var H,X=y.Events={},Y=/\s+/,x=function(re,Te,Re,Fe,it){var lt,St=0;if(Re&&typeof Re=="object")for(Fe!==void 0&&("context"in it)&&it.context===void 0&&(it.context=Fe),lt=m.keys(Re);St<lt.length;St++)Te=x(re,Te,lt[St],Re[lt[St]],it);else if(Re&&Y.test(Re))for(lt=Re.split(Y);St<lt.length;St++)Te=re(Te,lt[St],Fe,it);else Te=re(Te,Re,Fe,it);return Te};X.on=function(re,Te,Re){return this._events=x(W,this._events||{},re,Te,{context:Re,ctx:this,listening:H}),H&&((this._listeners||(this._listeners={}))[H.id]=H,H.interop=!1),this},X.listenTo=function(re,Te,Re){if(!re)return this;var Fe=re._listenId||(re._listenId=m.uniqueId("l")),it=this._listeningTo||(this._listeningTo={}),lt=H=it[Fe];lt||(this._listenId||(this._listenId=m.uniqueId("l")),lt=H=it[Fe]=new j(this,re));var St=oe(re,Te,Re,this);if(H=void 0,St)throw St;return lt.interop&&lt.on(Te,Re),this};var W=function(re,Te,Re,Fe){if(Re){var it=re[Te]||(re[Te]=[]),lt=Fe.context,St=Fe.ctx,Ut=Fe.listening;Ut&&Ut.count++,it.push({callback:Re,context:lt,ctx:lt||St,listening:Ut})}return re},oe=function(re,Te,Re,Fe){try{re.on(Te,Re,Fe)}catch(it){return it}};X.off=function(re,Te,Re){return this._events?(this._events=x(se,this._events,re,Te,{context:Re,listeners:this._listeners}),this):this},X.stopListening=function(re,Te,Re){var Fe=this._listeningTo;if(!Fe)return this;for(var it=re?[re._listenId]:m.keys(Fe),lt=0;lt<it.length;lt++){var St=Fe[it[lt]];if(!St)break;St.obj.off(Te,Re,this),St.interop&&St.off(Te,Re)}return m.isEmpty(Fe)&&(this._listeningTo=void 0),this};var se=function(re,Te,Re,Fe){if(re){var it,lt=Fe.context,St=Fe.listeners,Ut=0;if(Te||lt||Re){for(it=Te?[Te]:m.keys(re);Ut<it.length;Ut++){var Xt=re[Te=it[Ut]];if(!Xt)break;for(var Dt=[],ot=0;ot<Xt.length;ot++){var st=Xt[ot];if(Re&&Re!==st.callback&&Re!==st.callback._callback||lt&&lt!==st.context)Dt.push(st);else{var Ve=st.listening;Ve&&Ve.off(Te,Re)}}Dt.length?re[Te]=Dt:delete re[Te]}return re}for(it=m.keys(St);Ut<it.length;Ut++)St[it[Ut]].cleanup()}};X.once=function(re,Te,Re){var Fe=x(Z,{},re,Te,this.off.bind(this));return typeof re=="string"&&Re==null&&(Te=void 0),this.on(Fe,Te,Re)},X.listenToOnce=function(re,Te,Re){var Fe=x(Z,{},Te,Re,this.stopListening.bind(this,re));return this.listenTo(re,Fe)};var Z=function(re,Te,Re,Fe){if(Re){var it=re[Te]=m.once(function(){Fe(Te,it),Re.apply(this,arguments)});it._callback=Re}return re};X.trigger=function(re){if(!this._events)return this;for(var Te=Math.max(0,arguments.length-1),Re=Array(Te),Fe=0;Fe<Te;Fe++)Re[Fe]=arguments[Fe+1];return x(B,this._events,re,void 0,Re),this};var B=function(re,Te,Re,Fe){if(re){var it=re[Te],lt=re.all;it&&lt&&(lt=lt.slice()),it&&T(it,Fe),lt&&T(lt,[Te].concat(Fe))}return re},T=function(re,Te){var Re,Fe=-1,it=re.length,lt=Te[0],St=Te[1],Ut=Te[2];switch(Te.length){case 0:for(;++Fe<it;)(Re=re[Fe]).callback.call(Re.ctx);return;case 1:for(;++Fe<it;)(Re=re[Fe]).callback.call(Re.ctx,lt);return;case 2:for(;++Fe<it;)(Re=re[Fe]).callback.call(Re.ctx,lt,St);return;case 3:for(;++Fe<it;)(Re=re[Fe]).callback.call(Re.ctx,lt,St,Ut);return;default:for(;++Fe<it;)(Re=re[Fe]).callback.apply(Re.ctx,Te);return}},j=function(re,Te){this.id=re._listenId,this.listener=re,this.obj=Te,this.interop=!0,this.count=0,this._events=void 0};j.prototype.on=X.on,j.prototype.off=function(re,Te){var Re;this.interop?(this._events=x(se,this._events,re,Te,{context:void 0,listeners:void 0}),Re=!this._events):(this.count--,Re=this.count===0),Re&&this.cleanup()},j.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},X.bind=X.on,X.unbind=X.off,m.extend(y,X);var U=y.Model=function(re,Te){var Re=re||{};Te||(Te={}),this.preinitialize.apply(this,arguments),this.cid=m.uniqueId(this.cidPrefix),this.attributes={},Te.collection&&(this.collection=Te.collection),Te.parse&&(Re=this.parse(Re,Te)||{});var Fe=m.result(this,"defaults");Re=m.defaults(m.extend({},Fe,Re),Fe),this.set(Re,Te),this.changed={},this.initialize.apply(this,arguments)};m.extend(U.prototype,X,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(re){return m.clone(this.attributes)},sync:function(){return y.sync.apply(this,arguments)},get:function(re){return this.attributes[re]},escape:function(re){return m.escape(this.get(re))},has:function(re){return this.get(re)!=null},matches:function(re){return!!m.iteratee(re,this)(this.attributes)},set:function(re,Te,Re){if(re==null)return this;var Fe;if(typeof re=="object"?(Fe=re,Re=Te):(Fe={})[re]=Te,Re||(Re={}),!this._validate(Fe,Re))return!1;var it=Re.unset,lt=Re.silent,St=[],Ut=this._changing;this._changing=!0,Ut||(this._previousAttributes=m.clone(this.attributes),this.changed={});var Xt=this.attributes,Dt=this.changed,ot=this._previousAttributes;for(var st in Fe)Te=Fe[st],m.isEqual(Xt[st],Te)||St.push(st),m.isEqual(ot[st],Te)?delete Dt[st]:Dt[st]=Te,it?delete Xt[st]:Xt[st]=Te;if(this.idAttribute in Fe){var Ve=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Ve,Re)}if(!lt){St.length&&(this._pending=Re);for(var Ge=0;Ge<St.length;Ge++)this.trigger("change:"+St[Ge],this,Xt[St[Ge]],Re)}if(Ut)return this;if(!lt)for(;this._pending;)Re=this._pending,this._pending=!1,this.trigger("change",this,Re);return this._pending=!1,this._changing=!1,this},unset:function(re,Te){return this.set(re,void 0,m.extend({},Te,{unset:!0}))},clear:function(re){var Te={};for(var Re in this.attributes)Te[Re]=void 0;return this.set(Te,m.extend({},re,{unset:!0}))},hasChanged:function(re){return re==null?!m.isEmpty(this.changed):m.has(this.changed,re)},changedAttributes:function(re){if(!re)return!!this.hasChanged()&&m.clone(this.changed);var Te,Re=this._changing?this._previousAttributes:this.attributes,Fe={};for(var it in re){var lt=re[it];m.isEqual(Re[it],lt)||(Fe[it]=lt,Te=!0)}return!!Te&&Fe},previous:function(re){return re!=null&&this._previousAttributes?this._previousAttributes[re]:null},previousAttributes:function(){return m.clone(this._previousAttributes)},fetch:function(re){re=m.extend({parse:!0},re);var Te=this,Re=re.success;return re.success=function(Fe){var it=re.parse?Te.parse(Fe,re):Fe;if(!Te.set(it,re))return!1;Re&&Re.call(re.context,Te,Fe,re),Te.trigger("sync",Te,Fe,re)},be(this,re),this.sync("read",this,re)},save:function(re,Te,Re){var Fe;re==null||typeof re=="object"?(Fe=re,Re=Te):(Fe={})[re]=Te;var it=(Re=m.extend({validate:!0,parse:!0},Re)).wait;if(Fe&&!it){if(!this.set(Fe,Re))return!1}else if(!this._validate(Fe,Re))return!1;var lt=this,St=Re.success,Ut=this.attributes;Re.success=function(ot){lt.attributes=Ut;var st=Re.parse?lt.parse(ot,Re):ot;if(it&&(st=m.extend({},Fe,st)),st&&!lt.set(st,Re))return!1;St&&St.call(Re.context,lt,ot,Re),lt.trigger("sync",lt,ot,Re)},be(this,Re),Fe&&it&&(this.attributes=m.extend({},Ut,Fe));var Xt=this.isNew()?"create":Re.patch?"patch":"update";Xt!=="patch"||Re.attrs||(Re.attrs=Fe);var Dt=this.sync(Xt,this,Re);return this.attributes=Ut,Dt},destroy:function(re){re=re?m.clone(re):{};var Te=this,Re=re.success,Fe=re.wait,it=function(){Te.stopListening(),Te.trigger("destroy",Te,Te.collection,re)};re.success=function(St){Fe&&it(),Re&&Re.call(re.context,Te,St,re),Te.isNew()||Te.trigger("sync",Te,St,re)};var lt=!1;return this.isNew()?m.defer(re.success):(be(this,re),lt=this.sync("delete",this,re)),Fe||it(),lt},url:function(){var re=m.result(this,"urlRoot")||m.result(this.collection,"url")||ae();if(this.isNew())return re;var Te=this.get(this.idAttribute);return re.replace(/[^\/]$/,"$&/")+encodeURIComponent(Te)},parse:function(re,Te){return re},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(re){return this._validate({},m.extend({},re,{validate:!0}))},_validate:function(re,Te){if(!Te.validate||!this.validate)return!0;re=m.extend({},this.attributes,re);var Re=this.validationError=this.validate(re,Te)||null;return!Re||(this.trigger("invalid",this,Re,m.extend(Te,{validationError:Re})),!1)}});var E=y.Collection=function(re,Te){Te||(Te={}),this.preinitialize.apply(this,arguments),Te.model&&(this.model=Te.model),Te.comparator!==void 0&&(this.comparator=Te.comparator),this._reset(),this.initialize.apply(this,arguments),re&&this.reset(re,m.extend({silent:!0},Te))},M={add:!0,remove:!0,merge:!0},c={add:!0,remove:!1},d=function(re,Te,Re){Re=Math.min(Math.max(Re,0),re.length);var Fe,it=Array(re.length-Re),lt=Te.length;for(Fe=0;Fe<it.length;Fe++)it[Fe]=re[Fe+Re];for(Fe=0;Fe<lt;Fe++)re[Fe+Re]=Te[Fe];for(Fe=0;Fe<it.length;Fe++)re[Fe+lt+Re]=it[Fe]};m.extend(E.prototype,X,{model:U,preinitialize:function(){},initialize:function(){},toJSON:function(re){return this.map(function(Te){return Te.toJSON(re)})},sync:function(){return y.sync.apply(this,arguments)},add:function(re,Te){return this.set(re,m.extend({merge:!1},Te,c))},remove:function(re,Te){Te=m.extend({},Te);var Re=!m.isArray(re);re=Re?[re]:re.slice();var Fe=this._removeModels(re,Te);return!Te.silent&&Fe.length&&(Te.changes={added:[],merged:[],removed:Fe},this.trigger("update",this,Te)),Re?Fe[0]:Fe},set:function(re,Te){if(re!=null){(Te=m.extend({},M,Te)).parse&&!this._isModel(re)&&(re=this.parse(re,Te)||[]);var Re=!m.isArray(re);re=Re?[re]:re.slice();var Fe=Te.at;Fe!=null&&(Fe=+Fe),Fe>this.length&&(Fe=this.length),Fe<0&&(Fe+=this.length+1);var it,lt,St=[],Ut=[],Xt=[],Dt=[],ot={},st=Te.add,Ve=Te.merge,Ge=Te.remove,dt=!1,We=this.comparator&&Fe==null&&Te.sort!==!1,mt=m.isString(this.comparator)?this.comparator:null;for(lt=0;lt<re.length;lt++){it=re[lt];var Ke=this.get(it);if(Ke){if(Ve&&it!==Ke){var gt=this._isModel(it)?it.attributes:it;Te.parse&&(gt=Ke.parse(gt,Te)),Ke.set(gt,Te),Xt.push(Ke),We&&!dt&&(dt=Ke.hasChanged(mt))}ot[Ke.cid]||(ot[Ke.cid]=!0,St.push(Ke)),re[lt]=Ke}else st&&(it=re[lt]=this._prepareModel(it,Te))&&(Ut.push(it),this._addReference(it,Te),ot[it.cid]=!0,St.push(it))}if(Ge){for(lt=0;lt<this.length;lt++)ot[(it=this.models[lt]).cid]||Dt.push(it);Dt.length&&this._removeModels(Dt,Te)}var vt=!1,Ct=!We&&st&&Ge;if(St.length&&Ct?(vt=this.length!==St.length||m.some(this.models,function(It,Nt){return It!==St[Nt]}),this.models.length=0,d(this.models,St,0),this.length=this.models.length):Ut.length&&(We&&(dt=!0),d(this.models,Ut,Fe==null?this.length:Fe),this.length=this.models.length),dt&&this.sort({silent:!0}),!Te.silent){for(lt=0;lt<Ut.length;lt++)Fe!=null&&(Te.index=Fe+lt),(it=Ut[lt]).trigger("add",it,this,Te);(dt||vt)&&this.trigger("sort",this,Te),(Ut.length||Dt.length||Xt.length)&&(Te.changes={added:Ut,removed:Dt,merged:Xt},this.trigger("update",this,Te))}return Re?re[0]:re}},reset:function(re,Te){Te=Te?m.clone(Te):{};for(var Re=0;Re<this.models.length;Re++)this._removeReference(this.models[Re],Te);return Te.previousModels=this.models,this._reset(),re=this.add(re,m.extend({silent:!0},Te)),Te.silent||this.trigger("reset",this,Te),re},push:function(re,Te){return this.add(re,m.extend({at:this.length},Te))},pop:function(re){var Te=this.at(this.length-1);return this.remove(Te,re)},unshift:function(re,Te){return this.add(re,m.extend({at:0},Te))},shift:function(re){var Te=this.at(0);return this.remove(Te,re)},slice:function(){return I.apply(this.models,arguments)},get:function(re){if(re!=null)return this._byId[re]||this._byId[this.modelId(this._isModel(re)?re.attributes:re,re.idAttribute)]||re.cid&&this._byId[re.cid]},has:function(re){return this.get(re)!=null},at:function(re){return re<0&&(re+=this.length),this.models[re]},where:function(re,Te){return this[Te?"find":"filter"](re)},findWhere:function(re){return this.where(re,!0)},sort:function(re){var Te=this.comparator;if(!Te)throw new Error("Cannot sort a set without a comparator");re||(re={});var Re=Te.length;return m.isFunction(Te)&&(Te=Te.bind(this)),Re===1||m.isString(Te)?this.models=this.sortBy(Te):this.models.sort(Te),re.silent||this.trigger("sort",this,re),this},pluck:function(re){return this.map(re+"")},fetch:function(re){var Te=(re=m.extend({parse:!0},re)).success,Re=this;return re.success=function(Fe){var it=re.reset?"reset":"set";Re[it](Fe,re),Te&&Te.call(re.context,Re,Fe,re),Re.trigger("sync",Re,Fe,re)},be(this,re),this.sync("read",this,re)},create:function(re,Te){var Re=(Te=Te?m.clone(Te):{}).wait;if(!(re=this._prepareModel(re,Te)))return!1;Re||this.add(re,Te);var Fe=this,it=Te.success;return Te.success=function(lt,St,Ut){Re&&Fe.add(lt,Ut),it&&it.call(Ut.context,lt,St,Ut)},re.save(null,Te),re},parse:function(re,Te){return re},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(re,Te){return re[Te||this.model.prototype.idAttribute||"id"]},values:function(){return new p(this,O)},keys:function(){return new p(this,K)},entries:function(){return new p(this,Q)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(re,Te){return this._isModel(re)?(re.collection||(re.collection=this),re):((Te=Te?m.clone(Te):{}).collection=this,(Re=this.model.prototype?new this.model(re,Te):this.model(re,Te)).validationError?(this.trigger("invalid",this,Re.validationError,Te),!1):Re);var Re},_removeModels:function(re,Te){for(var Re=[],Fe=0;Fe<re.length;Fe++){var it=this.get(re[Fe]);if(it){var lt=this.indexOf(it);this.models.splice(lt,1),this.length--,delete this._byId[it.cid];var St=this.modelId(it.attributes,it.idAttribute);St!=null&&delete this._byId[St],Te.silent||(Te.index=lt,it.trigger("remove",it,this,Te)),Re.push(it),this._removeReference(it,Te)}}return Re},_isModel:function(re){return re instanceof U},_addReference:function(re,Te){this._byId[re.cid]=re;var Re=this.modelId(re.attributes,re.idAttribute);Re!=null&&(this._byId[Re]=re),re.on("all",this._onModelEvent,this)},_removeReference:function(re,Te){delete this._byId[re.cid];var Re=this.modelId(re.attributes,re.idAttribute);Re!=null&&delete this._byId[Re],this===re.collection&&delete re.collection,re.off("all",this._onModelEvent,this)},_onModelEvent:function(re,Te,Re,Fe){if(Te){if((re==="add"||re==="remove")&&Re!==this)return;if(re==="destroy"&&this.remove(Te,Fe),re==="changeId"){var it=this.modelId(Te.previousAttributes(),Te.idAttribute),lt=this.modelId(Te.attributes,Te.idAttribute);it!=null&&delete this._byId[it],lt!=null&&(this._byId[lt]=Te)}}this.trigger.apply(this,arguments)}});var s=typeof Symbol=="function"&&Symbol.iterator;s&&(E.prototype[s]=E.prototype.values);var p=function(re,Te){this._collection=re,this._kind=Te,this._index=0},O=1,K=2,Q=3;s&&(p.prototype[s]=function(){return this}),p.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var re,Te=this._collection.at(this._index);if(this._index++,this._kind===O)re=Te;else{var Re=this._collection.modelId(Te.attributes,Te.idAttribute);re=this._kind===K?Re:[Re,Te]}return{value:re,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var ne=y.View=function(re){this.cid=m.uniqueId("view"),this.preinitialize.apply(this,arguments),m.extend(this,m.pick(re,v)),this._ensureElement(),this.initialize.apply(this,arguments)},R=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];m.extend(ne.prototype,X,{tagName:"div",$:function(re){return this.$el.find(re)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(re){return this.undelegateEvents(),this._setElement(re),this.delegateEvents(),this},_setElement:function(re){this.$el=re instanceof y.$?re:y.$(re),this.el=this.$el[0]},delegateEvents:function(re){if(re||(re=m.result(this,"events")),!re)return this;for(var Te in this.undelegateEvents(),re){var Re=re[Te];if(m.isFunction(Re)||(Re=this[Re]),Re){var Fe=Te.match(R);this.delegate(Fe[1],Fe[2],Re.bind(this))}}return this},delegate:function(re,Te,Re){return this.$el.on(re+".delegateEvents"+this.cid,Te,Re),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(re,Te,Re){return this.$el.off(re+".delegateEvents"+this.cid,Te,Re),this},_createElement:function(re){return document.createElement(re)},_ensureElement:function(){if(this.el)this.setElement(m.result(this,"el"));else{var re=m.extend({},m.result(this,"attributes"));this.id&&(re.id=m.result(this,"id")),this.className&&(re.class=m.result(this,"className")),this.setElement(this._createElement(m.result(this,"tagName"))),this._setAttributes(re)}},_setAttributes:function(re){this.$el.attr(re)}});var b=function(re,Te,Re,Fe){switch(Te){case 1:return function(){return re[Re](this[Fe])};case 2:return function(it){return re[Re](this[Fe],it)};case 3:return function(it,lt){return re[Re](this[Fe],f(it,this),lt)};case 4:return function(it,lt,St){return re[Re](this[Fe],f(it,this),lt,St)};default:return function(){var it=I.call(arguments);return it.unshift(this[Fe]),re[Re].apply(re,it)}}},a=function(re,Te,Re,Fe){m.each(Re,function(it,lt){Te[lt]&&(re.prototype[lt]=b(Te,it,lt,Fe))})},f=function(re,Te){return m.isFunction(re)?re:m.isObject(re)&&!Te._isModel(re)?h(re):m.isString(re)?function(Re){return Re.get(re)}:re},h=function(re){var Te=m.matches(re);return function(Re){return Te(Re.attributes)}},_={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},A={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};m.each([[E,_,"models"],[U,A,"attributes"]],function(re){var Te=re[0],Re=re[1],Fe=re[2];Te.mixin=function(it){var lt=m.reduce(m.functions(it),function(St,Ut){return St[Ut]=0,St},{});a(Te,it,lt,Fe)},a(Te,m,Re,Fe)}),y.sync=function(re,Te,Re){var Fe=J[re];m.defaults(Re||(Re={}),{emulateHTTP:y.emulateHTTP,emulateJSON:y.emulateJSON});var it={type:Fe,dataType:"json"};if(Re.url||(it.url=m.result(Te,"url")||ae()),Re.data!=null||!Te||re!=="create"&&re!=="update"&&re!=="patch"||(it.contentType="application/json",it.data=JSON.stringify(Re.attrs||Te.toJSON(Re))),Re.emulateJSON&&(it.contentType="application/x-www-form-urlencoded",it.data=it.data?{model:it.data}:{}),Re.emulateHTTP&&(Fe==="PUT"||Fe==="DELETE"||Fe==="PATCH")){it.type="POST",Re.emulateJSON&&(it.data._method=Fe);var lt=Re.beforeSend;Re.beforeSend=function(Xt){if(Xt.setRequestHeader("X-HTTP-Method-Override",Fe),lt)return lt.apply(this,arguments)}}it.type==="GET"||Re.emulateJSON||(it.processData=!1);var St=Re.error;Re.error=function(Xt,Dt,ot){Re.textStatus=Dt,Re.errorThrown=ot,St&&St.call(Re.context,Xt,Dt,ot)};var Ut=Re.xhr=y.ajax(m.extend(it,Re));return Te.trigger("request",Te,Ut,Re),Ut};var J={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};y.ajax=function(){return y.$.ajax.apply(y.$,arguments)};var te=y.Router=function(re){re||(re={}),this.preinitialize.apply(this,arguments),re.routes&&(this.routes=re.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},F=/\((.*?)\)/g,G=/(\(\?)?:\w+/g,V=/\*\w+/g,le=/[\-{}\[\]+?.,\\\^$|#\s]/g;m.extend(te.prototype,X,{preinitialize:function(){},initialize:function(){},route:function(re,Te,Re){m.isRegExp(re)||(re=this._routeToRegExp(re)),m.isFunction(Te)&&(Re=Te,Te=""),Re||(Re=this[Te]);var Fe=this;return y.history.route(re,function(it){var lt=Fe._extractParameters(re,it);Fe.execute(Re,lt,Te)!==!1&&(Fe.trigger.apply(Fe,["route:"+Te].concat(lt)),Fe.trigger("route",Te,lt),y.history.trigger("route",Fe,Te,lt))}),this},execute:function(re,Te,Re){re&&re.apply(this,Te)},navigate:function(re,Te){return y.history.navigate(re,Te),this},_bindRoutes:function(){if(this.routes){this.routes=m.result(this,"routes");for(var re,Te=m.keys(this.routes);(re=Te.pop())!=null;)this.route(re,this.routes[re])}},_routeToRegExp:function(re){return re=re.replace(le,"\\$&").replace(F,"(?:$1)?").replace(G,function(Te,Re){return Re?Te:"([^/?]+)"}).replace(V,"([^?]*?)"),new RegExp("^"+re+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(re,Te){var Re=re.exec(Te).slice(1);return m.map(Re,function(Fe,it){return it===Re.length-1?Fe||null:Fe?decodeURIComponent(Fe):null})}});var ve=y.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Ne=/^[#\/]|\s+$/g,Ze=/^\/+|\/+$/g,Me=/#.*$/;ve.started=!1,m.extend(ve.prototype,X,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(re){return decodeURI(re.replace(/%25/g,"%2525"))},getSearch:function(){var re=this.location.href.replace(/#.*/,"").match(/\?.+/);return re?re[0]:""},getHash:function(re){var Te=(re||this).location.href.match(/#(.*)$/);return Te?Te[1]:""},getPath:function(){var re=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return re.charAt(0)==="/"?re.slice(1):re},getFragment:function(re){return re==null&&(re=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),re.replace(Ne,"")},start:function(re){if(ve.started)throw new Error("Backbone.history has already been started");if(ve.started=!0,this.options=m.extend({root:"/"},this.options,re),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Ze,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var Te=this.root.slice(0,-1)||"/";return this.location.replace(Te+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Re=document.body,Fe=Re.insertBefore(this.iframe,Re.firstChild).contentWindow;Fe.document.open(),Fe.document.close(),Fe.location.hash="#"+this.fragment}var it=window.addEventListener||function(lt,St){return attachEvent("on"+lt,St)};if(this._usePushState?it("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?it("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var re=window.removeEventListener||function(Te,Re){return detachEvent("on"+Te,Re)};this._usePushState?re("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&re("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),ve.started=!1},route:function(re,Te){this.handlers.unshift({route:re,callback:Te})},checkUrl:function(re){var Te=this.getFragment();if(Te===this.fragment&&this.iframe&&(Te=this.getHash(this.iframe.contentWindow)),Te===this.fragment)return!1;this.iframe&&this.navigate(Te),this.loadUrl()},loadUrl:function(re){return!!this.matchRoot()&&(re=this.fragment=this.getFragment(re),m.some(this.handlers,function(Te){if(Te.route.test(re))return Te.callback(re),!0}))},navigate:function(re,Te){if(!ve.started)return!1;Te&&Te!==!0||(Te={trigger:!!Te}),re=this.getFragment(re||"");var Re=this.root;re!==""&&re.charAt(0)!=="?"||(Re=Re.slice(0,-1)||"/");var Fe=Re+re;re=re.replace(Me,"");var it=this.decodeFragment(re);if(this.fragment!==it){if(this.fragment=it,this._usePushState)this.history[Te.replace?"replaceState":"pushState"]({},document.title,Fe);else{if(!this._wantsHashChange)return this.location.assign(Fe);if(this._updateHash(this.location,re,Te.replace),this.iframe&&re!==this.getHash(this.iframe.contentWindow)){var lt=this.iframe.contentWindow;Te.replace||(lt.document.open(),lt.document.close()),this._updateHash(lt.location,re,Te.replace)}}return Te.trigger?this.loadUrl(re):void 0}},_updateHash:function(re,Te,Re){if(Re){var Fe=re.href.replace(/(javascript:|#).*$/,"");re.replace(Fe+"#"+Te)}else re.hash="#"+Te}}),y.history=new ve;var je=function(re,Te){var Re,Fe=this;return Re=re&&m.has(re,"constructor")?re.constructor:function(){return Fe.apply(this,arguments)},m.extend(Re,Fe,Te),Re.prototype=m.create(Fe.prototype,re),Re.prototype.constructor=Re,Re.__super__=Fe.prototype,Re};U.extend=E.extend=te.extend=ne.extend=ve.extend=je;var ae=function(){throw new Error('A "url" property or function must be specified')},be=function(re,Te){var Re=Te.error;Te.error=function(Fe){Re&&Re.call(Te.context,re,Fe,Te),re.trigger("error",re,Fe,Te)}};return y}(q,N,l,P)}.apply(ie,k),$===void 0||(z.exports=$)})()},9210:(z,ie,w)=>{(function(k){k.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(D,q){return/^[;{}]$/.test(q)}}),k.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(D,q,l,P){return this.jsonMode?/^[\[,{]$/.test(q)||/^}/.test(l):(q!=";"||!P.lexical||P.lexical.type!=")")&&/^[;{}]$/.test(q)&&!/^;/.test(l)}});var $=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;k.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(D,q,l,P){var N=!1;return this.configuration=="html"&&(N=!!P.context&&$.test(P.context.tagName)),!N&&(D=="tag"&&/>$/.test(q)&&P.context||/^</.test(l))}}),k.defineExtension("commentRange",function(D,q,l){var P=this,N=k.innerMode(P.getMode(),P.getTokenAt(q).state).mode;P.operation(function(){if(D)P.replaceRange(N.commentEnd,l),P.replaceRange(N.commentStart,q),q.line==l.line&&q.ch==l.ch&&P.setCursor(q.line,q.ch+N.commentStart.length);else{var C=P.getRange(q,l),y=C.indexOf(N.commentStart),m=C.lastIndexOf(N.commentEnd);y>-1&&m>-1&&m>y&&(C=C.substr(0,y)+C.substring(y+N.commentStart.length,m)+C.substr(m+N.commentEnd.length)),P.replaceRange(C,q,l)}})}),k.defineExtension("autoIndentRange",function(D,q){var l=this;this.operation(function(){for(var P=D.line;P<=q.line;P++)l.indentLine(P,"smart")})}),k.defineExtension("autoFormatRange",function(D,q){var l=this,P=l.getMode(),N=l.getRange(D,q).split(`
`),C=k.copyState(P,l.getTokenAt(D).state),y=l.getOption("tabSize"),m="",g=0,S=D.ch===0;function I(){m+=`
`,S=!0,++g}for(var H=0;H<N.length;++H){for(var X=new k.StringStream(N[H],y);!X.eol();){var Y=k.innerMode(P,C),x=P.token(X,C),W=X.current();X.start=X.pos,S&&!/\S/.test(W)||(m+=W,S=!1),!S&&Y.mode.newlineAfterToken&&Y.mode.newlineAfterToken(x,W,X.string.slice(X.pos)||N[H+1]||"",Y.state)&&I()}!X.pos&&P.blankLine&&P.blankLine(C),!S&&H<N.length-1&&I()}l.operation(function(){l.replaceRange(m,D,q);for(var oe=D.line+1,se=D.line+g;oe<=se;++oe)l.indentLine(oe,"smart");l.setSelection(D,l.getCursor(!1))})})})(w(4631))},4631:function(z){z.exports=function(){var ie=navigator.userAgent,w=navigator.platform,k=/gecko\/\d/i.test(ie),$=/MSIE \d/.test(ie),D=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ie),q=/Edge\/(\d+)/.exec(ie),l=$||D||q,P=l&&($?document.documentMode||6:+(q||D)[1]),N=!q&&/WebKit\//.test(ie),C=N&&/Qt\/\d+\.\d+/.test(ie),y=!q&&/Chrome\/(\d+)/.exec(ie),m=y&&+y[1],g=/Opera\//.test(ie),S=/Apple Computer/.test(navigator.vendor),I=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ie),H=/PhantomJS/.test(ie),X=S&&(/Mobile\/\w+/.test(ie)||navigator.maxTouchPoints>2),Y=/Android/.test(ie),x=X||Y||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ie),W=X||/Mac/.test(w),oe=/\bCrOS\b/.test(ie),se=/win/i.test(w),Z=g&&ie.match(/Version\/(\d*\.\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(g=!1,N=!0);var B=W&&(C||g&&(Z==null||Z<12.11)),T=k||l&&P>=9;function j(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var U,E=function(e,t){var r=e.className,i=j(t).exec(r);if(i){var u=r.slice(i.index+i[0].length);e.className=r.slice(0,i.index)+(u?i[1]+u:"")}};function M(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function c(e,t){return M(e).appendChild(t)}function d(e,t,r,i){var u=document.createElement(e);if(r&&(u.className=r),i&&(u.style.cssText=i),typeof t=="string")u.appendChild(document.createTextNode(t));else if(t)for(var L=0;L<t.length;++L)u.appendChild(t[L]);return u}function s(e,t,r,i){var u=d(e,t,r,i);return u.setAttribute("role","presentation"),u}function p(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function O(){var e;try{e=document.activeElement}catch{e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function K(e,t){var r=e.className;j(t).test(r)||(e.className+=(r?" ":"")+t)}function Q(e,t){for(var r=e.split(" "),i=0;i<r.length;i++)r[i]&&!j(r[i]).test(t)&&(t+=" "+r[i]);return t}U=document.createRange?function(e,t,r,i){var u=document.createRange();return u.setEnd(i||e,r),u.setStart(e,t),u}:function(e,t,r){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch{return i}return i.collapse(!0),i.moveEnd("character",r),i.moveStart("character",t),i};var ne=function(e){e.select()};function R(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function v(e,t,r){for(var i in t||(t={}),e)!e.hasOwnProperty(i)||r===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function b(e,t,r,i,u){t==null&&(t=e.search(/[^\s\u00a0]/))==-1&&(t=e.length);for(var L=i||0,ue=u||0;;){var pe=e.indexOf("	",L);if(pe<0||pe>=t)return ue+(t-L);ue+=pe-L,ue+=r-ue%r,L=pe+1}}X?ne=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:l&&(ne=function(e){try{e.select()}catch{}});var a=function(){this.id=null,this.f=null,this.time=0,this.handler=R(this.onTimeout,this)};function f(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}a.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},a.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var h=50,_={toString:function(){return"CodeMirror.Pass"}},A={scroll:!1},J={origin:"*mouse"},te={origin:"+move"};function F(e,t,r){for(var i=0,u=0;;){var L=e.indexOf("	",i);L==-1&&(L=e.length);var ue=L-i;if(L==e.length||u+ue>=t)return i+Math.min(ue,t-u);if(u+=L-i,i=L+1,(u+=r-u%r)>=t)return i}}var G=[""];function V(e){for(;G.length<=e;)G.push(le(G)+" ");return G[e]}function le(e){return e[e.length-1]}function ve(e,t){for(var r=[],i=0;i<e.length;i++)r[i]=t(e[i],i);return r}function Ne(e,t,r){for(var i=0,u=r(t);i<e.length&&r(e[i])<=u;)i++;e.splice(i,0,t)}function Ze(){}function Me(e,t){var r;return Object.create?r=Object.create(e):(Ze.prototype=e,r=new Ze),t&&v(t,r),r}var je=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ae(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||je.test(e))}function be(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ae(e))||t.test(e):ae(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var Te=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Re(e){return e.charCodeAt(0)>=768&&Te.test(e)}function Fe(e,t,r){for(;(r<0?t>0:t<e.length)&&Re(e.charAt(t));)t+=r;return t}function it(e,t,r){for(var i=t>r?-1:1;;){if(t==r)return t;var u=(t+r)/2,L=i<0?Math.ceil(u):Math.floor(u);if(L==t)return e(L)?t:r;e(L)?r=L:t=L+i}}function lt(e,t,r,i){if(!e)return i(t,r,"ltr",0);for(var u=!1,L=0;L<e.length;++L){var ue=e[L];(ue.from<r&&ue.to>t||t==r&&ue.to==t)&&(i(Math.max(ue.from,t),Math.min(ue.to,r),ue.level==1?"rtl":"ltr",L),u=!0)}u||i(t,r,"ltr")}var St=null;function Ut(e,t,r){var i;St=null;for(var u=0;u<e.length;++u){var L=e[u];if(L.from<t&&L.to>t)return u;L.to==t&&(L.from!=L.to&&r=="before"?i=u:St=u),L.from==t&&(L.from!=L.to&&r!="before"?i=u:St=u)}return i!=null?i:St}var Xt=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(xe){return xe<=247?e.charAt(xe):1424<=xe&&xe<=1524?"R":1536<=xe&&xe<=1785?t.charAt(xe-1536):1774<=xe&&xe<=2220?"r":8192<=xe&&xe<=8203?"w":xe==8204?"b":"L"}var i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,u=/[stwN]/,L=/[LRr]/,ue=/[Lb1n]/,pe=/[1n]/;function ke(xe,Je,et){this.level=xe,this.from=Je,this.to=et}return function(xe,Je){var et=Je=="ltr"?"L":"R";if(xe.length==0||Je=="ltr"&&!i.test(xe))return!1;for(var pt=xe.length,wt=[],Et=0;Et<pt;++Et)wt.push(r(xe.charCodeAt(Et)));for(var jt=0,zt=et;jt<pt;++jt){var qt=wt[jt];qt=="m"?wt[jt]=zt:zt=qt}for(var Jt=0,Wt=et;Jt<pt;++Jt){var on=wt[Jt];on=="1"&&Wt=="r"?wt[Jt]="n":L.test(on)&&(Wt=on,on=="r"&&(wt[Jt]="R"))}for(var _n=1,Cn=wt[0];_n<pt-1;++_n){var nr=wt[_n];nr=="+"&&Cn=="1"&&wt[_n+1]=="1"?wt[_n]="1":nr!=","||Cn!=wt[_n+1]||Cn!="1"&&Cn!="n"||(wt[_n]=Cn),Cn=nr}for(var Wn=0;Wn<pt;++Wn){var Ir=wt[Wn];if(Ir==",")wt[Wn]="N";else if(Ir=="%"){var ar=void 0;for(ar=Wn+1;ar<pt&&wt[ar]=="%";++ar);for(var vr=Wn&&wt[Wn-1]=="!"||ar<pt&&wt[ar]=="1"?"1":"N",Pr=Wn;Pr<ar;++Pr)wt[Pr]=vr;Wn=ar-1}}for(var lr=0,dr=et;lr<pt;++lr){var fr=wt[lr];dr=="L"&&fr=="1"?wt[lr]="L":L.test(fr)&&(dr=fr)}for(var rr=0;rr<pt;++rr)if(u.test(wt[rr])){var hr=void 0;for(hr=rr+1;hr<pt&&u.test(wt[hr]);++hr);for(var Ar=(rr?wt[rr-1]:et)=="L",Zr=Ar==((hr<pt?wt[hr]:et)=="L")?Ar?"L":"R":et,Fr=rr;Fr<hr;++Fr)wt[Fr]=Zr;rr=hr-1}for(var Cr,ei=[],xr=0;xr<pt;)if(ue.test(wt[xr])){var vo=xr;for(++xr;xr<pt&&ue.test(wt[xr]);++xr);ei.push(new ke(0,vo,xr))}else{var gi=xr,Wr=ei.length,Zi=Je=="rtl"?1:0;for(++xr;xr<pt&&wt[xr]!="L";++xr);for(var oi=gi;oi<xr;)if(pe.test(wt[oi])){gi<oi&&(ei.splice(Wr,0,new ke(1,gi,oi)),Wr+=Zi);var Ya=oi;for(++oi;oi<xr&&pe.test(wt[oi]);++oi);ei.splice(Wr,0,new ke(2,Ya,oi)),Wr+=Zi,gi=oi}else++oi;gi<xr&&ei.splice(Wr,0,new ke(1,gi,xr))}return Je=="ltr"&&(ei[0].level==1&&(Cr=xe.match(/^\s+/))&&(ei[0].from=Cr[0].length,ei.unshift(new ke(0,0,Cr[0].length))),le(ei).level==1&&(Cr=xe.match(/\s+$/))&&(le(ei).to-=Cr[0].length,ei.push(new ke(0,pt-Cr[0].length,pt)))),Je=="rtl"?ei.reverse():ei}}();function Dt(e,t){var r=e.order;return r==null&&(r=e.order=Xt(e.text,t)),r}var ot=[],st=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var i=e._handlers||(e._handlers={});i[t]=(i[t]||ot).concat(r)}};function Ve(e,t){return e._handlers&&e._handlers[t]||ot}function Ge(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var i=e._handlers,u=i&&i[t];if(u){var L=f(u,r);L>-1&&(i[t]=u.slice(0,L).concat(u.slice(L+1)))}}}function dt(e,t){var r=Ve(e,t);if(r.length)for(var i=Array.prototype.slice.call(arguments,2),u=0;u<r.length;++u)r[u].apply(null,i)}function We(e,t,r){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),dt(e,r||t.type,e,t),It(t)||t.codemirrorIgnore}function mt(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)f(r,t[i])==-1&&r.push(t[i])}function Ke(e,t){return Ve(e,t).length>0}function gt(e){e.prototype.on=function(t,r){st(this,t,r)},e.prototype.off=function(t,r){Ge(this,t,r)}}function vt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ct(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function It(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==0}function Nt(e){vt(e),Ct(e)}function sn(e){return e.target||e.srcElement}function mn(e){var t=e.which;return t==null&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),W&&e.ctrlKey&&t==1&&(t=3),t}var hn,fn,pn=function(){if(l&&P<9)return!1;var e=d("div");return"draggable"in e||"dragDrop"in e}();function Qt(e){if(hn==null){var t=d("span","\u200B");c(e,d("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(hn=t.offsetWidth<=1&&t.offsetHeight>2&&!(l&&P<8))}var r=hn?d("span","\u200B"):d("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function rn(e){if(fn!=null)return fn;var t=c(e,document.createTextNode("A\u062EA")),r=U(t,0,1).getBoundingClientRect(),i=U(t,1,2).getBoundingClientRect();return M(e),!(!r||r.left==r.right)&&(fn=i.right-r.right<3)}var nn,wn=`

b`.split(/\n/).length!=3?function(e){for(var t=0,r=[],i=e.length;t<=i;){var u=e.indexOf(`
`,t);u==-1&&(u=e.length);var L=e.slice(t,e.charAt(u-1)=="\r"?u-1:u),ue=L.indexOf("\r");ue!=-1?(r.push(L.slice(0,ue)),t+=ue+1):(r.push(L),t=u+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Bn=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!(!t||t.parentElement()!=e)&&t.compareEndPoints("StartToEnd",t)!=0},Hn="oncopy"in(nn=d("div"))||(nn.setAttribute("oncopy","return;"),typeof nn.oncopy=="function"),Zn=null;function Fn(e){if(Zn!=null)return Zn;var t=c(e,d("span","x")),r=t.getBoundingClientRect(),i=U(t,0,1).getBoundingClientRect();return Zn=Math.abs(r.left-i.left)>1}var xn={},Nn={};function Vn(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),xn[e]=t}function Sn(e,t){Nn[e]=t}function ln(e){if(typeof e=="string"&&Nn.hasOwnProperty(e))e=Nn[e];else if(e&&typeof e.name=="string"&&Nn.hasOwnProperty(e.name)){var t=Nn[e.name];typeof t=="string"&&(t={name:t}),(e=Me(t,e)).name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return ln("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return ln("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function ze(e,t){t=ln(t);var r=xn[t.name];if(!r)return ze(e,"text/plain");var i=r(e,t);if(bn.hasOwnProperty(t.name)){var u=bn[t.name];for(var L in u)u.hasOwnProperty(L)&&(i.hasOwnProperty(L)&&(i["_"+L]=i[L]),i[L]=u[L])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var ue in t.modeProps)i[ue]=t.modeProps[ue];return i}var bn={};function zn(e,t){v(t,bn.hasOwnProperty(e)?bn[e]:bn[e]={})}function In(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var i in t){var u=t[i];u instanceof Array&&(u=u.concat([])),r[i]=u}return r}function Mn(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function cn(e,t,r){return!e.startState||e.startState(t,r)}var Tn=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function gn(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var i=0;;++i){var u=r.children[i],L=u.chunkSize();if(t<L){r=u;break}t-=L}return r.lines[t]}function jn(e,t,r){var i=[],u=t.line;return e.iter(t.line,r.line+1,function(L){var ue=L.text;u==r.line&&(ue=ue.slice(0,r.ch)),u==t.line&&(ue=ue.slice(t.ch)),i.push(ue),++u}),i}function On(e,t,r){var i=[];return e.iter(t,r,function(u){i.push(u.text)}),i}function yn(e,t){var r=t-e.height;if(r)for(var i=e;i;i=i.parent)i.height+=r}function Rn(e){if(e.parent==null)return null;for(var t=e.parent,r=f(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var u=0;i.children[u]!=t;++u)r+=i.children[u].chunkSize();return r+t.first}function Dn(e,t){var r=e.first;e:do{for(var i=0;i<e.children.length;++i){var u=e.children[i],L=u.height;if(t<L){e=u;continue e}t-=L,r+=u.chunkSize()}return r}while(!e.lines);for(var ue=0;ue<e.lines.length;++ue){var pe=e.lines[ue].height;if(t<pe)break;t-=pe}return r+ue}function en(e,t){return t>=e.first&&t<e.first+e.size}function Qe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function at(e,t,r){if(r===void 0&&(r=null),!(this instanceof at))return new at(e,t,r);this.line=e,this.ch=t,this.sticky=r}function Be(e,t){return e.line-t.line||e.ch-t.ch}function ut(e,t){return e.sticky==t.sticky&&Be(e,t)==0}function xt(e){return at(e.line,e.ch)}function Kt(e,t){return Be(e,t)<0?t:e}function Ht(e,t){return Be(e,t)<0?e:t}function kn(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function an(e,t){if(t.line<e.first)return at(e.first,0);var r=e.first+e.size-1;return t.line>r?at(r,gn(e,r).text.length):Qn(t,gn(e,t.line).text.length)}function Qn(e,t){var r=e.ch;return r==null||r>t?at(e.line,t):r<0?at(e.line,0):e}function Gn(e,t){for(var r=[],i=0;i<t.length;i++)r[i]=an(e,t[i]);return r}Tn.prototype.eol=function(){return this.pos>=this.string.length},Tn.prototype.sol=function(){return this.pos==this.lineStart},Tn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Tn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Tn.prototype.eat=function(e){var t=this.string.charAt(this.pos);if(typeof e=="string"?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Tn.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Tn.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Tn.prototype.skipToEnd=function(){this.pos=this.string.length},Tn.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Tn.prototype.backUp=function(e){this.pos-=e},Tn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=b(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?b(this.string,this.lineStart,this.tabSize):0)},Tn.prototype.indentation=function(){return b(this.string,null,this.tabSize)-(this.lineStart?b(this.string,this.lineStart,this.tabSize):0)},Tn.prototype.match=function(e,t,r){if(typeof e!="string"){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var u=function(L){return r?L.toLowerCase():L};if(u(this.string.substr(this.pos,e.length))==u(e))return t!==!1&&(this.pos+=e.length),!0},Tn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Tn.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Tn.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Tn.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var gr=function(e,t){this.state=e,this.lookAhead=t},or=function(e,t,r,i){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function pr(e,t,r,i){var u=[e.state.modeGen],L={};Ce(e,t.text,e.doc.mode,r,function(xe,Je){return u.push(xe,Je)},L,i);for(var ue=r.state,pe=function(xe){r.baseTokens=u;var Je=e.state.overlays[xe],et=1,pt=0;r.state=!0,Ce(e,t.text,Je.mode,r,function(wt,Et){for(var jt=et;pt<wt;){var zt=u[et];zt>wt&&u.splice(et,1,wt,u[et+1],zt),et+=2,pt=Math.min(wt,zt)}if(Et)if(Je.opaque)u.splice(jt,et-jt,wt,"overlay "+Et),et=jt+2;else for(;jt<et;jt+=2){var qt=u[jt+1];u[jt+1]=(qt?qt+" ":"")+"overlay "+Et}},L),r.state=ue,r.baseTokens=null,r.baseTokenPos=1},ke=0;ke<e.state.overlays.length;++ke)pe(ke);return{styles:u,classes:L.bgClass||L.textClass?L:null}}function mr(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=cr(e,Rn(t)),u=t.text.length>e.options.maxHighlightLength&&In(e.doc.mode,i.state),L=pr(e,t,i);u&&(i.state=u),t.stateAfter=i.save(!u),t.styles=L.styles,L.classes?t.styleClasses=L.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function cr(e,t,r){var i=e.doc,u=e.display;if(!i.mode.startState)return new or(i,!0,t);var L=ce(e,t,r),ue=L>i.first&&gn(i,L-1).stateAfter,pe=ue?or.fromSaved(i,ue,L):new or(i,cn(i.mode),L);return i.iter(L,t,function(ke){Xn(e,ke.text,pe);var xe=pe.line;ke.stateAfter=xe==t-1||xe%5==0||xe>=u.viewFrom&&xe<u.viewTo?pe.save():null,pe.nextLine()}),r&&(i.modeFrontier=pe.line),pe}function Xn(e,t,r,i){var u=e.doc.mode,L=new Tn(t,e.options.tabSize,r);for(L.start=L.pos=i||0,t==""&&tr(u,r.state);!L.eol();)Yn(u,L,r.state),L.start=L.pos}function tr(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Mn(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Yn(e,t,r,i){for(var u=0;u<10;u++){i&&(i[0]=Mn(e,r).mode);var L=e.token(t,r);if(t.pos>t.start)return L}throw new Error("Mode "+e.name+" failed to advance stream.")}or.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},or.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},or.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},or.fromSaved=function(e,t,r){return t instanceof gr?new or(e,In(e.mode,t.state),r,t.lookAhead):new or(e,In(e.mode,t),r)},or.prototype.save=function(e){var t=e!==!1?In(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gr(t,this.maxLookAhead):t};var Kn=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function ft(e,t,r,i){var u,L,ue=e.doc,pe=ue.mode,ke=gn(ue,(t=an(ue,t)).line),xe=cr(e,t.line,r),Je=new Tn(ke.text,e.options.tabSize,xe);for(i&&(L=[]);(i||Je.pos<t.ch)&&!Je.eol();)Je.start=Je.pos,u=Yn(pe,Je,xe.state),i&&L.push(new Kn(Je,u,In(ue.mode,xe.state)));return i?L:new Kn(Je,u,xe.state)}function yt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var i=r[1]?"bgClass":"textClass";t[i]==null?t[i]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[i])||(t[i]+=" "+r[2])}return e}function Ce(e,t,r,i,u,L,ue){var pe=r.flattenSpans;pe==null&&(pe=e.options.flattenSpans);var ke,xe=0,Je=null,et=new Tn(t,e.options.tabSize,i),pt=e.options.addModeClass&&[null];for(t==""&&yt(tr(r,i.state),L);!et.eol();){if(et.pos>e.options.maxHighlightLength?(pe=!1,ue&&Xn(e,t,i,et.pos),et.pos=t.length,ke=null):ke=yt(Yn(r,et,i.state,pt),L),pt){var wt=pt[0].name;wt&&(ke="m-"+(ke?wt+" "+ke:wt))}if(!pe||Je!=ke){for(;xe<et.start;)u(xe=Math.min(et.start,xe+5e3),Je);Je=ke}et.start=et.pos}for(;xe<et.pos;){var Et=Math.min(et.pos,xe+5e3);u(Et,Je),xe=Et}}function ce(e,t,r){for(var i,u,L=e.doc,ue=r?-1:t-(e.doc.mode.innerMode?1e3:100),pe=t;pe>ue;--pe){if(pe<=L.first)return L.first;var ke=gn(L,pe-1),xe=ke.stateAfter;if(xe&&(!r||pe+(xe instanceof gr?xe.lookAhead:0)<=L.modeFrontier))return pe;var Je=b(ke.text,null,e.options.tabSize);(u==null||i>Je)&&(u=pe-1,i=Je)}return u}function he(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,i=t-1;i>r;i--){var u=gn(e,i).stateAfter;if(u&&(!(u instanceof gr)||i+u.lookAhead<t)){r=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}var ee=!1,we=!1;function Ie(){ee=!0}function qe(){we=!0}function ht(e,t,r){this.marker=e,this.from=t,this.to=r}function bt(e,t){if(e)for(var r=0;r<e.length;++r){var i=e[r];if(i.marker==t)return i}}function Pt(e,t){for(var r,i=0;i<e.length;++i)e[i]!=t&&(r||(r=[])).push(e[i]);return r}function kt(e,t,r){var i=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));i&&e.markedSpans&&i.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],i&&i.add(e.markedSpans)),t.marker.attachLine(e)}function Mt(e,t,r){var i;if(e)for(var u=0;u<e.length;++u){var L=e[u],ue=L.marker;if(L.from==null||(ue.inclusiveLeft?L.from<=t:L.from<t)||L.from==t&&ue.type=="bookmark"&&(!r||!L.marker.insertLeft)){var pe=L.to==null||(ue.inclusiveRight?L.to>=t:L.to>t);(i||(i=[])).push(new ht(ue,L.from,pe?null:L.to))}}return i}function $t(e,t,r){var i;if(e)for(var u=0;u<e.length;++u){var L=e[u],ue=L.marker;if(L.to==null||(ue.inclusiveRight?L.to>=t:L.to>t)||L.from==t&&ue.type=="bookmark"&&(!r||L.marker.insertLeft)){var pe=L.from==null||(ue.inclusiveLeft?L.from<=t:L.from<t);(i||(i=[])).push(new ht(ue,pe?null:L.from-t,L.to==null?null:L.to-t))}}return i}function Yt(e,t){if(t.full)return null;var r=en(e,t.from.line)&&gn(e,t.from.line).markedSpans,i=en(e,t.to.line)&&gn(e,t.to.line).markedSpans;if(!r&&!i)return null;var u=t.from.ch,L=t.to.ch,ue=Be(t.from,t.to)==0,pe=Mt(r,u,ue),ke=$t(i,L,ue),xe=t.text.length==1,Je=le(t.text).length+(xe?u:0);if(pe)for(var et=0;et<pe.length;++et){var pt=pe[et];if(pt.to==null){var wt=bt(ke,pt.marker);wt?xe&&(pt.to=wt.to==null?null:wt.to+Je):pt.to=u}}if(ke)for(var Et=0;Et<ke.length;++Et){var jt=ke[Et];jt.to!=null&&(jt.to+=Je),jt.from==null?bt(pe,jt.marker)||(jt.from=Je,xe&&(pe||(pe=[])).push(jt)):(jt.from+=Je,xe&&(pe||(pe=[])).push(jt))}pe&&(pe=dn(pe)),ke&&ke!=pe&&(ke=dn(ke));var zt=[pe];if(!xe){var qt,Jt=t.text.length-2;if(Jt>0&&pe)for(var Wt=0;Wt<pe.length;++Wt)pe[Wt].to==null&&(qt||(qt=[])).push(new ht(pe[Wt].marker,null,null));for(var on=0;on<Jt;++on)zt.push(qt);zt.push(ke)}return zt}function dn(e){for(var t=0;t<e.length;++t){var r=e[t];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Xe(e,t,r){var i=null;if(e.iter(t.line,r.line+1,function(wt){if(wt.markedSpans)for(var Et=0;Et<wt.markedSpans.length;++Et){var jt=wt.markedSpans[Et].marker;!jt.readOnly||i&&f(i,jt)!=-1||(i||(i=[])).push(jt)}}),!i)return null;for(var u=[{from:t,to:r}],L=0;L<i.length;++L)for(var ue=i[L],pe=ue.find(0),ke=0;ke<u.length;++ke){var xe=u[ke];if(!(Be(xe.to,pe.from)<0||Be(xe.from,pe.to)>0)){var Je=[ke,1],et=Be(xe.from,pe.from),pt=Be(xe.to,pe.to);(et<0||!ue.inclusiveLeft&&!et)&&Je.push({from:xe.from,to:pe.from}),(pt>0||!ue.inclusiveRight&&!pt)&&Je.push({from:pe.to,to:xe.to}),u.splice.apply(u,Je),ke+=Je.length-3}}return u}function tt(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function fe(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function me(e){return e.inclusiveLeft?-1:0}function de(e){return e.inclusiveRight?1:0}function Ee(e,t){var r=e.lines.length-t.lines.length;if(r!=0)return r;var i=e.find(),u=t.find(),L=Be(i.from,u.from)||me(e)-me(t);if(L)return-L;var ue=Be(i.to,u.to)||de(e)-de(t);return ue||t.id-e.id}function Ye(e,t){var r,i=we&&e.markedSpans;if(i)for(var u=void 0,L=0;L<i.length;++L)(u=i[L]).marker.collapsed&&(t?u.from:u.to)==null&&(!r||Ee(r,u.marker)<0)&&(r=u.marker);return r}function Ot(e){return Ye(e,!0)}function Rt(e){return Ye(e,!1)}function Vt(e,t){var r,i=we&&e.markedSpans;if(i)for(var u=0;u<i.length;++u){var L=i[u];L.marker.collapsed&&(L.from==null||L.from<t)&&(L.to==null||L.to>t)&&(!r||Ee(r,L.marker)<0)&&(r=L.marker)}return r}function Ft(e,t,r,i,u){var L=gn(e,t),ue=we&&L.markedSpans;if(ue)for(var pe=0;pe<ue.length;++pe){var ke=ue[pe];if(ke.marker.collapsed){var xe=ke.marker.find(0),Je=Be(xe.from,r)||me(ke.marker)-me(u),et=Be(xe.to,i)||de(ke.marker)-de(u);if(!(Je>=0&&et<=0||Je<=0&&et>=0)&&(Je<=0&&(ke.marker.inclusiveRight&&u.inclusiveLeft?Be(xe.to,r)>=0:Be(xe.to,r)>0)||Je>=0&&(ke.marker.inclusiveRight&&u.inclusiveLeft?Be(xe.from,i)<=0:Be(xe.from,i)<0)))return!0}}}function Zt(e){for(var t;t=Ot(e);)e=t.find(-1,!0).line;return e}function At(e){for(var t;t=Rt(e);)e=t.find(1,!0).line;return e}function Lt(e){for(var t,r;t=Rt(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function Gt(e,t){var r=gn(e,t),i=Zt(r);return r==i?t:Rn(i)}function vn(e,t){if(t>e.lastLine())return t;var r,i=gn(e,t);if(!En(e,i))return t;for(;r=Rt(i);)i=r.find(1,!0).line;return Rn(i)+1}function En(e,t){var r=we&&t.markedSpans;if(r){for(var i=void 0,u=0;u<r.length;++u)if((i=r[u]).marker.collapsed&&(i.from==null||!i.marker.widgetNode&&i.from==0&&i.marker.inclusiveLeft&&Jn(e,t,i)))return!0}}function Jn(e,t,r){if(r.to==null){var i=r.marker.find(1,!0);return Jn(e,i.line,bt(i.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var u=void 0,L=0;L<t.markedSpans.length;++L)if((u=t.markedSpans[L]).marker.collapsed&&!u.marker.widgetNode&&u.from==r.to&&(u.to==null||u.to!=r.from)&&(u.marker.inclusiveLeft||r.marker.inclusiveRight)&&Jn(e,t,u))return!0}function ye(e){for(var t=0,r=(e=Zt(e)).parent,i=0;i<r.lines.length;++i){var u=r.lines[i];if(u==e)break;t+=u.height}for(var L=r.parent;L;L=(r=L).parent)for(var ue=0;ue<L.children.length;++ue){var pe=L.children[ue];if(pe==r)break;t+=pe.height}return t}function Pe(e){if(e.height==0)return 0;for(var t,r=e.text.length,i=e;t=Ot(i);){var u=t.find(0,!0);i=u.from.line,r+=u.from.ch-u.to.ch}for(i=e;t=Rt(i);){var L=t.find(0,!0);r-=i.text.length-L.from.ch,r+=(i=L.to.line).text.length-L.to.ch}return r}function De(e){var t=e.display,r=e.doc;t.maxLine=gn(r,r.first),t.maxLineLength=Pe(t.maxLine),t.maxLineChanged=!0,r.iter(function(i){var u=Pe(i);u>t.maxLineLength&&(t.maxLineLength=u,t.maxLine=i)})}var un=function(e,t,r){this.text=e,fe(this,t),this.height=r?r(this):1};function An(e,t,r,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),tt(e),fe(e,r);var u=i?i(e):1;u!=e.height&&yn(e,u)}function $n(e){e.parent=null,tt(e)}un.prototype.lineNo=function(){return Rn(this)},gt(un);var er={},Br={};function Nr(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Br:er;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function _i(e,t){var r=s("span",null,null,N?"padding-right: .1px":null),i={pre:s("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var u=0;u<=(t.rest?t.rest.length:0);u++){var L=u?t.rest[u-1]:t.line,ue=void 0;i.pos=0,i.addToken=Ri,rn(e.display.measure)&&(ue=Dt(L,e.doc.direction))&&(i.addToken=Ti(i.addToken,ue)),i.map=[],Ur(L,i,mr(e,L,t!=e.display.externalMeasured&&Rn(L))),L.styleClasses&&(L.styleClasses.bgClass&&(i.bgClass=Q(L.styleClasses.bgClass,i.bgClass||"")),L.styleClasses.textClass&&(i.textClass=Q(L.styleClasses.textClass,i.textClass||""))),i.map.length==0&&i.map.push(0,0,i.content.appendChild(Qt(e.display.measure))),u==0?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(N){var pe=i.content.lastChild;(/\bcm-tab\b/.test(pe.className)||pe.querySelector&&pe.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return dt(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Q(i.pre.className,i.textClass||"")),i}function Ai(e){var t=d("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Ri(e,t,r,i,u,L,ue){if(t){var pe,ke=e.splitSpaces?li(t,e.trailingSpace):t,xe=e.cm.state.specialChars,Je=!1;if(xe.test(t)){pe=document.createDocumentFragment();for(var et=0;;){xe.lastIndex=et;var pt=xe.exec(t),wt=pt?pt.index-et:t.length-et;if(wt){var Et=document.createTextNode(ke.slice(et,et+wt));l&&P<9?pe.appendChild(d("span",[Et])):pe.appendChild(Et),e.map.push(e.pos,e.pos+wt,Et),e.col+=wt,e.pos+=wt}if(!pt)break;et+=wt+1;var jt=void 0;if(pt[0]=="	"){var zt=e.cm.options.tabSize,qt=zt-e.col%zt;(jt=pe.appendChild(d("span",V(qt),"cm-tab"))).setAttribute("role","presentation"),jt.setAttribute("cm-text","	"),e.col+=qt}else pt[0]=="\r"||pt[0]==`
`?((jt=pe.appendChild(d("span",pt[0]=="\r"?"\u240D":"\u2424","cm-invalidchar"))).setAttribute("cm-text",pt[0]),e.col+=1):((jt=e.cm.options.specialCharPlaceholder(pt[0])).setAttribute("cm-text",pt[0]),l&&P<9?pe.appendChild(d("span",[jt])):pe.appendChild(jt),e.col+=1);e.map.push(e.pos,e.pos+1,jt),e.pos++}}else e.col+=t.length,pe=document.createTextNode(ke),e.map.push(e.pos,e.pos+t.length,pe),l&&P<9&&(Je=!0),e.pos+=t.length;if(e.trailingSpace=ke.charCodeAt(t.length-1)==32,r||i||u||Je||L||ue){var Jt=r||"";i&&(Jt+=i),u&&(Jt+=u);var Wt=d("span",[pe],Jt,L);if(ue)for(var on in ue)ue.hasOwnProperty(on)&&on!="style"&&on!="class"&&Wt.setAttribute(on,ue[on]);return e.content.appendChild(Wt)}e.content.appendChild(pe)}}function li(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,i="",u=0;u<e.length;u++){var L=e.charAt(u);L!=" "||!r||u!=e.length-1&&e.charCodeAt(u+1)!=32||(L="\xA0"),i+=L,r=L==" "}return i}function Ti(e,t){return function(r,i,u,L,ue,pe,ke){u=u?u+" cm-force-border":"cm-force-border";for(var xe=r.pos,Je=xe+i.length;;){for(var et=void 0,pt=0;pt<t.length&&!((et=t[pt]).to>xe&&et.from<=xe);pt++);if(et.to>=Je)return e(r,i,u,L,ue,pe,ke);e(r,i.slice(0,et.to-xe),u,L,null,pe,ke),L=null,i=i.slice(et.to-xe),xe=et.to}}}function ni(e,t,r,i){var u=!i&&r.widgetNode;u&&e.map.push(e.pos,e.pos+t,u),!i&&e.cm.display.input.needsContentAttribute&&(u||(u=e.content.appendChild(document.createElement("span"))),u.setAttribute("cm-marker",r.id)),u&&(e.cm.display.input.setUneditable(u),e.content.appendChild(u)),e.pos+=t,e.trailingSpace=!1}function Ur(e,t,r){var i=e.markedSpans,u=e.text,L=0;if(i)for(var ue,pe,ke,xe,Je,et,pt,wt=u.length,Et=0,jt=1,zt="",qt=0;;){if(qt==Et){ke=xe=Je=pe="",pt=null,et=null,qt=1/0;for(var Jt=[],Wt=void 0,on=0;on<i.length;++on){var _n=i[on],Cn=_n.marker;if(Cn.type=="bookmark"&&_n.from==Et&&Cn.widgetNode)Jt.push(Cn);else if(_n.from<=Et&&(_n.to==null||_n.to>Et||Cn.collapsed&&_n.to==Et&&_n.from==Et)){if(_n.to!=null&&_n.to!=Et&&qt>_n.to&&(qt=_n.to,xe=""),Cn.className&&(ke+=" "+Cn.className),Cn.css&&(pe=(pe?pe+";":"")+Cn.css),Cn.startStyle&&_n.from==Et&&(Je+=" "+Cn.startStyle),Cn.endStyle&&_n.to==qt&&(Wt||(Wt=[])).push(Cn.endStyle,_n.to),Cn.title&&((pt||(pt={})).title=Cn.title),Cn.attributes)for(var nr in Cn.attributes)(pt||(pt={}))[nr]=Cn.attributes[nr];Cn.collapsed&&(!et||Ee(et.marker,Cn)<0)&&(et=_n)}else _n.from>Et&&qt>_n.from&&(qt=_n.from)}if(Wt)for(var Wn=0;Wn<Wt.length;Wn+=2)Wt[Wn+1]==qt&&(xe+=" "+Wt[Wn]);if(!et||et.from==Et)for(var Ir=0;Ir<Jt.length;++Ir)ni(t,0,Jt[Ir]);if(et&&(et.from||0)==Et){if(ni(t,(et.to==null?wt+1:et.to)-Et,et.marker,et.from==null),et.to==null)return;et.to==Et&&(et=!1)}}if(Et>=wt)break;for(var ar=Math.min(wt,qt);;){if(zt){var vr=Et+zt.length;if(!et){var Pr=vr>ar?zt.slice(0,ar-Et):zt;t.addToken(t,Pr,ue?ue+ke:ke,Je,Et+Pr.length==qt?xe:"",pe,pt)}if(vr>=ar){zt=zt.slice(ar-Et),Et=ar;break}Et=vr,Je=""}zt=u.slice(L,L=r[jt++]),ue=Nr(r[jt++],t.cm.options)}}else for(var lr=1;lr<r.length;lr+=2)t.addToken(t,u.slice(L,L=r[lr]),Nr(r[lr+1],t.cm.options))}function Hr(e,t,r){this.line=t,this.rest=Lt(t),this.size=this.rest?Rn(le(this.rest))-r+1:1,this.node=this.text=null,this.hidden=En(e,t)}function Xr(e,t,r){for(var i,u=[],L=t;L<r;L=i){var ue=new Hr(e.doc,gn(e.doc,L),L);i=L+ue.size,u.push(ue)}return u}var si=null;function Zo(e){si?si.ops.push(e):e.ownsGroup=si={ops:[e],delayedCallbacks:[]}}function Di(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var i=0;i<e.ops.length;i++){var u=e.ops[i];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,u.cm)}}while(r<t.length)}function Mr(e,t){var r=e.ownsGroup;if(r)try{Di(r)}finally{si=null,t(r)}}var ui=null;function Dr(e,t){var r=Ve(e,t);if(r.length){var i,u=Array.prototype.slice.call(arguments,2);si?i=si.delayedCallbacks:ui?i=ui:(i=ui=[],setTimeout(yi,0));for(var L=function(pe){i.push(function(){return r[pe].apply(null,u)})},ue=0;ue<r.length;++ue)L(ue)}}function yi(){var e=ui;ui=null;for(var t=0;t<e.length;++t)e[t]()}function Bi(e,t,r,i){for(var u=0;u<t.changes.length;u++){var L=t.changes[u];L=="text"?yo(e,t):L=="gutter"?eo(e,t,r,i):L=="class"?Yi(e,t):L=="widget"&&bo(e,t,i)}t.changes=null}function Ni(e){return e.node==e.text&&(e.node=d("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),l&&P<8&&(e.node.style.zIndex=2)),e.node}function Gi(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var i=Ni(t);t.background=i.insertBefore(d("div",null,r),i.firstChild),e.display.input.setUneditable(t.background)}}function Ki(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):_i(e,t)}function yo(e,t){var r=t.text.className,i=Ki(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,Yi(e,t)):r&&(t.text.className=r)}function Yi(e,t){Gi(e,t),t.line.wrapClass?Ni(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function eo(e,t,r,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var u=Ni(t);t.gutterBackground=d("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),u.insertBefore(t.gutterBackground,t.text)}var L=t.line.gutterMarkers;if(e.options.lineNumbers||L){var ue=Ni(t),pe=t.gutter=d("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(pe.setAttribute("aria-hidden","true"),e.display.input.setUneditable(pe),ue.insertBefore(pe,t.text),t.line.gutterClass&&(pe.className+=" "+t.line.gutterClass),!e.options.lineNumbers||L&&L["CodeMirror-linenumbers"]||(t.lineNumber=pe.appendChild(d("div",Qe(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),L)for(var ke=0;ke<e.display.gutterSpecs.length;++ke){var xe=e.display.gutterSpecs[ke].className,Je=L.hasOwnProperty(xe)&&L[xe];Je&&pe.appendChild(d("div",[Je],"CodeMirror-gutter-elt","left: "+i.gutterLeft[xe]+"px; width: "+i.gutterWidth[xe]+"px"))}}}function bo(e,t,r){t.alignable&&(t.alignable=null);for(var i=j("CodeMirror-linewidget"),u=t.node.firstChild,L=void 0;u;u=L)L=u.nextSibling,i.test(u.className)&&t.node.removeChild(u);ps(e,t,r)}function Xi(e,t,r,i){var u=Ki(e,t);return t.text=t.node=u.pre,u.bgClass&&(t.bgClass=u.bgClass),u.textClass&&(t.textClass=u.textClass),Yi(e,t),eo(e,t,r,i),ps(e,t,i),t.node}function ps(e,t,r){if($e(e,t.line,t,r,!0),t.rest)for(var i=0;i<t.rest.length;i++)$e(e,t.rest[i],t,r,!1)}function $e(e,t,r,i,u){if(t.widgets)for(var L=Ni(r),ue=0,pe=t.widgets;ue<pe.length;++ue){var ke=pe[ue],xe=d("div",[ke.node],"CodeMirror-linewidget"+(ke.className?" "+ke.className:""));ke.handleMouseEvents||xe.setAttribute("cm-ignore-events","true"),ct(ke,xe,r,i),e.display.input.setUneditable(xe),u&&ke.above?L.insertBefore(xe,r.gutter||r.text):L.appendChild(xe),Dr(ke,"redraw")}}function ct(e,t,r,i){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var u=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(u-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=u+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function Se(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!p(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),c(t.display.measure,d("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Le(e,t){for(var r=sn(t);r!=e.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return!0}function rt(e){return e.lineSpace.offsetTop}function nt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function _t(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=c(e.measure,d("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Tt(e){return h-e.display.nativeBarWidth}function Bt(e){return e.display.scroller.clientWidth-Tt(e)-e.display.barWidth}function tn(e){return e.display.scroller.clientHeight-Tt(e)-e.display.barHeight}function Ln(e,t,r){var i=e.options.lineWrapping,u=i&&Bt(e);if(!t.measure.heights||i&&t.measure.width!=u){var L=t.measure.heights=[];if(i){t.measure.width=u;for(var ue=t.text.firstChild.getClientRects(),pe=0;pe<ue.length-1;pe++){var ke=ue[pe],xe=ue[pe+1];Math.abs(ke.bottom-xe.bottom)>2&&L.push((ke.bottom+xe.top)/2-r.top)}}L.push(r.bottom-r.top)}}function qn(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var u=0;u<e.rest.length;u++)if(Rn(e.rest[u])>r)return{map:e.measure.maps[u],cache:e.measure.caches[u],before:!0}}}function Er(e,t){var r=Rn(t=Zt(t)),i=e.display.externalMeasured=new Hr(e.doc,t,r);i.lineN=r;var u=i.built=_i(e,i);return i.text=u.pre,c(e.display.lineMeasure,u.pre),i}function Gr(e,t,r,i){return Hi(e,hi(e,t),r,i)}function fi(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[bi(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function hi(e,t){var r=Rn(t),i=fi(e,r);i&&!i.text?i=null:i&&i.changes&&(Bi(e,i,r,xa(e)),e.curOp.forceUpdate=!0),i||(i=Er(e,t));var u=qn(i,t,r);return{line:t,view:i,rect:null,map:u.map,cache:u.cache,before:u.before,hasHeights:!1}}function Hi(e,t,r,i,u){t.before&&(r=-1);var L,ue=r+(i||"");return t.cache.hasOwnProperty(ue)?L=t.cache[ue]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ln(e,t.view,t.rect),t.hasHeights=!0),(L=sl(e,t,r,i)).bogus||(t.cache[ue]=L)),{left:L.left,right:L.right,top:u?L.rtop:L.top,bottom:u?L.rbottom:L.bottom}}var wo,il={left:0,right:0,top:0,bottom:0};function ol(e,t,r){for(var i,u,L,ue,pe,ke,xe=0;xe<e.length;xe+=3)if(pe=e[xe],ke=e[xe+1],t<pe?(u=0,L=1,ue="left"):t<ke?L=(u=t-pe)+1:(xe==e.length-3||t==ke&&e[xe+3]>t)&&(u=(L=ke-pe)-1,t>=ke&&(ue="right")),u!=null){if(i=e[xe+2],pe==ke&&r==(i.insertLeft?"left":"right")&&(ue=r),r=="left"&&u==0)for(;xe&&e[xe-2]==e[xe-3]&&e[xe-1].insertLeft;)i=e[(xe-=3)+2],ue="left";if(r=="right"&&u==ke-pe)for(;xe<e.length-3&&e[xe+3]==e[xe+4]&&!e[xe+5].insertLeft;)i=e[(xe+=3)+2],ue="right";break}return{node:i,start:u,end:L,collapse:ue,coverStart:pe,coverEnd:ke}}function eu(e,t){var r=il;if(t=="left")for(var i=0;i<e.length&&(r=e[i]).left==r.right;i++);else for(var u=e.length-1;u>=0&&(r=e[u]).left==r.right;u--);return r}function sl(e,t,r,i){var u,L=ol(t.map,r,i),ue=L.node,pe=L.start,ke=L.end,xe=L.collapse;if(ue.nodeType==3){for(var Je=0;Je<4;Je++){for(;pe&&Re(t.line.text.charAt(L.coverStart+pe));)--pe;for(;L.coverStart+ke<L.coverEnd&&Re(t.line.text.charAt(L.coverStart+ke));)++ke;if((u=l&&P<9&&pe==0&&ke==L.coverEnd-L.coverStart?ue.parentNode.getBoundingClientRect():eu(U(ue,pe,ke).getClientRects(),i)).left||u.right||pe==0)break;ke=pe,pe-=1,xe="right"}l&&P<11&&(u=al(e.display.measure,u))}else{var et;pe>0&&(xe=i="right"),u=e.options.lineWrapping&&(et=ue.getClientRects()).length>1?et[i=="right"?et.length-1:0]:ue.getBoundingClientRect()}if(l&&P<9&&!pe&&(!u||!u.left&&!u.right)){var pt=ue.parentNode.getClientRects()[0];u=pt?{left:pt.left,right:pt.left+To(e.display),top:pt.top,bottom:pt.bottom}:il}for(var wt=u.top-t.rect.top,Et=u.bottom-t.rect.top,jt=(wt+Et)/2,zt=t.view.measure.heights,qt=0;qt<zt.length-1&&!(jt<zt[qt]);qt++);var Jt=qt?zt[qt-1]:0,Wt=zt[qt],on={left:(xe=="right"?u.right:u.left)-t.rect.left,right:(xe=="left"?u.left:u.right)-t.rect.left,top:Jt,bottom:Wt};return u.left||u.right||(on.bogus=!0),e.options.singleCursorHeightPerLine||(on.rtop=wt,on.rbottom=Et),on}function al(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Fn(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*i,bottom:t.bottom*i}}function ds(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function nc(e){e.display.externalMeasure=null,M(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ds(e.display.view[t])}function gs(e){nc(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ta(){return y&&Y?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Zs(){return y&&Y?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Oa(e){var t=Zt(e).widgets,r=0;if(t)for(var i=0;i<t.length;++i)t[i].above&&(r+=Se(t[i]));return r}function Fo(e,t,r,i,u){if(!u){var L=Oa(t);r.top+=L,r.bottom+=L}if(i=="line")return r;i||(i="local");var ue=ye(t);if(i=="local"?ue+=rt(e.display):ue-=e.display.viewOffset,i=="page"||i=="window"){var pe=e.display.lineSpace.getBoundingClientRect();ue+=pe.top+(i=="window"?0:Zs());var ke=pe.left+(i=="window"?0:Ta());r.left+=ke,r.right+=ke}return r.top+=ue,r.bottom+=ue,r}function Mi(e,t,r){if(r=="div")return t;var i=t.left,u=t.top;if(r=="page")i-=Ta(),u-=Zs();else if(r=="local"||!r){var L=e.display.sizer.getBoundingClientRect();i+=L.left,u+=L.top}var ue=e.display.lineSpace.getBoundingClientRect();return{left:i-ue.left,top:u-ue.top}}function Fs(e,t,r,i,u){return i||(i=gn(e.doc,t.line)),Fo(e,i,Gr(e,i,t.ch,u),r)}function Oi(e,t,r,i,u,L){function ue(Et,jt){var zt=Hi(e,u,Et,jt?"right":"left",L);return jt?zt.left=zt.right:zt.right=zt.left,Fo(e,i,zt,r)}i=i||gn(e.doc,t.line),u||(u=hi(e,i));var pe=Dt(i,e.doc.direction),ke=t.ch,xe=t.sticky;if(ke>=i.text.length?(ke=i.text.length,xe="before"):ke<=0&&(ke=0,xe="after"),!pe)return ue(xe=="before"?ke-1:ke,xe=="before");function Je(Et,jt,zt){return ue(zt?Et-1:Et,pe[jt].level==1!=zt)}var et=Ut(pe,ke,xe),pt=St,wt=Je(ke,et,xe=="before");return pt!=null&&(wt.other=Je(ke,pt,xe!="before")),wt}function Ca(e,t){var r=0;t=an(e.doc,t),e.options.lineWrapping||(r=To(e.display)*t.ch);var i=gn(e.doc,t.line),u=ye(i)+rt(e.display);return{left:r,right:r,top:u,bottom:u+i.height}}function Ea(e,t,r,i,u){var L=at(e,t,r);return L.xRel=u,i&&(L.outside=i),L}function Sa(e,t,r){var i=e.doc;if((r+=e.display.viewOffset)<0)return Ea(i.first,0,null,-1,-1);var u=Dn(i,r),L=i.first+i.size-1;if(u>L)return Ea(i.first+i.size-1,gn(i,L).text.length,null,1,1);t<0&&(t=0);for(var ue=gn(i,u);;){var pe=tu(e,ue,u,t,r),ke=Vt(ue,pe.ch+(pe.xRel>0||pe.outside>0?1:0));if(!ke)return pe;var xe=ke.find(1);if(xe.line==u)return xe;ue=gn(i,u=xe.line)}}function ka(e,t,r,i){i-=Oa(t);var u=t.text.length,L=it(function(ue){return Hi(e,r,ue-1).bottom<=i},u,0);return{begin:L,end:u=it(function(ue){return Hi(e,r,ue).top>i},L,u)}}function cl(e,t,r,i){return r||(r=hi(e,t)),ka(e,t,r,Fo(e,t,Hi(e,r,i),"line").top)}function rc(e,t,r,i){return!(e.bottom<=r)&&(e.top>r||(i?e.left:e.right)>t)}function tu(e,t,r,i,u){u-=ye(t);var L=hi(e,t),ue=Oa(t),pe=0,ke=t.text.length,xe=!0,Je=Dt(t,e.doc.direction);if(Je){var et=(e.options.lineWrapping?vs:ms)(e,t,r,L,Je,i,u);pe=(xe=et.level!=1)?et.from:et.to-1,ke=xe?et.to:et.from-1}var pt,wt,Et=null,jt=null,zt=it(function(_n){var Cn=Hi(e,L,_n);return Cn.top+=ue,Cn.bottom+=ue,!!rc(Cn,i,u,!1)&&(Cn.top<=u&&Cn.left<=i&&(Et=_n,jt=Cn),!0)},pe,ke),qt=!1;if(jt){var Jt=i-jt.left<jt.right-i,Wt=Jt==xe;zt=Et+(Wt?0:1),wt=Wt?"after":"before",pt=Jt?jt.left:jt.right}else{xe||zt!=ke&&zt!=pe||zt++,wt=zt==0?"after":zt==t.text.length?"before":Hi(e,L,zt-(xe?1:0)).bottom+ue<=u==xe?"after":"before";var on=Oi(e,at(r,zt,wt),"line",t,L);pt=on.left,qt=u<on.top?-1:u>=on.bottom?1:0}return Ea(r,zt=Fe(t.text,zt,1),wt,qt,i-pt)}function ms(e,t,r,i,u,L,ue){var pe=it(function(et){var pt=u[et],wt=pt.level!=1;return rc(Oi(e,at(r,wt?pt.to:pt.from,wt?"before":"after"),"line",t,i),L,ue,!0)},0,u.length-1),ke=u[pe];if(pe>0){var xe=ke.level!=1,Je=Oi(e,at(r,xe?ke.from:ke.to,xe?"after":"before"),"line",t,i);rc(Je,L,ue,!0)&&Je.top>ue&&(ke=u[pe-1])}return ke}function vs(e,t,r,i,u,L,ue){var pe=ka(e,t,i,ue),ke=pe.begin,xe=pe.end;/\s/.test(t.text.charAt(xe-1))&&xe--;for(var Je=null,et=null,pt=0;pt<u.length;pt++){var wt=u[pt];if(!(wt.from>=xe||wt.to<=ke)){var Et=Hi(e,i,wt.level!=1?Math.min(xe,wt.to)-1:Math.max(ke,wt.from)).right,jt=Et<L?L-Et+1e9:Et-L;(!Je||et>jt)&&(Je=wt,et=jt)}}return Je||(Je=u[u.length-1]),Je.from<ke&&(Je={from:ke,to:Je.to,level:Je.level}),Je.to>xe&&(Je={from:Je.from,to:xe,level:Je.level}),Je}function _o(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(wo==null){wo=d("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)wo.appendChild(document.createTextNode("x")),wo.appendChild(d("br"));wo.appendChild(document.createTextNode("x"))}c(e.measure,wo);var r=wo.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),M(e.measure),r||1}function To(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=d("span","xxxxxxxxxx"),r=d("pre",[t],"CodeMirror-line-like");c(e.measure,r);var i=t.getBoundingClientRect(),u=(i.right-i.left)/10;return u>2&&(e.cachedCharWidth=u),u||10}function xa(e){for(var t=e.display,r={},i={},u=t.gutters.clientLeft,L=t.gutters.firstChild,ue=0;L;L=L.nextSibling,++ue){var pe=e.display.gutterSpecs[ue].className;r[pe]=L.offsetLeft+L.clientLeft+u,i[pe]=L.clientWidth}return{fixedPos:Bs(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function Bs(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Oo(e){var t=_o(e.display),r=e.options.lineWrapping,i=r&&Math.max(5,e.display.scroller.clientWidth/To(e.display)-3);return function(u){if(En(e.doc,u))return 0;var L=0;if(u.widgets)for(var ue=0;ue<u.widgets.length;ue++)u.widgets[ue].height&&(L+=u.widgets[ue].height);return r?L+(Math.ceil(u.text.length/i)||1)*t:L+t}}function to(e){var t=e.doc,r=Oo(e);t.iter(function(i){var u=r(i);u!=i.height&&yn(i,u)})}function Kr(e,t,r,i){var u=e.display;if(!r&&sn(t).getAttribute("cm-not-content")=="true")return null;var L,ue,pe=u.lineSpace.getBoundingClientRect();try{L=t.clientX-pe.left,ue=t.clientY-pe.top}catch{return null}var ke,xe=Sa(e,L,ue);if(i&&xe.xRel>0&&(ke=gn(e.doc,xe.line).text).length==xe.ch){var Je=b(ke,ke.length,e.options.tabSize)-ke.length;xe=at(xe.line,Math.max(0,Math.round((L-_t(e.display).left)/To(e.display))-Je))}return xe}function bi(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,i=0;i<r.length;i++)if((t-=r[i].size)<0)return i}function zr(e,t,r,i){t==null&&(t=e.doc.first),r==null&&(r=e.doc.first+e.doc.size),i||(i=0);var u=e.display;if(i&&r<u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>t)&&(u.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=u.viewTo)we&&Gt(e.doc,t)<u.viewTo&&Co(e);else if(r<=u.viewFrom)we&&vn(e.doc,r+i)>u.viewFrom?Co(e):(u.viewFrom+=i,u.viewTo+=i);else if(t<=u.viewFrom&&r>=u.viewTo)Co(e);else if(t<=u.viewFrom){var L=Hs(e,r,r+i,1);L?(u.view=u.view.slice(L.index),u.viewFrom=L.lineN,u.viewTo+=i):Co(e)}else if(r>=u.viewTo){var ue=Hs(e,t,t,-1);ue?(u.view=u.view.slice(0,ue.index),u.viewTo=ue.lineN):Co(e)}else{var pe=Hs(e,t,t,-1),ke=Hs(e,r,r+i,1);pe&&ke?(u.view=u.view.slice(0,pe.index).concat(Xr(e,pe.lineN,ke.lineN)).concat(u.view.slice(ke.index)),u.viewTo+=i):Co(e)}var xe=u.externalMeasured;xe&&(r<xe.lineN?xe.lineN+=i:t<xe.lineN+xe.size&&(u.externalMeasured=null))}function Vi(e,t,r){e.curOp.viewChanged=!0;var i=e.display,u=e.display.externalMeasured;if(u&&t>=u.lineN&&t<u.lineN+u.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var L=i.view[bi(e,t)];if(L.node!=null){var ue=L.changes||(L.changes=[]);f(ue,r)==-1&&ue.push(r)}}}function Co(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Hs(e,t,r,i){var u,L=bi(e,t),ue=e.display.view;if(!we||r==e.doc.first+e.doc.size)return{index:L,lineN:r};for(var pe=e.display.viewFrom,ke=0;ke<L;ke++)pe+=ue[ke].size;if(pe!=t){if(i>0){if(L==ue.length-1)return null;u=pe+ue[L].size-t,L++}else u=pe-t;t+=u,r+=u}for(;Gt(e.doc,r)!=r;){if(L==(i<0?0:ue.length-1))return null;r+=i*ue[L-(i<0?1:0)].size,L+=i}return{index:L,lineN:r}}function Vs(e,t,r){var i=e.display;i.view.length==0||t>=i.viewTo||r<=i.viewFrom?(i.view=Xr(e,t,r),i.viewFrom=t):(i.viewFrom>t?i.view=Xr(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(bi(e,t))),i.viewFrom=t,i.viewTo<r?i.view=i.view.concat(Xr(e,i.viewTo,r)):i.viewTo>r&&(i.view=i.view.slice(0,bi(e,r)))),i.viewTo=r}function ic(e){for(var t=e.display.view,r=0,i=0;i<t.length;i++){var u=t[i];u.hidden||u.node&&!u.changes||++r}return r}function Bo(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Us(e,t){t===void 0&&(t=!0);var r=e.doc,i={},u=i.cursors=document.createDocumentFragment(),L=i.selection=document.createDocumentFragment(),ue=e.options.$customCursor;ue&&(t=!0);for(var pe=0;pe<r.sel.ranges.length;pe++)if(t||pe!=r.sel.primIndex){var ke=r.sel.ranges[pe];if(!(ke.from().line>=e.display.viewTo||ke.to().line<e.display.viewFrom)){var xe=ke.empty();if(ue){var Je=ue(e,ke);Je&&oc(e,Je,u)}else(xe||e.options.showCursorWhenSelecting)&&oc(e,ke.head,u);xe||ll(e,ke,L)}}return i}function oc(e,t,r){var i=Oi(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),u=r.appendChild(d("div","\xA0","CodeMirror-cursor"));if(u.style.left=i.left+"px",u.style.top=i.top+"px",u.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var L=Fs(e,t,"div",null,null),ue=L.right-L.left;u.style.width=(ue>0?ue:e.defaultCharWidth())+"px"}if(i.other){var pe=r.appendChild(d("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));pe.style.display="",pe.style.left=i.other.left+"px",pe.style.top=i.other.top+"px",pe.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function ys(e,t){return e.top-t.top||e.left-t.left}function ll(e,t,r){var i=e.display,u=e.doc,L=document.createDocumentFragment(),ue=_t(e.display),pe=ue.left,ke=Math.max(i.sizerWidth,Bt(e)-i.sizer.offsetLeft)-ue.right,xe=u.direction=="ltr";function Je(Wt,on,_n,Cn){on<0&&(on=0),on=Math.round(on),Cn=Math.round(Cn),L.appendChild(d("div",null,"CodeMirror-selected","position: absolute; left: "+Wt+`px;
                             top: `+on+"px; width: "+(_n==null?ke-Wt:_n)+`px;
                             height: `+(Cn-on)+"px"))}function et(Wt,on,_n){var Cn,nr,Wn=gn(u,Wt),Ir=Wn.text.length;function ar(lr,dr){return Fs(e,at(Wt,lr),"div",Wn,dr)}function vr(lr,dr,fr){var rr=cl(e,Wn,null,lr),hr=dr=="ltr"==(fr=="after")?"left":"right";return ar(fr=="after"?rr.begin:rr.end-(/\s/.test(Wn.text.charAt(rr.end-1))?2:1),hr)[hr]}var Pr=Dt(Wn,u.direction);return lt(Pr,on||0,_n==null?Ir:_n,function(lr,dr,fr,rr){var hr=fr=="ltr",Ar=ar(lr,hr?"left":"right"),Zr=ar(dr-1,hr?"right":"left"),Fr=on==null&&lr==0,Cr=_n==null&&dr==Ir,ei=rr==0,xr=!Pr||rr==Pr.length-1;if(Zr.top-Ar.top<=3){var vo=(xe?Cr:Fr)&&xr,gi=(xe?Fr:Cr)&&ei?pe:(hr?Ar:Zr).left,Wr=vo?ke:(hr?Zr:Ar).right;Je(gi,Ar.top,Wr-gi,Ar.bottom)}else{var Zi,oi,Ya,Eu;hr?(Zi=xe&&Fr&&ei?pe:Ar.left,oi=xe?ke:vr(lr,fr,"before"),Ya=xe?pe:vr(dr,fr,"after"),Eu=xe&&Cr&&xr?ke:Zr.right):(Zi=xe?vr(lr,fr,"before"):pe,oi=!xe&&Fr&&ei?ke:Ar.right,Ya=!xe&&Cr&&xr?pe:Zr.left,Eu=xe?vr(dr,fr,"after"):ke),Je(Zi,Ar.top,oi-Zi,Ar.bottom),Ar.bottom<Zr.top&&Je(pe,Ar.bottom,null,Zr.top),Je(Ya,Zr.top,Eu-Ya,Zr.bottom)}(!Cn||ys(Ar,Cn)<0)&&(Cn=Ar),ys(Zr,Cn)<0&&(Cn=Zr),(!nr||ys(Ar,nr)<0)&&(nr=Ar),ys(Zr,nr)<0&&(nr=Zr)}),{start:Cn,end:nr}}var pt=t.from(),wt=t.to();if(pt.line==wt.line)et(pt.line,pt.ch,wt.ch);else{var Et=gn(u,pt.line),jt=gn(u,wt.line),zt=Zt(Et)==Zt(jt),qt=et(pt.line,pt.ch,zt?Et.text.length+1:null).end,Jt=et(wt.line,zt?0:null,wt.ch).start;zt&&(qt.top<Jt.top-2?(Je(qt.right,qt.top,null,qt.bottom),Je(pe,Jt.top,Jt.left,Jt.bottom)):Je(qt.right,qt.top,Jt.left-qt.right,qt.bottom)),qt.bottom<Jt.top&&Je(pe,qt.bottom,null,Jt.top)}r.appendChild(L)}function zs(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Ho(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Pa(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||bs(e))}function Eo(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Ho(e))},100)}function bs(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(dt(e,"focus",e,t),e.state.focused=!0,K(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),N&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),zs(e))}function Ho(e,t){e.state.delayingBlurEvent||(e.state.focused&&(dt(e,"blur",e,t),e.state.focused=!1,E(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Vo(e){for(var t=e.display,r=t.lineDiv.offsetTop,i=Math.max(0,t.scroller.getBoundingClientRect().top),u=t.lineDiv.getBoundingClientRect().top,L=0,ue=0;ue<t.view.length;ue++){var pe=t.view[ue],ke=e.options.lineWrapping,xe=void 0,Je=0;if(!pe.hidden){if(u+=pe.line.height,l&&P<8){var et=pe.node.offsetTop+pe.node.offsetHeight;xe=et-r,r=et}else{var pt=pe.node.getBoundingClientRect();xe=pt.bottom-pt.top,!ke&&pe.text.firstChild&&(Je=pe.text.firstChild.getBoundingClientRect().right-pt.left-1)}var wt=pe.line.height-xe;if((wt>.005||wt<-.005)&&(u<i&&(L-=wt),yn(pe.line,xe),ul(pe.line),pe.rest))for(var Et=0;Et<pe.rest.length;Et++)ul(pe.rest[Et]);if(Je>e.display.sizerWidth){var jt=Math.ceil(Je/To(e.display));jt>e.display.maxLineLength&&(e.display.maxLineLength=jt,e.display.maxLine=pe.line,e.display.maxLineChanged=!0)}}}Math.abs(L)>2&&(t.scroller.scrollTop+=L)}function ul(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],i=r.node.parentNode;i&&(r.height=i.offsetHeight)}}function Aa(e,t,r){var i=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;i=Math.floor(i-rt(e));var u=r&&r.bottom!=null?r.bottom:i+e.wrapper.clientHeight,L=Dn(t,i),ue=Dn(t,u);if(r&&r.ensure){var pe=r.ensure.from.line,ke=r.ensure.to.line;pe<L?(L=pe,ue=Dn(t,ye(gn(t,pe))+e.wrapper.clientHeight)):Math.min(ke,t.lastLine())>=ue&&(L=Dn(t,ye(gn(t,ke))-e.wrapper.clientHeight),ue=ke)}return{from:L,to:Math.max(ue,L+1)}}function nu(e,t){if(!We(e,"scrollCursorIntoView")){var r=e.display,i=r.sizer.getBoundingClientRect(),u=null;if(t.top+i.top<0?u=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(u=!1),u!=null&&!H){var L=d("div","\u200B",null,`position: absolute;
                         top: `+(t.top-r.viewOffset-rt(e.display))+`px;
                         height: `+(t.bottom-t.top+Tt(e)+r.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(L),L.scrollIntoView(u),e.display.lineSpace.removeChild(L)}}}function sc(e,t,r,i){var u;i==null&&(i=0),e.options.lineWrapping||t!=r||(r=t.sticky=="before"?at(t.line,t.ch+1,"before"):t,t=t.ch?at(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var L=0;L<5;L++){var ue=!1,pe=Oi(e,t),ke=r&&r!=t?Oi(e,r):pe,xe=So(e,u={left:Math.min(pe.left,ke.left),top:Math.min(pe.top,ke.top)-i,right:Math.max(pe.left,ke.left),bottom:Math.max(pe.bottom,ke.bottom)+i}),Je=e.doc.scrollTop,et=e.doc.scrollLeft;if(xe.scrollTop!=null&&(Ui(e,xe.scrollTop),Math.abs(e.doc.scrollTop-Je)>1&&(ue=!0)),xe.scrollLeft!=null&&(Ci(e,xe.scrollLeft),Math.abs(e.doc.scrollLeft-et)>1&&(ue=!0)),!ue)break}return u}function ac(e,t){var r=So(e,t);r.scrollTop!=null&&Ui(e,r.scrollTop),r.scrollLeft!=null&&Ci(e,r.scrollLeft)}function So(e,t){var r=e.display,i=_o(e.display);t.top<0&&(t.top=0);var u=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:r.scroller.scrollTop,L=tn(e),ue={};t.bottom-t.top>L&&(t.bottom=t.top+L);var pe=e.doc.height+nt(r),ke=t.top<i,xe=t.bottom>pe-i;if(t.top<u)ue.scrollTop=ke?0:t.top;else if(t.bottom>u+L){var Je=Math.min(t.top,(xe?pe:t.bottom)-L);Je!=u&&(ue.scrollTop=Je)}var et=e.options.fixedGutter?0:r.gutters.offsetWidth,pt=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:r.scroller.scrollLeft-et,wt=Bt(e)-r.gutters.offsetWidth,Et=t.right-t.left>wt;return Et&&(t.right=t.left+wt),t.left<10?ue.scrollLeft=0:t.left<pt?ue.scrollLeft=Math.max(0,t.left+et-(Et?0:10)):t.right>wt+pt-3&&(ue.scrollLeft=t.right+(Et?0:10)-wt),ue}function Uo(e,t){t!=null&&(xo(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ws(e){xo(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ko(e,t,r){t==null&&r==null||xo(e),t!=null&&(e.curOp.scrollLeft=t),r!=null&&(e.curOp.scrollTop=r)}function fl(e,t){xo(e),e.curOp.scrollToPos=t}function xo(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,cc(e,Ca(e,t.from),Ca(e,t.to),t.margin))}function cc(e,t,r,i){var u=So(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-i,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+i});ko(e,u.scrollLeft,u.scrollTop)}function Ui(e,t){Math.abs(e.doc.scrollTop-t)<2||(k||Ws(e,{top:t}),_s(e,t,!0),k&&Ws(e),Ao(e,100))}function _s(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Ci(e,t,r,i){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i||(e.doc.scrollLeft=t,Ma(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function no(e){var t=e.display,r=t.gutters.offsetWidth,i=Math.round(e.doc.height+nt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:i,scrollHeight:i+Tt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var ji=function(e,t,r){this.cm=r;var i=this.vert=d("div",[d("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),u=this.horiz=d("div",[d("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=u.tabIndex=-1,e(i),e(u),st(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),st(u,"scroll",function(){u.clientWidth&&t(u.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&P<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ji.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var u=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+u)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var L=e.viewWidth-e.barLeft-(r?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+L)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(i==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?i:0,bottom:t?i:0}},ji.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ji.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ji.prototype.zeroWidthHack=function(){var e=W&&!I?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new a,this.disableVert=new a},ji.prototype.enableZeroWidthBar=function(e,t,r){function i(){var u=e.getBoundingClientRect();(r=="vert"?document.elementFromPoint(u.right-1,(u.top+u.bottom)/2):document.elementFromPoint((u.right+u.left)/2,u.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,i)}e.style.visibility="",t.set(1e3,i)},ji.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ts=function(){};function zo(e,t){t||(t=no(e));var r=e.display.barWidth,i=e.display.barHeight;lc(e,t);for(var u=0;u<4&&r!=e.display.barWidth||i!=e.display.barHeight;u++)r!=e.display.barWidth&&e.options.lineWrapping&&Vo(e),lc(e,no(e)),r=e.display.barWidth,i=e.display.barHeight}function lc(e,t){var r=e.display,i=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=i.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=i.bottom)+"px",r.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=i.bottom+"px",r.scrollbarFiller.style.width=i.right+"px"):r.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=i.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Ts.prototype.update=function(){return{bottom:0,right:0}},Ts.prototype.setScrollLeft=function(){},Ts.prototype.setScrollTop=function(){},Ts.prototype.clear=function(){};var hl={native:ji,null:Ts};function Po(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&E(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new hl[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),st(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){r=="horizontal"?Ci(e,t):Ui(e,t)},e),e.display.scrollbars.addClass&&K(e.display.wrapper,e.display.scrollbars.addClass)}var qo=0;function Wo(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qo,markArrays:null},Zo(e.curOp)}function $o(e){var t=e.curOp;t&&Mr(t,function(r){for(var i=0;i<r.ops.length;i++)r.ops[i].cm.curOp=null;ru(r)})}function ru(e){for(var t=e.ops,r=0;r<t.length;r++)iu(t[r]);for(var i=0;i<t.length;i++)ou(t[i]);for(var u=0;u<t.length;u++)su(t[u]);for(var L=0;L<t.length;L++)wi(t[L]);for(var ue=0;ue<t.length;ue++)Jr(t[ue])}function iu(e){var t=e.cm,r=t.display;cu(t),e.updateMaxLine&&De(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ra(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ou(e){e.updatedDisplay=e.mustUpdate&&qs(e.cm,e.update)}function su(e){var t=e.cm,r=t.display;e.updatedDisplay&&Vo(t),e.barMeasure=no(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Gr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Tt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Bt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function wi(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Ci(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==O();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&zo(t,e.barMeasure),e.updatedDisplay&&Na(t,e.barMeasure),e.selectionChanged&&zs(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Pa(e.cm)}function Jr(e){var t=e.cm,r=t.display,i=t.doc;e.updatedDisplay&&dl(t,e.update),r.wheelStartX==null||e.scrollTop==null&&e.scrollLeft==null&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),e.scrollTop!=null&&_s(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&Ci(t,e.scrollLeft,!0,!0),e.scrollToPos&&nu(t,sc(t,an(i,e.scrollToPos.from),an(i,e.scrollToPos.to),e.scrollToPos.margin));var u=e.maybeHiddenMarkers,L=e.maybeUnhiddenMarkers;if(u)for(var ue=0;ue<u.length;++ue)u[ue].lines.length||dt(u[ue],"hide");if(L)for(var pe=0;pe<L.length;++pe)L[pe].lines.length&&dt(L[pe],"unhide");r.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&dt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function kr(e,t){if(e.curOp)return t();Wo(e);try{return t()}finally{$o(e)}}function ur(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Wo(e);try{return t.apply(e,arguments)}finally{$o(e)}}}function Yr(e){return function(){if(this.curOp)return e.apply(this,arguments);Wo(this);try{return e.apply(this,arguments)}finally{$o(this)}}}function Qr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Wo(t);try{return e.apply(this,arguments)}finally{$o(t)}}}function Ao(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,R(au,e))}function au(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,i=cr(e,t.highlightFrontier),u=[];t.iter(i.line,Math.min(t.first+t.size,e.display.viewTo+500),function(L){if(i.line>=e.display.viewFrom){var ue=L.styles,pe=L.text.length>e.options.maxHighlightLength?In(t.mode,i.state):null,ke=pr(e,L,i,!0);pe&&(i.state=pe),L.styles=ke.styles;var xe=L.styleClasses,Je=ke.classes;Je?L.styleClasses=Je:xe&&(L.styleClasses=null);for(var et=!ue||ue.length!=L.styles.length||xe!=Je&&(!xe||!Je||xe.bgClass!=Je.bgClass||xe.textClass!=Je.textClass),pt=0;!et&&pt<ue.length;++pt)et=ue[pt]!=L.styles[pt];et&&u.push(i.line),L.stateAfter=i.save(),i.nextLine()}else L.text.length<=e.options.maxHighlightLength&&Xn(e,L.text,i),L.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>r)return Ao(e,e.options.workDelay),!0}),t.highlightFrontier=i.line,t.modeFrontier=Math.max(t.modeFrontier,i.line),u.length&&kr(e,function(){for(var L=0;L<u.length;L++)Vi(e,u[L],"text")})}}var Ra=function(e,t,r){var i=e.display;this.viewport=t,this.visible=Aa(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Bt(e),this.force=r,this.dims=xa(e),this.events=[]};function cu(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Tt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Tt(e)+"px",t.scrollbarsClipped=!0)}function uc(e){if(e.hasFocus())return null;var t=O();if(!t||!p(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&p(e.display.lineDiv,i.anchorNode)&&(r.anchorNode=i.anchorNode,r.anchorOffset=i.anchorOffset,r.focusNode=i.focusNode,r.focusOffset=i.focusOffset)}return r}function pl(e){if(e&&e.activeElt&&e.activeElt!=O()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&p(document.body,e.anchorNode)&&p(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function qs(e,t){var r=e.display,i=e.doc;if(t.editorIsHidden)return Co(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&ic(e)==0)return!1;hc(e)&&(Co(e),t.dims=xa(e));var u=i.first+i.size,L=Math.max(t.visible.from-e.options.viewportMargin,i.first),ue=Math.min(u,t.visible.to+e.options.viewportMargin);r.viewFrom<L&&L-r.viewFrom<20&&(L=Math.max(i.first,r.viewFrom)),r.viewTo>ue&&r.viewTo-ue<20&&(ue=Math.min(u,r.viewTo)),we&&(L=Gt(e.doc,L),ue=vn(e.doc,ue));var pe=L!=r.viewFrom||ue!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Vs(e,L,ue),r.viewOffset=ye(gn(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var ke=ic(e);if(!pe&&ke==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;var xe=uc(e);return ke>4&&(r.lineDiv.style.display="none"),fc(e,r.updateLineNumbers,t.dims),ke>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,pl(xe),M(r.cursorDiv),M(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,pe&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Ao(e,400)),r.updateLineNumbers=null,!0}function dl(e,t){for(var r=t.viewport,i=!0;;i=!1){if(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Bt(e))i&&(t.visible=Aa(e.display,e.doc,r));else if(r&&r.top!=null&&(r={top:Math.min(e.doc.height+nt(e.display)-tn(e),r.top)}),t.visible=Aa(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!qs(e,t))break;Vo(e);var u=no(e);Bo(e),zo(e,u),Na(e,u),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Ws(e,t){var r=new Ra(e,t);if(qs(e,r)){Vo(e),dl(e,r);var i=no(e);Bo(e),zo(e,i),Na(e,i),r.finish()}}function fc(e,t,r){var i=e.display,u=e.options.lineNumbers,L=i.lineDiv,ue=L.firstChild;function pe(Et){var jt=Et.nextSibling;return N&&W&&e.display.currentWheelTarget==Et?Et.style.display="none":Et.parentNode.removeChild(Et),jt}for(var ke=i.view,xe=i.viewFrom,Je=0;Je<ke.length;Je++){var et=ke[Je];if(!et.hidden)if(et.node&&et.node.parentNode==L){for(;ue!=et.node;)ue=pe(ue);var pt=u&&t!=null&&t<=xe&&et.lineNumber;et.changes&&(f(et.changes,"gutter")>-1&&(pt=!1),Bi(e,et,xe,r)),pt&&(M(et.lineNumber),et.lineNumber.appendChild(document.createTextNode(Qe(e.options,xe)))),ue=et.node.nextSibling}else{var wt=Xi(e,et,xe,r);L.insertBefore(wt,ue)}xe+=et.size}for(;ue;)ue=pe(ue)}function Da(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Dr(e,"gutterChanged",e)}function Na(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Tt(e)+"px"}function Ma(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=Bs(t)-t.scroller.scrollLeft+e.doc.scrollLeft,u=t.gutters.offsetWidth,L=i+"px",ue=0;ue<r.length;ue++)if(!r[ue].hidden){e.options.fixedGutter&&(r[ue].gutter&&(r[ue].gutter.style.left=L),r[ue].gutterBackground&&(r[ue].gutterBackground.style.left=L));var pe=r[ue].alignable;if(pe)for(var ke=0;ke<pe.length;ke++)pe[ke].style.left=L}e.options.fixedGutter&&(t.gutters.style.left=i+u+"px")}}function hc(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=Qe(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){var u=i.measure.appendChild(d("div",[d("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),L=u.firstChild.offsetWidth,ue=u.offsetWidth-L;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(L,i.lineGutter.offsetWidth-ue)+1,i.lineNumWidth=i.lineNumInnerWidth+ue,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Da(e.display),!0}return!1}function Go(e,t){for(var r=[],i=!1,u=0;u<e.length;u++){var L=e[u],ue=null;if(typeof L!="string"&&(ue=L.style,L=L.className),L=="CodeMirror-linenumbers"){if(!t)continue;i=!0}r.push({className:L,style:ue})}return t&&!i&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function gl(e){var t=e.gutters,r=e.gutterSpecs;M(t),e.lineGutter=null;for(var i=0;i<r.length;++i){var u=r[i],L=u.className,ue=u.style,pe=t.appendChild(d("div",null,"CodeMirror-gutter "+L));ue&&(pe.style.cssText=ue),L=="CodeMirror-linenumbers"&&(e.lineGutter=pe,pe.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",Da(e)}function Ro(e){gl(e.display),zr(e),Ma(e)}function ro(e,t,r,i){var u=this;this.input=r,u.scrollbarFiller=d("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=d("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=s("div",null,"CodeMirror-code"),u.selectionDiv=d("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=d("div",null,"CodeMirror-cursors"),u.measure=d("div",null,"CodeMirror-measure"),u.lineMeasure=d("div",null,"CodeMirror-measure"),u.lineSpace=s("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");var L=s("div",[u.lineSpace],"CodeMirror-lines");u.mover=d("div",[L],null,"position: relative"),u.sizer=d("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=d("div",null,null,"position: absolute; height: "+h+"px; width: 1px;"),u.gutters=d("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=d("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=d("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),u.wrapper.setAttribute("translate","no"),l&&P<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),N||k&&x||(u.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(u.wrapper):e(u.wrapper)),u.viewFrom=u.viewTo=t.first,u.reportedViewFrom=u.reportedViewTo=t.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,u.gutterSpecs=Go(i.gutters,i.lineNumbers),gl(u),r.init(u)}Ra.prototype.signal=function(e,t){Ke(e,t)&&this.events.push(arguments)},Ra.prototype.finish=function(){for(var e=0;e<this.events.length;e++)dt.apply(null,this.events[e])};var $s=0,io=null;function pc(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),r==null&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:r==null&&(r=e.wheelDelta),{x:t,y:r}}function Ei(e){var t=pc(e);return t.x*=io,t.y*=io,t}function yr(e,t){y&&m>=102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var r=pc(t),i=r.x,u=r.y,L=io;t.deltaMode===0&&(i=t.deltaX,u=t.deltaY,L=1);var ue=e.display,pe=ue.scroller,ke=pe.scrollWidth>pe.clientWidth,xe=pe.scrollHeight>pe.clientHeight;if(i&&ke||u&&xe){if(u&&W&&N){e:for(var Je=t.target,et=ue.view;Je!=pe;Je=Je.parentNode)for(var pt=0;pt<et.length;pt++)if(et[pt].node==Je){e.display.currentWheelTarget=Je;break e}}if(i&&!k&&!g&&L!=null)return u&&xe&&Ui(e,Math.max(0,pe.scrollTop+u*L)),Ci(e,Math.max(0,pe.scrollLeft+i*L)),(!u||u&&xe)&&vt(t),void(ue.wheelStartX=null);if(u&&L!=null){var wt=u*L,Et=e.doc.scrollTop,jt=Et+ue.wrapper.clientHeight;wt<0?Et=Math.max(0,Et+wt-50):jt=Math.min(e.doc.height,jt+wt+50),Ws(e,{top:Et,bottom:jt})}$s<20&&t.deltaMode!==0&&(ue.wheelStartX==null?(ue.wheelStartX=pe.scrollLeft,ue.wheelStartY=pe.scrollTop,ue.wheelDX=i,ue.wheelDY=u,setTimeout(function(){if(ue.wheelStartX!=null){var zt=pe.scrollLeft-ue.wheelStartX,qt=pe.scrollTop-ue.wheelStartY,Jt=qt&&ue.wheelDY&&qt/ue.wheelDY||zt&&ue.wheelDX&&zt/ue.wheelDX;ue.wheelStartX=ue.wheelStartY=null,Jt&&(io=(io*$s+Jt)/($s+1),++$s)}},200)):(ue.wheelDX+=i,ue.wheelDY+=u))}}l?io=-.53:k?io=15:y?io=-.7:S&&(io=-.3333333333333333);var Vr=function(e,t){this.ranges=e,this.primIndex=t};Vr.prototype.primary=function(){return this.ranges[this.primIndex]},Vr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],i=e.ranges[t];if(!ut(r.anchor,i.anchor)||!ut(r.head,i.head))return!1}return!0},Vr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new sr(xt(this.ranges[t].anchor),xt(this.ranges[t].head));return new Vr(e,this.primIndex)},Vr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Vr.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=this.ranges[r];if(Be(t,i.from())>=0&&Be(e,i.to())<=0)return r}return-1};var sr=function(e,t){this.anchor=e,this.head=t};function ri(e,t,r){var i=e&&e.options.selectionsMayTouch,u=t[r];t.sort(function(pt,wt){return Be(pt.from(),wt.from())}),r=f(t,u);for(var L=1;L<t.length;L++){var ue=t[L],pe=t[L-1],ke=Be(pe.to(),ue.from());if(i&&!ue.empty()?ke>0:ke>=0){var xe=Ht(pe.from(),ue.from()),Je=Kt(pe.to(),ue.to()),et=pe.empty()?ue.from()==ue.head:pe.from()==pe.head;L<=r&&--r,t.splice(--L,2,new sr(et?Je:xe,et?xe:Je))}}return new Vr(t,r)}function oo(e,t){return new Vr([new sr(e,t||e)],0)}function Ji(e){return e.text?at(e.from.line+e.text.length-1,le(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function dc(e,t){if(Be(e,t.from)<0)return e;if(Be(e,t.to)<=0)return Ji(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Ji(t).ch-t.to.ch),at(r,i)}function gc(e,t){for(var r=[],i=0;i<e.sel.ranges.length;i++){var u=e.sel.ranges[i];r.push(new sr(dc(u.anchor,t),dc(u.head,t)))}return ri(e.cm,r,e.sel.primIndex)}function ja(e,t,r){return e.line==t.line?at(r.line,e.ch-t.ch+r.ch):at(r.line+(e.line-t.line),e.ch)}function Gs(e,t,r){for(var i=[],u=at(e.first,0),L=u,ue=0;ue<t.length;ue++){var pe=t[ue],ke=ja(pe.from,u,L),xe=ja(Ji(pe),u,L);if(u=pe.to,L=xe,r=="around"){var Je=e.sel.ranges[ue],et=Be(Je.head,Je.anchor)<0;i[ue]=new sr(et?xe:ke,et?ke:xe)}else i[ue]=new sr(ke,ke)}return new Vr(i,e.sel.primIndex)}function La(e){e.doc.mode=ze(e.options,e.doc.modeOption),Ko(e)}function Ko(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ao(e,100),e.state.modeGen++,e.curOp&&zr(e)}function so(e,t){return t.from.ch==0&&t.to.ch==0&&le(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ia(e,t,r,i){function u(Jt){return r?r[Jt]:null}function L(Jt,Wt,on){An(Jt,Wt,on,i),Dr(Jt,"change",Jt,t)}function ue(Jt,Wt){for(var on=[],_n=Jt;_n<Wt;++_n)on.push(new un(xe[_n],u(_n),i));return on}var pe=t.from,ke=t.to,xe=t.text,Je=gn(e,pe.line),et=gn(e,ke.line),pt=le(xe),wt=u(xe.length-1),Et=ke.line-pe.line;if(t.full)e.insert(0,ue(0,xe.length)),e.remove(xe.length,e.size-xe.length);else if(so(e,t)){var jt=ue(0,xe.length-1);L(et,et.text,wt),Et&&e.remove(pe.line,Et),jt.length&&e.insert(pe.line,jt)}else if(Je==et)if(xe.length==1)L(Je,Je.text.slice(0,pe.ch)+pt+Je.text.slice(ke.ch),wt);else{var zt=ue(1,xe.length-1);zt.push(new un(pt+Je.text.slice(ke.ch),wt,i)),L(Je,Je.text.slice(0,pe.ch)+xe[0],u(0)),e.insert(pe.line+1,zt)}else if(xe.length==1)L(Je,Je.text.slice(0,pe.ch)+xe[0]+et.text.slice(ke.ch),u(0)),e.remove(pe.line+1,Et);else{L(Je,Je.text.slice(0,pe.ch)+xe[0],u(0)),L(et,pt+et.text.slice(ke.ch),wt);var qt=ue(1,xe.length-1);Et>1&&e.remove(pe.line+1,Et-1),e.insert(pe.line+1,qt)}Dr(e,"change",e,t)}function ao(e,t,r){function i(u,L,ue){if(u.linked)for(var pe=0;pe<u.linked.length;++pe){var ke=u.linked[pe];if(ke.doc!=L){var xe=ue&&ke.sharedHist;r&&!xe||(t(ke.doc,xe),i(ke.doc,u,xe))}}}i(e,null,!0)}function ml(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,to(e),La(e),Ks(e),e.options.direction=t.direction,e.options.lineWrapping||De(e),e.options.mode=t.modeOption,zr(e)}function Ks(e){(e.doc.direction=="rtl"?K:E)(e.display.lineDiv,"CodeMirror-rtl")}function mc(e){kr(e,function(){Ks(e),zr(e)})}function Ys(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function vc(e,t){var r={from:xt(t.from),to:Ji(t),text:jn(e,t.from,t.to)};return bl(e,r,t.from.line,t.to.line+1),ao(e,function(i){return bl(i,r,t.from.line,t.to.line+1)},!0),r}function yc(e){for(;e.length&&le(e).ranges;)e.pop()}function lu(e,t){return t?(yc(e.done),le(e.done)):e.done.length&&!le(e.done).ranges?le(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),le(e.done)):void 0}function vl(e,t,r,i){var u=e.history;u.undone.length=0;var L,ue,pe=+new Date;if((u.lastOp==i||u.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&u.lastModTime>pe-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(L=lu(u,u.lastOp==i)))ue=le(L.changes),Be(t.from,t.to)==0&&Be(t.from,ue.to)==0?ue.to=Ji(t):L.changes.push(vc(e,t));else{var ke=le(u.done);for(ke&&ke.ranges||Fa(e.sel,u.done),L={changes:[vc(e,t)],generation:u.generation},u.done.push(L);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift()}u.done.push(r),u.generation=++u.maxGeneration,u.lastModTime=u.lastSelTime=pe,u.lastOp=u.lastSelOp=i,u.lastOrigin=u.lastSelOrigin=t.origin,ue||dt(e,"historyAdded")}function Za(e,t,r,i){var u=t.charAt(0);return u=="*"||u=="+"&&r.ranges.length==i.ranges.length&&r.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function yl(e,t,r,i){var u=e.history,L=i&&i.origin;r==u.lastSelOp||L&&u.lastSelOrigin==L&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==L||Za(e,L,le(u.done),t))?u.done[u.done.length-1]=t:Fa(t,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=L,u.lastSelOp=r,i&&i.clearRedo!==!1&&yc(u.undone)}function Fa(e,t){var r=le(t);r&&r.ranges&&r.equals(e)||t.push(e)}function bl(e,t,r,i){var u=t["spans_"+e.id],L=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,i),function(ue){ue.markedSpans&&((u||(u=t["spans_"+e.id]={}))[L]=ue.markedSpans),++L})}function wl(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Os(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var i=[],u=0;u<t.text.length;++u)i.push(wl(r[u]));return i}function Ba(e,t){var r=Os(e,t),i=Yt(e,t);if(!r)return i;if(!i)return r;for(var u=0;u<r.length;++u){var L=r[u],ue=i[u];if(L&&ue)e:for(var pe=0;pe<ue.length;++pe){for(var ke=ue[pe],xe=0;xe<L.length;++xe)if(L[xe].marker==ke.marker)continue e;L.push(ke)}else ue&&(r[u]=ue)}return r}function co(e,t,r){for(var i=[],u=0;u<e.length;++u){var L=e[u];if(L.ranges)i.push(r?Vr.prototype.deepCopy.call(L):L);else{var ue=L.changes,pe=[];i.push({changes:pe});for(var ke=0;ke<ue.length;++ke){var xe=ue[ke],Je=void 0;if(pe.push({from:xe.from,to:xe.to,text:xe.text}),t)for(var et in xe)(Je=et.match(/^spans_(\d+)$/))&&f(t,Number(Je[1]))>-1&&(le(pe)[et]=xe[et],delete xe[et])}}}return i}function Ha(e,t,r,i){if(i){var u=e.anchor;if(r){var L=Be(t,u)<0;L!=Be(r,u)<0?(u=t,t=r):L!=Be(t,r)<0&&(t=r)}return new sr(u,t)}return new sr(r||t,t)}function Cs(e,t,r,i,u){u==null&&(u=e.cm&&(e.cm.display.shift||e.extend)),ii(e,new Vr([Ha(e.sel.primary(),t,r,u)],0),i)}function bc(e,t,r){for(var i=[],u=e.cm&&(e.cm.display.shift||e.extend),L=0;L<e.sel.ranges.length;L++)i[L]=Ha(e.sel.ranges[L],t[L],null,u);ii(e,ri(e.cm,i,e.sel.primIndex),r)}function wc(e,t,r,i){var u=e.sel.ranges.slice(0);u[t]=r,ii(e,ri(e.cm,u,e.sel.primIndex),i)}function _c(e,t,r,i){ii(e,oo(t,r),i)}function ai(e,t,r){var i={ranges:t.ranges,update:function(u){this.ranges=[];for(var L=0;L<u.length;L++)this.ranges[L]=new sr(an(e,u[L].anchor),an(e,u[L].head))},origin:r&&r.origin};return dt(e,"beforeSelectionChange",e,i),e.cm&&dt(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?ri(e.cm,i.ranges,i.ranges.length-1):t}function Xs(e,t,r){var i=e.history.done,u=le(i);u&&u.ranges?(i[i.length-1]=t,Js(e,t,r)):ii(e,t,r)}function ii(e,t,r){Js(e,t,r),yl(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Js(e,t,r){(Ke(e,"beforeSelectionChange")||e.cm&&Ke(e.cm,"beforeSelectionChange"))&&(t=ai(e,t,r));var i=r&&r.bias||(Be(t.primary().head,e.sel.primary().head)<0?-1:1);Tc(e,Qs(e,t,i,!0)),r&&r.scroll===!1||!e.cm||e.cm.getOption("readOnly")=="nocursor"||ws(e.cm)}function Tc(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,mt(e.cm)),Dr(e,"cursorActivity",e))}function Yo(e){Tc(e,Qs(e,e.sel,null,!1))}function Qs(e,t,r,i){for(var u,L=0;L<t.ranges.length;L++){var ue=t.ranges[L],pe=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[L],ke=ea(e,ue.anchor,pe&&pe.anchor,r,i),xe=ue.head==ue.anchor?ke:ea(e,ue.head,pe&&pe.head,r,i);(u||ke!=ue.anchor||xe!=ue.head)&&(u||(u=t.ranges.slice(0,L)),u[L]=new sr(ke,xe))}return u?ri(e.cm,u,t.primIndex):t}function Xo(e,t,r,i,u){var L=gn(e,t.line);if(L.markedSpans)for(var ue=0;ue<L.markedSpans.length;++ue){var pe=L.markedSpans[ue],ke=pe.marker,xe="selectLeft"in ke?!ke.selectLeft:ke.inclusiveLeft,Je="selectRight"in ke?!ke.selectRight:ke.inclusiveRight;if((pe.from==null||(xe?pe.from<=t.ch:pe.from<t.ch))&&(pe.to==null||(Je?pe.to>=t.ch:pe.to>t.ch))){if(u&&(dt(ke,"beforeCursorEnter"),ke.explicitlyCleared)){if(L.markedSpans){--ue;continue}break}if(!ke.atomic)continue;if(r){var et=ke.find(i<0?1:-1),pt=void 0;if((i<0?Je:xe)&&(et=Oc(e,et,-i,et&&et.line==t.line?L:null)),et&&et.line==t.line&&(pt=Be(et,r))&&(i<0?pt<0:pt>0))return Xo(e,et,t,i,u)}var wt=ke.find(i<0?-1:1);return(i<0?xe:Je)&&(wt=Oc(e,wt,i,wt.line==t.line?L:null)),wt?Xo(e,wt,t,i,u):null}}return t}function ea(e,t,r,i,u){var L=i||1,ue=Xo(e,t,r,L,u)||!u&&Xo(e,t,r,L,!0)||Xo(e,t,r,-L,u)||!u&&Xo(e,t,r,-L,!0);return ue||(e.cantEdit=!0,at(e.first,0))}function Oc(e,t,r,i){return r<0&&t.ch==0?t.line>e.first?an(e,at(t.line-1)):null:r>0&&t.ch==(i||gn(e,t.line)).text.length?t.line<e.first+e.size-1?at(t.line+1,0):null:new at(t.line,t.ch+r)}function Jo(e){e.setSelection(at(e.firstLine(),0),at(e.lastLine()),A)}function Cc(e,t,r){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return i.canceled=!0}};return r&&(i.update=function(u,L,ue,pe){u&&(i.from=an(e,u)),L&&(i.to=an(e,L)),ue&&(i.text=ue),pe!==void 0&&(i.origin=pe)}),dt(e,"beforeChange",e,i),e.cm&&dt(e.cm,"beforeChange",e.cm,i),i.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function lo(e,t,r){if(e.cm){if(!e.cm.curOp)return ur(e.cm,lo)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Ke(e,"beforeChange")||e.cm&&Ke(e.cm,"beforeChange"))||(t=Cc(e,t,!0))){var i=ee&&!r&&Xe(e,t.from,t.to);if(i)for(var u=i.length-1;u>=0;--u)Ec(e,{from:i[u].from,to:i[u].to,text:u?[""]:t.text,origin:t.origin});else Ec(e,t)}}function Ec(e,t){if(t.text.length!=1||t.text[0]!=""||Be(t.from,t.to)!=0){var r=gc(e,t);vl(e,t,r,e.cm?e.cm.curOp.id:NaN),Qi(e,t,r,Yt(e,t));var i=[];ao(e,function(u,L){L||f(i,u.history)!=-1||(Ss(u.history,t),i.push(u.history)),Qi(u,t,null,Yt(u,t))})}}function Do(e,t,r){var i=e.cm&&e.cm.state.suppressEdits;if(!i||r){for(var u,L=e.history,ue=e.sel,pe=t=="undo"?L.done:L.undone,ke=t=="undo"?L.undone:L.done,xe=0;xe<pe.length&&(u=pe[xe],r?!u.ranges||u.equals(e.sel):u.ranges);xe++);if(xe!=pe.length){for(L.lastOrigin=L.lastSelOrigin=null;;){if(!(u=pe.pop()).ranges){if(i)return void pe.push(u);break}if(Fa(u,ke),r&&!u.equals(e.sel))return void ii(e,u,{clearRedo:!1});ue=u}var Je=[];Fa(ue,ke),ke.push({changes:Je,generation:L.generation}),L.generation=u.generation||++L.maxGeneration;for(var et=Ke(e,"beforeChange")||e.cm&&Ke(e.cm,"beforeChange"),pt=function(jt){var zt=u.changes[jt];if(zt.origin=t,et&&!Cc(e,zt,!1))return pe.length=0,{};Je.push(vc(e,zt));var qt=jt?gc(e,zt):le(pe);Qi(e,zt,qt,Ba(e,zt)),!jt&&e.cm&&e.cm.scrollIntoView({from:zt.from,to:Ji(zt)});var Jt=[];ao(e,function(Wt,on){on||f(Jt,Wt.history)!=-1||(Ss(Wt.history,zt),Jt.push(Wt.history)),Qi(Wt,zt,null,Ba(Wt,zt))})},wt=u.changes.length-1;wt>=0;--wt){var Et=pt(wt);if(Et)return Et.v}}}}function _l(e,t){if(t!=0&&(e.first+=t,e.sel=new Vr(ve(e.sel.ranges,function(u){return new sr(at(u.anchor.line+t,u.anchor.ch),at(u.head.line+t,u.head.ch))}),e.sel.primIndex),e.cm)){zr(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,i=r.viewFrom;i<r.viewTo;i++)Vi(e.cm,i,"gutter")}}function Qi(e,t,r,i){if(e.cm&&!e.cm.curOp)return ur(e.cm,Qi)(e,t,r,i);if(t.to.line<e.first)_l(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var u=t.text.length-1-(e.first-t.from.line);_l(e,u),t={from:at(e.first,0),to:at(t.to.line+u,t.to.ch),text:[le(t.text)],origin:t.origin}}var L=e.lastLine();t.to.line>L&&(t={from:t.from,to:at(L,gn(e,L).text.length),text:[t.text[0]],origin:t.origin}),t.removed=jn(e,t.from,t.to),r||(r=gc(e,t)),e.cm?Tl(e.cm,t,i):Ia(e,t,i),Js(e,r,A),e.cantEdit&&ea(e,at(e.firstLine(),0))&&(e.cantEdit=!1)}}function Tl(e,t,r){var i=e.doc,u=e.display,L=t.from,ue=t.to,pe=!1,ke=L.line;e.options.lineWrapping||(ke=Rn(Zt(gn(i,L.line))),i.iter(ke,ue.line+1,function(wt){if(wt==u.maxLine)return pe=!0,!0})),i.sel.contains(t.from,t.to)>-1&&mt(e),Ia(i,t,r,Oo(e)),e.options.lineWrapping||(i.iter(ke,L.line+t.text.length,function(wt){var Et=Pe(wt);Et>u.maxLineLength&&(u.maxLine=wt,u.maxLineLength=Et,u.maxLineChanged=!0,pe=!1)}),pe&&(e.curOp.updateMaxLine=!0)),he(i,L.line),Ao(e,400);var xe=t.text.length-(ue.line-L.line)-1;t.full?zr(e):L.line!=ue.line||t.text.length!=1||so(e.doc,t)?zr(e,L.line,ue.line+1,xe):Vi(e,L.line,"text");var Je=Ke(e,"changes"),et=Ke(e,"change");if(et||Je){var pt={from:L,to:ue,text:t.text,removed:t.removed,origin:t.origin};et&&Dr(e,"change",e,pt),Je&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(pt)}e.display.selForContextMenu=null}function Qo(e,t,r,i,u){var L;i||(i=r),Be(i,r)<0&&(r=(L=[i,r])[0],i=L[1]),typeof t=="string"&&(t=e.splitLines(t)),lo(e,{from:r,to:i,text:t,origin:u})}function Sc(e,t,r,i){r<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function Es(e,t,r,i){for(var u=0;u<e.length;++u){var L=e[u],ue=!0;if(L.ranges){L.copied||((L=e[u]=L.deepCopy()).copied=!0);for(var pe=0;pe<L.ranges.length;pe++)Sc(L.ranges[pe].anchor,t,r,i),Sc(L.ranges[pe].head,t,r,i)}else{for(var ke=0;ke<L.changes.length;++ke){var xe=L.changes[ke];if(r<xe.from.line)xe.from=at(xe.from.line+i,xe.from.ch),xe.to=at(xe.to.line+i,xe.to.ch);else if(t<=xe.to.line){ue=!1;break}}ue||(e.splice(0,u+1),u=0)}}}function Ss(e,t){var r=t.from.line,i=t.to.line,u=t.text.length-(i-r)-1;Es(e.done,r,i,u),Es(e.undone,r,i,u)}function uo(e,t,r,i){var u=t,L=t;return typeof t=="number"?L=gn(e,kn(e,t)):u=Rn(t),u==null?null:(i(L,u)&&e.cm&&Vi(e.cm,u,r),L)}function fo(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function ks(e){this.children=e;for(var t=0,r=0,i=0;i<e.length;++i){var u=e[i];t+=u.chunkSize(),r+=u.height,u.parent=this}this.size=t,this.height=r,this.parent=null}sr.prototype.from=function(){return Ht(this.anchor,this.head)},sr.prototype.to=function(){return Kt(this.anchor,this.head)},sr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},fo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,i=e+t;r<i;++r){var u=this.lines[r];this.height-=u.height,$n(u),Dr(u,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,r){for(var i=e+t;e<i;++e)if(r(this.lines[e]))return!0}},ks.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var i=this.children[r],u=i.chunkSize();if(e<u){var L=Math.min(t,u-e),ue=i.height;if(i.removeInner(e,L),this.height-=ue-i.height,u==L&&(this.children.splice(r--,1),i.parent=null),(t-=L)==0)break;e=0}else e-=u}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof fo))){var pe=[];this.collapse(pe),this.children=[new fo(pe)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var i=0;i<this.children.length;++i){var u=this.children[i],L=u.chunkSize();if(e<=L){if(u.insertInner(e,t,r),u.lines&&u.lines.length>50){for(var ue=u.lines.length%25+25,pe=ue;pe<u.lines.length;){var ke=new fo(u.lines.slice(pe,pe+=25));u.height-=ke.height,this.children.splice(++i,0,ke),ke.parent=this}u.lines=u.lines.slice(0,ue),this.maybeSpill()}break}e-=L}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ks(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=f(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var i=new ks(e.children);i.parent=e,e.children=[i,t],e=i}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var i=0;i<this.children.length;++i){var u=this.children[i],L=u.chunkSize();if(e<L){var ue=Math.min(t,L-e);if(u.iterN(e,ue,r))return!0;if((t-=ue)==0)break;e=0}else e-=L}}};var ta=function(e,t,r){if(r)for(var i in r)r.hasOwnProperty(i)&&(this[i]=r[i]);this.doc=e,this.node=t};function kc(e,t,r){ye(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Uo(e,r)}function No(e,t,r,i){var u=new ta(e,r,i),L=e.cm;return L&&u.noHScroll&&(L.display.alignWidgets=!0),uo(e,t,"widget",function(ue){var pe=ue.widgets||(ue.widgets=[]);if(u.insertAt==null?pe.push(u):pe.splice(Math.min(pe.length,Math.max(0,u.insertAt)),0,u),u.line=ue,L&&!En(e,ue)){var ke=ye(ue)<e.scrollTop;yn(ue,ue.height+Se(u)),ke&&Uo(L,u.height),L.curOp.forceUpdate=!0}return!0}),L&&Dr(L,"lineWidgetAdded",L,u,typeof t=="number"?t:Rn(t)),u}ta.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,i=Rn(r);if(i!=null&&t){for(var u=0;u<t.length;++u)t[u]==this&&t.splice(u--,1);t.length||(r.widgets=null);var L=Se(this);yn(r,Math.max(0,r.height-L)),e&&(kr(e,function(){kc(e,r,-L),Vi(e,i,"widget")}),Dr(e,"lineWidgetCleared",e,this,i))}},ta.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,i=this.line;this.height=null;var u=Se(this)-t;u&&(En(this.doc,i)||yn(i,i.height+u),r&&kr(r,function(){r.curOp.forceUpdate=!0,kc(r,i,u),Dr(r,"lineWidgetChanged",r,e,Rn(i))}))},gt(ta);var es=0,Li=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++es};function xs(e,t,r,i,u){if(i&&i.shared)return uu(e,t,r,i,u);if(e.cm&&!e.cm.curOp)return ur(e.cm,xs)(e,t,r,i,u);var L=new Li(e,u),ue=Be(t,r);if(i&&v(i,L,!1),ue>0||ue==0&&L.clearWhenEmpty!==!1)return L;if(L.replacedWith&&(L.collapsed=!0,L.widgetNode=s("span",[L.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||L.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(L.widgetNode.insertLeft=!0)),L.collapsed){if(Ft(e,t.line,t,r,L)||t.line!=r.line&&Ft(e,r.line,t,r,L))throw new Error("Inserting collapsed marker partially overlapping an existing one");qe()}L.addToHistory&&vl(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var pe,ke=t.line,xe=e.cm;if(e.iter(ke,r.line+1,function(et){xe&&L.collapsed&&!xe.options.lineWrapping&&Zt(et)==xe.display.maxLine&&(pe=!0),L.collapsed&&ke!=t.line&&yn(et,0),kt(et,new ht(L,ke==t.line?t.ch:null,ke==r.line?r.ch:null),e.cm&&e.cm.curOp),++ke}),L.collapsed&&e.iter(t.line,r.line+1,function(et){En(e,et)&&yn(et,0)}),L.clearOnEnter&&st(L,"beforeCursorEnter",function(){return L.clear()}),L.readOnly&&(Ie(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),L.collapsed&&(L.id=++es,L.atomic=!0),xe){if(pe&&(xe.curOp.updateMaxLine=!0),L.collapsed)zr(xe,t.line,r.line+1);else if(L.className||L.startStyle||L.endStyle||L.css||L.attributes||L.title)for(var Je=t.line;Je<=r.line;Je++)Vi(xe,Je,"text");L.atomic&&Yo(xe.doc),Dr(xe,"markerAdded",xe,L)}return L}Li.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Wo(e),Ke(this,"clear")){var r=this.find();r&&Dr(this,"clear",r.from,r.to)}for(var i=null,u=null,L=0;L<this.lines.length;++L){var ue=this.lines[L],pe=bt(ue.markedSpans,this);e&&!this.collapsed?Vi(e,Rn(ue),"text"):e&&(pe.to!=null&&(u=Rn(ue)),pe.from!=null&&(i=Rn(ue))),ue.markedSpans=Pt(ue.markedSpans,pe),pe.from==null&&this.collapsed&&!En(this.doc,ue)&&e&&yn(ue,_o(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var ke=0;ke<this.lines.length;++ke){var xe=Zt(this.lines[ke]),Je=Pe(xe);Je>e.display.maxLineLength&&(e.display.maxLine=xe,e.display.maxLineLength=Je,e.display.maxLineChanged=!0)}i!=null&&e&&this.collapsed&&zr(e,i,u+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Yo(e.doc)),e&&Dr(e,"markerCleared",e,this,i,u),t&&$o(e),this.parent&&this.parent.clear()}},Li.prototype.find=function(e,t){var r,i;e==null&&this.type=="bookmark"&&(e=1);for(var u=0;u<this.lines.length;++u){var L=this.lines[u],ue=bt(L.markedSpans,this);if(ue.from!=null&&(r=at(t?L:Rn(L),ue.from),e==-1))return r;if(ue.to!=null&&(i=at(t?L:Rn(L),ue.to),e==1))return i}return r&&{from:r,to:i}},Li.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,i=this.doc.cm;t&&i&&kr(i,function(){var u=t.line,L=Rn(t.line),ue=fi(i,L);if(ue&&(ds(ue),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!En(r.doc,u)&&r.height!=null){var pe=r.height;r.height=null;var ke=Se(r)-pe;ke&&yn(u,u.height+ke)}Dr(i,"markerChanged",i,e)})},Li.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&f(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Li.prototype.detachLine=function(e){if(this.lines.splice(f(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},gt(Li);var Ps=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function uu(e,t,r,i,u){(i=v(i)).shared=!1;var L=[xs(e,t,r,i,u)],ue=L[0],pe=i.widgetNode;return ao(e,function(ke){pe&&(i.widgetNode=pe.cloneNode(!0)),L.push(xs(ke,an(ke,t),an(ke,r),i,u));for(var xe=0;xe<ke.linked.length;++xe)if(ke.linked[xe].isParent)return;ue=le(L)}),new Ps(L,ue)}function Ol(e){return e.findMarks(at(e.first,0),e.clipPos(at(e.lastLine())),function(t){return t.parent})}function fu(e,t){for(var r=0;r<t.length;r++){var i=t[r],u=i.find(),L=e.clipPos(u.from),ue=e.clipPos(u.to);if(Be(L,ue)){var pe=xs(e,L,ue,i.primary,i.primary.type);i.markers.push(pe),pe.parent=i}}}function pi(e){for(var t=function(i){var u=e[i],L=[u.primary.doc];ao(u.primary.doc,function(ke){return L.push(ke)});for(var ue=0;ue<u.markers.length;ue++){var pe=u.markers[ue];f(L,pe.doc)==-1&&(pe.parent=null,u.markers.splice(ue--,1))}},r=0;r<e.length;r++)t(r)}Ps.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Dr(this,"clear")}},Ps.prototype.find=function(e,t){return this.primary.find(e,t)},gt(Ps);var Cl=0,di=function(e,t,r,i,u){if(!(this instanceof di))return new di(e,t,r,i,u);r==null&&(r=0),ks.call(this,[new fo([new un("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var L=at(r,0);this.sel=oo(L),this.history=new Ys(null),this.id=++Cl,this.modeOption=t,this.lineSep=i,this.direction=u=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Ia(this,{from:L,to:L,text:e}),ii(this,oo(L),A)};di.prototype=Me(ks.prototype,{constructor:di,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,i=0;i<t.length;++i)r+=t[i].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=On(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Qr(function(e){var t=at(this.first,0),r=this.first+this.size-1;lo(this,{from:t,to:at(r,gn(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ko(this.cm,0,0),ii(this,oo(t),A)}),replaceRange:function(e,t,r,i){Qo(this,e,t=an(this,t),r=r?an(this,r):t,i)},getRange:function(e,t,r){var i=jn(this,an(this,e),an(this,t));return r===!1?i:r===""?i.join(""):i.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(en(this,e))return gn(this,e)},getLineNumber:function(e){return Rn(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=gn(this,e)),Zt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return an(this,e)},getCursor:function(e){var t=this.sel.primary();return e==null||e=="head"?t.head:e=="anchor"?t.anchor:e=="end"||e=="to"||e===!1?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Qr(function(e,t,r){_c(this,an(this,typeof e=="number"?at(e,t||0):e),null,r)}),setSelection:Qr(function(e,t,r){_c(this,an(this,e),an(this,t||e),r)}),extendSelection:Qr(function(e,t,r){Cs(this,an(this,e),t&&an(this,t),r)}),extendSelections:Qr(function(e,t){bc(this,Gn(this,e),t)}),extendSelectionsBy:Qr(function(e,t){bc(this,Gn(this,ve(this.sel.ranges,e)),t)}),setSelections:Qr(function(e,t,r){if(e.length){for(var i=[],u=0;u<e.length;u++)i[u]=new sr(an(this,e[u].anchor),an(this,e[u].head||e[u].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),ii(this,ri(this.cm,i,t),r)}}),addSelection:Qr(function(e,t,r){var i=this.sel.ranges.slice(0);i.push(new sr(an(this,e),an(this,t||e))),ii(this,ri(this.cm,i,i.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,i=0;i<r.length;i++){var u=jn(this,r[i].from(),r[i].to());t=t?t.concat(u):u}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,i=0;i<r.length;i++){var u=jn(this,r[i].from(),r[i].to());e!==!1&&(u=u.join(e||this.lineSeparator())),t[i]=u}return t},replaceSelection:function(e,t,r){for(var i=[],u=0;u<this.sel.ranges.length;u++)i[u]=e;this.replaceSelections(i,t,r||"+input")},replaceSelections:Qr(function(e,t,r){for(var i=[],u=this.sel,L=0;L<u.ranges.length;L++){var ue=u.ranges[L];i[L]={from:ue.from(),to:ue.to(),text:this.splitLines(e[L]),origin:r}}for(var pe=t&&t!="end"&&Gs(this,i,t),ke=i.length-1;ke>=0;ke--)lo(this,i[ke]);pe?Xs(this,pe):this.cm&&ws(this.cm)}),undo:Qr(function(){Do(this,"undo")}),redo:Qr(function(){Do(this,"redo")}),undoSelection:Qr(function(){Do(this,"undo",!0)}),redoSelection:Qr(function(){Do(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var u=0;u<e.undone.length;u++)e.undone[u].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Ys(this.history),ao(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:co(this.history.done),undone:co(this.history.undone)}},setHistory:function(e){var t=this.history=new Ys(this.history);t.done=co(e.done.slice(0),null,!0),t.undone=co(e.undone.slice(0),null,!0)},setGutterMarker:Qr(function(e,t,r){return uo(this,e,"gutter",function(i){var u=i.gutterMarkers||(i.gutterMarkers={});return u[t]=r,!r&&re(u)&&(i.gutterMarkers=null),!0})}),clearGutter:Qr(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&uo(t,r,"gutter",function(){return r.gutterMarkers[e]=null,re(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!en(this,e)||(t=e,!(e=gn(this,e))))return null}else if((t=Rn(e))==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Qr(function(e,t,r){return uo(this,e,t=="gutter"?"gutter":"class",function(i){var u=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(i[u]){if(j(r).test(i[u]))return!1;i[u]+=" "+r}else i[u]=r;return!0})}),removeLineClass:Qr(function(e,t,r){return uo(this,e,t=="gutter"?"gutter":"class",function(i){var u=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",L=i[u];if(!L)return!1;if(r==null)i[u]=null;else{var ue=L.match(j(r));if(!ue)return!1;var pe=ue.index+ue[0].length;i[u]=L.slice(0,ue.index)+(ue.index&&pe!=L.length?" ":"")+L.slice(pe)||null}return!0})}),addLineWidget:Qr(function(e,t,r){return No(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return xs(this,an(this,e),an(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return xs(this,e=an(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=gn(this,(e=an(this,e)).line).markedSpans;if(r)for(var i=0;i<r.length;++i){var u=r[i];(u.from==null||u.from<=e.ch)&&(u.to==null||u.to>=e.ch)&&t.push(u.marker.parent||u.marker)}return t},findMarks:function(e,t,r){e=an(this,e),t=an(this,t);var i=[],u=e.line;return this.iter(e.line,t.line+1,function(L){var ue=L.markedSpans;if(ue)for(var pe=0;pe<ue.length;pe++){var ke=ue[pe];ke.to!=null&&u==e.line&&e.ch>=ke.to||ke.from==null&&u!=e.line||ke.from!=null&&u==t.line&&ke.from>=t.ch||r&&!r(ke.marker)||i.push(ke.marker.parent||ke.marker)}++u}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var i=0;i<r.length;++i)r[i].from!=null&&e.push(r[i].marker)}),e},posFromIndex:function(e){var t,r=this.first,i=this.lineSeparator().length;return this.iter(function(u){var L=u.text.length+i;if(L>e)return t=e,!0;e-=L,++r}),an(this,at(r,t))},indexFromPos:function(e){var t=(e=an(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(i){t+=i.text.length+r}),t},copy:function(e){var t=new di(On(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<r&&(r=e.to);var i=new di(On(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],fu(i,Ol(this)),i},unlinkDoc:function(e){if(e instanceof Rr&&(e=e.doc),this.linked){for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),pi(Ol(this));break}}if(e.history==this.history){var r=[e.id];ao(e,function(i){return r.push(i.id)},!0),e.history=new Ys(null),e.history.done=co(this.history.done,r),e.history.undone=co(this.history.undone,r)}},iterLinkedDocs:function(e){ao(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):wn(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Qr(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&mc(this.cm))})}),di.prototype.eachLine=di.prototype.iter;var El=0;function hu(e){var t=this;if(xc(t),!We(t,e)&&!Le(t.display,e)){vt(e),l&&(El=+new Date);var r=Kr(t,e,!0),i=e.dataTransfer.files;if(r&&!t.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var u=i.length,L=Array(u),ue=0,pe=function(){++ue==u&&ur(t,function(){var wt={from:r=an(t.doc,r),to:r,text:t.doc.splitLines(L.filter(function(Et){return Et!=null}).join(t.doc.lineSeparator())),origin:"paste"};lo(t.doc,wt),Xs(t.doc,oo(an(t.doc,r),an(t.doc,Ji(wt))))})()},ke=function(wt,Et){if(t.options.allowDropFileTypes&&f(t.options.allowDropFileTypes,wt.type)==-1)pe();else{var jt=new FileReader;jt.onerror=function(){return pe()},jt.onload=function(){var zt=jt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(zt)||(L[Et]=zt),pe()},jt.readAsText(wt)}},xe=0;xe<i.length;xe++)ke(i[xe],xe);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var Je=e.dataTransfer.getData("Text");if(Je){var et;if(t.state.draggingText&&!t.state.draggingText.copy&&(et=t.listSelections()),Js(t.doc,oo(r,r)),et)for(var pt=0;pt<et.length;++pt)Qo(t.doc,"",et[pt].anchor,et[pt].head,"drag");t.replaceSelection(Je,"around","paste"),t.display.input.focus()}}catch{}}}}function Sl(e,t){if(l&&(!e.state.draggingText||+new Date-El<100))Nt(t);else if(!We(e,t)&&!Le(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!S)){var r=d("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",g&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),g&&r.parentNode.removeChild(r)}}function kl(e,t){var r=Kr(e,t);if(r){var i=document.createDocumentFragment();oc(e,r,i),e.display.dragCursor||(e.display.dragCursor=d("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),c(e.display.dragCursor,i)}}function xc(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function xl(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],i=0;i<t.length;i++){var u=t[i].CodeMirror;u&&r.push(u)}r.length&&r[0].operation(function(){for(var L=0;L<r.length;L++)e(r[L])})}}var Pl=!1;function pu(){Pl||(Mo(),Pl=!0)}function Mo(){var e;st(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,xl(na)},100))}),st(window,"blur",function(){return xl(Ho)})}function na(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var zi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ho=0;ho<10;ho++)zi[ho+48]=zi[ho+96]=String(ho);for(var Ii=65;Ii<=90;Ii++)zi[Ii]=String.fromCharCode(Ii);for(var ra=1;ra<=12;ra++)zi[ra+111]=zi[ra+63235]="F"+ra;var po={};function As(e){var t,r,i,u,L=e.split(/-(?!$)/);e=L[L.length-1];for(var ue=0;ue<L.length-1;ue++){var pe=L[ue];if(/^(cmd|meta|m)$/i.test(pe))u=!0;else if(/^a(lt)?$/i.test(pe))t=!0;else if(/^(c|ctrl|control)$/i.test(pe))r=!0;else{if(!/^s(hift)?$/i.test(pe))throw new Error("Unrecognized modifier name: "+pe);i=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),u&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Al(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(i=="..."){delete e[r];continue}for(var u=ve(r.split(" "),As),L=0;L<u.length;L++){var ue=void 0,pe=void 0;L==u.length-1?(pe=u.join(" "),ue=i):(pe=u.slice(0,L+1).join(" "),ue="...");var ke=t[pe];if(ke){if(ke!=ue)throw new Error("Inconsistent bindings for "+pe)}else t[pe]=ue}delete e[r]}for(var xe in t)e[xe]=t[xe];return e}function ts(e,t,r,i){var u=(t=Rs(t)).call?t.call(e,i):t[e];if(u===!1)return"nothing";if(u==="...")return"multi";if(u!=null&&r(u))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return ts(e,t.fallthrough,r,i);for(var L=0;L<t.fallthrough.length;L++){var ue=ts(e,t.fallthrough[L],r,i);if(ue)return ue}}}function Pc(e){var t=typeof e=="string"?e:zi[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function ia(e,t,r){var i=e;return t.altKey&&i!="Alt"&&(e="Alt-"+e),(B?t.metaKey:t.ctrlKey)&&i!="Ctrl"&&(e="Ctrl-"+e),(B?t.ctrlKey:t.metaKey)&&i!="Mod"&&(e="Cmd-"+e),!r&&t.shiftKey&&i!="Shift"&&(e="Shift-"+e),e}function ns(e,t){if(g&&e.keyCode==34&&e.char)return!1;var r=zi[e.keyCode];return r!=null&&!e.altGraphKey&&(e.keyCode==3&&e.code&&(r=e.code),ia(r,e,t))}function Rs(e){return typeof e=="string"?po[e]:e}function jo(e,t){for(var r=e.doc.sel.ranges,i=[],u=0;u<r.length;u++){for(var L=t(r[u]);i.length&&Be(L.from,le(i).to)<=0;){var ue=i.pop();if(Be(ue.from,L.from)<0){L.from=ue.from;break}}i.push(L)}kr(e,function(){for(var pe=i.length-1;pe>=0;pe--)Qo(e.doc,"",i[pe].from,i[pe].to,"+delete");ws(e)})}function oa(e,t,r){var i=Fe(e.text,t+r,r);return i<0||i>e.text.length?null:i}function Ac(e,t,r){var i=oa(e,t.ch,r);return i==null?null:new at(t.line,i,r<0?"after":"before")}function rs(e,t,r,i,u){if(e){t.doc.direction=="rtl"&&(u=-u);var L=Dt(r,t.doc.direction);if(L){var ue,pe=u<0?le(L):L[0],ke=u<0==(pe.level==1)?"after":"before";if(pe.level>0||t.doc.direction=="rtl"){var xe=hi(t,r);ue=u<0?r.text.length-1:0;var Je=Hi(t,xe,ue).top;ue=it(function(et){return Hi(t,xe,et).top==Je},u<0==(pe.level==1)?pe.from:pe.to-1,ue),ke=="before"&&(ue=oa(r,ue,1))}else ue=u<0?pe.to:pe.from;return new at(i,ue,ke)}}return new at(i,u<0?r.text.length:0,u<0?"before":"after")}function Rl(e,t,r,i){var u=Dt(t,e.doc.direction);if(!u)return Ac(t,r,i);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var L=Ut(u,r.ch,r.sticky),ue=u[L];if(e.doc.direction=="ltr"&&ue.level%2==0&&(i>0?ue.to>r.ch:ue.from<r.ch))return Ac(t,r,i);var pe,ke=function(qt,Jt){return oa(t,qt instanceof at?qt.ch:qt,Jt)},xe=function(qt){return e.options.lineWrapping?(pe=pe||hi(e,t),cl(e,t,pe,qt)):{begin:0,end:t.text.length}},Je=xe(r.sticky=="before"?ke(r,-1):r.ch);if(e.doc.direction=="rtl"||ue.level==1){var et=ue.level==1==i<0,pt=ke(r,et?1:-1);if(pt!=null&&(et?pt<=ue.to&&pt<=Je.end:pt>=ue.from&&pt>=Je.begin)){var wt=et?"before":"after";return new at(r.line,pt,wt)}}var Et=function(qt,Jt,Wt){for(var on=function(Wn,Ir){return Ir?new at(r.line,ke(Wn,1),"before"):new at(r.line,Wn,"after")};qt>=0&&qt<u.length;qt+=Jt){var _n=u[qt],Cn=Jt>0==(_n.level!=1),nr=Cn?Wt.begin:ke(Wt.end,-1);if(_n.from<=nr&&nr<_n.to||(nr=Cn?_n.from:ke(_n.to,-1),Wt.begin<=nr&&nr<Wt.end))return on(nr,Cn)}},jt=Et(L+i,i,Je);if(jt)return jt;var zt=i>0?Je.end:ke(Je.begin,-1);return zt==null||i>0&&zt==t.text.length||!(jt=Et(i>0?0:u.length-1,i,xe(zt)))?null:jt}po.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},po.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},po.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},po.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},po.default=W?po.macDefault:po.pcDefault;var sa={selectAll:Jo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),A)},killLine:function(e){return jo(e,function(t){if(t.empty()){var r=gn(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:at(t.head.line+1,0)}:{from:t.head,to:at(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return jo(e,function(t){return{from:at(t.from().line,0),to:an(e.doc,at(t.to().line+1,0))}})},delLineLeft:function(e){return jo(e,function(t){return{from:at(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return jo(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return jo(e,function(t){var r=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(at(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(at(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Rc(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Dl(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Va(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},te)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},te)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:r},"div");return i.ch<e.getLine(i.line).search(/\S/)?Dl(e,t.head):i},te)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),i=e.options.tabSize,u=0;u<r.length;u++){var L=r[u].from(),ue=b(e.getLine(L.line),L.ch,i);t.push(V(i-ue%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return kr(e,function(){for(var t=e.listSelections(),r=[],i=0;i<t.length;i++)if(t[i].empty()){var u=t[i].head,L=gn(e.doc,u.line).text;if(L){if(u.ch==L.length&&(u=new at(u.line,u.ch-1)),u.ch>0)u=new at(u.line,u.ch+1),e.replaceRange(L.charAt(u.ch-1)+L.charAt(u.ch-2),at(u.line,u.ch-2),u,"+transpose");else if(u.line>e.doc.first){var ue=gn(e.doc,u.line-1).text;ue&&(u=new at(u.line,1),e.replaceRange(L.charAt(0)+e.doc.lineSeparator()+ue.charAt(ue.length-1),at(u.line-1,ue.length-1),u,"+transpose"))}}r.push(new sr(u,u))}e.setSelections(r)})},newlineAndIndent:function(e){return kr(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var i=0;i<t.length;i++)e.indentLine(t[i].from().line,null,!0);ws(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Rc(e,t){var r=gn(e.doc,t),i=Zt(r);return i!=r&&(t=Rn(i)),rs(!0,e,i,t,1)}function Va(e,t){var r=gn(e.doc,t),i=At(r);return i!=r&&(t=Rn(i)),rs(!0,e,r,t,-1)}function Dl(e,t){var r=Rc(e,t.line),i=gn(e.doc,r.line),u=Dt(i,e.doc.direction);if(!u||u[0].level==0){var L=Math.max(r.ch,i.text.search(/\S/)),ue=t.line==r.line&&t.ch<=L&&t.ch;return at(r.line,ue?0:L,r.sticky)}return r}function Ua(e,t,r){if(typeof t=="string"&&!(t=sa[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,u=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),u=t(e)!=_}finally{e.display.shift=i,e.state.suppressEdits=!1}return u}function aa(e,t,r){for(var i=0;i<e.state.keyMaps.length;i++){var u=ts(t,e.state.keyMaps[i],r,e);if(u)return u}return e.options.extraKeys&&ts(t,e.options.extraKeys,r,e)||ts(t,e.options.keyMap,r,e)}var Nl=new a;function Ds(e,t,r,i){var u=e.state.keySeq;if(u){if(Pc(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Nl.set(50,function(){e.state.keySeq==u&&(e.state.keySeq=null,e.display.input.reset())}),Ml(e,u+" "+t,r,i))return!0}return Ml(e,t,r,i)}function Ml(e,t,r,i){var u=aa(e,t,i);return u=="multi"&&(e.state.keySeq=t),u=="handled"&&Dr(e,"keyHandled",e,t,r),u!="handled"&&u!="multi"||(vt(r),zs(e)),!!u}function za(e,t){var r=ns(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?Ds(e,"Shift-"+r,t,function(i){return Ua(e,i,!0)})||Ds(e,r,t,function(i){if(typeof i=="string"?/^go[A-Z]/.test(i):i.motion)return Ua(e,i)}):Ds(e,r,t,function(i){return Ua(e,i)}))}function jl(e,t,r){return Ds(e,"'"+r+"'",t,function(i){return Ua(e,i,!0)})}var Dc=null;function Nc(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=O(),We(t,e)))){l&&P<11&&e.keyCode==27&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=r==16||e.shiftKey;var i=za(t,e);g&&(Dc=i?r:null,i||r!=88||Hn||!(W?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),k&&!W&&!i&&r==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),r!=18||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Ll(t)}}function Ll(e){var t=e.display.lineDiv;function r(i){i.keyCode!=18&&i.altKey||(E(t,"CodeMirror-crosshair"),Ge(document,"keyup",r),Ge(document,"mouseover",r))}K(t,"CodeMirror-crosshair"),st(document,"keyup",r),st(document,"mouseover",r)}function Ns(e){e.keyCode==16&&(this.doc.sel.shift=!1),We(this,e)}function Ms(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Le(t.display,e)||We(t,e)||e.ctrlKey&&!e.altKey||W&&e.metaKey)){var r=e.keyCode,i=e.charCode;if(g&&r==Dc)return Dc=null,void vt(e);if(!g||e.which&&!(e.which<10)||!za(t,e)){var u=String.fromCharCode(i==null?r:i);u!="\b"&&(jl(t,e,u)||t.display.input.onKeyPress(e))}}}var ca,is,du=400,qa=function(e,t,r){this.time=e,this.pos=t,this.button=r};function gu(e,t){var r=+new Date;return is&&is.compare(r,e,t)?(ca=is=null,"triple"):ca&&ca.compare(r,e,t)?(is=new qa(r,e,t),ca=null,"double"):(ca=new qa(r,e,t),is=null,"single")}function Il(e){var t=this,r=t.display;if(!(We(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,Le(r,e))N||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!Lc(t,e)){var i=Kr(t,e),u=mn(e),L=i?gu(i,u):"single";window.focus(),u==1&&t.state.selectingText&&t.state.selectingText(e),i&&mu(t,u,i,L,e)||(u==1?i?Zl(t,i,L,e):sn(e)==r.scroller&&vt(e):u==2?(i&&Cs(t.doc,i),setTimeout(function(){return r.input.focus()},20)):u==3&&(T?t.display.input.onContextMenu(e):Eo(t)))}}}function mu(e,t,r,i,u){var L="Click";return i=="double"?L="Double"+L:i=="triple"&&(L="Triple"+L),Ds(e,ia(L=(t==1?"Left":t==2?"Middle":"Right")+L,u),u,function(ue){if(typeof ue=="string"&&(ue=sa[ue]),!ue)return!1;var pe=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),pe=ue(e,r)!=_}finally{e.state.suppressEdits=!1}return pe})}function vu(e,t,r){var i=e.getOption("configureMouse"),u=i?i(e,t,r):{};if(u.unit==null){var L=oe?r.shiftKey&&r.metaKey:r.altKey;u.unit=L?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(u.extend==null||e.doc.extend)&&(u.extend=e.doc.extend||r.shiftKey),u.addNew==null&&(u.addNew=W?r.metaKey:r.ctrlKey),u.moveOnDrag==null&&(u.moveOnDrag=!(W?r.altKey:r.ctrlKey)),u}function Zl(e,t,r,i){l?setTimeout(R(Pa,e),0):e.curOp.focus=O();var u,L=vu(e,r,i),ue=e.doc.sel;e.options.dragDrop&&pn&&!e.isReadOnly()&&r=="single"&&(u=ue.contains(t))>-1&&(Be((u=ue.ranges[u]).from(),t)<0||t.xRel>0)&&(Be(u.to(),t)>0||t.xRel<0)?yu(e,i,t,L):Bl(e,i,t,L)}function yu(e,t,r,i){var u=e.display,L=!1,ue=ur(e,function(xe){N&&(u.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Eo(e)),Ge(u.wrapper.ownerDocument,"mouseup",ue),Ge(u.wrapper.ownerDocument,"mousemove",pe),Ge(u.scroller,"dragstart",ke),Ge(u.scroller,"drop",ue),L||(vt(xe),i.addNew||Cs(e.doc,r,null,null,i.extend),N&&!S||l&&P==9?setTimeout(function(){u.wrapper.ownerDocument.body.focus({preventScroll:!0}),u.input.focus()},20):u.input.focus())}),pe=function(xe){L=L||Math.abs(t.clientX-xe.clientX)+Math.abs(t.clientY-xe.clientY)>=10},ke=function(){return L=!0};N&&(u.scroller.draggable=!0),e.state.draggingText=ue,ue.copy=!i.moveOnDrag,st(u.wrapper.ownerDocument,"mouseup",ue),st(u.wrapper.ownerDocument,"mousemove",pe),st(u.scroller,"dragstart",ke),st(u.scroller,"drop",ue),e.state.delayingBlurEvent=!0,setTimeout(function(){return u.input.focus()},20),u.scroller.dragDrop&&u.scroller.dragDrop()}function Fl(e,t,r){if(r=="char")return new sr(t,t);if(r=="word")return e.findWordAt(t);if(r=="line")return new sr(at(t.line,0),an(e.doc,at(t.line+1,0)));var i=r(e,t);return new sr(i.from,i.to)}function Bl(e,t,r,i){l&&Eo(e);var u=e.display,L=e.doc;vt(t);var ue,pe,ke=L.sel,xe=ke.ranges;if(i.addNew&&!i.extend?(pe=L.sel.contains(r),ue=pe>-1?xe[pe]:new sr(r,r)):(ue=L.sel.primary(),pe=L.sel.primIndex),i.unit=="rectangle")i.addNew||(ue=new sr(r,r)),r=Kr(e,t,!0,!0),pe=-1;else{var Je=Fl(e,r,i.unit);ue=i.extend?Ha(ue,Je.anchor,Je.head,i.extend):Je}i.addNew?pe==-1?(pe=xe.length,ii(L,ri(e,xe.concat([ue]),pe),{scroll:!1,origin:"*mouse"})):xe.length>1&&xe[pe].empty()&&i.unit=="char"&&!i.extend?(ii(L,ri(e,xe.slice(0,pe).concat(xe.slice(pe+1)),0),{scroll:!1,origin:"*mouse"}),ke=L.sel):wc(L,pe,ue,J):(pe=0,ii(L,new Vr([ue],0),J),ke=L.sel);var et=r;function pt(Wt){if(Be(et,Wt)!=0)if(et=Wt,i.unit=="rectangle"){for(var on=[],_n=e.options.tabSize,Cn=b(gn(L,r.line).text,r.ch,_n),nr=b(gn(L,Wt.line).text,Wt.ch,_n),Wn=Math.min(Cn,nr),Ir=Math.max(Cn,nr),ar=Math.min(r.line,Wt.line),vr=Math.min(e.lastLine(),Math.max(r.line,Wt.line));ar<=vr;ar++){var Pr=gn(L,ar).text,lr=F(Pr,Wn,_n);Wn==Ir?on.push(new sr(at(ar,lr),at(ar,lr))):Pr.length>lr&&on.push(new sr(at(ar,lr),at(ar,F(Pr,Ir,_n))))}on.length||on.push(new sr(r,r)),ii(L,ri(e,ke.ranges.slice(0,pe).concat(on),pe),{origin:"*mouse",scroll:!1}),e.scrollIntoView(Wt)}else{var dr,fr=ue,rr=Fl(e,Wt,i.unit),hr=fr.anchor;Be(rr.anchor,hr)>0?(dr=rr.head,hr=Ht(fr.from(),rr.anchor)):(dr=rr.anchor,hr=Kt(fr.to(),rr.head));var Ar=ke.ranges.slice(0);Ar[pe]=Mc(e,new sr(an(L,hr),dr)),ii(L,ri(e,Ar,pe),J)}}var wt=u.wrapper.getBoundingClientRect(),Et=0;function jt(Wt){var on=++Et,_n=Kr(e,Wt,!0,i.unit=="rectangle");if(_n)if(Be(_n,et)!=0){e.curOp.focus=O(),pt(_n);var Cn=Aa(u,L);(_n.line>=Cn.to||_n.line<Cn.from)&&setTimeout(ur(e,function(){Et==on&&jt(Wt)}),150)}else{var nr=Wt.clientY<wt.top?-20:Wt.clientY>wt.bottom?20:0;nr&&setTimeout(ur(e,function(){Et==on&&(u.scroller.scrollTop+=nr,jt(Wt))}),50)}}function zt(Wt){e.state.selectingText=!1,Et=1/0,Wt&&(vt(Wt),u.input.focus()),Ge(u.wrapper.ownerDocument,"mousemove",qt),Ge(u.wrapper.ownerDocument,"mouseup",Jt),L.history.lastSelOrigin=null}var qt=ur(e,function(Wt){Wt.buttons!==0&&mn(Wt)?jt(Wt):zt(Wt)}),Jt=ur(e,zt);e.state.selectingText=Jt,st(u.wrapper.ownerDocument,"mousemove",qt),st(u.wrapper.ownerDocument,"mouseup",Jt)}function Mc(e,t){var r=t.anchor,i=t.head,u=gn(e.doc,r.line);if(Be(r,i)==0&&r.sticky==i.sticky)return t;var L=Dt(u);if(!L)return t;var ue=Ut(L,r.ch,r.sticky),pe=L[ue];if(pe.from!=r.ch&&pe.to!=r.ch)return t;var ke,xe=ue+(pe.from==r.ch==(pe.level!=1)?0:1);if(xe==0||xe==L.length)return t;if(i.line!=r.line)ke=(i.line-r.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var Je=Ut(L,i.ch,i.sticky),et=Je-ue||(i.ch-r.ch)*(pe.level==1?-1:1);ke=Je==xe-1||Je==xe?et<0:et>0}var pt=L[xe+(ke?-1:0)],wt=ke==(pt.level==1),Et=wt?pt.from:pt.to,jt=wt?"after":"before";return r.ch==Et&&r.sticky==jt?t:new sr(new at(r.line,Et,jt),i)}function jc(e,t,r,i){var u,L;if(t.touches)u=t.touches[0].clientX,L=t.touches[0].clientY;else try{u=t.clientX,L=t.clientY}catch{return!1}if(u>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&vt(t);var ue=e.display,pe=ue.lineDiv.getBoundingClientRect();if(L>pe.bottom||!Ke(e,r))return It(t);L-=pe.top-ue.viewOffset;for(var ke=0;ke<e.display.gutterSpecs.length;++ke){var xe=ue.gutters.childNodes[ke];if(xe&&xe.getBoundingClientRect().right>=u)return dt(e,r,e,Dn(e.doc,L),e.display.gutterSpecs[ke].className,t),It(t)}}function Lc(e,t){return jc(e,t,"gutterClick",!0)}function Ic(e,t){Le(e.display,t)||js(e,t)||We(e,t,"contextmenu")||T||e.display.input.onContextMenu(t)}function js(e,t){return!!Ke(e,"gutterContextMenu")&&jc(e,t,"gutterContextMenu",!1)}function Zc(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),gs(e)}qa.prototype.compare=function(e,t,r){return this.time+du>e&&Be(t,this.pos)==0&&r==this.button};var go={toString:function(){return"CodeMirror.Init"}},Hl={},Wa={};function bu(e){var t=e.optionHandlers;function r(i,u,L,ue){e.defaults[i]=u,L&&(t[i]=ue?function(pe,ke,xe){xe!=go&&L(pe,ke,xe)}:L)}e.defineOption=r,e.Init=go,r("value","",function(i,u){return i.setValue(u)},!0),r("mode",null,function(i,u){i.doc.modeOption=u,La(i)},!0),r("indentUnit",2,La,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(i){Ko(i),gs(i),zr(i)},!0),r("lineSeparator",null,function(i,u){if(i.doc.lineSep=u,u){var L=[],ue=i.doc.first;i.doc.iter(function(ke){for(var xe=0;;){var Je=ke.text.indexOf(u,xe);if(Je==-1)break;xe=Je+u.length,L.push(at(ue,Je))}ue++});for(var pe=L.length-1;pe>=0;pe--)Qo(i.doc,u,L[pe],at(L[pe].line,L[pe].ch+u.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(i,u,L){i.state.specialChars=new RegExp(u.source+(u.test("	")?"":"|	"),"g"),L!=go&&i.refresh()}),r("specialCharPlaceholder",Ai,function(i){return i.refresh()},!0),r("electricChars",!0),r("inputStyle",x?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(i,u){return i.getInputField().spellcheck=u},!0),r("autocorrect",!1,function(i,u){return i.getInputField().autocorrect=u},!0),r("autocapitalize",!1,function(i,u){return i.getInputField().autocapitalize=u},!0),r("rtlMoveVisually",!se),r("wholeLineUpdateBefore",!0),r("theme","default",function(i){Zc(i),Ro(i)},!0),r("keyMap","default",function(i,u,L){var ue=Rs(u),pe=L!=go&&Rs(L);pe&&pe.detach&&pe.detach(i,ue),ue.attach&&ue.attach(i,pe||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,wu,!0),r("gutters",[],function(i,u){i.display.gutterSpecs=Go(u,i.options.lineNumbers),Ro(i)},!0),r("fixedGutter",!0,function(i,u){i.display.gutters.style.left=u?Bs(i.display)+"px":"0",i.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(i){return zo(i)},!0),r("scrollbarStyle","native",function(i){Po(i),zo(i),i.display.scrollbars.setScrollTop(i.doc.scrollTop),i.display.scrollbars.setScrollLeft(i.doc.scrollLeft)},!0),r("lineNumbers",!1,function(i,u){i.display.gutterSpecs=Go(i.options.gutters,u),Ro(i)},!0),r("firstLineNumber",1,Ro,!0),r("lineNumberFormatter",function(i){return i},Ro,!0),r("showCursorWhenSelecting",!1,Bo,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(i,u){u=="nocursor"&&(Ho(i),i.display.input.blur()),i.display.input.readOnlyChanged(u)}),r("screenReaderLabel",null,function(i,u){u=u===""?null:u,i.display.input.screenReaderLabelChanged(u)}),r("disableInput",!1,function(i,u){u||i.display.input.reset()},!0),r("dragDrop",!0,jr),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,Bo,!0),r("singleCursorHeightPerLine",!0,Bo,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Ko,!0),r("addModeClass",!1,Ko,!0),r("pollInterval",100),r("undoDepth",200,function(i,u){return i.doc.history.undoDepth=u}),r("historyEventDelay",1250),r("viewportMargin",10,function(i){return i.refresh()},!0),r("maxHighlightLength",1e4,Ko,!0),r("moveInputWithCursor",!0,function(i,u){u||i.display.input.resetPosition()}),r("tabindex",null,function(i,u){return i.display.input.getField().tabIndex=u||""}),r("autofocus",null),r("direction","ltr",function(i,u){return i.doc.setDirection(u)},!0),r("phrases",null)}function jr(e,t,r){if(!t!=!(r&&r!=go)){var i=e.display.dragFunctions,u=t?st:Ge;u(e.display.scroller,"dragstart",i.start),u(e.display.scroller,"dragenter",i.enter),u(e.display.scroller,"dragover",i.over),u(e.display.scroller,"dragleave",i.leave),u(e.display.scroller,"drop",i.drop)}}function wu(e){e.options.lineWrapping?(K(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(E(e.display.wrapper,"CodeMirror-wrap"),De(e)),to(e),zr(e),gs(e),setTimeout(function(){return zo(e)},100)}function Rr(e,t){var r=this;if(!(this instanceof Rr))return new Rr(e,t);this.options=t=t?v(t):{},v(Hl,t,!1);var i=t.value;typeof i=="string"?i=new di(i,t.mode,null,t.lineSeparator,t.direction):t.mode&&(i.modeOption=t.mode),this.doc=i;var u=new Rr.inputStyles[t.inputStyle](this),L=this.display=new ro(e,i,u,t);for(var ue in L.wrapper.CodeMirror=this,Zc(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Po(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new a,keySeq:null,specialChars:null},t.autofocus&&!x&&L.input.focus(),l&&P<11&&setTimeout(function(){return r.display.input.reset(!0)},20),la(this),pu(),Wo(this),this.curOp.forceUpdate=!0,ml(this,i),t.autofocus&&!x||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&bs(r)},20):Ho(this),Wa)Wa.hasOwnProperty(ue)&&Wa[ue](this,t[ue],go);hc(this),t.finishInit&&t.finishInit(this);for(var pe=0;pe<Si.length;++pe)Si[pe](this);$o(this),N&&t.lineWrapping&&getComputedStyle(L.lineDiv).textRendering=="optimizelegibility"&&(L.lineDiv.style.textRendering="auto")}function la(e){var t=e.display;st(t.scroller,"mousedown",ur(e,Il)),st(t.scroller,"dblclick",l&&P<11?ur(e,function(ke){if(!We(e,ke)){var xe=Kr(e,ke);if(xe&&!Lc(e,ke)&&!Le(e.display,ke)){vt(ke);var Je=e.findWordAt(xe);Cs(e.doc,Je.anchor,Je.head)}}}):function(ke){return We(e,ke)||vt(ke)}),st(t.scroller,"contextmenu",function(ke){return Ic(e,ke)}),st(t.input.getField(),"contextmenu",function(ke){t.scroller.contains(ke.target)||Ic(e,ke)});var r,i={end:0};function u(){t.activeTouch&&(r=setTimeout(function(){return t.activeTouch=null},1e3),(i=t.activeTouch).end=+new Date)}function L(ke){if(ke.touches.length!=1)return!1;var xe=ke.touches[0];return xe.radiusX<=1&&xe.radiusY<=1}function ue(ke,xe){if(xe.left==null)return!0;var Je=xe.left-ke.left,et=xe.top-ke.top;return Je*Je+et*et>400}st(t.scroller,"touchstart",function(ke){if(!We(e,ke)&&!L(ke)&&!Lc(e,ke)){t.input.ensurePolled(),clearTimeout(r);var xe=+new Date;t.activeTouch={start:xe,moved:!1,prev:xe-i.end<=300?i:null},ke.touches.length==1&&(t.activeTouch.left=ke.touches[0].pageX,t.activeTouch.top=ke.touches[0].pageY)}}),st(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),st(t.scroller,"touchend",function(ke){var xe=t.activeTouch;if(xe&&!Le(t,ke)&&xe.left!=null&&!xe.moved&&new Date-xe.start<300){var Je,et=e.coordsChar(t.activeTouch,"page");Je=!xe.prev||ue(xe,xe.prev)?new sr(et,et):!xe.prev.prev||ue(xe,xe.prev.prev)?e.findWordAt(et):new sr(at(et.line,0),an(e.doc,at(et.line+1,0))),e.setSelection(Je.anchor,Je.head),e.focus(),vt(ke)}u()}),st(t.scroller,"touchcancel",u),st(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Ui(e,t.scroller.scrollTop),Ci(e,t.scroller.scrollLeft,!0),dt(e,"scroll",e))}),st(t.scroller,"mousewheel",function(ke){return yr(e,ke)}),st(t.scroller,"DOMMouseScroll",function(ke){return yr(e,ke)}),st(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(ke){We(e,ke)||Nt(ke)},over:function(ke){We(e,ke)||(kl(e,ke),Nt(ke))},start:function(ke){return Sl(e,ke)},drop:ur(e,hu),leave:function(ke){We(e,ke)||xc(e)}};var pe=t.input.getField();st(pe,"keyup",function(ke){return Ns.call(e,ke)}),st(pe,"keydown",ur(e,Nc)),st(pe,"keypress",ur(e,Ms)),st(pe,"focus",function(ke){return bs(e,ke)}),st(pe,"blur",function(ke){return Ho(e,ke)})}Rr.defaults=Hl,Rr.optionHandlers=Wa;var Si=[];function Lo(e,t,r,i){var u,L=e.doc;r==null&&(r="add"),r=="smart"&&(L.mode.indent?u=cr(e,t).state:r="prev");var ue=e.options.tabSize,pe=gn(L,t),ke=b(pe.text,null,ue);pe.stateAfter&&(pe.stateAfter=null);var xe,Je=pe.text.match(/^\s*/)[0];if(i||/\S/.test(pe.text)){if(r=="smart"&&((xe=L.mode.indent(u,pe.text.slice(Je.length),pe.text))==_||xe>150)){if(!i)return;r="prev"}}else xe=0,r="not";r=="prev"?xe=t>L.first?b(gn(L,t-1).text,null,ue):0:r=="add"?xe=ke+e.options.indentUnit:r=="subtract"?xe=ke-e.options.indentUnit:typeof r=="number"&&(xe=ke+r),xe=Math.max(0,xe);var et="",pt=0;if(e.options.indentWithTabs)for(var wt=Math.floor(xe/ue);wt;--wt)pt+=ue,et+="	";if(pt<xe&&(et+=V(xe-pt)),et!=Je)return Qo(L,et,at(t,0),at(t,Je.length),"+input"),pe.stateAfter=null,!0;for(var Et=0;Et<L.sel.ranges.length;Et++){var jt=L.sel.ranges[Et];if(jt.head.line==t&&jt.head.ch<Je.length){var zt=at(t,Je.length);wc(L,Et,new sr(zt,zt));break}}}Rr.defineInitHook=function(e){return Si.push(e)};var ki=null;function ua(e){ki=e}function $a(e,t,r,i,u){var L=e.doc;e.display.shift=!1,i||(i=L.sel);var ue=+new Date-200,pe=u=="paste"||e.state.pasteIncoming>ue,ke=wn(t),xe=null;if(pe&&i.ranges.length>1)if(ki&&ki.text.join(`
`)==t){if(i.ranges.length%ki.text.length==0){xe=[];for(var Je=0;Je<ki.text.length;Je++)xe.push(L.splitLines(ki.text[Je]))}}else ke.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(xe=ve(ke,function(qt){return[qt]}));for(var et=e.curOp.updateInput,pt=i.ranges.length-1;pt>=0;pt--){var wt=i.ranges[pt],Et=wt.from(),jt=wt.to();wt.empty()&&(r&&r>0?Et=at(Et.line,Et.ch-r):e.state.overwrite&&!pe?jt=at(jt.line,Math.min(gn(L,jt.line).text.length,jt.ch+le(ke).length)):pe&&ki&&ki.lineWise&&ki.text.join(`
`)==ke.join(`
`)&&(Et=jt=at(Et.line,0)));var zt={from:Et,to:jt,text:xe?xe[pt%xe.length]:ke,origin:u||(pe?"paste":e.state.cutIncoming>ue?"cut":"+input")};lo(e.doc,zt),Dr(e,"inputRead",e,zt)}t&&!pe&&Bc(e,t),ws(e),e.curOp.updateInput<2&&(e.curOp.updateInput=et),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Fc(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||kr(t,function(){return $a(t,r,0,null,"paste")}),!0}function Bc(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,i=r.ranges.length-1;i>=0;i--){var u=r.ranges[i];if(!(u.head.ch>100||i&&r.ranges[i-1].head.line==u.head.line)){var L=e.getModeAt(u.head),ue=!1;if(L.electricChars){for(var pe=0;pe<L.electricChars.length;pe++)if(t.indexOf(L.electricChars.charAt(pe))>-1){ue=Lo(e,u.head.line,"smart");break}}else L.electricInput&&L.electricInput.test(gn(e.doc,u.head.line).text.slice(0,u.head.ch))&&(ue=Lo(e,u.head.line,"smart"));ue&&Dr(e,"electricInput",e,u.head.line)}}}function Hc(e){for(var t=[],r=[],i=0;i<e.doc.sel.ranges.length;i++){var u=e.doc.sel.ranges[i].head.line,L={anchor:at(u,0),head:at(u+1,0)};r.push(L),t.push(e.getRange(L.anchor,L.head))}return{text:t,ranges:r}}function Vl(e,t,r,i){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",i?"":"off"),e.setAttribute("spellcheck",!!t)}function Ga(){var e=d("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=d("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return N?e.style.width="1000px":e.setAttribute("wrap","off"),X&&(e.style.border="1px solid black"),Vl(e),t}function Ul(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(i,u){var L=this.options,ue=L[i];L[i]==u&&i!="mode"||(L[i]=u,t.hasOwnProperty(i)&&ur(this,t[i])(this,u,ue),dt(this,"optionChange",this,i))},getOption:function(i){return this.options[i]},getDoc:function(){return this.doc},addKeyMap:function(i,u){this.state.keyMaps[u?"push":"unshift"](Rs(i))},removeKeyMap:function(i){for(var u=this.state.keyMaps,L=0;L<u.length;++L)if(u[L]==i||u[L].name==i)return u.splice(L,1),!0},addOverlay:Yr(function(i,u){var L=i.token?i:e.getMode(this.options,i);if(L.startState)throw new Error("Overlays may not be stateful.");Ne(this.state.overlays,{mode:L,modeSpec:i,opaque:u&&u.opaque,priority:u&&u.priority||0},function(ue){return ue.priority}),this.state.modeGen++,zr(this)}),removeOverlay:Yr(function(i){for(var u=this.state.overlays,L=0;L<u.length;++L){var ue=u[L].modeSpec;if(ue==i||typeof i=="string"&&ue.name==i)return u.splice(L,1),this.state.modeGen++,void zr(this)}}),indentLine:Yr(function(i,u,L){typeof u!="string"&&typeof u!="number"&&(u=u==null?this.options.smartIndent?"smart":"prev":u?"add":"subtract"),en(this.doc,i)&&Lo(this,i,u,L)}),indentSelection:Yr(function(i){for(var u=this.doc.sel.ranges,L=-1,ue=0;ue<u.length;ue++){var pe=u[ue];if(pe.empty())pe.head.line>L&&(Lo(this,pe.head.line,i,!0),L=pe.head.line,ue==this.doc.sel.primIndex&&ws(this));else{var ke=pe.from(),xe=pe.to(),Je=Math.max(L,ke.line);L=Math.min(this.lastLine(),xe.line-(xe.ch?0:1))+1;for(var et=Je;et<L;++et)Lo(this,et,i);var pt=this.doc.sel.ranges;ke.ch==0&&u.length==pt.length&&pt[ue].from().ch>0&&wc(this.doc,ue,new sr(ke,pt[ue].to()),A)}}}),getTokenAt:function(i,u){return ft(this,i,u)},getLineTokens:function(i,u){return ft(this,at(i),u,!0)},getTokenTypeAt:function(i){i=an(this.doc,i);var u,L=mr(this,gn(this.doc,i.line)),ue=0,pe=(L.length-1)/2,ke=i.ch;if(ke==0)u=L[2];else for(;;){var xe=ue+pe>>1;if((xe?L[2*xe-1]:0)>=ke)pe=xe;else{if(!(L[2*xe+1]<ke)){u=L[2*xe+2];break}ue=xe+1}}var Je=u?u.indexOf("overlay "):-1;return Je<0?u:Je==0?null:u.slice(0,Je-1)},getModeAt:function(i){var u=this.doc.mode;return u.innerMode?e.innerMode(u,this.getTokenAt(i).state).mode:u},getHelper:function(i,u){return this.getHelpers(i,u)[0]},getHelpers:function(i,u){var L=[];if(!r.hasOwnProperty(u))return L;var ue=r[u],pe=this.getModeAt(i);if(typeof pe[u]=="string")ue[pe[u]]&&L.push(ue[pe[u]]);else if(pe[u])for(var ke=0;ke<pe[u].length;ke++){var xe=ue[pe[u][ke]];xe&&L.push(xe)}else pe.helperType&&ue[pe.helperType]?L.push(ue[pe.helperType]):ue[pe.name]&&L.push(ue[pe.name]);for(var Je=0;Je<ue._global.length;Je++){var et=ue._global[Je];et.pred(pe,this)&&f(L,et.val)==-1&&L.push(et.val)}return L},getStateAfter:function(i,u){var L=this.doc;return cr(this,(i=kn(L,i==null?L.first+L.size-1:i))+1,u).state},cursorCoords:function(i,u){var L=this.doc.sel.primary();return Oi(this,i==null?L.head:typeof i=="object"?an(this.doc,i):i?L.from():L.to(),u||"page")},charCoords:function(i,u){return Fs(this,an(this.doc,i),u||"page")},coordsChar:function(i,u){return Sa(this,(i=Mi(this,i,u||"page")).left,i.top)},lineAtHeight:function(i,u){return i=Mi(this,{top:i,left:0},u||"page").top,Dn(this.doc,i+this.display.viewOffset)},heightAtLine:function(i,u,L){var ue,pe=!1;if(typeof i=="number"){var ke=this.doc.first+this.doc.size-1;i<this.doc.first?i=this.doc.first:i>ke&&(i=ke,pe=!0),ue=gn(this.doc,i)}else ue=i;return Fo(this,ue,{top:0,left:0},u||"page",L||pe).top+(pe?this.doc.height-ye(ue):0)},defaultTextHeight:function(){return _o(this.display)},defaultCharWidth:function(){return To(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(i,u,L,ue,pe){var ke=this.display,xe=(i=Oi(this,an(this.doc,i))).bottom,Je=i.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),ke.sizer.appendChild(u),ue=="over")xe=i.top;else if(ue=="above"||ue=="near"){var et=Math.max(ke.wrapper.clientHeight,this.doc.height),pt=Math.max(ke.sizer.clientWidth,ke.lineSpace.clientWidth);(ue=="above"||i.bottom+u.offsetHeight>et)&&i.top>u.offsetHeight?xe=i.top-u.offsetHeight:i.bottom+u.offsetHeight<=et&&(xe=i.bottom),Je+u.offsetWidth>pt&&(Je=pt-u.offsetWidth)}u.style.top=xe+"px",u.style.left=u.style.right="",pe=="right"?(Je=ke.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):(pe=="left"?Je=0:pe=="middle"&&(Je=(ke.sizer.clientWidth-u.offsetWidth)/2),u.style.left=Je+"px"),L&&ac(this,{left:Je,top:xe,right:Je+u.offsetWidth,bottom:xe+u.offsetHeight})},triggerOnKeyDown:Yr(Nc),triggerOnKeyPress:Yr(Ms),triggerOnKeyUp:Ns,triggerOnMouseDown:Yr(Il),execCommand:function(i){if(sa.hasOwnProperty(i))return sa[i].call(null,this)},triggerElectric:Yr(function(i){Bc(this,i)}),findPosH:function(i,u,L,ue){var pe=1;u<0&&(pe=-1,u=-u);for(var ke=an(this.doc,i),xe=0;xe<u&&!(ke=Or(this.doc,ke,pe,L,ue)).hitSide;++xe);return ke},moveH:Yr(function(i,u){var L=this;this.extendSelectionsBy(function(ue){return L.display.shift||L.doc.extend||ue.empty()?Or(L.doc,ue.head,i,u,L.options.rtlMoveVisually):i<0?ue.from():ue.to()},te)}),deleteH:Yr(function(i,u){var L=this.doc.sel,ue=this.doc;L.somethingSelected()?ue.replaceSelection("",null,"+delete"):jo(this,function(pe){var ke=Or(ue,pe.head,i,u,!1);return i<0?{from:ke,to:pe.head}:{from:pe.head,to:ke}})}),findPosV:function(i,u,L,ue){var pe=1,ke=ue;u<0&&(pe=-1,u=-u);for(var xe=an(this.doc,i),Je=0;Je<u;++Je){var et=Oi(this,xe,"div");if(ke==null?ke=et.left:et.left=ke,(xe=Vc(this,et,pe,L)).hitSide)break}return xe},moveV:Yr(function(i,u){var L=this,ue=this.doc,pe=[],ke=!this.display.shift&&!ue.extend&&ue.sel.somethingSelected();if(ue.extendSelectionsBy(function(Je){if(ke)return i<0?Je.from():Je.to();var et=Oi(L,Je.head,"div");Je.goalColumn!=null&&(et.left=Je.goalColumn),pe.push(et.left);var pt=Vc(L,et,i,u);return u=="page"&&Je==ue.sel.primary()&&Uo(L,Fs(L,pt,"div").top-et.top),pt},te),pe.length)for(var xe=0;xe<ue.sel.ranges.length;xe++)ue.sel.ranges[xe].goalColumn=pe[xe]}),findWordAt:function(i){var u=gn(this.doc,i.line).text,L=i.ch,ue=i.ch;if(u){var pe=this.getHelper(i,"wordChars");i.sticky!="before"&&ue!=u.length||!L?++ue:--L;for(var ke=u.charAt(L),xe=be(ke,pe)?function(Je){return be(Je,pe)}:/\s/.test(ke)?function(Je){return/\s/.test(Je)}:function(Je){return!/\s/.test(Je)&&!be(Je)};L>0&&xe(u.charAt(L-1));)--L;for(;ue<u.length&&xe(u.charAt(ue));)++ue}return new sr(at(i.line,L),at(i.line,ue))},toggleOverwrite:function(i){i!=null&&i==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?K(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),dt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==O()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Yr(function(i,u){ko(this,i,u)}),getScrollInfo:function(){var i=this.display.scroller;return{left:i.scrollLeft,top:i.scrollTop,height:i.scrollHeight-Tt(this)-this.display.barHeight,width:i.scrollWidth-Tt(this)-this.display.barWidth,clientHeight:tn(this),clientWidth:Bt(this)}},scrollIntoView:Yr(function(i,u){i==null?(i={from:this.doc.sel.primary().head,to:null},u==null&&(u=this.options.cursorScrollMargin)):typeof i=="number"?i={from:at(i,0),to:null}:i.from==null&&(i={from:i,to:null}),i.to||(i.to=i.from),i.margin=u||0,i.from.line!=null?fl(this,i):cc(this,i.from,i.to,i.margin)}),setSize:Yr(function(i,u){var L=this,ue=function(ke){return typeof ke=="number"||/^\d+$/.test(String(ke))?ke+"px":ke};i!=null&&(this.display.wrapper.style.width=ue(i)),u!=null&&(this.display.wrapper.style.height=ue(u)),this.options.lineWrapping&&nc(this);var pe=this.display.viewFrom;this.doc.iter(pe,this.display.viewTo,function(ke){if(ke.widgets){for(var xe=0;xe<ke.widgets.length;xe++)if(ke.widgets[xe].noHScroll){Vi(L,pe,"widget");break}}++pe}),this.curOp.forceUpdate=!0,dt(this,"refresh",this)}),operation:function(i){return kr(this,i)},startOperation:function(){return Wo(this)},endOperation:function(){return $o(this)},refresh:Yr(function(){var i=this.display.cachedTextHeight;zr(this),this.curOp.forceUpdate=!0,gs(this),ko(this,this.doc.scrollLeft,this.doc.scrollTop),Da(this.display),(i==null||Math.abs(i-_o(this.display))>.5||this.options.lineWrapping)&&to(this),dt(this,"refresh",this)}),swapDoc:Yr(function(i){var u=this.doc;return u.cm=null,this.state.selectingText&&this.state.selectingText(),ml(this,i),gs(this),this.display.input.reset(),ko(this,i.scrollLeft,i.scrollTop),this.curOp.forceScroll=!0,Dr(this,"swapDoc",this,u),u}),phrase:function(i){var u=this.options.phrases;return u&&Object.prototype.hasOwnProperty.call(u,i)?u[i]:i},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},gt(e),e.registerHelper=function(i,u,L){r.hasOwnProperty(i)||(r[i]=e[i]={_global:[]}),r[i][u]=L},e.registerGlobalHelper=function(i,u,L,ue){e.registerHelper(i,u,ue),r[i]._global.push({pred:L,val:ue})}}function Or(e,t,r,i,u){var L=t,ue=r,pe=gn(e,t.line),ke=u&&e.direction=="rtl"?-r:r;function xe(){var Jt=t.line+ke;return!(Jt<e.first||Jt>=e.first+e.size)&&(t=new at(Jt,t.ch,t.sticky),pe=gn(e,Jt))}function Je(Jt){var Wt;if(i=="codepoint"){var on=pe.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(on))Wt=null;else{var _n=r>0?on>=55296&&on<56320:on>=56320&&on<57343;Wt=new at(t.line,Math.max(0,Math.min(pe.text.length,t.ch+r*(_n?2:1))),-r)}}else Wt=u?Rl(e.cm,pe,t,r):Ac(pe,t,r);if(Wt==null){if(Jt||!xe())return!1;t=rs(u,e.cm,pe,t.line,ke)}else t=Wt;return!0}if(i=="char"||i=="codepoint")Je();else if(i=="column")Je(!0);else if(i=="word"||i=="group")for(var et=null,pt=i=="group",wt=e.cm&&e.cm.getHelper(t,"wordChars"),Et=!0;!(r<0)||Je(!Et);Et=!1){var jt=pe.text.charAt(t.ch)||`
`,zt=be(jt,wt)?"w":pt&&jt==`
`?"n":!pt||/\s/.test(jt)?null:"p";if(!pt||Et||zt||(zt="s"),et&&et!=zt){r<0&&(r=1,Je(),t.sticky="after");break}if(zt&&(et=zt),r>0&&!Je(!Et))break}var qt=ea(e,t,L,ue,!0);return ut(L,qt)&&(qt.hitSide=!0),qt}function Vc(e,t,r,i){var u,L,ue=e.doc,pe=t.left;if(i=="page"){var ke=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),xe=Math.max(ke-.5*_o(e.display),3);u=(r>0?t.bottom:t.top)+r*xe}else i=="line"&&(u=r>0?t.bottom+3:t.top-3);for(;(L=Sa(e,pe,u)).outside;){if(r<0?u<=0:u>=ue.height){L.hitSide=!0;break}u+=5*r}return L}var Sr=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new a,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function os(e,t){var r=fi(e,t.line);if(!r||r.hidden)return null;var i=gn(e.doc,t.line),u=qn(r,i,t.line),L=Dt(i,e.doc.direction),ue="left";L&&(ue=Ut(L,t.ch)%2?"right":"left");var pe=ol(u.map,t.ch,ue);return pe.offset=pe.collapse=="right"?pe.end:pe.start,pe}function _u(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function mo(e,t){return t&&(e.bad=!0),e}function Tu(e,t,r,i,u){var L="",ue=!1,pe=e.doc.lineSeparator(),ke=!1;function xe(wt){return function(Et){return Et.id==wt}}function Je(){ue&&(L+=pe,ke&&(L+=pe),ue=ke=!1)}function et(wt){wt&&(Je(),L+=wt)}function pt(wt){if(wt.nodeType==1){var Et=wt.getAttribute("cm-text");if(Et)return void et(Et);var jt,zt=wt.getAttribute("cm-marker");if(zt){var qt=e.findMarks(at(i,0),at(u+1,0),xe(+zt));return void(qt.length&&(jt=qt[0].find(0))&&et(jn(e.doc,jt.from,jt.to).join(pe)))}if(wt.getAttribute("contenteditable")=="false")return;var Jt=/^(pre|div|p|li|table|br)$/i.test(wt.nodeName);if(!/^br$/i.test(wt.nodeName)&&wt.textContent.length==0)return;Jt&&Je();for(var Wt=0;Wt<wt.childNodes.length;Wt++)pt(wt.childNodes[Wt]);/^(pre|p)$/i.test(wt.nodeName)&&(ke=!0),Jt&&(ue=!0)}else wt.nodeType==3&&et(wt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;pt(t),t!=r;)t=t.nextSibling,ke=!1;return L}function Lr(e,t,r){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[r]))return mo(e.clipPos(at(e.display.viewTo-1)),!0);t=null,r=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var u=0;u<e.display.view.length;u++){var L=e.display.view[u];if(L.node==i)return Ou(L,t,r)}}function Ou(e,t,r){var i=e.text.firstChild,u=!1;if(!t||!p(i,t))return mo(at(Rn(e.line),0),!0);if(t==i&&(u=!0,t=i.childNodes[r],r=0,!t)){var L=e.rest?le(e.rest):e.line;return mo(at(Rn(L),L.text.length),u)}var ue=t.nodeType==3?t:null,pe=t;for(ue||t.childNodes.length!=1||t.firstChild.nodeType!=3||(ue=t.firstChild,r&&(r=ue.nodeValue.length));pe.parentNode!=i;)pe=pe.parentNode;var ke=e.measure,xe=ke.maps;function Je(zt,qt,Jt){for(var Wt=-1;Wt<(xe?xe.length:0);Wt++)for(var on=Wt<0?ke.map:xe[Wt],_n=0;_n<on.length;_n+=3){var Cn=on[_n+2];if(Cn==zt||Cn==qt){var nr=Rn(Wt<0?e.line:e.rest[Wt]),Wn=on[_n]+Jt;return(Jt<0||Cn!=zt)&&(Wn=on[_n+(Jt?1:0)]),at(nr,Wn)}}}var et=Je(ue,pe,r);if(et)return mo(et,u);for(var pt=pe.nextSibling,wt=ue?ue.nodeValue.length-r:0;pt;pt=pt.nextSibling){if(et=Je(pt,pt.firstChild,0))return mo(at(et.line,et.ch-wt),u);wt+=pt.textContent.length}for(var Et=pe.previousSibling,jt=r;Et;Et=Et.previousSibling){if(et=Je(Et,Et.firstChild,-1))return mo(at(et.line,et.ch+jt),u);jt+=Et.textContent.length}}Sr.prototype.init=function(e){var t=this,r=this,i=r.cm,u=r.div=e.lineDiv;function L(pe){for(var ke=pe.target;ke;ke=ke.parentNode){if(ke==u)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ke.className))break}return!1}function ue(pe){if(L(pe)&&!We(i,pe)){if(i.somethingSelected())ua({lineWise:!1,text:i.getSelections()}),pe.type=="cut"&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var ke=Hc(i);ua({lineWise:!0,text:ke.text}),pe.type=="cut"&&i.operation(function(){i.setSelections(ke.ranges,0,A),i.replaceSelection("",null,"cut")})}if(pe.clipboardData){pe.clipboardData.clearData();var xe=ki.text.join(`
`);if(pe.clipboardData.setData("Text",xe),pe.clipboardData.getData("Text")==xe)return void pe.preventDefault()}var Je=Ga(),et=Je.firstChild;i.display.lineSpace.insertBefore(Je,i.display.lineSpace.firstChild),et.value=ki.text.join(`
`);var pt=O();ne(et),setTimeout(function(){i.display.lineSpace.removeChild(Je),pt.focus(),pt==u&&r.showPrimarySelection()},50)}}u.contentEditable=!0,Vl(u,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),st(u,"paste",function(pe){!L(pe)||We(i,pe)||Fc(pe,i)||P<=11&&setTimeout(ur(i,function(){return t.updateFromDOM()}),20)}),st(u,"compositionstart",function(pe){t.composing={data:pe.data,done:!1}}),st(u,"compositionupdate",function(pe){t.composing||(t.composing={data:pe.data,done:!1})}),st(u,"compositionend",function(pe){t.composing&&(pe.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),st(u,"touchstart",function(){return r.forceCompositionEnd()}),st(u,"input",function(){t.composing||t.readFromDOMSoon()}),st(u,"copy",ue),st(u,"cut",ue)},Sr.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Sr.prototype.prepareSelection=function(){var e=Us(this.cm,!1);return e.focus=O()==this.div,e},Sr.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Sr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Sr.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),u=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||u.line<t.display.viewFrom)e.removeAllRanges();else{var L=Lr(t,e.anchorNode,e.anchorOffset),ue=Lr(t,e.focusNode,e.focusOffset);if(!L||L.bad||!ue||ue.bad||Be(Ht(L,ue),i)!=0||Be(Kt(L,ue),u)!=0){var pe=t.display.view,ke=i.line>=t.display.viewFrom&&os(t,i)||{node:pe[0].measure.map[2],offset:0},xe=u.line<t.display.viewTo&&os(t,u);if(!xe){var Je=pe[pe.length-1].measure,et=Je.maps?Je.maps[Je.maps.length-1]:Je.map;xe={node:et[et.length-1],offset:et[et.length-2]-et[et.length-3]}}if(ke&&xe){var pt,wt=e.rangeCount&&e.getRangeAt(0);try{pt=U(ke.node,ke.offset,xe.offset,xe.node)}catch{}pt&&(!k&&t.state.focused?(e.collapse(ke.node,ke.offset),pt.collapsed||(e.removeAllRanges(),e.addRange(pt))):(e.removeAllRanges(),e.addRange(pt)),wt&&e.anchorNode==null?e.addRange(wt):k&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Sr.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Sr.prototype.showMultipleSelections=function(e){c(this.cm.display.cursorDiv,e.cursors),c(this.cm.display.selectionDiv,e.selection)},Sr.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Sr.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return p(this.div,t)},Sr.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&O()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Sr.prototype.blur=function(){this.div.blur()},Sr.prototype.getField=function(){return this.div},Sr.prototype.supportsTouch=function(){return!0},Sr.prototype.receivedFocus=function(){var e=this,t=this;function r(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,r))}this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):kr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,r)},Sr.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Sr.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Y&&y&&this.cm.display.gutterSpecs.length&&_u(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Lr(t,e.anchorNode,e.anchorOffset),i=Lr(t,e.focusNode,e.focusOffset);r&&i&&kr(t,function(){ii(t.doc,oo(r,i),A),(r.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}}},Sr.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,i=this.cm,u=i.display,L=i.doc.sel.primary(),ue=L.from(),pe=L.to();if(ue.ch==0&&ue.line>i.firstLine()&&(ue=at(ue.line-1,gn(i.doc,ue.line-1).length)),pe.ch==gn(i.doc,pe.line).text.length&&pe.line<i.lastLine()&&(pe=at(pe.line+1,0)),ue.line<u.viewFrom||pe.line>u.viewTo-1)return!1;ue.line==u.viewFrom||(e=bi(i,ue.line))==0?(t=Rn(u.view[0].line),r=u.view[0].node):(t=Rn(u.view[e].line),r=u.view[e-1].node.nextSibling);var ke,xe,Je=bi(i,pe.line);if(Je==u.view.length-1?(ke=u.viewTo-1,xe=u.lineDiv.lastChild):(ke=Rn(u.view[Je+1].line)-1,xe=u.view[Je+1].node.previousSibling),!r)return!1;for(var et=i.doc.splitLines(Tu(i,r,xe,t,ke)),pt=jn(i.doc,at(t,0),at(ke,gn(i.doc,ke).text.length));et.length>1&&pt.length>1;)if(le(et)==le(pt))et.pop(),pt.pop(),ke--;else{if(et[0]!=pt[0])break;et.shift(),pt.shift(),t++}for(var wt=0,Et=0,jt=et[0],zt=pt[0],qt=Math.min(jt.length,zt.length);wt<qt&&jt.charCodeAt(wt)==zt.charCodeAt(wt);)++wt;for(var Jt=le(et),Wt=le(pt),on=Math.min(Jt.length-(et.length==1?wt:0),Wt.length-(pt.length==1?wt:0));Et<on&&Jt.charCodeAt(Jt.length-Et-1)==Wt.charCodeAt(Wt.length-Et-1);)++Et;if(et.length==1&&pt.length==1&&t==ue.line)for(;wt&&wt>ue.ch&&Jt.charCodeAt(Jt.length-Et-1)==Wt.charCodeAt(Wt.length-Et-1);)wt--,Et++;et[et.length-1]=Jt.slice(0,Jt.length-Et).replace(/^\u200b+/,""),et[0]=et[0].slice(wt).replace(/\u200b+$/,"");var _n=at(t,wt),Cn=at(ke,pt.length?le(pt).length-Et:0);return et.length>1||et[0]||Be(_n,Cn)?(Qo(i.doc,et,_n,Cn,"+input"),!0):void 0},Sr.prototype.ensurePolled=function(){this.forceCompositionEnd()},Sr.prototype.reset=function(){this.forceCompositionEnd()},Sr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Sr.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Sr.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||kr(this.cm,function(){return zr(e.cm)})},Sr.prototype.setUneditable=function(e){e.contentEditable="false"},Sr.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||ur(this.cm,$a)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},Sr.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},Sr.prototype.onContextMenu=function(){},Sr.prototype.resetPosition=function(){},Sr.prototype.needsContentAttribute=!0;var qr=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new a,this.hasSelection=!1,this.composing=null};function Cu(e,t){if((t=t?v(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var r=O();t.autofocus=r==e||e.getAttribute("autofocus")!=null&&r==document.body}function i(){e.value=pe.getValue()}var u;if(e.form&&(st(e.form,"submit",i),!t.leaveSubmitMethodAlone)){var L=e.form;u=L.submit;try{var ue=L.submit=function(){i(),L.submit=u,L.submit(),L.submit=ue}}catch{}}t.finishInit=function(ke){ke.save=i,ke.getTextArea=function(){return e},ke.toTextArea=function(){ke.toTextArea=isNaN,i(),e.parentNode.removeChild(ke.getWrapperElement()),e.style.display="",e.form&&(Ge(e.form,"submit",i),t.leaveSubmitMethodAlone||typeof e.form.submit!="function"||(e.form.submit=u))}},e.style.display="none";var pe=Rr(function(ke){return e.parentNode.insertBefore(ke,e.nextSibling)},t);return pe}function Ka(e){e.off=Ge,e.on=st,e.wheelEventPixels=Ei,e.Doc=di,e.splitLines=wn,e.countColumn=b,e.findColumn=F,e.isWordChar=ae,e.Pass=_,e.signal=dt,e.Line=un,e.changeEnd=Ji,e.scrollbarModel=hl,e.Pos=at,e.cmpPos=Be,e.modes=xn,e.mimeModes=Nn,e.resolveMode=ln,e.getMode=ze,e.modeExtensions=bn,e.extendMode=zn,e.copyState=In,e.startState=cn,e.innerMode=Mn,e.commands=sa,e.keyMap=po,e.keyName=ns,e.isModifierKey=Pc,e.lookupKey=ts,e.normalizeKeyMap=Al,e.StringStream=Tn,e.SharedTextMarker=Ps,e.TextMarker=Li,e.LineWidget=ta,e.e_preventDefault=vt,e.e_stopPropagation=Ct,e.e_stop=Nt,e.addClass=K,e.contains=p,e.rmClass=E,e.keyNames=zi}qr.prototype.init=function(e){var t=this,r=this,i=this.cm;this.createField(e);var u=this.textarea;function L(ue){if(!We(i,ue)){if(i.somethingSelected())ua({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var pe=Hc(i);ua({lineWise:!0,text:pe.text}),ue.type=="cut"?i.setSelections(pe.ranges,null,A):(r.prevInput="",u.value=pe.text.join(`
`),ne(u))}ue.type=="cut"&&(i.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),X&&(u.style.width="0px"),st(u,"input",function(){l&&P>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),st(u,"paste",function(ue){We(i,ue)||Fc(ue,i)||(i.state.pasteIncoming=+new Date,r.fastPoll())}),st(u,"cut",L),st(u,"copy",L),st(e.scroller,"paste",function(ue){if(!Le(e,ue)&&!We(i,ue)){if(!u.dispatchEvent)return i.state.pasteIncoming=+new Date,void r.focus();var pe=new Event("paste");pe.clipboardData=ue.clipboardData,u.dispatchEvent(pe)}}),st(e.lineSpace,"selectstart",function(ue){Le(e,ue)||vt(ue)}),st(u,"compositionstart",function(){var ue=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:ue,range:i.markText(ue,i.getCursor("to"),{className:"CodeMirror-composing"})}}),st(u,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},qr.prototype.createField=function(e){this.wrapper=Ga(),this.textarea=this.wrapper.firstChild},qr.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},qr.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,i=Us(e);if(e.options.moveInputWithCursor){var u=Oi(e,r.sel.primary().head,"div"),L=t.wrapper.getBoundingClientRect(),ue=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,u.top+ue.top-L.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,u.left+ue.left-L.left))}return i},qr.prototype.showSelection=function(e){var t=this.cm.display;c(t.cursorDiv,e.cursors),c(t.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},qr.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&ne(this.textarea),l&&P>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",l&&P>=9&&(this.hasSelection=null))}},qr.prototype.getField=function(){return this.textarea},qr.prototype.supportsTouch=function(){return!1},qr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!x||O()!=this.textarea))try{this.textarea.focus()}catch{}},qr.prototype.blur=function(){this.textarea.blur()},qr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qr.prototype.receivedFocus=function(){this.slowPoll()},qr.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},qr.prototype.fastPoll=function(){var e=!1,t=this;function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}t.pollingFast=!0,t.polling.set(20,r)},qr.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||Bn(r)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var u=r.value;if(u==i&&!t.somethingSelected())return!1;if(l&&P>=9&&this.hasSelection===u||W&&/[\uf700-\uf7ff]/.test(u))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var L=u.charCodeAt(0);if(L!=8203||i||(i="\u200B"),L==8666)return this.reset(),this.cm.execCommand("undo")}for(var ue=0,pe=Math.min(i.length,u.length);ue<pe&&i.charCodeAt(ue)==u.charCodeAt(ue);)++ue;return kr(t,function(){$a(t,u.slice(ue),i.length-ue,null,e.composing?"*compose":null),u.length>1e3||u.indexOf(`
`)>-1?r.value=e.prevInput="":e.prevInput=u,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},qr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qr.prototype.onKeyPress=function(){l&&P>=9&&(this.hasSelection=null),this.fastPoll()},qr.prototype.onContextMenu=function(e){var t=this,r=t.cm,i=r.display,u=t.textarea;t.contextMenuPending&&t.contextMenuPending();var L=Kr(r,e),ue=i.scroller.scrollTop;if(L&&!g){r.options.resetSelectionOnContextMenu&&r.doc.sel.contains(L)==-1&&ur(r,ii)(r.doc,oo(L),A);var pe,ke=u.style.cssText,xe=t.wrapper.style.cssText,Je=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",u.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-Je.top-5)+"px; left: "+(e.clientX-Je.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,N&&(pe=window.scrollY),i.input.focus(),N&&window.scrollTo(null,pe),i.input.reset(),r.somethingSelected()||(u.value=t.prevInput=" "),t.contextMenuPending=wt,i.selForContextMenu=r.doc.sel,clearTimeout(i.detectingSelectAll),l&&P>=9&&pt(),T){Nt(e);var et=function(){Ge(window,"mouseup",et),setTimeout(wt,20)};st(window,"mouseup",et)}else setTimeout(wt,50)}function pt(){if(u.selectionStart!=null){var Et=r.somethingSelected(),jt="\u200B"+(Et?u.value:"");u.value="\u21DA",u.value=jt,t.prevInput=Et?"":"\u200B",u.selectionStart=1,u.selectionEnd=jt.length,i.selForContextMenu=r.doc.sel}}function wt(){if(t.contextMenuPending==wt&&(t.contextMenuPending=!1,t.wrapper.style.cssText=xe,u.style.cssText=ke,l&&P<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=ue),u.selectionStart!=null)){(!l||l&&P<9)&&pt();var Et=0,jt=function(){i.selForContextMenu==r.doc.sel&&u.selectionStart==0&&u.selectionEnd>0&&t.prevInput=="\u200B"?ur(r,Jo)(r):Et++<10?i.detectingSelectAll=setTimeout(jt,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(jt,200)}}},qr.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},qr.prototype.setUneditable=function(){},qr.prototype.needsContentAttribute=!1,bu(Rr),Ul(Rr);var n="iter insert remove copy getEditor constructor".split(" ");for(var o in di.prototype)di.prototype.hasOwnProperty(o)&&f(n,o)<0&&(Rr.prototype[o]=function(e){return function(){return e.apply(this.doc,arguments)}}(di.prototype[o]));return gt(di),Rr.inputStyles={textarea:qr,contenteditable:Sr},Rr.defineMode=function(e){Rr.defaults.mode||e=="null"||(Rr.defaults.mode=e),Vn.apply(this,arguments)},Rr.defineMIME=Sn,Rr.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Rr.defineMIME("text/plain","null"),Rr.defineExtension=function(e,t){Rr.prototype[e]=t},Rr.defineDocExtension=function(e,t){di.prototype[e]=t},Rr.fromTextArea=Cu,Ka(Rr),Rr.version="5.65.6",Rr}()},6629:(z,ie,w)=>{(function(k){function $(T){for(var j={},U=0;U<T.length;++U)j[T[U].toLowerCase()]=!0;return j}k.defineMode("css",function(T,j){var U=j.inline;j.propertyKeywords||(j=k.resolveMode("text/css"));var E,M,c=T.indentUnit,d=j.tokenHooks,s=j.documentTypes||{},p=j.mediaTypes||{},O=j.mediaFeatures||{},K=j.mediaValueKeywords||{},Q=j.propertyKeywords||{},ne=j.nonStandardPropertyKeywords||{},R=j.fontProperties||{},v=j.counterDescriptors||{},b=j.colorKeywords||{},a=j.valueKeywords||{},f=j.allowNested,h=j.lineComment,_=j.supportsAtComponent===!0,A=T.highlightNonStandardPropertyKeywords!==!1;function J(ae,be){return E=be,ae}function te(ae,be){var re=ae.next();if(d[re]){var Te=d[re](ae,be);if(Te!==!1)return Te}return re=="@"?(ae.eatWhile(/[\w\\\-]/),J("def",ae.current())):re=="="||(re=="~"||re=="|")&&ae.eat("=")?J(null,"compare"):re=='"'||re=="'"?(be.tokenize=F(re),be.tokenize(ae,be)):re=="#"?(ae.eatWhile(/[\w\\\-]/),J("atom","hash")):re=="!"?(ae.match(/^\s*\w*/),J("keyword","important")):/\d/.test(re)||re=="."&&ae.eat(/\d/)?(ae.eatWhile(/[\w.%]/),J("number","unit")):re!=="-"?/[,+>*\/]/.test(re)?J(null,"select-op"):re=="."&&ae.match(/^-?[_a-z][_a-z0-9-]*/i)?J("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(re)?J(null,re):ae.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(ae.current())&&(be.tokenize=G),J("variable callee","variable")):/[\w\\\-]/.test(re)?(ae.eatWhile(/[\w\\\-]/),J("property","word")):J(null,null):/[\d.]/.test(ae.peek())?(ae.eatWhile(/[\w.%]/),J("number","unit")):ae.match(/^-[\w\\\-]*/)?(ae.eatWhile(/[\w\\\-]/),ae.match(/^\s*:/,!1)?J("variable-2","variable-definition"):J("variable-2","variable")):ae.match(/^\w+-/)?J("meta","meta"):void 0}function F(ae){return function(be,re){for(var Te,Re=!1;(Te=be.next())!=null;){if(Te==ae&&!Re){ae==")"&&be.backUp(1);break}Re=!Re&&Te=="\\"}return(Te==ae||!Re&&ae!=")")&&(re.tokenize=null),J("string","string")}}function G(ae,be){return ae.next(),ae.match(/^\s*[\"\')]/,!1)?be.tokenize=null:be.tokenize=F(")"),J(null,"(")}function V(ae,be,re){this.type=ae,this.indent=be,this.prev=re}function le(ae,be,re,Te){return ae.context=new V(re,be.indentation()+(Te===!1?0:c),ae.context),re}function ve(ae){return ae.context.prev&&(ae.context=ae.context.prev),ae.context.type}function Ne(ae,be,re){return je[re.context.type](ae,be,re)}function Ze(ae,be,re,Te){for(var Re=Te||1;Re>0;Re--)re.context=re.context.prev;return Ne(ae,be,re)}function Me(ae){var be=ae.current().toLowerCase();M=a.hasOwnProperty(be)?"atom":b.hasOwnProperty(be)?"keyword":"variable"}var je={top:function(ae,be,re){if(ae=="{")return le(re,be,"block");if(ae=="}"&&re.context.prev)return ve(re);if(_&&/@component/i.test(ae))return le(re,be,"atComponentBlock");if(/^@(-moz-)?document$/i.test(ae))return le(re,be,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(ae))return le(re,be,"atBlock");if(/^@(font-face|counter-style)/i.test(ae))return re.stateArg=ae,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ae))return"keyframes";if(ae&&ae.charAt(0)=="@")return le(re,be,"at");if(ae=="hash")M="builtin";else if(ae=="word")M="tag";else{if(ae=="variable-definition")return"maybeprop";if(ae=="interpolation")return le(re,be,"interpolation");if(ae==":")return"pseudo";if(f&&ae=="(")return le(re,be,"parens")}return re.context.type},block:function(ae,be,re){if(ae=="word"){var Te=be.current().toLowerCase();return Q.hasOwnProperty(Te)?(M="property","maybeprop"):ne.hasOwnProperty(Te)?(M=A?"string-2":"property","maybeprop"):f?(M=be.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(M+=" error","maybeprop")}return ae=="meta"?"block":f||ae!="hash"&&ae!="qualifier"?je.top(ae,be,re):(M="error","block")},maybeprop:function(ae,be,re){return ae==":"?le(re,be,"prop"):Ne(ae,be,re)},prop:function(ae,be,re){if(ae==";")return ve(re);if(ae=="{"&&f)return le(re,be,"propBlock");if(ae=="}"||ae=="{")return Ze(ae,be,re);if(ae=="(")return le(re,be,"parens");if(ae!="hash"||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(be.current())){if(ae=="word")Me(be);else if(ae=="interpolation")return le(re,be,"interpolation")}else M+=" error";return"prop"},propBlock:function(ae,be,re){return ae=="}"?ve(re):ae=="word"?(M="property","maybeprop"):re.context.type},parens:function(ae,be,re){return ae=="{"||ae=="}"?Ze(ae,be,re):ae==")"?ve(re):ae=="("?le(re,be,"parens"):ae=="interpolation"?le(re,be,"interpolation"):(ae=="word"&&Me(be),"parens")},pseudo:function(ae,be,re){return ae=="meta"?"pseudo":ae=="word"?(M="variable-3",re.context.type):Ne(ae,be,re)},documentTypes:function(ae,be,re){return ae=="word"&&s.hasOwnProperty(be.current())?(M="tag",re.context.type):je.atBlock(ae,be,re)},atBlock:function(ae,be,re){if(ae=="(")return le(re,be,"atBlock_parens");if(ae=="}"||ae==";")return Ze(ae,be,re);if(ae=="{")return ve(re)&&le(re,be,f?"block":"top");if(ae=="interpolation")return le(re,be,"interpolation");if(ae=="word"){var Te=be.current().toLowerCase();M=Te=="only"||Te=="not"||Te=="and"||Te=="or"?"keyword":p.hasOwnProperty(Te)?"attribute":O.hasOwnProperty(Te)?"property":K.hasOwnProperty(Te)?"keyword":Q.hasOwnProperty(Te)?"property":ne.hasOwnProperty(Te)?A?"string-2":"property":a.hasOwnProperty(Te)?"atom":b.hasOwnProperty(Te)?"keyword":"error"}return re.context.type},atComponentBlock:function(ae,be,re){return ae=="}"?Ze(ae,be,re):ae=="{"?ve(re)&&le(re,be,f?"block":"top",!1):(ae=="word"&&(M="error"),re.context.type)},atBlock_parens:function(ae,be,re){return ae==")"?ve(re):ae=="{"||ae=="}"?Ze(ae,be,re,2):je.atBlock(ae,be,re)},restricted_atBlock_before:function(ae,be,re){return ae=="{"?le(re,be,"restricted_atBlock"):ae=="word"&&re.stateArg=="@counter-style"?(M="variable","restricted_atBlock_before"):Ne(ae,be,re)},restricted_atBlock:function(ae,be,re){return ae=="}"?(re.stateArg=null,ve(re)):ae=="word"?(M=re.stateArg=="@font-face"&&!R.hasOwnProperty(be.current().toLowerCase())||re.stateArg=="@counter-style"&&!v.hasOwnProperty(be.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(ae,be,re){return ae=="word"?(M="variable","keyframes"):ae=="{"?le(re,be,"top"):Ne(ae,be,re)},at:function(ae,be,re){return ae==";"?ve(re):ae=="{"||ae=="}"?Ze(ae,be,re):(ae=="word"?M="tag":ae=="hash"&&(M="builtin"),"at")},interpolation:function(ae,be,re){return ae=="}"?ve(re):ae=="{"||ae==";"?Ze(ae,be,re):(ae=="word"?M="variable":ae!="variable"&&ae!="("&&ae!=")"&&(M="error"),"interpolation")}};return{startState:function(ae){return{tokenize:null,state:U?"block":"top",stateArg:null,context:new V(U?"block":"top",ae||0,null)}},token:function(ae,be){if(!be.tokenize&&ae.eatSpace())return null;var re=(be.tokenize||te)(ae,be);return re&&typeof re=="object"&&(E=re[1],re=re[0]),M=re,E!="comment"&&(be.state=je[be.state](E,ae,be)),M},indent:function(ae,be){var re=ae.context,Te=be&&be.charAt(0),Re=re.indent;return re.type!="prop"||Te!="}"&&Te!=")"||(re=re.prev),re.prev&&(Te!="}"||re.type!="block"&&re.type!="top"&&re.type!="interpolation"&&re.type!="restricted_atBlock"?(Te!=")"||re.type!="parens"&&re.type!="atBlock_parens")&&(Te!="{"||re.type!="at"&&re.type!="atBlock")||(Re=Math.max(0,re.indent-c)):Re=(re=re.prev).indent),Re},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:h,fold:"brace"}});var D=["domain","regexp","url","url-prefix"],q=$(D),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],P=$(l),N=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],C=$(N),y=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],m=$(y),g=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],S=$(g),I=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],H=$(I),X=$(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),Y=$(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),x=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],W=$(x),oe=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],se=$(oe),Z=D.concat(l).concat(N).concat(y).concat(g).concat(I).concat(x).concat(oe);function B(T,j){for(var U,E=!1;(U=T.next())!=null;){if(E&&U=="/"){j.tokenize=null;break}E=U=="*"}return["comment","comment"]}k.registerHelper("hintWords","css",Z),k.defineMIME("text/css",{documentTypes:q,mediaTypes:P,mediaFeatures:C,mediaValueKeywords:m,propertyKeywords:S,nonStandardPropertyKeywords:H,fontProperties:X,counterDescriptors:Y,colorKeywords:W,valueKeywords:se,tokenHooks:{"/":function(T,j){return!!T.eat("*")&&(j.tokenize=B,B(T,j))}},name:"css"}),k.defineMIME("text/x-scss",{mediaTypes:P,mediaFeatures:C,mediaValueKeywords:m,propertyKeywords:S,nonStandardPropertyKeywords:H,colorKeywords:W,valueKeywords:se,fontProperties:X,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(T,j){return T.eat("/")?(T.skipToEnd(),["comment","comment"]):T.eat("*")?(j.tokenize=B,B(T,j)):["operator","operator"]},":":function(T){return!!T.match(/^\s*\{/,!1)&&[null,null]},$:function(T){return T.match(/^[\w-]+/),T.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(T){return!!T.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),k.defineMIME("text/x-less",{mediaTypes:P,mediaFeatures:C,mediaValueKeywords:m,propertyKeywords:S,nonStandardPropertyKeywords:H,colorKeywords:W,valueKeywords:se,fontProperties:X,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(T,j){return T.eat("/")?(T.skipToEnd(),["comment","comment"]):T.eat("*")?(j.tokenize=B,B(T,j)):["operator","operator"]},"@":function(T){return T.eat("{")?[null,"interpolation"]:!T.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(T.eatWhile(/[\w\\\-]/),T.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),k.defineMIME("text/x-gss",{documentTypes:q,mediaTypes:P,mediaFeatures:C,propertyKeywords:S,nonStandardPropertyKeywords:H,fontProperties:X,counterDescriptors:Y,colorKeywords:W,valueKeywords:se,supportsAtComponent:!0,tokenHooks:{"/":function(T,j){return!!T.eat("*")&&(j.tokenize=B,B(T,j))}},name:"css",helperType:"gss"})})(w(4631))},6531:(z,ie,w)=>{(function(k){var $={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function D(m,g,S){var I=m.current(),H=I.search(g);return H>-1?m.backUp(I.length-H):I.match(/<\/?$/)&&(m.backUp(I.length),m.match(g,!1)||m.match(I)),S}var q={};function l(m){var g=q[m];return g||(q[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function P(m,g){var S=m.match(l(g));return S?/^\s*(.*?)\s*$/.exec(S[2])[1]:""}function N(m,g){return new RegExp((g?"^":"")+"</\\s*"+m+"\\s*>","i")}function C(m,g){for(var S in m)for(var I=g[S]||(g[S]=[]),H=m[S],X=H.length-1;X>=0;X--)I.unshift(H[X])}function y(m,g){for(var S=0;S<m.length;S++){var I=m[S];if(!I[0]||I[1].test(P(g,I[0])))return I[2]}}k.defineMode("htmlmixed",function(m,g){var S=k.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:g.multilineTagIndentFactor,multilineTagIndentPastTag:g.multilineTagIndentPastTag,allowMissingTagName:g.allowMissingTagName}),I={},H=g&&g.tags,X=g&&g.scriptTypes;if(C($,I),H&&C(H,I),X)for(var Y=X.length-1;Y>=0;Y--)I.script.unshift(["type",X[Y].matches,X[Y].mode]);function x(W,oe){var se,Z=S.token(W,oe.htmlState),B=/\btag\b/.test(Z);if(B&&!/[<>\s\/]/.test(W.current())&&(se=oe.htmlState.tagName&&oe.htmlState.tagName.toLowerCase())&&I.hasOwnProperty(se))oe.inTag=se+" ";else if(oe.inTag&&B&&/>$/.test(W.current())){var T=/^([\S]+) (.*)/.exec(oe.inTag);oe.inTag=null;var j=W.current()==">"&&y(I[T[1]],T[2]),U=k.getMode(m,j),E=N(T[1],!0),M=N(T[1],!1);oe.token=function(c,d){return c.match(E,!1)?(d.token=x,d.localState=d.localMode=null,null):D(c,M,d.localMode.token(c,d.localState))},oe.localMode=U,oe.localState=k.startState(U,S.indent(oe.htmlState,"",""))}else oe.inTag&&(oe.inTag+=W.current(),W.eol()&&(oe.inTag+=" "));return Z}return{startState:function(){return{token:x,inTag:null,localMode:null,localState:null,htmlState:k.startState(S)}},copyState:function(W){var oe;return W.localState&&(oe=k.copyState(W.localMode,W.localState)),{token:W.token,inTag:W.inTag,localMode:W.localMode,localState:oe,htmlState:k.copyState(S,W.htmlState)}},token:function(W,oe){return oe.token(W,oe)},indent:function(W,oe,se){return!W.localMode||/^\s*<\//.test(oe)?S.indent(W.htmlState,oe,se):W.localMode.indent?W.localMode.indent(W.localState,oe,se):k.Pass},innerMode:function(W){return{state:W.localState||W.htmlState,mode:W.localMode||S}}}},"xml","javascript","css"),k.defineMIME("text/html","htmlmixed")})(w(4631),w(9589),w(6876),w(6629))},6876:(z,ie,w)=>{(function(k){k.defineMode("javascript",function($,D){var q,l,P=$.indentUnit,N=D.statementIndent,C=D.jsonld,y=D.json||C,m=D.trackScope!==!1,g=D.typescript,S=D.wordCharacters||/[\w$\xa1-\uffff]/,I=function(){function Be(Qn){return{type:Qn,style:"keyword"}}var ut=Be("keyword a"),xt=Be("keyword b"),Kt=Be("keyword c"),Ht=Be("keyword d"),kn=Be("operator"),an={type:"atom",style:"atom"};return{if:Be("if"),while:ut,with:ut,else:xt,do:xt,try:xt,finally:xt,return:Ht,break:Ht,continue:Ht,new:Be("new"),delete:Kt,void:Kt,throw:Kt,debugger:Be("debugger"),var:Be("var"),const:Be("var"),let:Be("var"),function:Be("function"),catch:Be("catch"),for:Be("for"),switch:Be("switch"),case:Be("case"),default:Be("default"),in:kn,typeof:kn,instanceof:kn,true:an,false:an,null:an,undefined:an,NaN:an,Infinity:an,this:Be("this"),class:Be("class"),super:Be("atom"),yield:Kt,export:Be("export"),import:Be("import"),extends:Kt,await:Kt}}(),H=/[+\-*&%=<>!?|~^@]/,X=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function Y(Be){for(var ut,xt=!1,Kt=!1;(ut=Be.next())!=null;){if(!xt){if(ut=="/"&&!Kt)return;ut=="["?Kt=!0:Kt&&ut=="]"&&(Kt=!1)}xt=!xt&&ut=="\\"}}function x(Be,ut,xt){return q=Be,l=xt,ut}function W(Be,ut){var xt=Be.next();if(xt=='"'||xt=="'")return ut.tokenize=oe(xt),ut.tokenize(Be,ut);if(xt=="."&&Be.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return x("number","number");if(xt=="."&&Be.match(".."))return x("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(xt))return x(xt);if(xt=="="&&Be.eat(">"))return x("=>","operator");if(xt=="0"&&Be.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return x("number","number");if(/\d/.test(xt))return Be.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),x("number","number");if(xt=="/")return Be.eat("*")?(ut.tokenize=se,se(Be,ut)):Be.eat("/")?(Be.skipToEnd(),x("comment","comment")):at(Be,ut,1)?(Y(Be),Be.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),x("regexp","string-2")):(Be.eat("="),x("operator","operator",Be.current()));if(xt=="`")return ut.tokenize=Z,Z(Be,ut);if(xt=="#"&&Be.peek()=="!")return Be.skipToEnd(),x("meta","meta");if(xt=="#"&&Be.eatWhile(S))return x("variable","property");if(xt=="<"&&Be.match("!--")||xt=="-"&&Be.match("->")&&!/\S/.test(Be.string.slice(0,Be.start)))return Be.skipToEnd(),x("comment","comment");if(H.test(xt))return xt==">"&&ut.lexical&&ut.lexical.type==">"||(Be.eat("=")?xt!="!"&&xt!="="||Be.eat("="):/[<>*+\-|&?]/.test(xt)&&(Be.eat(xt),xt==">"&&Be.eat(xt))),xt=="?"&&Be.eat(".")?x("."):x("operator","operator",Be.current());if(S.test(xt)){Be.eatWhile(S);var Kt=Be.current();if(ut.lastType!="."){if(I.propertyIsEnumerable(Kt)){var Ht=I[Kt];return x(Ht.type,Ht.style,Kt)}if(Kt=="async"&&Be.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return x("async","keyword",Kt)}return x("variable","variable",Kt)}}function oe(Be){return function(ut,xt){var Kt,Ht=!1;if(C&&ut.peek()=="@"&&ut.match(X))return xt.tokenize=W,x("jsonld-keyword","meta");for(;(Kt=ut.next())!=null&&(Kt!=Be||Ht);)Ht=!Ht&&Kt=="\\";return Ht||(xt.tokenize=W),x("string","string")}}function se(Be,ut){for(var xt,Kt=!1;xt=Be.next();){if(xt=="/"&&Kt){ut.tokenize=W;break}Kt=xt=="*"}return x("comment","comment")}function Z(Be,ut){for(var xt,Kt=!1;(xt=Be.next())!=null;){if(!Kt&&(xt=="`"||xt=="$"&&Be.eat("{"))){ut.tokenize=W;break}Kt=!Kt&&xt=="\\"}return x("quasi","string-2",Be.current())}var B="([{}])";function T(Be,ut){ut.fatArrowAt&&(ut.fatArrowAt=null);var xt=Be.string.indexOf("=>",Be.start);if(!(xt<0)){if(g){var Kt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Be.string.slice(Be.start,xt));Kt&&(xt=Kt.index)}for(var Ht=0,kn=!1,an=xt-1;an>=0;--an){var Qn=Be.string.charAt(an),Gn=B.indexOf(Qn);if(Gn>=0&&Gn<3){if(!Ht){++an;break}if(--Ht==0){Qn=="("&&(kn=!0);break}}else if(Gn>=3&&Gn<6)++Ht;else if(S.test(Qn))kn=!0;else if(/["'\/`]/.test(Qn))for(;;--an){if(an==0)return;if(Be.string.charAt(an-1)==Qn&&Be.string.charAt(an-2)!="\\"){an--;break}}else if(kn&&!Ht){++an;break}}kn&&!Ht&&(ut.fatArrowAt=an)}}var j={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function U(Be,ut,xt,Kt,Ht,kn){this.indented=Be,this.column=ut,this.type=xt,this.prev=Ht,this.info=kn,Kt!=null&&(this.align=Kt)}function E(Be,ut){if(!m)return!1;for(var xt=Be.localVars;xt;xt=xt.next)if(xt.name==ut)return!0;for(var Kt=Be.context;Kt;Kt=Kt.prev)for(xt=Kt.vars;xt;xt=xt.next)if(xt.name==ut)return!0}function M(Be,ut,xt,Kt,Ht){var kn=Be.cc;for(c.state=Be,c.stream=Ht,c.marked=null,c.cc=kn,c.style=ut,Be.lexical.hasOwnProperty("align")||(Be.lexical.align=!0);;)if((kn.length?kn.pop():y?F:J)(xt,Kt)){for(;kn.length&&kn[kn.length-1].lex;)kn.pop()();return c.marked?c.marked:xt=="variable"&&E(Be,Kt)?"variable-2":ut}}var c={state:null,column:null,marked:null,cc:null};function d(){for(var Be=arguments.length-1;Be>=0;Be--)c.cc.push(arguments[Be])}function s(){return d.apply(null,arguments),!0}function p(Be,ut){for(var xt=ut;xt;xt=xt.next)if(xt.name==Be)return!0;return!1}function O(Be){var ut=c.state;if(c.marked="def",m){if(ut.context){if(ut.lexical.info=="var"&&ut.context&&ut.context.block){var xt=K(Be,ut.context);if(xt!=null)return void(ut.context=xt)}else if(!p(Be,ut.localVars))return void(ut.localVars=new R(Be,ut.localVars))}D.globalVars&&!p(Be,ut.globalVars)&&(ut.globalVars=new R(Be,ut.globalVars))}}function K(Be,ut){if(ut){if(ut.block){var xt=K(Be,ut.prev);return xt?xt==ut.prev?ut:new ne(xt,ut.vars,!0):null}return p(Be,ut.vars)?ut:new ne(ut.prev,new R(Be,ut.vars),!1)}return null}function Q(Be){return Be=="public"||Be=="private"||Be=="protected"||Be=="abstract"||Be=="readonly"}function ne(Be,ut,xt){this.prev=Be,this.vars=ut,this.block=xt}function R(Be,ut){this.name=Be,this.next=ut}var v=new R("this",new R("arguments",null));function b(){c.state.context=new ne(c.state.context,c.state.localVars,!1),c.state.localVars=v}function a(){c.state.context=new ne(c.state.context,c.state.localVars,!0),c.state.localVars=null}function f(){c.state.localVars=c.state.context.vars,c.state.context=c.state.context.prev}function h(Be,ut){var xt=function(){var Kt=c.state,Ht=Kt.indented;if(Kt.lexical.type=="stat")Ht=Kt.lexical.indented;else for(var kn=Kt.lexical;kn&&kn.type==")"&&kn.align;kn=kn.prev)Ht=kn.indented;Kt.lexical=new U(Ht,c.stream.column(),Be,null,Kt.lexical,ut)};return xt.lex=!0,xt}function _(){var Be=c.state;Be.lexical.prev&&(Be.lexical.type==")"&&(Be.indented=Be.lexical.indented),Be.lexical=Be.lexical.prev)}function A(Be){function ut(xt){return xt==Be?s():Be==";"||xt=="}"||xt==")"||xt=="]"?d():s(ut)}return ut}function J(Be,ut){return Be=="var"?s(h("vardef",ut),fn,A(";"),_):Be=="keyword a"?s(h("form"),V,J,_):Be=="keyword b"?s(h("form"),J,_):Be=="keyword d"?c.stream.match(/^\s*$/,!1)?s():s(h("stat"),ve,A(";"),_):Be=="debugger"?s(A(";")):Be=="{"?s(h("}"),a,ot,_,f):Be==";"?s():Be=="if"?(c.state.lexical.info=="else"&&c.state.cc[c.state.cc.length-1]==_&&c.state.cc.pop()(),s(h("form"),V,J,_,Bn)):Be=="function"?s(xn):Be=="for"?s(h("form"),a,Hn,J,f,_):Be=="class"||g&&ut=="interface"?(c.marked="keyword",s(h("form",Be=="class"?Be:ut),ze,_)):Be=="variable"?g&&ut=="declare"?(c.marked="keyword",s(J)):g&&(ut=="module"||ut=="enum"||ut=="type")&&c.stream.match(/^\s*\w/,!1)?(c.marked="keyword",ut=="enum"?s(Dn):ut=="type"?s(Vn,A("operator"),We,A(";")):s(h("form"),pn,A("{"),h("}"),ot,_,_)):g&&ut=="namespace"?(c.marked="keyword",s(h("form"),F,J,_)):g&&ut=="abstract"?(c.marked="keyword",s(J)):s(h("stat"),Fe):Be=="switch"?s(h("form"),V,A("{"),h("}","switch"),a,ot,_,_,f):Be=="case"?s(F,A(":")):Be=="default"?s(A(":")):Be=="catch"?s(h("form"),b,te,J,_,f):Be=="export"?s(h("stat"),Mn,_):Be=="import"?s(h("stat"),Tn,_):Be=="async"?s(J):ut=="@"?s(F,J):d(h("stat"),F,A(";"),_)}function te(Be){if(Be=="(")return s(Sn,A(")"))}function F(Be,ut){return le(Be,ut,!1)}function G(Be,ut){return le(Be,ut,!0)}function V(Be){return Be!="("?d():s(h(")"),ve,A(")"),_)}function le(Be,ut,xt){if(c.state.fatArrowAt==c.stream.start){var Kt=xt?be:ae;if(Be=="(")return s(b,h(")"),Xt(Sn,")"),_,A("=>"),Kt,f);if(Be=="variable")return d(b,pn,A("=>"),Kt,f)}var Ht=xt?Ze:Ne;return j.hasOwnProperty(Be)?s(Ht):Be=="function"?s(xn,Ht):Be=="class"||g&&ut=="interface"?(c.marked="keyword",s(h("form"),ln,_)):Be=="keyword c"||Be=="async"?s(xt?G:F):Be=="("?s(h(")"),ve,A(")"),_,Ht):Be=="operator"||Be=="spread"?s(xt?G:F):Be=="["?s(h("]"),Rn,_,Ht):Be=="{"?Dt(lt,"}",null,Ht):Be=="quasi"?d(Me,Ht):Be=="new"?s(re(xt)):s()}function ve(Be){return Be.match(/[;\}\)\],]/)?d():d(F)}function Ne(Be,ut){return Be==","?s(ve):Ze(Be,ut,!1)}function Ze(Be,ut,xt){var Kt=xt==0?Ne:Ze,Ht=xt==0?F:G;return Be=="=>"?s(b,xt?be:ae,f):Be=="operator"?/\+\+|--/.test(ut)||g&&ut=="!"?s(Kt):g&&ut=="<"&&c.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?s(h(">"),Xt(We,">"),_,Kt):ut=="?"?s(F,A(":"),Ht):s(Ht):Be=="quasi"?d(Me,Kt):Be!=";"?Be=="("?Dt(G,")","call",Kt):Be=="."?s(it,Kt):Be=="["?s(h("]"),ve,A("]"),_,Kt):g&&ut=="as"?(c.marked="keyword",s(We,Kt)):Be=="regexp"?(c.state.lastType=c.marked="operator",c.stream.backUp(c.stream.pos-c.stream.start-1),s(Ht)):void 0:void 0}function Me(Be,ut){return Be!="quasi"?d():ut.slice(ut.length-2)!="${"?s(Me):s(ve,je)}function je(Be){if(Be=="}")return c.marked="string-2",c.state.tokenize=Z,s(Me)}function ae(Be){return T(c.stream,c.state),d(Be=="{"?J:F)}function be(Be){return T(c.stream,c.state),d(Be=="{"?J:G)}function re(Be){return function(ut){return ut=="."?s(Be?Re:Te):ut=="variable"&&g?s(sn,Be?Ze:Ne):d(Be?G:F)}}function Te(Be,ut){if(ut=="target")return c.marked="keyword",s(Ne)}function Re(Be,ut){if(ut=="target")return c.marked="keyword",s(Ze)}function Fe(Be){return Be==":"?s(_,J):d(Ne,A(";"),_)}function it(Be){if(Be=="variable")return c.marked="property",s()}function lt(Be,ut){return Be=="async"?(c.marked="property",s(lt)):Be=="variable"||c.style=="keyword"?(c.marked="property",ut=="get"||ut=="set"?s(St):(g&&c.state.fatArrowAt==c.stream.start&&(xt=c.stream.match(/^\s*:\s*/,!1))&&(c.state.fatArrowAt=c.stream.pos+xt[0].length),s(Ut))):Be=="number"||Be=="string"?(c.marked=C?"property":c.style+" property",s(Ut)):Be=="jsonld-keyword"?s(Ut):g&&Q(ut)?(c.marked="keyword",s(lt)):Be=="["?s(F,st,A("]"),Ut):Be=="spread"?s(G,Ut):ut=="*"?(c.marked="keyword",s(lt)):Be==":"?d(Ut):void 0;var xt}function St(Be){return Be!="variable"?d(Ut):(c.marked="property",s(xn))}function Ut(Be){return Be==":"?s(G):Be=="("?d(xn):void 0}function Xt(Be,ut,xt){function Kt(Ht,kn){if(xt?xt.indexOf(Ht)>-1:Ht==","){var an=c.state.lexical;return an.info=="call"&&(an.pos=(an.pos||0)+1),s(function(Qn,Gn){return Qn==ut||Gn==ut?d():d(Be)},Kt)}return Ht==ut||kn==ut?s():xt&&xt.indexOf(";")>-1?d(Be):s(A(ut))}return function(Ht,kn){return Ht==ut||kn==ut?s():d(Be,Kt)}}function Dt(Be,ut,xt){for(var Kt=3;Kt<arguments.length;Kt++)c.cc.push(arguments[Kt]);return s(h(ut,xt),Xt(Be,ut),_)}function ot(Be){return Be=="}"?s():d(J,ot)}function st(Be,ut){if(g){if(Be==":")return s(We);if(ut=="?")return s(st)}}function Ve(Be,ut){if(g&&(Be==":"||ut=="in"))return s(We)}function Ge(Be){if(g&&Be==":")return c.stream.match(/^\s*\w+\s+is\b/,!1)?s(F,dt,We):s(We)}function dt(Be,ut){if(ut=="is")return c.marked="keyword",s()}function We(Be,ut){return ut=="keyof"||ut=="typeof"||ut=="infer"||ut=="readonly"?(c.marked="keyword",s(ut=="typeof"?G:We)):Be=="variable"||ut=="void"?(c.marked="type",s(Nt)):ut=="|"||ut=="&"?s(We):Be=="string"||Be=="number"||Be=="atom"?s(Nt):Be=="["?s(h("]"),Xt(We,"]",","),_,Nt):Be=="{"?s(h("}"),Ke,_,Nt):Be=="("?s(Xt(It,")"),mt,Nt):Be=="<"?s(Xt(We,">"),We):Be=="quasi"?d(vt,Nt):void 0}function mt(Be){if(Be=="=>")return s(We)}function Ke(Be){return Be.match(/[\}\)\]]/)?s():Be==","||Be==";"?s(Ke):d(gt,Ke)}function gt(Be,ut){return Be=="variable"||c.style=="keyword"?(c.marked="property",s(gt)):ut=="?"||Be=="number"||Be=="string"?s(gt):Be==":"?s(We):Be=="["?s(A("variable"),Ve,A("]"),gt):Be=="("?d(Nn,gt):Be.match(/[;\}\)\],]/)?void 0:s()}function vt(Be,ut){return Be!="quasi"?d():ut.slice(ut.length-2)!="${"?s(vt):s(We,Ct)}function Ct(Be){if(Be=="}")return c.marked="string-2",c.state.tokenize=Z,s(vt)}function It(Be,ut){return Be=="variable"&&c.stream.match(/^\s*[?:]/,!1)||ut=="?"?s(It):Be==":"?s(We):Be=="spread"?s(It):d(We)}function Nt(Be,ut){return ut=="<"?s(h(">"),Xt(We,">"),_,Nt):ut=="|"||Be=="."||ut=="&"?s(We):Be=="["?s(We,A("]"),Nt):ut=="extends"||ut=="implements"?(c.marked="keyword",s(We)):ut=="?"?s(We,A(":"),We):void 0}function sn(Be,ut){if(ut=="<")return s(h(">"),Xt(We,">"),_,Nt)}function mn(){return d(We,hn)}function hn(Be,ut){if(ut=="=")return s(We)}function fn(Be,ut){return ut=="enum"?(c.marked="keyword",s(Dn)):d(pn,st,nn,wn)}function pn(Be,ut){return g&&Q(ut)?(c.marked="keyword",s(pn)):Be=="variable"?(O(ut),s()):Be=="spread"?s(pn):Be=="["?Dt(rn,"]"):Be=="{"?Dt(Qt,"}"):void 0}function Qt(Be,ut){return Be!="variable"||c.stream.match(/^\s*:/,!1)?(Be=="variable"&&(c.marked="property"),Be=="spread"?s(pn):Be=="}"?d():Be=="["?s(F,A("]"),A(":"),Qt):s(A(":"),pn,nn)):(O(ut),s(nn))}function rn(){return d(pn,nn)}function nn(Be,ut){if(ut=="=")return s(G)}function wn(Be){if(Be==",")return s(fn)}function Bn(Be,ut){if(Be=="keyword b"&&ut=="else")return s(h("form","else"),J,_)}function Hn(Be,ut){return ut=="await"?s(Hn):Be=="("?s(h(")"),Zn,_):void 0}function Zn(Be){return Be=="var"?s(fn,Fn):Be=="variable"?s(Fn):d(Fn)}function Fn(Be,ut){return Be==")"?s():Be==";"?s(Fn):ut=="in"||ut=="of"?(c.marked="keyword",s(F,Fn)):d(F,Fn)}function xn(Be,ut){return ut=="*"?(c.marked="keyword",s(xn)):Be=="variable"?(O(ut),s(xn)):Be=="("?s(b,h(")"),Xt(Sn,")"),_,Ge,J,f):g&&ut=="<"?s(h(">"),Xt(mn,">"),_,xn):void 0}function Nn(Be,ut){return ut=="*"?(c.marked="keyword",s(Nn)):Be=="variable"?(O(ut),s(Nn)):Be=="("?s(b,h(")"),Xt(Sn,")"),_,Ge,f):g&&ut=="<"?s(h(">"),Xt(mn,">"),_,Nn):void 0}function Vn(Be,ut){return Be=="keyword"||Be=="variable"?(c.marked="type",s(Vn)):ut=="<"?s(h(">"),Xt(mn,">"),_):void 0}function Sn(Be,ut){return ut=="@"&&s(F,Sn),Be=="spread"?s(Sn):g&&Q(ut)?(c.marked="keyword",s(Sn)):g&&Be=="this"?s(st,nn):d(pn,st,nn)}function ln(Be,ut){return Be=="variable"?ze(Be,ut):bn(Be,ut)}function ze(Be,ut){if(Be=="variable")return O(ut),s(bn)}function bn(Be,ut){return ut=="<"?s(h(">"),Xt(mn,">"),_,bn):ut=="extends"||ut=="implements"||g&&Be==","?(ut=="implements"&&(c.marked="keyword"),s(g?We:F,bn)):Be=="{"?s(h("}"),zn,_):void 0}function zn(Be,ut){return Be=="async"||Be=="variable"&&(ut=="static"||ut=="get"||ut=="set"||g&&Q(ut))&&c.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(c.marked="keyword",s(zn)):Be=="variable"||c.style=="keyword"?(c.marked="property",s(In,zn)):Be=="number"||Be=="string"?s(In,zn):Be=="["?s(F,st,A("]"),In,zn):ut=="*"?(c.marked="keyword",s(zn)):g&&Be=="("?d(Nn,zn):Be==";"||Be==","?s(zn):Be=="}"?s():ut=="@"?s(F,zn):void 0}function In(Be,ut){if(ut=="!"||ut=="?")return s(In);if(Be==":")return s(We,nn);if(ut=="=")return s(G);var xt=c.state.lexical.prev;return d(xt&&xt.info=="interface"?Nn:xn)}function Mn(Be,ut){return ut=="*"?(c.marked="keyword",s(yn,A(";"))):ut=="default"?(c.marked="keyword",s(F,A(";"))):Be=="{"?s(Xt(cn,"}"),yn,A(";")):d(J)}function cn(Be,ut){return ut=="as"?(c.marked="keyword",s(A("variable"))):Be=="variable"?d(G,cn):void 0}function Tn(Be){return Be=="string"?s():Be=="("?d(F):Be=="."?d(Ne):d(gn,jn,yn)}function gn(Be,ut){return Be=="{"?Dt(gn,"}"):(Be=="variable"&&O(ut),ut=="*"&&(c.marked="keyword"),s(On))}function jn(Be){if(Be==",")return s(gn,jn)}function On(Be,ut){if(ut=="as")return c.marked="keyword",s(gn)}function yn(Be,ut){if(ut=="from")return c.marked="keyword",s(F)}function Rn(Be){return Be=="]"?s():d(Xt(G,"]"))}function Dn(){return d(h("form"),pn,A("{"),h("}"),Xt(en,"}"),_,_)}function en(){return d(pn,nn)}function Qe(Be,ut){return Be.lastType=="operator"||Be.lastType==","||H.test(ut.charAt(0))||/[,.]/.test(ut.charAt(0))}function at(Be,ut,xt){return ut.tokenize==W&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ut.lastType)||ut.lastType=="quasi"&&/\{\s*$/.test(Be.string.slice(0,Be.pos-(xt||0)))}return b.lex=a.lex=!0,f.lex=!0,_.lex=!0,{startState:function(Be){var ut={tokenize:W,lastType:"sof",cc:[],lexical:new U((Be||0)-P,0,"block",!1),localVars:D.localVars,context:D.localVars&&new ne(null,null,!1),indented:Be||0};return D.globalVars&&typeof D.globalVars=="object"&&(ut.globalVars=D.globalVars),ut},token:function(Be,ut){if(Be.sol()&&(ut.lexical.hasOwnProperty("align")||(ut.lexical.align=!1),ut.indented=Be.indentation(),T(Be,ut)),ut.tokenize!=se&&Be.eatSpace())return null;var xt=ut.tokenize(Be,ut);return q=="comment"?xt:(ut.lastType=q!="operator"||l!="++"&&l!="--"?q:"incdec",M(ut,xt,q,l,Be))},indent:function(Be,ut){if(Be.tokenize==se||Be.tokenize==Z)return k.Pass;if(Be.tokenize!=W)return 0;var xt,Kt=ut&&ut.charAt(0),Ht=Be.lexical;if(!/^\s*else\b/.test(ut))for(var kn=Be.cc.length-1;kn>=0;--kn){var an=Be.cc[kn];if(an==_)Ht=Ht.prev;else if(an!=Bn&&an!=f)break}for(;(Ht.type=="stat"||Ht.type=="form")&&(Kt=="}"||(xt=Be.cc[Be.cc.length-1])&&(xt==Ne||xt==Ze)&&!/^[,\.=+\-*:?[\(]/.test(ut));)Ht=Ht.prev;N&&Ht.type==")"&&Ht.prev.type=="stat"&&(Ht=Ht.prev);var Qn=Ht.type,Gn=Kt==Qn;return Qn=="vardef"?Ht.indented+(Be.lastType=="operator"||Be.lastType==","?Ht.info.length+1:0):Qn=="form"&&Kt=="{"?Ht.indented:Qn=="form"?Ht.indented+P:Qn=="stat"?Ht.indented+(Qe(Be,ut)?N||P:0):Ht.info!="switch"||Gn||D.doubleIndentSwitch==0?Ht.align?Ht.column+(Gn?0:1):Ht.indented+(Gn?0:P):Ht.indented+(/^(?:case|default)\b/.test(ut)?P:2*P)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:y?null:"/*",blockCommentEnd:y?null:"*/",blockCommentContinue:y?null:" * ",lineComment:y?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:y?"json":"javascript",jsonldMode:C,jsonMode:y,expressionAllowed:at,skipExpression:function(Be){M(Be,"atom","atom","true",new k.StringStream("",2,null))}}}),k.registerHelper("wordChars","javascript",/[\w$]/),k.defineMIME("text/javascript","javascript"),k.defineMIME("text/ecmascript","javascript"),k.defineMIME("application/javascript","javascript"),k.defineMIME("application/x-javascript","javascript"),k.defineMIME("application/ecmascript","javascript"),k.defineMIME("application/json",{name:"javascript",json:!0}),k.defineMIME("application/x-json",{name:"javascript",json:!0}),k.defineMIME("application/manifest+json",{name:"javascript",json:!0}),k.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),k.defineMIME("text/typescript",{name:"javascript",typescript:!0}),k.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(w(4631))},9589:(z,ie,w)=>{(function(k){var $={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},D={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};k.defineMode("xml",function(q,l){var P,N,C=q.indentUnit,y={},m=l.htmlMode?$:D;for(var g in m)y[g]=m[g];for(var g in l)y[g]=l[g];function S(s,p){function O(Q){return p.tokenize=Q,Q(s,p)}var K=s.next();return K=="<"?s.eat("!")?s.eat("[")?s.match("CDATA[")?O(X("atom","]]>")):null:s.match("--")?O(X("comment","-->")):s.match("DOCTYPE",!0,!0)?(s.eatWhile(/[\w\._\-]/),O(Y(1))):null:s.eat("?")?(s.eatWhile(/[\w\._\-]/),p.tokenize=X("meta","?>"),"meta"):(P=s.eat("/")?"closeTag":"openTag",p.tokenize=I,"tag bracket"):K=="&"?(s.eat("#")?s.eat("x")?s.eatWhile(/[a-fA-F\d]/)&&s.eat(";"):s.eatWhile(/[\d]/)&&s.eat(";"):s.eatWhile(/[\w\.\-:]/)&&s.eat(";"))?"atom":"error":(s.eatWhile(/[^&<]/),null)}function I(s,p){var O=s.next();if(O==">"||O=="/"&&s.eat(">"))return p.tokenize=S,P=O==">"?"endTag":"selfcloseTag","tag bracket";if(O=="=")return P="equals",null;if(O=="<"){p.tokenize=S,p.state=Z,p.tagName=p.tagStart=null;var K=p.tokenize(s,p);return K?K+" tag error":"tag error"}return/[\'\"]/.test(O)?(p.tokenize=H(O),p.stringStartCol=s.column(),p.tokenize(s,p)):(s.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function H(s){var p=function(O,K){for(;!O.eol();)if(O.next()==s){K.tokenize=I;break}return"string"};return p.isInAttribute=!0,p}function X(s,p){return function(O,K){for(;!O.eol();){if(O.match(p)){K.tokenize=S;break}O.next()}return s}}function Y(s){return function(p,O){for(var K;(K=p.next())!=null;){if(K=="<")return O.tokenize=Y(s+1),O.tokenize(p,O);if(K==">"){if(s==1){O.tokenize=S;break}return O.tokenize=Y(s-1),O.tokenize(p,O)}}return"meta"}}function x(s){return s&&s.toLowerCase()}function W(s,p,O){this.prev=s.context,this.tagName=p||"",this.indent=s.indented,this.startOfLine=O,(y.doNotIndent.hasOwnProperty(p)||s.context&&s.context.noIndent)&&(this.noIndent=!0)}function oe(s){s.context&&(s.context=s.context.prev)}function se(s,p){for(var O;;){if(!s.context||(O=s.context.tagName,!y.contextGrabbers.hasOwnProperty(x(O))||!y.contextGrabbers[x(O)].hasOwnProperty(x(p))))return;oe(s)}}function Z(s,p,O){return s=="openTag"?(O.tagStart=p.column(),B):s=="closeTag"?T:Z}function B(s,p,O){return s=="word"?(O.tagName=p.current(),N="tag",E):y.allowMissingTagName&&s=="endTag"?(N="tag bracket",E(s,p,O)):(N="error",B)}function T(s,p,O){if(s=="word"){var K=p.current();return O.context&&O.context.tagName!=K&&y.implicitlyClosed.hasOwnProperty(x(O.context.tagName))&&oe(O),O.context&&O.context.tagName==K||y.matchClosing===!1?(N="tag",j):(N="tag error",U)}return y.allowMissingTagName&&s=="endTag"?(N="tag bracket",j(s,p,O)):(N="error",U)}function j(s,p,O){return s!="endTag"?(N="error",j):(oe(O),Z)}function U(s,p,O){return N="error",j(s,p,O)}function E(s,p,O){if(s=="word")return N="attribute",M;if(s=="endTag"||s=="selfcloseTag"){var K=O.tagName,Q=O.tagStart;return O.tagName=O.tagStart=null,s=="selfcloseTag"||y.autoSelfClosers.hasOwnProperty(x(K))?se(O,K):(se(O,K),O.context=new W(O,K,Q==O.indented)),Z}return N="error",E}function M(s,p,O){return s=="equals"?c:(y.allowMissing||(N="error"),E(s,p,O))}function c(s,p,O){return s=="string"?d:s=="word"&&y.allowUnquoted?(N="string",E):(N="error",E(s,p,O))}function d(s,p,O){return s=="string"?d:E(s,p,O)}return S.isInText=!0,{startState:function(s){var p={tokenize:S,state:Z,indented:s||0,tagName:null,tagStart:null,context:null};return s!=null&&(p.baseIndent=s),p},token:function(s,p){if(!p.tagName&&s.sol()&&(p.indented=s.indentation()),s.eatSpace())return null;P=null;var O=p.tokenize(s,p);return(O||P)&&O!="comment"&&(N=null,p.state=p.state(P||O,s,p),N&&(O=N=="error"?O+" error":N)),O},indent:function(s,p,O){var K=s.context;if(s.tokenize.isInAttribute)return s.tagStart==s.indented?s.stringStartCol+1:s.indented+C;if(K&&K.noIndent)return k.Pass;if(s.tokenize!=I&&s.tokenize!=S)return O?O.match(/^(\s*)/)[0].length:0;if(s.tagName)return y.multilineTagIndentPastTag!==!1?s.tagStart+s.tagName.length+2:s.tagStart+C*(y.multilineTagIndentFactor||1);if(y.alignCDATA&&/<!\[CDATA\[/.test(p))return 0;var Q=p&&/^<(\/)?([\w_:\.-]*)/.exec(p);if(Q&&Q[1])for(;K;){if(K.tagName==Q[2]){K=K.prev;break}if(!y.implicitlyClosed.hasOwnProperty(x(K.tagName)))break;K=K.prev}else if(Q)for(;K;){var ne=y.contextGrabbers[x(K.tagName)];if(!ne||!ne.hasOwnProperty(x(Q[2])))break;K=K.prev}for(;K&&K.prev&&!K.startOfLine;)K=K.prev;return K?K.indent+C:s.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:y.htmlMode?"html":"xml",helperType:y.htmlMode?"html":"xml",skipAttribute:function(s){s.state==c&&(s.state=E)},xmlCurrentTag:function(s){return s.tagName?{name:s.tagName,close:s.type=="closeTag"}:null},xmlCurrentContext:function(s){for(var p=[],O=s.context;O;O=O.prev)p.push(O.tagName);return p.reverse()}}}),k.defineMIME("text/xml","xml"),k.defineMIME("application/xml","xml"),k.mimeModes.hasOwnProperty("text/html")||k.defineMIME("text/html",{name:"xml",htmlMode:!0})})(w(4631))},9714:(z,ie,w)=>{w.d(ie,{Z:()=>y});var k=w(4942),$=w(2982),D=w(5671),q=w(3144),l=w(9050),P=w(1163);function N(m,g){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(m);g&&(I=I.filter(function(H){return Object.getOwnPropertyDescriptor(m,H).enumerable})),S.push.apply(S,I)}return S}function C(m){for(var g=1;g<arguments.length;g++){var S=arguments[g]!=null?arguments[g]:{};g%2?N(Object(S),!0).forEach(function(I){(0,k.Z)(m,I,S[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):N(Object(S)).forEach(function(I){Object.defineProperty(m,I,Object.getOwnPropertyDescriptor(S,I))})}return m}var y=function(){function m(){(0,D.Z)(this,m)}return(0,q.Z)(m,[{key:"getConfig",value:function(g){return this.__getConfig(g)}},{key:"getProjectData",value:function(g){var S={},I=this.storageKey;return I&&(S[I]=g||this.getAll()),S}},{key:"loadProjectData",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=S.all,H=S.onResult,X=S.reset,Y=this.storageKey,x={action:"load"},W=I||this.getAll(),oe=g[Y];if(typeof oe=="string")try{oe=JSON.parse(oe)}catch{this.__logWarn("Data parsing failed",{input:oe})}return X&&oe&&W.reset(null,x),H?oe&&H(oe,x):oe&&(0,P.isDef)(oe.length)&&W.reset(oe,x),oe}},{key:"clear",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=this.all;return S&&S.reset(null,g),this}},{key:"__getConfig",value:function(g){var S=this.config||{};return g?S[g]:S}},{key:"getAll",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.all?g.array?(0,$.Z)(this.all.models):this.all:[]}},{key:"getAllMap",value:function(){return this.getAll().reduce(function(g,S){return g[S.get(S.idAttribute)]=S,g},{})}},{key:"__initConfig",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=(0,P.deepMerge)(g,S),this.em=this.config.em,this.cls=[]}},{key:"__initListen",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=this.all,I=this.em,H=this.events;S&&I&&S.on("add",function(X,Y,x){return I.trigger(H.add,X,x)}).on("remove",function(X,Y,x){return I.trigger(H.remove,X,x)}).on("change",function(X,Y){return I.trigger(H.update,X,X.changedAttributes(),Y)}).on("all",this.__catchAllEvent,this),this.cls=[S].concat(g.collections||[]),(g.propagate||[]).forEach(function(X){var Y=X.entity,x=X.event;Y.on("all",function(W,oe,se,Z){var B=C({event:W},Z||se);[I,S].map(function(T){return T.trigger(x,oe,B)})})})}},{key:"__remove",value:function(g){var S=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=this.em,X=(0,l.isString)(g)?this.get(g):g,Y=function(){return X&&S.all.remove(X,I),X};return!I.silent&&H&&H.trigger(this.events.removeBefore,X,Y,I),!I.abort&&Y()}},{key:"__catchAllEvent",value:function(g,S,I,H){var X=this.em,Y=this.events,x=H||I;X&&Y.all&&X.trigger(Y.all,{event:g,model:S,options:x}),this.__onAllEvent()}},{key:"__appendTo",value:function(){var g=this.getConfig().appendTo;if(g){var S=(0,l.isElement)(g)?g:document.querySelector(g);if(!S)return this.__logWarn('"appendTo" element not found');S.appendChild(this.render())}}},{key:"__onAllEvent",value:function(){}},{key:"__logWarn",value:function(g,S){this.em.logWarning("[".concat(this.name,"]: ").concat(g),S)}},{key:"_createId",value:function(){var g,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,I=this.getAll(),H=I.length+S,X=this.getAllMap();do g=(0,P.createId)(H);while(X[g]);return g}},{key:"__listenAdd",value:function(g,S){var I=this;g.on("add",function(H,X,Y){return I.em.trigger(S,H,Y)})}},{key:"__listenRemove",value:function(g,S){var I=this;g.on("remove",function(H,X,Y){return I.em.trigger(S,H,Y)})}},{key:"__listenUpdate",value:function(g,S){var I=this;g.on("change",function(H,X){return I.em.trigger(S,H,H.changedAttributes(),X)})}},{key:"__destroy",value:function(){var g;this.cls.forEach(function(S){S.stopListening(),S.reset()}),this.em=0,this.config=0,(g=this.view)===null||g===void 0||g.remove(),this.view=0}}]),m}()},1030:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>Me,evAdd:()=>_,evAll:()=>b,evClose:()=>G,evCustom:()=>te,evOpen:()=>F,evPfx:()=>a,evRemove:()=>A,evRemoveBefore:()=>J,evSelect:()=>f,evUpdate:()=>h,evUpload:()=>V,evUploadEnd:()=>ve,evUploadError:()=>Ne,evUploadRes:()=>Ze,evUploadStart:()=>le});var k=w(4942),$=w(9050),D=w(9304);const q={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:null,uploadFile:null,embedAsBase64:!0,handleAdd:null,beforeUpload:null,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:1,dropzoneContent:""};var l=w(3144),P=w(5671),N=w(9340),C=w(2963),y=w(1120),m=w(2316);function g(je){var ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var be,re=(0,y.Z)(je);if(ae){var Te=(0,y.Z)(this).constructor;be=Reflect.construct(re,arguments,Te)}else be=re.apply(this,arguments);return(0,C.Z)(this,be)}}var S=function(je){(0,N.Z)(be,je);var ae=g(be);function be(){return(0,P.Z)(this,be),ae.apply(this,arguments)}return(0,l.Z)(be,[{key:"defaults",value:function(){return{type:"",src:""}}},{key:"getType",value:function(){return this.get("type")}},{key:"getSrc",value:function(){return this.get("src")}},{key:"getFilename",value:function(){return this.get("src").split("/").pop().split("?").shift()}},{key:"getExtension",value:function(){return this.getFilename().split(".").pop()}}]),be}(m.Model);function I(je,ae){var be=Object.keys(je);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(je);ae&&(re=re.filter(function(Te){return Object.getOwnPropertyDescriptor(je,Te).enumerable})),be.push.apply(be,re)}return be}function H(je){for(var ae=1;ae<arguments.length;ae++){var be=arguments[ae]!=null?arguments[ae]:{};ae%2?I(Object(be),!0).forEach(function(re){(0,k.Z)(je,re,be[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(je,Object.getOwnPropertyDescriptors(be)):I(Object(be)).forEach(function(re){Object.defineProperty(je,re,Object.getOwnPropertyDescriptor(be,re))})}return je}function X(je){var ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var be,re=(0,y.Z)(je);if(ae){var Te=(0,y.Z)(this).constructor;be=Reflect.construct(re,arguments,Te)}else be=re.apply(this,arguments);return(0,C.Z)(this,be)}}S.prototype.idAttribute="src",S.getDefaults=function(){return(0,$.result)(this.prototype,"defaults")};var Y=function(je){(0,N.Z)(be,je);var ae=X(be);function be(){return(0,P.Z)(this,be),ae.apply(this,arguments)}return(0,l.Z)(be,[{key:"defaults",value:function(){return H(H({},S.getDefaults()),{},{type:"image",unitDim:"px",height:0,width:0})}}]),be}(S),x=w(168);function W(je){var ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var be,re=(0,y.Z)(je);if(ae){var Te=(0,y.Z)(this).constructor;be=Reflect.construct(re,arguments,Te)}else be=re.apply(this,arguments);return(0,C.Z)(this,be)}}var oe,se,Z=function(je){(0,N.Z)(be,je);var ae=W(be);function be(){return(0,P.Z)(this,be),ae.apply(this,arguments)}return(0,l.Z)(be,[{key:"initialize",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=re,this.collection=re.collection;var Te=re.config||{};this.config=Te,this.pfx=Te.stylePrefix||"",this.ppfx=Te.pStylePrefix||"",this.em=Te.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove),this.model.view=this;var Re=this.init&&this.init.bind(this);Re&&Re(re)}},{key:"__getBhv",value:function(){var re=this.em,Te=re&&re.get("AssetManager");return Te&&Te.__getBehaviour()||{}}},{key:"template",value:function(){var re=this.pfx;return`
      <div class="`.concat(re,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(re,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(re,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)}},{key:"updateTarget",value:function(re){re&&re.set&&(re.set("attributes",(0,$.clone)(re.get("attributes"))),re.set("src",this.model.get("src")))}},{key:"getPreview",value:function(){return""}},{key:"getInfo",value:function(){return""}},{key:"render",value:function(){var re=this.el;return re.innerHTML=this.template(this,this.model),re.className=this.className,this}}]),be}(m.View),B=w(7539);function T(je){var ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var be,re=(0,y.Z)(je);if(ae){var Te=(0,y.Z)(this).constructor;be=Reflect.construct(re,arguments,Te)}else be=re.apply(this,arguments);return(0,C.Z)(this,be)}}var j=function(je){(0,N.Z)(be,je);var ae=T(be);function be(){return(0,P.Z)(this,be),ae.apply(this,arguments)}return(0,l.Z)(be,[{key:"getPreview",value:function(){var re=this.pfx,Te=this.ppfx,Re=this.model.get("src");return(0,B.Z)(oe||(oe=(0,x.Z)([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),re,Re,re,Te)}},{key:"getInfo",value:function(){var re=this.pfx,Te=this.model,Re=Te.get("name"),Fe=Te.get("width"),it=Te.get("height"),lt=Te.get("unitDim"),St=Fe&&it?"".concat(Fe,"x").concat(it).concat(lt):"";return Re=Re||Te.getFilename(),(0,B.Z)(se||(se=(0,x.Z)([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),re,Re,re,St)}},{key:"init",value:function(re){var Te=this.pfx;this.className+=" ".concat(Te,"asset-image")}},{key:"onClick",value:function(){var re=this.model,Te=this.pfx,Re=this.__getBhv().select,Fe=this.config.onClick,it=this.collection;it.trigger("deselectAll"),this.$el.addClass(Te+"highlight"),(0,$.isFunction)(Re)?Re(re,!1):(0,$.isFunction)(Fe)?Fe(re):this.updateTarget(it.target)}},{key:"onDblClick",value:function(){var re=this.em,Te=this.model,Re=this.__getBhv().select,Fe=this.config.onDblClick,it=this.collection,lt=it.target,St=it.onSelect;(0,$.isFunction)(Re)?Re(Te,!0):(0,$.isFunction)(Fe)?Fe(Te):(this.updateTarget(lt),re&&re.get("Modal").close()),(0,$.isFunction)(St)&&St(Te)}},{key:"onRemove",value:function(re){re.stopImmediatePropagation(),this.model.collection.remove(this.model)}}]),be}(Z);j.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var U=w(793);function E(je){var ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var be,re=(0,y.Z)(je);if(ae){var Te=(0,y.Z)(this).constructor;be=Reflect.construct(re,arguments,Te)}else be=re.apply(this,arguments);return(0,C.Z)(this,be)}}var M=function(je){(0,N.Z)(be,je);var ae=E(be);function be(){return(0,P.Z)(this,be),ae.apply(this,arguments)}return(0,l.Z)(be)}(m.Collection.extend(U.Z));function c(je){var ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var be,re=(0,y.Z)(je);if(ae){var Te=(0,y.Z)(this).constructor;be=Reflect.construct(re,arguments,Te)}else be=re.apply(this,arguments);return(0,C.Z)(this,be)}}M.prototype.types=[{id:"image",model:Y,view:j,isType:function(je){return typeof je=="string"?{type:"image",src:je}:je}}];var d=function(je){(0,N.Z)(be,je);var ae=c(be);function be(){return(0,P.Z)(this,be),ae.apply(this,arguments)}return(0,l.Z)(be,[{key:"template",value:function(re){var Te=re.pfx,Re=re.ppfx,Fe=re.em,it="";return this.config.showUrlInput&&(it=`
          <form class="`.concat(Te,`add-asset">
            <div class="`).concat(Re,"field ").concat(Te,`add-field">
              <input placeholder="`).concat(Fe&&Fe.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(Re,'btn-prim">').concat(Fe&&Fe.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(Te,`assets-cont">
      <div class="`).concat(Te,`assets-header">
        `).concat(it,`
      </div>
      <div class="`).concat(Te,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)}},{key:"initialize",value:function(re){this.options=re,this.config=re.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var Te=this.collection;this.listenTo(Te,"reset",this.renderAssets),this.listenTo(Te,"add",this.addToAsset),this.listenTo(Te,"remove",this.removedAsset),this.listenTo(Te,"deselectAll",this.deselectAll)}},{key:"handleSubmit",value:function(re){re.preventDefault();var Te=this.getAddInput(),Re=Te&&Te.value.trim(),Fe=this.config.handleAdd;Re&&(Te.value="",this.getAssetsEl().scrollTop=0,Fe?Fe.bind(this)(Re):this.options.globalCollection.add(Re,{at:0}))}},{key:"getAssetsEl",value:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))}},{key:"getAddInput",value:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl}},{key:"removedAsset",value:function(re){this.collection.length||this.toggleNoAssets()}},{key:"addToAsset",value:function(re){this.collection.length==1&&this.toggleNoAssets(1),this.addAsset(re)}},{key:"addAsset",value:function(re){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Re=Te,Fe=this.collection,it=this.config,lt=new re.typeView({model:re,collection:Fe,config:it}).render().el;if(Re)Re.appendChild(lt);else{var St=this.getAssetsEl();St&&St.insertBefore(lt,St.firstChild)}return lt}},{key:"toggleNoAssets",value:function(re){var Te=this.$el.find(".".concat(this.pfx,"assets"));if(re)Te.empty();else{var Re=this.config.noAssets;Re&&Te.append(Re)}}},{key:"deselectAll",value:function(){var re=this.pfx;this.$el.find(".".concat(re,"highlight")).removeClass("".concat(re,"highlight"))}},{key:"renderAssets",value:function(){var re=this,Te=document.createDocumentFragment(),Re=this.$el.find(".".concat(this.pfx,"assets"));Re.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(Fe){return re.addAsset(Fe,Te)}),Re.append(Te)}},{key:"render",value:function(){var re=this.options.fu.render().el;return this.$el.empty(),this.$el.append(re).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this}}]),be}(m.View);d.prototype.events={submit:"handleSubmit"};var s,p=w(9661);function O(je,ae){var be=typeof Symbol<"u"&&je[Symbol.iterator]||je["@@iterator"];if(!be){if(Array.isArray(je)||(be=function(lt,St){if(!!lt){if(typeof lt=="string")return K(lt,St);var Ut=Object.prototype.toString.call(lt).slice(8,-1);if(Ut==="Object"&&lt.constructor&&(Ut=lt.constructor.name),Ut==="Map"||Ut==="Set")return Array.from(lt);if(Ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ut))return K(lt,St)}}(je))||ae&&je&&typeof je.length=="number"){be&&(je=be);var re=0,Te=function(){};return{s:Te,n:function(){return re>=je.length?{done:!0}:{done:!1,value:je[re++]}},e:function(lt){throw lt},f:Te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Re,Fe=!0,it=!1;return{s:function(){be=be.call(je)},n:function(){var lt=be.next();return Fe=lt.done,lt},e:function(lt){it=!0,Re=lt},f:function(){try{Fe||be.return==null||be.return()}finally{if(it)throw Re}}}}function K(je,ae){(ae==null||ae>je.length)&&(ae=je.length);for(var be=0,re=new Array(ae);be<ae;be++)re[be]=je[be];return re}function Q(je){var ae=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var be,re=(0,y.Z)(je);if(ae){var Te=(0,y.Z)(this).constructor;be=Reflect.construct(re,arguments,Te)}else be=re.apply(this,arguments);return(0,C.Z)(this,be)}}var ne=function(je){(0,N.Z)(be,je);var ae=Q(be);function be(){return(0,P.Z)(this,be),ae.apply(this,arguments)}return(0,l.Z)(be,[{key:"template",value:function(re){var Te=re.pfx,Re=re.title,Fe=re.uploadId,it=re.disabled,lt=re.multiUpload;return(0,B.Z)(s||(s=(0,x.Z)([`
      <form>
        <div id="`,'title">',`</div>
        <input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),Te,Re,Fe,it?"disabled":"",lt?"multiple":"")}},{key:"initialize",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=re;var Te=re.config||{};this.module=re.module,this.config=Te,this.em=this.config.em,this.pfx=Te.stylePrefix||"",this.ppfx=Te.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=Te.disableUpload!==void 0?Te.disableUpload:!Te.upload&&!Te.embedAsBase64,this.multiUpload=Te.multiUpload===void 0||Te.multiUpload,this.events={["change #".concat(this.uploadId)]:"uploadFile"};var Re=Te.uploadFile;Re?this.uploadFile=Re.bind(this):!Te.upload&&Te.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()}},{key:"onUploadStart",value:function(){var re=this.module;re&&re.__propEv("asset:upload:start")}},{key:"onUploadEnd",value:function(re){var Te=this.$el,Re=this.module;Re&&Re.__propEv("asset:upload:end",re);var Fe=Te.find("input");Fe&&Fe.val("")}},{key:"onUploadError",value:function(re){var Te=this.module;console.error(re),this.onUploadEnd(re),Te&&Te.__propEv("asset:upload:error",re)}},{key:"onUploadResponse",value:function(re,Te){var Re,Fe=this.module,it=this.config,lt=this.target;try{Re=typeof re=="string"?JSON.parse(re):re}catch{Re=re}Fe&&Fe.__propEv("asset:upload:response",Re),it.autoAdd&&lt&&lt.add(Re.data,{at:0}),this.onUploadEnd(re),Te&&Te(Re)}},{key:"uploadFile",value:function(re,Te){var Re=this,Fe=re.dataTransfer?re.dataTransfer.files:re.target.files,it=this.config,lt=it.beforeUpload;if((lt&&lt(Fe))!==!1){var St=new FormData,Ut=it.params,Xt=it.customFetch;for(var Dt in Ut)St.append(Dt,Ut[Dt]);if(this.multiUpload)for(var ot=0;ot<Fe.length;ot++)St.append("".concat(it.uploadName,"[]"),Fe[ot]);else Fe.length&&St.append(it.uploadName,Fe[0]);this.target;var st=it.upload,Ve=it.headers,Ge="X-Requested-With";if(Ve[Ge]===void 0&&(Ve[Ge]="XMLHttpRequest"),st){this.onUploadStart();var dt={method:"post",credentials:it.credentials||"include",headers:Ve,body:St};return(Xt?Xt(st,dt):(0,p.Z)(st,dt).then(function(We){return(We.status/200|0)==1?We.text():We.text().then(function(mt){return Promise.reject(mt)})})).then(function(We){return Re.onUploadResponse(We,Te)}).catch(function(We){return Re.onUploadError(We)})}}}},{key:"initDrop",value:function(){var re=this;!this.uploadForm&&(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm)&&(this.uploadFile,this.uploadForm.ondragover=function(){return this.className=re.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(Te){this.className="",Te.preventDefault(),re.uploadFile(Te)})}},{key:"initDropzone",value:function(re){var Te=this,Re=0,Fe=this.config,it=re.model,lt=re.el,St=it.get("Editor"),Ut=(it.get("Config").el,it.get("Canvas").getBody()),Xt=this.ppfx,Dt="".concat(Xt,"dropzone-active"),ot="".concat(Xt,"dropzone"),st=function(){lt.className=lt.className.replace(Dt,"").trim(),Re=0},Ve=function(){return Re||(lt.className+=" ".concat(Dt),Re=1),!1},Ge=function(){return st(),!1},dt=function(We){if(st(),We.preventDefault(),We.stopPropagation(),Te.uploadFile(We),Fe.openAssetsOnDrop&&St){var mt=St.getSelected();St.runCommand("open-assets",{target:mt,onSelect:function(){St.Modal.close(),St.AssetManager.setTarget(null)}})}return!1};re.$el.append('<div class="'.concat(ot,'">').concat(Fe.dropzoneContent,"</div>")),st(),"draggable"in lt&&[lt,Ut].forEach(function(We){We.ondragover=Ve,We.ondragleave=Ge,We.ondrop=dt})}},{key:"render",value:function(){var re=this.$el,Te=this.pfx,Re=this.em;return re.html(this.template({title:Re&&Re.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:Te})),this.initDrop(),re.attr("class",Te+"file-uploader"),this}}]),be}(m.View);function R(je,ae){var be=Object.keys(je);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(je);ae&&(re=re.filter(function(Te){return Object.getOwnPropertyDescriptor(je,Te).enumerable})),be.push.apply(be,re)}return be}function v(je){for(var ae=1;ae<arguments.length;ae++){var be=arguments[ae]!=null?arguments[ae]:{};ae%2?R(Object(be),!0).forEach(function(re){(0,k.Z)(je,re,be[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(je,Object.getOwnPropertyDescriptors(be)):R(Object(be)).forEach(function(re){Object.defineProperty(je,re,Object.getOwnPropertyDescriptor(be,re))})}return je}ne.embedAsBase64=function(je,ae){var be=this,re=je.dataTransfer?je.dataTransfer.files:je.target.files,Te={data:[]};if(FileReader){var Re,Fe=[],it=/^(.+)\/(.+)$/,lt=O(re);try{var St=function(){var Ut=Re.value,Xt=new Promise(function(Dt,ot){var st=new FileReader;st.addEventListener("load",function(Ve){var Ge,dt=Ut.name,We=it.exec(Ut.type);if((Ge=We?We[1]:Ut.type)==="image"){var mt={src:st.result,name:dt,type:Ge,height:0,width:0},Ke=new Image;Ke.addEventListener("error",function(gt){ot(gt)}),Ke.addEventListener("load",function(){mt.height=Ke.height,mt.width=Ke.width,Dt(mt)}),Ke.src=mt.src}else Dt(Ge?{src:st.result,name:dt,type:Ge}:st.result)}),st.addEventListener("error",function(Ve){ot(Ve)}),st.addEventListener("abort",function(Ve){ot("Aborted")}),st.readAsDataURL(Ut)});Fe.push(Xt)};for(lt.s();!(Re=lt.n()).done;)St()}catch(Ut){lt.e(Ut)}finally{lt.f()}Promise.all(Fe).then(function(Ut){Te.data=Ut,be.onUploadResponse(Te,ae)},function(Ut){be.onUploadError(Ut)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))};var b="asset",a="".concat(b,":"),f="".concat(a,"select"),h="".concat(a,"update"),_="".concat(a,"add"),A="".concat(a,"remove"),J="".concat(A,":before"),te="".concat(a,"custom"),F="".concat(a,"open"),G="".concat(a,"close"),V="".concat(a,"upload"),le="".concat(V,":start"),ve="".concat(V,":end"),Ne="".concat(V,":error"),Ze="".concat(V,":response");const Me=function(){var je,ae,be,re,Te={},Re="open-assets";return v(v({},D.Z),{},{name:"AssetManager",storageKey:"assets",Asset:M,Assets:M,events:{all:b,select:f,update:h,add:_,remove:A,removeBefore:J,custom:te,open:F,close:G,uploadStart:le,uploadEnd:ve,uploadError:Ne,uploadResponse:Ze},init:function(){var Fe=this,it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},lt=(Te=v(v({},q),it)).pStylePrefix,St=Te,Ut=St.em;return this.config=Te,this.em=Ut,lt&&(Te.stylePrefix=lt+Te.stylePrefix),je=new M([]),ae=new M([]),this.all=je,this.__initListen(),je.on("add",function(Xt){return Fe.getAllVisible().add(Xt)}),je.on("remove",function(Xt){return Fe.getAllVisible().remove(Xt)}),this},__propEv:function(Fe){for(var it,lt,St=arguments.length,Ut=new Array(St>1?St-1:0),Xt=1;Xt<St;Xt++)Ut[Xt-1]=arguments[Xt];(it=this.em).trigger.apply(it,[Fe].concat(Ut)),(lt=this.getAll()).trigger.apply(lt,[Fe].concat(Ut))},__onAllEvent:(0,$.debounce)(function(){this.__trgCustom()}),__trgCustom:function(){(this.__getBehaviour().container||this.getConfig().custom.open)&&this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var Fe=this,it=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:it.types||[],container:it.container,close:function(){return Fe.close()},remove:function(){return Fe.remove.apply(Fe,arguments)},select:function(lt,St){var Ut=Fe.add(lt);(0,$.isFunction)(it.select)&&it.select(Ut,St)},options:it.options||{}}},open:function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},it=this.em.get("Commands");it.run(Re,v({types:["image"],select:function(){}},Fe))},close:function(){this.em.get("Commands").stop(Re)},isOpen:function(){var Fe=this.em.get("Commands");return!(!Fe||!Fe.isActive(Re))},add:function(Fe){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return it.at===void 0&&(it.at=0),je.add(Fe,it)},get:function(Fe){return je.where({src:Fe})[0]||null},getAll:function(){return je},getAllVisible:function(){return ae},remove:function(Fe,it){return this.__remove(Fe,it)},store:function(){return this.getProjectData()},load:function(Fe){return this.loadProjectData(Fe)},getContainer:function(){return this.__getBehaviour().container||be&&be.el},getAssetsEl:function(){return be.el.querySelector("[data-el=assets]")},render:function(Fe){if(!this.getConfig().custom){var it=Fe||this.getAll().models;if(!be){var lt=this.__viewParams();lt.fu=this.FileUploader();var St=be&&be.el;(be=new d(v({el:St},lt))).render()}return ae.reset(it),this.getContainer()}},__viewParams:function(){return{collection:ae,globalCollection:je,config:Te,module:this}},addType:function(Fe,it){this.getAll().addType(Fe,it)},getType:function(Fe){return this.getAll().getType(Fe)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return be},FileUploader:function(){return re||(re=new ne(this.__viewParams())),re},onLoad:function(){var Fe=this;this.getAll().reset(Te.assets);var it=this.em,lt=this.events;it.on("run:".concat(Re),function(){return Fe.__propEv(lt.open)}),it.on("stop:".concat(Re),function(){return Fe.__propEv(lt.close)})},postRender:function(Fe){Te.dropzone&&re&&re.initDropzone(Fe)},setTarget:function(Fe){ae.target=Fe},onSelect:function(Fe){ae.onSelect=Fe},onClick:function(Fe){Te.onClick=Fe},onDblClick:function(Fe){Te.onDblClick=Fe},__behaviour:function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._bhv=v(v({},this._bhv||{}),Fe)},__getBehaviour:function(){return this._bhv||{}},destroy:function(){je.stopListening(),ae.stopListening(),je.reset(),ae.reset(),re&&re.remove(),be&&be.remove(),this._bhv={},this.all={},Te={}}})}},6407:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>te,evAdd:()=>v,evAll:()=>ne,evCustom:()=>J,evDrag:()=>h,evDragStart:()=>_,evDragStop:()=>A,evPfx:()=>R,evRemove:()=>a,evRemoveBefore:()=>f,evUpdate:()=>b});var k=w(5671),$=w(3144),D=w(7326),q=w(9340),l=w(2963),P=w(1120),N=w(4942),C=w(9050),y=w(9714);const m={appendTo:"",appendOnClick:!1,blocks:[],custom:!1};var g=w(2316);function S(F){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,le=(0,P.Z)(F);if(G){var ve=(0,P.Z)(this).constructor;V=Reflect.construct(le,arguments,ve)}else V=le.apply(this,arguments);return(0,l.Z)(this,V)}}var I=function(F){(0,q.Z)(V,F);var G=S(V);function V(){return(0,k.Z)(this,V),G.apply(this,arguments)}return(0,$.Z)(V,[{key:"defaults",value:function(){return{label:"",content:"",media:"",category:"",activate:!1,select:null,resetId:!1,disable:!1,onClick:null,attributes:{}}}},{key:"getId",value:function(){return this.id}},{key:"getLabel",value:function(){return this.get("label")}},{key:"getMedia",value:function(){return this.get("media")}},{key:"getContent",value:function(){return this.get("content")}},{key:"getCategoryLabel",value:function(){var le=this.get("category");return(0,C.isFunction)(le.get)?le.get("label"):le.label?le.label:le}}]),V}(g.Model);function H(F){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,le=(0,P.Z)(F);if(G){var ve=(0,P.Z)(this).constructor;V=Reflect.construct(le,arguments,ve)}else V=le.apply(this,arguments);return(0,l.Z)(this,V)}}var X=function(F){(0,q.Z)(V,F);var G=H(V);function V(){return(0,k.Z)(this,V),G.apply(this,arguments)}return(0,$.Z)(V)}(g.Collection);function Y(F){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,le=(0,P.Z)(F);if(G){var ve=(0,P.Z)(this).constructor;V=Reflect.construct(le,arguments,ve)}else V=le.apply(this,arguments);return(0,l.Z)(this,V)}}X.prototype.model=I;var x=function(F){(0,q.Z)(V,F);var G=Y(V);function V(){return(0,k.Z)(this,V),G.apply(this,arguments)}return(0,$.Z)(V,[{key:"defaults",value:function(){return{id:"",label:"",open:!0,attributes:{}}}}]),V}(g.Model);function W(F){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,le=(0,P.Z)(F);if(G){var ve=(0,P.Z)(this).constructor;V=Reflect.construct(le,arguments,ve)}else V=le.apply(this,arguments);return(0,l.Z)(this,V)}}var oe=function(F){(0,q.Z)(V,F);var G=W(V);function V(){return(0,k.Z)(this,V),G.apply(this,arguments)}return(0,$.Z)(V)}(g.Collection);oe.prototype.model=x;var se=w(1163);function Z(F){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,le=(0,P.Z)(F);if(G){var ve=(0,P.Z)(this).constructor;V=Reflect.construct(le,arguments,ve)}else V=le.apply(this,arguments);return(0,l.Z)(this,V)}}var B,T=function(F){(0,q.Z)(V,F);var G=Z(V);function V(){return(0,k.Z)(this,V),G.apply(this,arguments)}return(0,$.Z)(V,[{key:"events",value:function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}}},{key:"initialize",value:function(le){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ne=this.model;this.em=ve.em,this.config=ve,this.endDrag=this.endDrag.bind(this),this.ppfx=ve.pStylePrefix||"",this.listenTo(Ne,"destroy remove",this.remove),this.listenTo(Ne,"change",this.render)}},{key:"__getModule",value:function(){return this.em.get("BlockManager")}},{key:"handleClick",value:function(le){var ve=this.config,Ne=this.model,Ze=this.em,Me=Ne.get("onClick")||ve.appendOnClick;if(Ze.trigger("block:click",Ne,le),Me){if((0,C.isFunction)(Me))return Me(Ne,Ze.getEditor(),{event:le});var je,ae,be=ve.getSorter(),re=Ne.get("content"),Te=Ze.getSelected();if(be.setDropContent(re),Te)if(be.validTarget(Te.getEl(),re).valid)je=Te;else{var Re=Te.parent();be.validTarget(Re.getEl(),re).valid&&(je=Re,ae=Re.components().indexOf(Te)+1)}if(!je){var Fe=Ze.getWrapper();be.validTarget(Fe.getEl(),re).valid&&(je=Fe)}var it=je&&je.append(re,{at:ae})[0];it&&Ze.setSelected(it,{scroll:1})}}},{key:"startDrag",value:function(le){var ve=this.config,Ne=this.em,Ze=this.model.get("disable");if(le.button===0&&ve.getSorter&&!this.el.draggable&&!Ze){Ne.refreshCanvas();var Me=ve.getSorter();Me.setDragHelper(this.el,le),Me.setDropContent(this.model.get("content")),Me.startSort(this.el),(0,se.on)(document,"mouseup",this.endDrag)}}},{key:"handleDragStart",value:function(le){this.__getModule().__startDrag(this.model,le)}},{key:"handleDrag",value:function(le){this.__getModule().__drag(le)}},{key:"handleDragEnd",value:function(){this.__getModule().__endDrag()}},{key:"endDrag",value:function(le){(0,se.off)(document,"mouseup",this.endDrag);var ve=this.config.getSorter();ve.moved=0,ve.endMove()}},{key:"render",value:function(){var le=this.em,ve=this.el,Ne=this.$el,Ze=this.ppfx,Me=this.model,je=Me.get("disable"),ae=Me.get("attributes")||{},be=ae.class||"",re="".concat(Ze,"block"),Te=le&&le.t("blockManager.labels.".concat(Me.id))||Me.get("label"),Re=Me.get("render"),Fe=Me.get("media"),it=je?"".concat(re,"--disable"):"".concat(Ze,"four-color-h");Ne.attr(ae),ve.className="".concat(be," ").concat(re," ").concat(Ze,"one-bg ").concat(it).trim(),ve.innerHTML=`
      `.concat(Fe?'<div class="'.concat(re,'__media">').concat(Fe,"</div>"):"",`
      <div class="`).concat(re,'-label">').concat(Te,`</div>
    `),ve.title=ae.title||ve.textContent.trim(),ve.setAttribute("draggable",!(!(0,se.hasDnd)(le)||je));var lt=Re&&Re({el:ve,model:Me,className:re,prefix:Ze});return lt&&(ve.innerHTML=lt),this}}]),V}(g.View),j=w(168),U=w(7539);function E(F){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,le=(0,P.Z)(F);if(G){var ve=(0,P.Z)(this).constructor;V=Reflect.construct(le,arguments,ve)}else V=le.apply(this,arguments);return(0,l.Z)(this,V)}}var M=function(F){(0,q.Z)(V,F);var G=E(V);function V(){return(0,k.Z)(this,V),G.apply(this,arguments)}return(0,$.Z)(V,[{key:"template",value:function(le){var ve=le.pfx,Ne=le.label;return(0,U.Z)(B||(B=(0,j.Z)([`
      <div class="`,`title">
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `])),ve,ve,Ne,ve)}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=le;var ve=le.pStylePrefix||"";this.em=le.em,this.pfx=ve,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(ve,"caret-icon"),this.activeClass="".concat(ve,"open"),this.className="".concat(ve,"block-category"),this.events={},this.events["click .".concat(ve,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents(),this.model.view=this}},{key:"updateVisibility",value:function(){this.model.get("open")?this.open():this.close()}},{key:"open",value:function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""}},{key:"close",value:function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"}},{key:"toggle",value:function(){var le=this.model;le.set("open",!le.get("open"))}},{key:"getIconEl",value:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl}},{key:"append",value:function(le){this.getBlocksEl().appendChild(le)}},{key:"render",value:function(){var le=this.em,ve=this.el,Ne=this.$el,Ze=this.model,Me=this.pfx,je=le.t("blockManager.categories.".concat(Ze.id))||Ze.get("label");return ve.innerHTML=this.template({pfx:Me,label:je}),Ne.addClass(this.className),Ne.css({order:Ze.get("order")}),this.updateVisibility(),this}}]),V}(g.View);function c(F,G){var V=Object.keys(F);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(F);G&&(le=le.filter(function(ve){return Object.getOwnPropertyDescriptor(F,ve).enumerable})),V.push.apply(V,le)}return V}function d(F){for(var G=1;G<arguments.length;G++){var V=arguments[G]!=null?arguments[G]:{};G%2?c(Object(V),!0).forEach(function(le){(0,N.Z)(F,le,V[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(V)):c(Object(V)).forEach(function(le){Object.defineProperty(F,le,Object.getOwnPropertyDescriptor(V,le))})}return F}function s(F){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,le=(0,P.Z)(F);if(G){var ve=(0,P.Z)(this).constructor;V=Reflect.construct(le,arguments,ve)}else V=le.apply(this,arguments);return(0,l.Z)(this,V)}}var p=function(F){(0,q.Z)(V,F);var G=s(V);function V(){return(0,k.Z)(this,V),G.apply(this,arguments)}return(0,$.Z)(V,[{key:"initialize",value:function(le,ve){(0,C.bindAll)(this,"getSorter","onDrag","onDrop","onMove"),this.config=ve||{},this.categories=le.categories||"",this.renderedCategories=[];var Ne=this.config.pStylePrefix||"";this.ppfx=Ne,this.noCatClass="".concat(Ne,"blocks-no-cat"),this.blockContClass="".concat(Ne,"blocks-c"),this.catsClass="".concat(Ne,"block-categories");var Ze=this.collection;this.listenTo(Ze,"add",this.addTo),this.listenTo(Ze,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))}},{key:"updateConfig",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=d(d({},this.config),le)}},{key:"getSorter",value:function(){if(this.em){if(!this.sorter){var le=this.em.get("Utils"),ve=this.canvas;this.sorter=new le.Sorter({container:ve.getBody(),placer:ve.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:ve.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})}return this.sorter}}},{key:"onDrag",value:function(le){this.em.stopDefault(),this.em.trigger("block:drag:start",le)}},{key:"onMove",value:function(le){this.em.trigger("block:drag:move",le)}},{key:"onDrop",value:function(le){var ve=this.em;if(ve.runDefault(),le&&le.get){var Ne="activeOnRender";le.get(Ne)&&(le.trigger("active"),le.unset(Ne)),ve.trigger("block:drag:stop",le)}}},{key:"addTo",value:function(le){this.add(le)}},{key:"add",value:function(le,ve){var Ne=this.config,Ze=ve||null,Me=new T({model:le,attributes:le.get("attributes")},Ne).render().el,je=le.get("category");if(je&&this.categories&&!Ne.ignoreCategories){(0,C.isString)(je)?je={id:je,label:je}:(0,C.isObject)(je)&&!je.id&&(je.id=je.label);var ae=this.categories.add(je),be=ae.get("id"),re=this.renderedCategories[be],Te=this.getCategoriesEl();return le.set("category",ae,{silent:!0}),!re&&Te&&(re=new M({model:ae},this.config).render(),this.renderedCategories[be]=re,Te.appendChild(re.el)),void(re&&re.append(Me))}Ze?Ze.appendChild(Me):this.append(Me)}},{key:"getCategoriesEl",value:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl}},{key:"append",value:function(le){var ve=this.getBlocksEl();ve&&ve.appendChild(le)}},{key:"render",value:function(){var le=this,ve=this.ppfx,Ne=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(Me){return le.add(Me,Ne)}),this.append(Ne);var Ze="".concat(this.blockContClass,"s ").concat(ve,"one-bg ").concat(ve,"two-color");return this.$el.addClass(Ze),this.rendered=!0,this}}]),V}(g.View);function O(F,G){var V=Object.keys(F);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(F);G&&(le=le.filter(function(ve){return Object.getOwnPropertyDescriptor(F,ve).enumerable})),V.push.apply(V,le)}return V}function K(F){for(var G=1;G<arguments.length;G++){var V=arguments[G]!=null?arguments[G]:{};G%2?O(Object(V),!0).forEach(function(le){(0,N.Z)(F,le,V[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(V)):O(Object(V)).forEach(function(le){Object.defineProperty(F,le,Object.getOwnPropertyDescriptor(V,le))})}return F}function Q(F){var G=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,le=(0,P.Z)(F);if(G){var ve=(0,P.Z)(this).constructor;V=Reflect.construct(le,arguments,ve)}else V=le.apply(this,arguments);return(0,l.Z)(this,V)}}var ne="block",R="".concat(ne,":"),v="".concat(R,"add"),b="".concat(R,"update"),a="".concat(R,"remove"),f="".concat(a,":before"),h="".concat(R,"drag"),_="".concat(h,":start"),A="".concat(h,":stop"),J="".concat(R,"custom"),te=function(F){(0,q.Z)(V,F);var G=Q(V);function V(){var le;(0,k.Z)(this,V);for(var ve=arguments.length,Ne=new Array(ve),Ze=0;Ze<ve;Ze++)Ne[Ze]=arguments[Ze];return le=G.call.apply(G,[this].concat(Ne)),(0,N.Z)((0,D.Z)(le),"name","BlockManager"),(0,N.Z)((0,D.Z)(le),"Block",I),(0,N.Z)((0,D.Z)(le),"Blocks",X),(0,N.Z)((0,D.Z)(le),"Category",x),(0,N.Z)((0,D.Z)(le),"Categories",oe),(0,N.Z)((0,D.Z)(le),"events",{all:ne,update:b,add:v,remove:a,removeBefore:f,drag:h,dragStart:_,dragEnd:A,custom:J}),le}return(0,$.Z)(V,[{key:"init",value:function(){var le=this,ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=K(K({},m),ve);var Ne=this.c.em;return this.em=Ne,this.blocks=new X(this.c.blocks),this.blocksVisible=new X(this.blocks.models),this.categories=new oe,this.all=this.blocks,this.__initListen(),this.blocks.on("add",function(Ze){return le.blocksVisible.add(Ze)}),this.blocks.on("remove",function(Ze){return le.blocksVisible.remove(Ze)}),this.blocks.on("reset",function(Ze){return le.blocksVisible.reset(Ze.models)}),this}},{key:"__trgCustom",value:function(){this.em.trigger(this.events.custom,this.__customData())}},{key:"__customData",value:function(){var le=this,ve=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:ve.container,dragStart:function(Ne,Ze){return le.startDrag(Ne,Ze)},drag:function(Ne){return le.__drag(Ne)},dragStop:function(Ne){return le.endDrag(Ne)}}}},{key:"__startDrag",value:function(le,ve){var Ne=this.em,Ze=this.events,Me=this.blocks,je=le.getContent?le.getContent():le;this._dragBlock=le,Ne.set({dragResult:null,dragContent:je}),[Ne,Me].map(function(ae){return ae.trigger(Ze.dragStart,le,ve)})}},{key:"__drag",value:function(le){var ve=this.em,Ne=this.events,Ze=this.blocks,Me=this._dragBlock;[ve,Ze].map(function(je){return je.trigger(Ne.drag,Me,le)})}},{key:"__endDrag",value:function(){var le=this.em,ve=this.events,Ne=this.blocks,Ze=this._dragBlock,Me=le.get("dragResult");if(this._dragBlock=null,Me){var je="activeOnRender",ae=Me.get&&Me.get(je),be=Ze.get("activate")||ae,re=Ze.get("select"),Te=(0,C.isArray)(Me)?Me[0]:Me;(re||be&&re!==!1)&&le.setSelected(Te),be&&(Te.trigger("active"),ae&&Te.unset(je)),Ze.get("resetId")&&Te.onAll(function(Re){return Re.resetId()})}le.set({dragResult:null,dragContent:null}),[le,Ne].map(function(Re){return Re.trigger(ve.dragEnd,Me,Ze)})}},{key:"__getFrameViews",value:function(){return this.em.get("Canvas").getFrames().map(function(le){return le.view})}},{key:"__behaviour",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._bhv=K(K({},this._bhv||{}),le)}},{key:"__getBehaviour",value:function(){return this._bhv||{}}},{key:"startDrag",value:function(le,ve){this.__startDrag(le,ve),this.__getFrameViews().forEach(function(Ne){return Ne.droppable.startCustom()})}},{key:"endDrag",value:function(le){this.__getFrameViews().forEach(function(ve){return ve.droppable.endCustom(le)}),this.__endDrag()}},{key:"getConfig",value:function(){return this.c}},{key:"postRender",value:function(){var le=this.categories,ve=this.blocksVisible;this.blocksView=new p({collection:ve,categories:le},this.c);var Ne=this.getConfig().appendTo;if(Ne){var Ze=(0,C.isElement)(Ne)?Ne:document.querySelector(Ne);if(!Ze)return this.__logWarn('"appendTo" element not found');Ze.appendChild(this.render(this.blocksVisible.models))}this.__trgCustom()}},{key:"add",value:function(le,ve){var Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ze=ve||{};return Ze.id=le,this.blocks.add(Ze,Ne)}},{key:"get",value:function(le){return this.blocks.get(le)}},{key:"getAll",value:function(){return this.blocks}},{key:"getAllVisible",value:function(){return this.blocksVisible}},{key:"remove",value:function(le){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__remove(le,ve)}},{key:"getCategories",value:function(){return this.categories}},{key:"getContainer",value:function(){return this.blocksView.el}},{key:"render",value:function(le){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ne=this.categories.categories,Ze=le||this.getAll().models;if(ve.external){var Me=new X(Ze);return new p({collection:Me,categories:Ne},K(K({},this.c),ve)).render().el}return this.blocksView&&(this.blocksView.updateConfig(ve),this.blocksView.collection.reset(Ze),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=1)),this.getContainer()}},{key:"destroy",value:function(){var le,ve=[this.blocks,this.blocksVisible,this.categories];ve.map(function(Ne){return Ne.stopListening()}),ve.map(function(Ne){return Ne.reset()}),(le=this.blocksView)===null||le===void 0||le.remove(),this.c={},this.blocks={},this.blocksVisible={},this.blocksView={},this.categories=[],this.all={}}}]),V}(y.Z)},7619:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>c});var k=w(9050);const $={stylePrefix:"cm-",inlineCss:!1};var D=w(4925),q=w(5671),l=w(3144),P=w(9340),N=w(2963),C=w(1120),y=w(2316),m=["em"];function g(d){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,O=(0,C.Z)(d);if(s){var K=(0,C.Z)(this).constructor;p=Reflect.construct(O,arguments,K)}else p=O.apply(this,arguments);return(0,N.Z)(this,p)}}var S=function(d){(0,P.Z)(p,d);var s=g(p);function p(){return(0,q.Z)(this,p),s.apply(this,arguments)}return(0,l.Z)(p,[{key:"build",value:function(O){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=K.em,ne=(0,D.Z)(K,m),R=ne;if(K.cleanId&&Q){var v=Q.get("CssComposer").getAll(),b=v.toJSON().map(function(a){var f=a.selectors,h=f&&f.length===1&&f.models[0];return h&&h.isId()&&h.get("name")}).filter(function(a){return a});R.attributes||(R.attributes=function(a,f){var h=f.id;return h&&h[0]==="i"&&!a.get("script")&&!a.get("attributes").id&&b.indexOf(h)<0&&delete f.id,f})}return O.toHTML(R)}}]),p}(y.Model),I=w(8795);function H(d){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,O=(0,C.Z)(d);if(s){var K=(0,C.Z)(this).constructor;p=Reflect.construct(O,arguments,K)}else p=O.apply(this,arguments);return(0,N.Z)(this,p)}}var X=function(d){(0,P.Z)(p,d);var s=H(p);function p(){return(0,q.Z)(this,p),s.apply(this,arguments)}return(0,l.Z)(p,[{key:"build",value:function(O){var K=O.toJSON();return this.beforeEach(K),(0,k.each)(K,function(Q,ne){var R=K[ne];if(R instanceof y.Model)K[ne]=this.build(R);else if(R instanceof y.Collection){var v=R;K[ne]=[],v.length&&v.each(function(b,a){K[ne][a]=this.build(b)},this)}},this),K}},{key:"beforeEach",value:function(O){delete O.status}}]),p}(y.Model);function Y(d){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,O=(0,C.Z)(d);if(s){var K=(0,C.Z)(this).constructor;p=Reflect.construct(O,arguments,K)}else p=O.apply(this,arguments);return(0,N.Z)(this,p)}}var x,W=function(d){(0,P.Z)(p,d);var s=Y(p);function p(){return(0,q.Z)(this,p),s.apply(this,arguments)}return(0,l.Z)(p,[{key:"mapModel",value:function(O){var K="",Q=O.get("script-export")||O.get("script"),ne=O.get("type"),R=O.get("components"),v=O.getId();if(Q){var b=O.get("attributes");b=(0,k.extend)({},b,{id:v}),O.set("attributes",b,{silent:1});var a=O.getScriptString(Q),f=O.get("script-props");if(O.get("scriptUpdated")&&!f)this.mapJs[ne+"-"+v]={ids:[v],code:a};else{var h,_=this.mapJs[ne];if(f&&(h=O.__getScriptProps()),_)_.ids.push(v),h&&(_.props[v]=h);else{var A={ids:[v],code:a};h&&(A.props={[v]:h}),this.mapJs[ne]=A}}}return R.each(function(J){K+=this.mapModel(J)},this),K}},{key:"build",value:function(O){this.mapJs={},this.mapModel(O);var K="";for(var Q in this.mapJs){var ne=this.mapJs[Q];if(ne.code)if(ne.props){if(ne.code.toString().match(/\{([\s\S]*)\}/m)[1].replace(/^\s*\/\/.*$/gm,"").trim().length===0)continue;K+=`
          var props = `.concat(JSON.stringify(ne.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(ne.code,`.bind(el))(props[el.id]);
          }`)}else{var R="#"+ne.ids.join(", #");K+=`
          var items = document.querySelectorAll('`.concat(R,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(ne.code,`
}.bind(items[i]))();
          }`)}}return K}}]),p}(y.Model),oe=w(4942);function se(d,s){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);s&&(O=O.filter(function(K){return Object.getOwnPropertyDescriptor(d,K).enumerable})),p.push.apply(p,O)}return p}function Z(d){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,O=(0,C.Z)(d);if(s){var K=(0,C.Z)(this).constructor;p=Reflect.construct(O,arguments,K)}else p=O.apply(this,arguments);return(0,N.Z)(this,p)}}(0,w(1163).hasWin)()&&(x=w(4631),w(6531),w(6629),w(9210));var B=function(d){(0,P.Z)(p,d);var s=Z(p);function p(){return(0,q.Z)(this,p),s.apply(this,arguments)}return(0,l.Z)(p,[{key:"defaults",value:function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0}}},{key:"init",value:function(O){return(0,k.bindAll)(this,"onChange"),this.editor=x.fromTextArea(O,function(K){for(var Q=1;Q<arguments.length;Q++){var ne=arguments[Q]!=null?arguments[Q]:{};Q%2?se(Object(ne),!0).forEach(function(R){(0,oe.Z)(K,R,ne[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(ne)):se(Object(ne)).forEach(function(R){Object.defineProperty(K,R,Object.getOwnPropertyDescriptor(ne,R))})}return K}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=O,this.editor.on("change",this.onChange),this}},{key:"onChange",value:function(){this.trigger("update",this)}},{key:"getEditor",value:function(){return this.editor}},{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(O){return this.element=O,this}},{key:"refresh",value:function(){return this.getEditor().refresh(),this}},{key:"focus",value:function(){return this.getEditor().focus(),this}},{key:"getContent",value:function(){var O=this.getEditor();return O&&O.getValue()}},{key:"setContent",value:function(O){var K=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=this.editor;ne&&(ne.setValue(O),ne.autoFormatRange&&(x.commands.selectAll(ne),ne.autoFormatRange(ne.getCursor(!0),ne.getCursor(!1)),x.commands.goDocStart(ne)),!Q.noRefresh&&setTimeout(function(){return K.refresh()}))}}]),p}(y.Model);B.prototype.CodeMirror=x;var T,j=w(168),U=w(7539);function E(d){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,O=(0,C.Z)(d);if(s){var K=(0,C.Z)(this).constructor;p=Reflect.construct(O,arguments,K)}else p=O.apply(this,arguments);return(0,N.Z)(this,p)}}var M=function(d){(0,P.Z)(p,d);var s=E(p);function p(){return(0,q.Z)(this,p),s.apply(this,arguments)}return(0,l.Z)(p,[{key:"template",value:function(O){var K=O.pfx,Q=O.codeName,ne=O.label;return(0,U.Z)(T||(T=(0,j.Z)([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),K,K,Q,K,ne,K)}},{key:"initialize",value:function(O){this.config=O.config||{},this.pfx=this.config.stylePrefix}},{key:"render",value:function(){var O=this.model,K=this.pfx,Q=this.$el,ne=O.toJSON();return ne.pfx=K,Q.html(this.template(ne)),Q.attr("class","".concat(K,"editor-c")),Q.find("#".concat(K,"code")).append(O.get("input")),this}}]),p}(y.View);const c=function(){var d={},s={},p={},O={},K={},Q="CodeMirror";return{getConfig:function(){return d},config:d,EditorView:M,name:"CodeManager",init:function(ne){for(var R in d=ne||{},$)R in d||(d[R]=$[R]);var v=d.pStylePrefix;return v&&(d.stylePrefix=v+d.stylePrefix),p.html=new S,p.css=new I.Z,p.json=new X,p.js=new W,K.CodeMirror=new B,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(ne,R){return s[ne]=R,this},getGenerator:function(ne){return s[ne]||null},getGenerators:function(){return s},addViewer:function(ne,R){return O[ne]=R,this},getViewer:function(ne){return O[ne]||null},getViewers:function(){return O},createViewer:function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=(0,k.isUndefined)(ne.type)?Q:ne.type,v=this.getViewer(R)&&this.getViewer(R).clone(),b=document.createElement("div"),a=document.createElement("textarea");return b.appendChild(a),v.set(ne),v.init(a),v.setElement(b),v},updateViewer:function(ne,R){ne.setContent(R)},getCode:function(ne,R){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};v.em=d.em;var b=this.getGenerator(R);return b?b.build(ne,v):""},loadDefaultGenerators:function(){for(var ne in p)this.addGenerator(ne,p[ne]);return this},loadDefaultViewers:function(){for(var ne in K)this.addViewer(ne,K[ne]);return this},destroy:function(){}}}},8795:(z,ie,w)=>{w.d(ie,{U:()=>g,Z:()=>S});var k=w(5671),$=w(3144),D=w(9340),q=w(2963),l=w(1120),P=w(9050),N=w(2316),C=w(1163);function y(I){var H=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var X,Y=(0,l.Z)(I);if(H){var x=(0,l.Z)(this).constructor;X=Reflect.construct(Y,arguments,x)}else X=Y.apply(this,arguments);return(0,q.Z)(this,X)}}var m=Number.MAX_VALUE,g=function(I){var H=/(-?\d*\.?\d+)\w{0,}/.exec(I);return H?H[0]:""},S=function(I){(0,D.Z)(X,I);var H=y(X);function X(){return(0,k.Z)(this,X),H.apply(this,arguments)}return(0,$.Z)(X,[{key:"initialize",value:function(){(0,P.bindAll)(this,"sortRules"),this.compCls=[],this.ids=[]}},{key:"buildFromModel",value:function(Y){var x=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe="",se=this.em,Z=se&&se.getConfig().avoidInlineStyle,B=Y.styleToString(),T=Y.get("classes");this.ids.push("#".concat(Y.getId())),T.each(function(U){return x.compCls.push(U.getFullName())}),!Z&&B&&(oe="#".concat(Y.getId(),"{").concat(B,"}"));var j=Y.components();return j.each(function(U){return oe+=x.buildFromModel(U,W)}),oe}},{key:"build",value:function(Y){var x=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=W.json,se=W.em||"",Z=W.cssc||se&&se.get("CssComposer");this.em=se,this.compCls=[],this.ids=[],this.model=Y;var B=[],T=Y?this.buildFromModel(Y,W):"",j=(0,P.isUndefined)(W.clearStyles)&&se?se.getConfig().clearStyles:W.clearStyles;if(Z){var U=W.rules||Z.getAll(),E={},M=[];W.onlyMatched&&Y&&(0,C.hasWin)()&&(U=this.matchedRules(Y,U)),U.forEach(function(c){var d=c.getAtRule();if(d){var s=E[d];s?s.push(c):E[d]=[c]}else{var p=x.buildFromRule(c,M,W);oe?B.push(p):T+=p}}),this.sortMediaObject(E).forEach(function(c){var d="",s=c.key;c.value.forEach(function(p){var O=x.buildFromRule(p,M,W);p.get("singleAtRule")?T+="".concat(s,"{").concat(O,"}"):d+=O,oe&&B.push(O)}),d&&(T+="".concat(s,"{").concat(d,"}"))}),se&&j&&U.remove&&U.remove(M)}return oe?B.filter(function(c){return c}):T}},{key:"buildFromRule",value:function(Y,x){var W,oe=this,se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Z="",B=this.model,T=Y.selectorsToString({skipAdd:1}),j=Y.get("selectorsAdd"),U=Y.get("singleAtRule");if(Y.get("selectors").each(function(M){var c=M.getFullName();(oe.compCls.indexOf(c)>=0||oe.ids.indexOf(c)>=0||se.keepUnusedStyles)&&(W=1)}),T&&W||j||U||!B){var E=Y.getDeclaration({body:1});E&&(se.json?Z=Y:Z+=E)}else x.push(Y);return Z}},{key:"matchedRules",value:function(Y,x){var W=this,oe=Y.getEl(),se=[];return x.forEach(function(Z){try{Z.selectorsToString().split(",").some(function(B){return oe.matches(W.__cleanSelector(B))})&&se.push(Z)}catch{}}),Y.components().forEach(function(Z){se=se.concat(W.matchedRules(Z,x))}),se=se.filter(function(Z,B){return se.indexOf(Z)===B})}},{key:"getQueryLength",value:function(Y){var x=/(-?\d*\.?\d+)\w{0,}/.exec(Y);return x?parseFloat(x[1]):m}},{key:"sortMediaObject",value:function(){var Y=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=[];return(0,P.each)(x,function(oe,se){return W.push({key:se,value:oe})}),W.sort(function(oe,se){var Z=[oe.key,se.key].every(function(j){return j.indexOf("min-width")!==-1}),B=Z?oe.key:se.key,T=Z?se.key:oe.key;return Y.getQueryLength(B)-Y.getQueryLength(T)})}},{key:"sortRules",value:function(Y,x){var W=function(B){return B.get("mediaText")},oe=[W(Y),W(x)].every(function(B){return B.indexOf("min-width")!==-1}),se=W(oe?Y:x),Z=W(oe?x:Y);return this.getQueryLength(se)-this.getQueryLength(Z)}},{key:"__cleanSelector",value:function(Y){return Y.split(" ").map(function(x){return x.split(":")[0]}).join(" ")}}]),X}(N.Model)},289:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>m});var k=w(2982),$=w(4942),D=w(9050),q=w(238);const l={stylePrefix:"com-",defaults:[],strict:1};var P=w(9138);function N(g,S){var I=Object.keys(g);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(g);S&&(H=H.filter(function(X){return Object.getOwnPropertyDescriptor(g,X).enumerable})),I.push.apply(I,H)}return I}function C(g){for(var S=1;S<arguments.length;S++){var I=arguments[S]!=null?arguments[S]:{};S%2?N(Object(I),!0).forEach(function(H){(0,$.Z)(g,H,I[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(I)):N(Object(I)).forEach(function(H){Object.defineProperty(g,H,Object.getOwnPropertyDescriptor(I,H))})}return g}var y=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];const m=function(){var g,S={},I={},H={},X={};return{CommandAbstract:q.default,name:"Commands",init:function(){var Y=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};S=C(C({},l),x),g=S.em;var W=S.pStylePrefix;return W&&(S.stylePrefix=W+S.stylePrefix),Object.keys(S.defaults).forEach(function(oe){var se=S.defaults[oe];se.id&&Y.add(se.id,se)}),H["tlb-delete"]={run:function(oe){return oe.runCommand("core:component-delete")}},H["tlb-clone"]={run:function(oe){oe.runCommand("core:copy"),oe.runCommand("core:paste",{action:"clone-component"})}},H["tlb-move"]={run:function(oe,se){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=oe.getModel(),T=Z&&Z.event,j=Z.target,U=j||oe.getSelected(),E=j?[j]:(0,k.Z)(oe.getSelectedAll()),M=T&&T.type=="dragstart",c={preserveSelected:1},d=["absolute","translate"];if(!U||!U.get("draggable"))return B.logWarning("The element is not draggable");var s=U.get("dmode")||B.get("dmode"),p=function(){return B.stopDefault(c)},O=(0,D.includes)(d,s);E.forEach(function(v){return v.trigger("disable")}),M?setTimeout(p,0):p();var K=function(v){B.trigger("".concat(P.OA,":start"),v)},Q=function(v){B.trigger(P.OA,v)},ne=function(v,b,a){E.forEach(function(f){return f.set("status","selected")}),oe.select(E),U.emitUpdate(),B.trigger("".concat(P.OA,":end"),a),setTimeout(function(){return B.runDefault(c)}),(O||a.cancelled)&&B.set("_cmpDrag",1)};if(O)oe.runCommand("core:component-drag",{guidesInfo:1,mode:s,target:U,onStart:K,onDrag:Q,onEnd:ne,event:T});else{M&&T.dataTransfer.setDragImage(U.view.el,0,0);var R=oe.Commands.get("move-comp");R.onStart=K,R.onDrag=Q,R.onEndMoveFromModel=ne,R.initSorterFromModels(E)}E.forEach(function(v){return v.set("status","freezed-selected")})}},H["core:undo"]=function(oe){return oe.UndoManager.undo()},H["core:redo"]=function(oe){return oe.UndoManager.redo()},y.forEach(function(oe){var se=oe[2],Z=w(2828)("./".concat(oe[1])).default,B="core:".concat(oe[0]);H[B]=Z,se&&(H[se]=Z,["run","stop"].forEach(function(T){g.on("".concat(T,":").concat(se),function(){for(var j,U=arguments.length,E=new Array(U),M=0;M<U;M++)E[M]=arguments[M];return(j=g).trigger.apply(j,["".concat(T,":").concat(B)].concat(E))})}))}),S.em&&(S.model=S.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(Y,x){return(0,D.isFunction)(x)&&(x={run:x}),x.stop||(x.noStop=1),delete x.initialize,x.id=Y,I[Y]=q.default.extend(x),this},get:function(Y){var x=I[Y];return(0,D.isFunction)(x)?(x=new x(S),I[Y]=x):x||g.logWarning("'".concat(Y,"' command not found")),x},extend:function(Y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=this.get(Y);if(W){var oe=C(C({},W.constructor.prototype),x);this.add(Y,oe);var se=y.filter(function(Z){return"core:".concat(Z[0])===Y&&Z[2]})[0];se&&this.add(se[2],oe)}return this},has:function(Y){return!!I[Y]},getAll:function(){return I},run:function(Y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.runCommand(this.get(Y),x)},stop:function(Y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.stopCommand(this.get(Y),x)},isActive:function(Y){return this.getActive().hasOwnProperty(Y)},getActive:function(){return X},loadDefaultCommands:function(){for(var Y in H)this.add(Y,H[Y]);return this},runCommand:function(Y){var x,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Y&&Y.run){var oe=Y.id,se=g.get("Editor");this.isActive(oe)&&!W.force&&S.strict||(x=se&&Y.callRun(se,W),oe&&Y.stop&&!Y.noStop&&!W.abort&&(X[oe]=x))}return x},stopCommand:function(Y){var x,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Y&&Y.run){var oe=Y.id,se=g.get("Editor");(this.isActive(oe)||W.force||!S.strict)&&(oe&&delete X[oe],x=Y.callStop(se,W))}return x},create:function(Y){return Y.stop||(Y.noStop=1),new(q.default.extend(Y))(S)},destroy:function(){}}}},7202:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>k});const k={run:function($){$.DomComponents.clear(),$.CssComposer.clear()}}},327:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>q});var k=w(9050),$=w(1163),D=w(5610);const q={run:function(l){(0,k.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=l,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(l){this.toggleMove(),this.disableDragger()},onKeyUp:function(l){(0,$.getKeyChar)(l)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(l){this.toggleDragger(1,l)},disableDragger:function(l){this.toggleDragger(0,l)},toggleDragger:function(l,P){var N=this.canvasModel,C=this.em,y=this.dragger,m=l?"add":"remove";this.getCanvas().classList[m]("".concat(this.ppfx,"is__grabbing")),y||(y=new D.Z({getPosition:function(){return{x:N.get("x"),y:N.get("y")}},setPosition:function(g){var S=g.x,I=g.y;N.set({x:S,y:I})},onStart:function(g,S){C.trigger("canvas:move:start",S)},onDrag:function(g,S){C.trigger("canvas:move",S)},onEnd:function(g,S){C.trigger("canvas:move:end",S)}}),this.dragger=y),l?y.start(P):y.stop()},toggleMove:function(l){var P=this.ppfx,N=l?"add":"remove",C=l?"on":"off",y={on:$.on,off:$.off},m=this.getCanvas(),g=["".concat(P,"is__grab")];!l&&g.push("".concat(P,"is__grabbing")),g.forEach(function(S){return m.classList[N](S)}),y[C](document,"keyup",this.onKeyUp),y[C](m,"mousedown",this.enableDragger),y[C](document,"mouseup",this.disableDragger)}}},238:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>C});var k=w(5671),$=w(3144),D=w(9340),q=w(2963),l=w(1120),P=w(2316);function N(y){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,S=(0,l.Z)(y);if(m){var I=(0,l.Z)(this).constructor;g=Reflect.construct(S,arguments,I)}else g=S.apply(this,arguments);return(0,q.Z)(this,g)}}var C=function(y){(0,D.Z)(g,y);var m=N(g);function g(){return(0,k.Z)(this,g),m.apply(this,arguments)}return(0,$.Z)(g,[{key:"initialize",value:function(S){this.config=S||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.init(this.config)}},{key:"onFrameScroll",value:function(S){}},{key:"getCanvas",value:function(){return this.canvas.getElement()}},{key:"getCanvasBody",value:function(){return this.canvas.getBody()}},{key:"getCanvasTools",value:function(){return this.canvas.getToolsEl()}},{key:"offset",value:function(S){var I=S.getBoundingClientRect();return{top:I.top+S.ownerDocument.body.scrollTop,left:I.left+S.ownerDocument.body.scrollLeft}}},{key:"init",value:function(S){}},{key:"callRun",value:function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=this.id;if(S.trigger("run:".concat(H,":before"),I),!I||!I.abort){var X=I.sender||S,Y=this.run(S,X,I);return S.trigger("run:".concat(H),Y,I),S.trigger("run",H,Y,I),Y}S.trigger("abort:".concat(H),I)}},{key:"callStop",value:function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=this.id,X=I.sender||S;S.trigger("stop:".concat(H,":before"),I);var Y=this.stop(S,X,I);return S.trigger("stop:".concat(H),Y,I),S.trigger("stop",H,Y,I),Y}},{key:"stopCommand",value:function(){this.em.get("Commands").stop(this.id)}},{key:"run",value:function(S,I){}},{key:"stop",value:function(S,I){}}]),g}(P.Model)},5820:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>D});var k=w(2982),$=w(9050);const D={run:function(q,l){var P=this,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=[],y=N.component||q.getSelectedAll();return(y=(0,$.isArray)(y)?(0,k.Z)(y):[y]).filter(Boolean).forEach(function(m){if(!m.get("removable"))return C.push(m),P.em.logWarning("The element is not removable",{component:m});m.remove()}),q.select(C),y}}},6694:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>N});var k=w(4942),$=w(9050),D=w(5610);function q(C,y){var m=Object.keys(C);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(C);y&&(g=g.filter(function(S){return Object.getOwnPropertyDescriptor(C,S).enumerable})),m.push.apply(m,g)}return m}function l(C){for(var y=1;y<arguments.length;y++){var m=arguments[y]!=null?arguments[y]:{};y%2?q(Object(m),!0).forEach(function(g){(0,k.Z)(C,g,m[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(m)):q(Object(m)).forEach(function(g){Object.defineProperty(C,g,Object.getOwnPropertyDescriptor(m,g))})}return C}var P="dmode";const N={run:function(C,y){var m=this,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,$.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var S=g.target,I=g.event,H=g.mode,X=g.dragger,Y=X===void 0?{}:X,x=S.getEl(),W=l({doc:x.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return m.guidesStatic},guidesTarget:function(){return m.guidesTarget}},Y);this.setupGuides(),this.opts=g,this.editor=C,this.em=C.getModel(),this.target=S,this.isTran=H=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var oe=this.dragger;return oe?oe.setOptions(W):(oe=new D.Z(W),this.dragger=oe),I&&oe.start(I),this.toggleDrag(1),this.em.trigger("".concat(P,":start"),this.getEventOpts()),oe},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(C){var y=C.guide;y&&y.parentNode.removeChild(y)}),this.guides=[]},getGuidesContainer:function(){var C=this,y=this.guidesEl;if(!y){var m=this.editor,g=this.em,S=this.opts,I=m.getConfig().stylePrefix,H=document.createElement("div"),X=document.createElement("div"),Y='<div class="'.concat(I,"guide-info__line ").concat(I,`danger-bg">
        <div class="`).concat(I,"guide-info__content ").concat(I,`danger-color"></div>
      </div>`);(y=document.createElement("div")).className="".concat(I,"guides"),H.className="".concat(I,"guide-info ").concat(I,"guide-info__x"),X.className="".concat(I,"guide-info ").concat(I,"guide-info__y"),H.innerHTML=Y,X.innerHTML=Y,y.appendChild(H),y.appendChild(X),m.Canvas.getGlobalToolsEl().appendChild(y),this.guidesEl=y,this.elGuideInfoX=H,this.elGuideInfoY=X,this.elGuideInfoContentX=H.querySelector(".".concat(I,"guide-info__content")),this.elGuideInfoContentY=X.querySelector(".".concat(I,"guide-info__content")),g.on("canvas:update frame:scroll",(0,$.debounce)(function(){C.updateGuides(),S.debug&&C.guides.forEach(function(x){return C.renderGuide(x)})},200))}return y},getGuidesStatic:function(){var C=this,y=[],m=this.target.getEl(),g=m.parentNode,S=g===void 0?{}:g;return(0,$.each)(S.children,function(I){return y=y.concat(m!==I?C.getElementGuides(I):[])}),y.concat(this.getElementGuides(S))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(C){var y,m,g=this;(C||this.guides).forEach(function(S){var I=S.origin,H=y===I?m:g.getElementPos(I);y=I,m=H,(0,$.each)(g.getGuidePosUpdate(S,H),function(X,Y){return S[Y]=X}),S.originRect=H})},getGuidePosUpdate:function(C,y){var m={},g=y.top,S=y.height,I=y.left,H=y.width;switch(C.type){case"t":m.y=g;break;case"b":m.y=g+S;break;case"l":m.x=I;break;case"r":m.x=I+H;break;case"x":m.x=I+H/2;break;case"y":m.y=g+S/2}return m},renderGuide:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=C.guide||document.createElement("div"),m="px",g=C.active?2:1,S=y.children[0];return y.style="position: absolute; background-color: ".concat(C.active?"green":"red",";"),y.children.length||((S=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",y.appendChild(S)),C.y?(y.style.width="100%",y.style.height="".concat(g).concat(m),y.style.top="".concat(C.y).concat(m),y.style.left=0):(y.style.width="".concat(g).concat(m),y.style.height="100%",y.style.left="".concat(C.x).concat(m),y.style.top="0".concat(m)),!C.guide&&this.guidesContainer.appendChild(y),y},getElementPos:function(C){return this.editor.Canvas.getElementPos(C,{noScroll:1})},getElementGuides:function(C){var y=this,m=this.opts,g=this.getElementPos(C),S=g.top,I=g.height,H=g.left,X=g.width,Y=[{type:"t",y:S},{type:"b",y:S+I},{type:"l",x:H},{type:"r",x:H+X},{type:"x",x:H+X/2},{type:"y",y:S+I/2}].map(function(x){return l(l({},x),{},{origin:C,originRect:g,guide:m.debug&&y.renderGuide(x)})});return Y.forEach(function(x){return y.guides.push(x)}),Y},getTranslate:function(C){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",m=0;return(C||"").split(" ").forEach(function(g){var S=g.trim(),I="translate".concat(y.toUpperCase(),"(");S.indexOf(I)===0&&(m=parseFloat(S.replace(I,"")))}),m},setTranslate:function(C,y,m){var g="translate".concat(y.toUpperCase(),"("),S="".concat(g).concat(m,")"),I=(C||"").split(" ").map(function(H){return H.trim().indexOf(g)===0&&(H=S),H}).join(" ");return I.indexOf(g)<0&&(I+=" ".concat(S)),I},getPosition:function(){var C=this.target,y=this.isTran,m=C.getStyle(),g=m.left,S=m.top,I=m.transform,H=0,X=0;return y?(H=this.getTranslate(I),X=this.getTranslate(I,"y")):(H=parseFloat(g||0),X=parseFloat(S||0)),{x:H,y:X}},setPosition:function(C){var y=C.x,m=C.y,g=C.end,S=C.position,I=C.width,H=C.height,X=this.target,Y=this.isTran,x=this.em,W="px",oe=g?"":1,se="".concat(y).concat(W),Z="".concat(m).concat(W),B={};if(Y){var T=X.getStyle().transform||"";T=this.setTranslate(T,"x",se),B={transform:T=this.setTranslate(T,"y",Z),en:oe},X.addStyle(B,{avoidStore:!g})}else{var j={position:S,width:I,height:H},U={left:se,top:Z,en:oe};(0,$.keys)(j).forEach(function(E){var M=j[E];M&&(U[E]=M)}),B=U,X.addStyle(B,{avoidStore:!g})}x.getSelected()&&(0,$.keys)(B).forEach(function(E){return x.trigger("update:component:style:".concat(E))})},_getDragData:function(){var C=this.target;return{target:C,parent:C.parent(),index:C.index()}},onStart:function(C){var y=this.target,m=this.editor,g=this.isTran,S=this.opts,I=S.center,H=S.onStart,X=m.Canvas,Y=y.getStyle(),x="absolute",W=[x,"relative"];if(H&&H(this._getDragData()),!g&&Y.position!==x){var oe,se=X.offset(y.getEl()),Z=se.left,B=se.top,T=se.width,j=se.height,U=y.parent();do{var E=U.getStyle();oe=W.indexOf(E.position)>=0?U:null,U=U.parent()}while(U&&!oe);if(I){var M=X.getMouseRelativeCanvas(C);Z=M.x,B=M.y}else if(oe){var c=X.offset(oe.getEl());Z-=c.left,B-=c.top}this.setPosition({x:Z,y:B,width:"".concat(T,"px"),height:"".concat(j,"px"),position:x})}},onDrag:function(){var C=this,y=this.guidesTarget,m=this.opts,g=m.onDrag;this.updateGuides(y),m.debug&&y.forEach(function(S){return C.renderGuide(S)}),m.guidesInfo&&this.renderGuideInfo(y.filter(function(S){return S.active})),g&&g(this._getDragData())},onEnd:function(C,y){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=this.editor,S=this.opts,I=this.id,H=S.onEnd;H&&H(C,m,l(l({event:C},m),this._getDragData())),g.stopCommand(I),this.hideGuidesInfo(),this.em.trigger("".concat(P,":end"),this.getEventOpts())},hideGuidesInfo:function(){var C=this;["X","Y"].forEach(function(y){var m=C["elGuideInfo".concat(y)];m&&(m.style.display="none")})},renderGuideInfo:function(){var C=this,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=this.guidesStatic;this.hideGuidesInfo(),y.forEach(function(g){var S=g.origin,I=g.x,H=C.getElementPos(S),X=(0,$.isUndefined)(I)?"y":"x",Y=X==="y",x=H[Y?"left":"top"],W=H.rect[Y?"left":"top"],oe=Y?x+H.width:x+H.height,se=Y?W+H.rect.width:W+H.rect.height,Z=C["elGuideInfo".concat(X.toUpperCase())],B=C["elGuideInfoContent".concat(X.toUpperCase())],T=Z.style,j=m.filter(function(h){return h.type===g.type}).map(function(h){var _=h.originRect,A=_.left,J=_.width,te=_.top,F=_.height,G=Y?A+J:te+F;return{gap:G<x?x-G:(Y?A:te)-oe,guide:h}}).filter(function(h){return h.gap>0}).sort(function(h,_){return h.gap-_.gap}).map(function(h){return h.guide})[0];if(j){var U=j.originRect,E=U.left,M=U.width,c=U.top,d=U.height,s=U.rect,p=Y?E<H.left:c<H.top,O=Y?E:c,K=Y?s.left:s.top,Q=Y?E+M:c+d,ne=Y?s.left+s.width:s.top+s.height,R=Y?g.y:g.x,v=p?Q:oe,b="".concat(R,"px"),a=p?x-Q:O-oe,f=p?W-ne:K-se;T.display="",T[Y?"top":"left"]=b,T[Y?"left":"top"]="".concat(v,"px"),T[Y?"width":"height"]="".concat(a,"px"),B.innerHTML="".concat(Math.round(f),"px"),C.em.trigger("".concat(P,":active"),l(l({},C.getEventOpts()),{},{guide:g,guidesStatic:m,matched:j,posFirst:R,posSecond:v,size:a,sizeRaw:f,elGuideInfo:Z,elGuideInfoCnt:B}))}})},toggleDrag:function(C){var y=this.ppfx,m=this.editor,g=C?"add":"remove",S=["".concat(y,"is__grabbing")],I=m.Canvas,H=I.getBody();S.forEach(function(X){return H.classList[g](X)}),I[C?"startAutoscroll":"stopAutoscroll"]()}}},1947:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>k});const k={run:function($){if($.Canvas.hasFocus()){var D=[];$.getSelectedAll().forEach(function(q){var l=q.components(),P=l&&l.filter(function(N){return N.get("selectable")})[0];P&&D.push(P)}),D.length&&$.select(D)}}}},3888:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>k});const k={run:function($,D){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if($.Canvas.hasFocus()||q.force){var l=[];$.getSelectedAll().forEach(function(P){for(var N=P.parent();N&&!N.get("selectable");)N=N.parent();N&&l.push(N)}),l.length&&$.select(l)}}}},5883:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>k});const k={run:function($){if($.Canvas.hasFocus()){var D=[];$.getSelectedAll().forEach(function(q){var l=q.parent();if(l){var P,N=l.components().length,C=0,y=0;do C++,P=(y=q.index()+C)<=N?l.getChildAt(y):null;while(P&&!P.get("selectable"));D.push(P||q)}}),D.length&&$.select(D)}}}},7508:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>k});const k={run:function($){if($.Canvas.hasFocus()){var D=[];$.getSelectedAll().forEach(function(q){var l=q.parent();if(l){var P,N=0,C=0;do N++,P=(C=q.index()-N)>=0?l.getChildAt(C):null;while(P&&!P.get("selectable"));D.push(P||q)}}),D.length&&$.select(D)}}}},8769:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>$});var k=w(9050);const $={run:function(D,q){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=l.target,N=[];if(!P.get("styles"))return N;var C=P.get("type"),y=D.Pages.getAllWrappers(),m=(0,k.flatten)(y.map(function(S){return S.findType(C)})).length;if(!m){var g=D.CssComposer.getAll();N=g.filter(function(S){return S.get("group")==="cmp:".concat(C)}),g.remove(N)}return N}}},2213:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>$});var k=w(2982);const $={run:function(D){var q=D.getModel(),l=(0,k.Z)(D.getSelectedAll());l.length&&q.set("clipboard",l)}}},5049:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>P});var k=w(9050),$=w(2316),D=w.n($),q=w(2620),l=D().$;const P=(0,k.extend)({},q.default,{init:function(N){(0,k.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(N){N.stopPropagation();var C=l(N.target);C.data("model").get("removable")&&(C.addClass(this.hoverClass),this.attachBadge(C.get(0)))},stopDelete:function(N){N.stopPropagation(),l(N.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(N){N.stopPropagation();var C=l(N.target);C.data("model").get("removable")&&(C.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(N){this.badge.html("Remove "+N.getName())}})},3775:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>D});var k=w(2316),$=w.n(k)().$;const D={run:function(q,l){var P=this;l&&l.set&&l.set("active",0);var N=q.getConfig(),C=q.Modal,y=N.stylePrefix;if(this.cm=q.CodeManager||null,!this.$editors){var m=this.buildEditor("htmlmixed","hopscotch","HTML"),g=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=m.el,this.cssEditor=g.el;var S=$('<div class="'.concat(y,'export-dl"></div>'));S.append(m.$el).append(g.$el),this.$editors=S}C.open({title:N.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return q.stopCommand(P.id)}),this.htmlEditor.setContent(q.getHtml()),this.cssEditor.setContent(q.getCss())},stop:function(q){var l=q.Modal;l&&l.close()},buildEditor:function(q,l,P){var N=document.createElement("textarea");!this.codeMirror&&(this.codeMirror=this.cm.getViewer("CodeMirror"));var C=this.codeMirror.clone().set({label:P,codeName:q,theme:l,input:N}),y=new this.cm.EditorView({model:C,config:this.cm.getConfig()}).render().$el;return C.init(N),{el:C,$el:y}}}},58:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>$});var k=w(9050);const $={isEnabled:function(){var D=document;return D.fullscreenElement||D.webkitFullscreenElement||D.mozFullScreenElement?1:0},enable:function(D){var q="";return D.requestFullscreen?D.requestFullscreen():D.webkitRequestFullscreen?(q="webkit",D.webkitRequestFullscreen()):D.mozRequestFullScreen?(q="moz",D.mozRequestFullScreen()):D.msRequestFullscreen?D.msRequestFullscreen():console.warn("Fullscreen not supported"),q},disable:function(){var D=document;this.isEnabled()&&(D.exitFullscreen?D.exitFullscreen():D.webkitExitFullscreen?D.webkitExitFullscreen():D.mozCancelFullScreen?D.mozCancelFullScreen():D.msExitFullscreen&&D.msExitFullscreen())},fsChanged:function(D,q){var l=(D||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(l,this.fsChanged))},run:function(D,q){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.sender=q;var P=l.target,N=(0,k.isElement)(P)?P:document.querySelector(P),C=this.enable(N||D.getContainer());this.fsChanged=this.fsChanged.bind(this,C),document.addEventListener(C+"fullscreenchange",this.fsChanged),D.trigger("change:canvasOffset")},stop:function(D,q){q&&q.set&&q.set("active",!1),this.disable(),D&&D.trigger("change:canvasOffset")}}},8658:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>C});var k=w(9050),$=w(2316),D=w.n($),q=w(1163),l=w(2620),P=w(8463),N=D().$;const C=(0,k.extend)({},P.default,l.default,{init:function(y){l.default.init.apply(this,arguments),(0,k.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=y,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];l.default.enable.apply(this,m),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var S=this.$wrapper;S.css("cursor","move"),S.on("mousedown",this.initSorter),S.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(y){var m=N(y.target).data("model").get("draggable");m&&(this.cacheEl=null,this.startSelectPosition(y.target,this.frameEl.contentDocument),this.sorter.draggable=m,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,q.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(y){var m=y.get("draggable");if(m){this.cacheEl=null;var g=y.view.el;this.startSelectPosition(g,this.frameEl.contentDocument),this.sorter.draggable=m,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,q.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(y){this.cacheEl=null;var m=y[y.length-1],g=(this.em.get("currentFrame")||{}).model,S=m.getEl(g),I=S.ownerDocument;this.startSelectPosition(S,I,{onStart:this.onStart}),this.sorter.draggable=m.get("draggable"),this.sorter.toMove=y,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,q.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,q.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,q.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(y,m){},rollback:function(y,m){((y.which||y.keyCode)==27||m)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=N(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=N(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];l.default.stop.apply(this,m),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var S=this.$wrapper;S.css("cursor","").unbind().removeClass(this.noSelClass)}})},9617:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>D});var k=w(9050),$=w(9283);const D={open:function(q){var l=this,P=this.editor,N=this.title,C=this.config,y=this.am,m=C.custom;if((0,k.isFunction)(m.open))return m.open(y.__customData());P.Modal.open({title:N,content:q}).onceClose(function(){return P.stopCommand(l.id)})},close:function(){var q=this.config.custom;if((0,k.isFunction)(q.close))return q.close(this.am.__customData());var l=this.editor.Modal;l&&l.close()},run:function(q,l){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},N=q.AssetManager,C=N.getConfig(),y=P.types,m=y===void 0?[]:y,g=P.accept,S=P.select;if(this.title=P.modalTitle||q.t("assetManager.modalTitle")||"",this.editor=q,this.config=C,this.am=N,N.setTarget(P.target),N.onClick(P.onClick),N.onDblClick(P.onDblClick),N.onSelect(P.onSelect),N.__behaviour({select:S,types:m,options:P}),C.custom)this.rendered=this.rendered||(0,$.ut)("div"),this.rendered.className="".concat(C.stylePrefix,"custom-wrp"),N.__behaviour({container:this.rendered}),N.__trgCustom();else{if(!this.rendered||m){var I=N.getAll().filter(function(X){return X});m&&m.length&&(I=I.filter(function(X){return m.indexOf(X.get("type"))!==-1})),N.render(I),this.rendered=N.getContainer()}if(g){var H=this.rendered.querySelector("input#".concat(C.stylePrefix,"uploadFile"));H&&H.setAttribute("accept",g)}}return this.open(this.rendered),this},stop:function(q){this.editor=q,this.close(this.rendered)}}},5821:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>D});var k=w(9050),$=w(9283);const D={open:function(){var q=this.container,l=this.editor,P=this.bm,N=this.config,C=N.custom,y=N.appendTo;if((0,k.isFunction)(C.open))return C.open(P.__customData());if(this.firstRender&&!y){var m="views-container",g=l.Panels;(g.getPanel(m)||g.addPanel({id:m})).set("appendContent",q).trigger("change:appendContent"),C||q.appendChild(P.render())}q&&(q.style.display="block")},close:function(){var q=this.container,l=this.config.custom;if((0,k.isFunction)(l.close))return l.close(this.bm.__customData());q&&(q.style.display="none")},run:function(q){var l=q.Blocks;this.config=l.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,$.ut)("div"),this.editor=q,this.bm=l;var P=this.container;l.__behaviour({container:P}),this.config.custom&&l.__trgCustom(),this.open()},stop:function(){this.close()}}},3452:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>k});const k={run:function($){var D=$.LayerManager,q=$.Panels,l=D.getConfig();if(!l.appendTo){if(!this.layers){var P="views-container",N=document.createElement("div"),C=q.getPanel(P)||q.addPanel({id:P});l.custom?D.__trgCustom({container:N}):N.appendChild(D.render()),C.set("appendContent",N).trigger("change:appendContent"),this.layers=N}this.layers.style.display="block"}},stop:function(){var $=this.layers;$&&($.style.display="none")}}},2840:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>D});var k=w(2316),$=w.n(k)().$;const D={run:function(q,l){if(this.sender=l,!this.$cn){var P=q.getConfig(),N=q.Panels,C="change:appendContent";this.$cn=$("<div></div>"),this.$cn2=$("<div></div>"),this.$cn.append(this.$cn2);var y=q.DeviceManager;if(y&&P.showDevices){var m=N.addPanel({id:"devices-c"}),g=y.render();m.set("appendContent",g).trigger(C)}var S=q.SelectorManager;this.slm=S;var I=S.getConfig();I.custom?S.__trgCustom({container:this.$cn2.get(0)}):I.appendTo||this.$cn2.append(S.render([]));var H=q.StyleManager;this.sm=H;var X=H.getConfig(),Y=X.stylePrefix;this.$header=$('<div class="'.concat(Y,'header">').concat(q.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header),X.custom?H.__trgCustom({container:this.$cn2.get(0)}):X.appendTo||this.$cn2.append(H.render());var x="views-container";this.panel=N.getPanel(x),this.panel||(this.panel=N.addPanel({id:x})),this.panel.set("appendContent",this.$cn).trigger(C),this.em=q.getModel(),this.listenTo(this.em,H.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var q,l,P,N,C=this.sender,y=this.sm;C&&C.get&&!C.get("active")||!y||(y.getSelected()?((q=this.$cn2)===null||q===void 0||q.show(),(l=this.$header)===null||l===void 0||l.hide()):((P=this.$cn2)===null||P===void 0||P.hide(),(N=this.$header)===null||N===void 0||N.show()))},stop:function(){var q,l;(q=this.$cn2)===null||q===void 0||q.hide(),(l=this.$header)===null||l===void 0||l.hide()}}},8644:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>D});var k=w(2316),$=w.n(k)().$;const D={run:function(q,l){this.sender=l;var P=q.getModel(),N=q.Config.stylePrefix,C=q.TraitManager,y=C.getConfig();if(!y.appendTo){if(!this.$cn){this.$cn=$("<div></div>"),this.$cn2=$("<div></div>"),this.$cn.append(this.$cn2),this.$header=$("<div>").append('<div class="'.concat(y.stylePrefix,'header">').concat(P.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(N,'traits-label">').concat(P.t("traitManager.label"),"</div>")),this.$cn2.append(C.render());var m=q.Panels;(m.getPanel("views-container")?m.getPanel("views-container"):m.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=q.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var q=this.sender;q&&q.get&&!q.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},560:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>$});var k=w(9050);const $={run:function(D,q){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=D.getModel(),N=P.get("clipboard"),C=D.getSelected();N&&C&&(D.getSelectedAll().forEach(function(y){var m=y.collection;if(m){var g,S={at:y.index()+1,action:l.action||"paste-component"};if((0,k.contains)(N,y)&&y.get("copyable"))g=m.add(y.clone(),S);else{var I=N.filter(function(H){return H.get("copyable")}).filter(function(H){return D.Components.canMove(y.parent(),H).result});g=m.add(I.map(function(H){return H.clone()}),S)}(g=(0,k.isArray)(g)?g:[g]).forEach(function(H){return D.trigger("component:paste",H)})}}),C.emitUpdate())}}},4944:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>q});var k=w(2982),$=w(9050),D="sw-visibility";const q={getPanels:function(l){return this.panels||(this.panels=l.Panels.getPanels()),this.panels},preventDrag:function(l){l.abort=1},tglEffects:function(l){var P=this.em,N=l?"on":"off";if(P){var C=P.get("Canvas"),y=C.getBody(),m=C.getToolbarEl();m&&(m.style.display=l?"none":"");var g=y.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,$.each)(g,function(S){return S.style.pointerEvents=l?"all":""}),P[N]("run:tlb-move:before",this.preventDrag)}},run:function(l,P){var N=this;this.sender=P,this.selected=(0,k.Z)(l.getSelectedAll()),l.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=l.Commands.isActive(D)),this.shouldRunSwVisibility&&l.stopCommand(D),l.getModel().stopDefault();var C=this.getPanels(l),y=l.Canvas.getElement(),m=l.getEl(),g=l.Config.stylePrefix;if(!this.helper){var S=document.createElement("span");S.className="".concat(g,"off-prv fa fa-eye-slash"),m.appendChild(S),S.onclick=function(){return N.stopCommand()},this.helper=S}this.helper.style.display="inline-block",C.forEach(function(H){return H.set("visible",!1)});var I=y.style;I.width="100%",I.height="100%",I.top="0",I.left="0",I.padding="0",I.margin="0",l.refresh(),this.tglEffects(1)},stop:function(l){var P=this.sender,N=P===void 0?{}:P,C=this.selected;N.set&&N.set("active",0);var y=this.getPanels(l);this.shouldRunSwVisibility&&(l.runCommand(D),this.shouldRunSwVisibility=!1),l.getModel().runDefault(),y.forEach(function(m){return m.set("visible",!0)}),l.Canvas.getElement().setAttribute("style",""),C&&l.select(C),delete this.selected,this.helper&&(this.helper.style.display="none"),l.refresh(),this.tglEffects()}}},7538:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>D});var k=w(4942);function $(q,l){var P=Object.keys(q);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(q);l&&(N=N.filter(function(C){return Object.getOwnPropertyDescriptor(q,C).enumerable})),P.push.apply(P,N)}return P}const D={run:function(q,l,P){var N=P||{},C=q.Canvas,y=C.getCanvasView(),m=function(S){for(var I=1;I<arguments.length;I++){var H=arguments[I]!=null?arguments[I]:{};I%2?$(Object(H),!0).forEach(function(X){(0,k.Z)(S,X,H[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(H)):$(Object(H)).forEach(function(X){Object.defineProperty(S,X,Object.getOwnPropertyDescriptor(H,X))})}return S}({appendTo:C.getResizerEl(),prefix:q.getConfig().stylePrefix,posFetcher:y.getElementPos.bind(y),mousePosFetcher:C.getMouseRelativePos},N.options||{}),g=this.canvasResizer;return g&&!N.forceNew||(this.canvasResizer=q.Utils.Resizer.init(m),g=this.canvasResizer),g.setOptions(m),g.blur(),g.focus(N.el),g},stop:function(){var q;(q=this.canvasResizer)===null||q===void 0||q.blur()}}},2620:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>M});var k=w(1002),$=w(4942),D=w(2316),q=w.n(D),l=w(9050),P=w(1163),N=w(9283),C=w(3144),y=w(5671),m=w(9340),g=w(2963),S=w(1120),I=w(6602);function H(c,d){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);d&&(p=p.filter(function(O){return Object.getOwnPropertyDescriptor(c,O).enumerable})),s.push.apply(s,p)}return s}function X(c){for(var d=1;d<arguments.length;d++){var s=arguments[d]!=null?arguments[d]:{};d%2?H(Object(s),!0).forEach(function(p){(0,$.Z)(c,p,s[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)):H(Object(s)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(s,p))})}return c}function Y(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,p=(0,S.Z)(c);if(d){var O=(0,S.Z)(this).constructor;s=Reflect.construct(p,arguments,O)}else s=p.apply(this,arguments);return(0,g.Z)(this,s)}}var x=function(c){(0,m.Z)(s,c);var d=Y(s);function s(){return(0,y.Z)(this,s),d.apply(this,arguments)}return(0,C.Z)(s,[{key:"events",value:function(){return this.model.get("events")||{mousedown:"handleClick"}}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=p.config,K=O===void 0?{}:O;this.em=K.em,this.editor=K.editor}},{key:"handleClick",value:function(p){p.preventDefault(),p.stopPropagation();var O=this.editor,K=this.em,Q=O.Canvas.getFrameEl().getBoundingClientRect(),ne=Q.left,R=Q.top,v=X(X({},p),{},{clientX:p.clientX-ne,clientY:p.clientY-R});K.trigger("toolbar:run:before"),this.execCommand(v)}},{key:"execCommand",value:function(p){var O={event:p},K=this.model.get("command"),Q=this.editor;typeof K=="function"&&K(Q,null,O),typeof K=="string"&&Q.runCommand(K,O)}},{key:"render",value:function(){var p=this.editor,O=this.$el,K=this.model,Q=K.get("id"),ne=K.get("label"),R=p.getConfig().stylePrefix;return O.addClass("".concat(R,"toolbar-item")),Q&&O.addClass("".concat(R,"toolbar-item__").concat(Q)),ne&&O.append(ne),this}}]),s}(q().View);function W(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,p=(0,S.Z)(c);if(d){var O=(0,S.Z)(this).constructor;s=Reflect.construct(p,arguments,O)}else s=p.apply(this,arguments);return(0,g.Z)(this,s)}}var oe=function(c){(0,m.Z)(s,c);var d=W(s);function s(){var p,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=arguments.length>1?arguments[1]:void 0;return(0,y.Z)(this,s),(p=d.call(this,O,K)).config={editor:O.editor||"",em:O.em},p.listenTo(p.collection,"reset",p.render),p}return(0,C.Z)(s)}(I.Z);function se(c){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,p=(0,S.Z)(c);if(d){var O=(0,S.Z)(this).constructor;s=Reflect.construct(p,arguments,O)}else s=p.apply(this,arguments);return(0,g.Z)(this,s)}}oe.prototype.itemView=x;var Z=function(c){(0,m.Z)(s,c);var d=se(s);function s(){return(0,y.Z)(this,s),d.apply(this,arguments)}return(0,C.Z)(s,[{key:"defaults",value:function(){return{command:"",attributes:{}}}}]),s}(q().Model);const B=q().Collection.extend({model:Z});function T(c,d){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);d&&(p=p.filter(function(O){return Object.getOwnPropertyDescriptor(c,O).enumerable})),s.push.apply(s,p)}return s}function j(c){for(var d=1;d<arguments.length;d++){var s=arguments[d]!=null?arguments[d]:{};d%2?T(Object(s),!0).forEach(function(p){(0,$.Z)(c,p,s[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(s,p))})}return c}var U,E=q().$;const M={init:function(c){(0,l.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),U=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(c){var d=this,s=this.em,p=s.getConfig().listenToEl,O=s.getContainer().parentNode,K=c?"on":"off",Q={on:P.on,off:P.off};!p.length&&O&&p.push(O),Q[K](window,"resize",this.onFrameUpdated),Q[K](p,"scroll",this.onContainerChange),s[K]("component:toggled component:update undo redo",this.onSelect,this),s[K]("change:componentHovered",this.onHovered,this),s[K]("component:resize styleable:change component:input",this.updateGlobalPos,this),s[K]("component:update:toolbar",this._upToolbar,this),s[K]("change:canvasOffset",this.updateAttached,this),s[K]("frame:updated",this.onFrameUpdated,this),s[K]("canvas:updateTools",this.onFrameUpdated,this),s.get("Canvas").getFrames().forEach(function(ne){var R=ne.view,v=R==null?void 0:R.getWindow();v&&function(b,a){Q[K](a,"mouseover",d.onHover),Q[K](a,"mouseleave",d.onOut),Q[K](a,"click touchend",d.onClick),Q[K](b,"scroll",d.onFrameScroll,!0)}(v,R.getBody())})},onHover:function(c){c.stopPropagation();var d=this.em,s=c.target,p=(0,P.getViewEl)(s),O=p&&p._getFrame(),K=E(s),Q=K.data("model");if(!Q)for(var ne=K.parent();!Q&&ne.length&&!(0,N.Mx)(ne[0]);)Q=ne.data("model"),ne=ne.parent();this.currentDoc=s.ownerDocument,d.setHovered(Q,{useValid:!0}),O&&d.set("currentFrame",O)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(c,d){var s=this,p={};d?d.views.forEach(function(O){var K=O.el,Q=s.getElementPos(K);p={el:K,pos:Q,component:d,view:(0,P.getViewEl)(K)},s.updateToolsLocal(p),K.ownerDocument===s.currentDoc&&(s.elHovered=p)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(O){var K=O.view,Q=K&&K.getToolsEl();Q&&s.toggleToolsEl(0,0,{el:Q})}))},onSelect:(0,l.debounce)(function(){var c=this.em,d=c.getSelected(),s=c.get("currentFrame")||{},p=d&&d.getView(s.model),O=p&&p.el,K={};O&&(0,N.pn)(O)&&(K={el:O,pos:this.getElementPos(O),component:d,view:(0,P.getViewEl)(O)}),this.elSelected=K,this.updateToolsGlobal(),this.updateLocalPos(K),this.initResize(d)}),updateGlobalPos:function(){var c=this.getElSelected();c.el&&(c.pos=this.getElementPos(c.el),this.updateToolsGlobal())},updateLocalPos:function(c){var d=this.getElHovered();d.el&&(d.pos=this.getElementPos(d.el),this.updateToolsLocal(c))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(c,d){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=s.el||this.canvas.getToolsEl(d);return p&&(p.style.display=c?"":"none"),p||{}},showElementOffset:function(c,d){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};U&&this.editor.runCommand("show-offset",{el:c,elPos:d,view:s.view,force:1,top:0,left:0})},hideElementOffset:function(c){this.editor.stopCommand("show-offset",{view:c})},showFixedElementOffset:function(c,d){this.editor.runCommand("show-offset",{el:c,elPos:d,state:"Fixed"})},hideFixedElementOffset:function(c,d){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(c){this.canvas.getHighlighter(c).style.opacity=0},onClick:function(c){c.stopPropagation(),c.preventDefault();var d=this.em;if(d.get("_cmpDrag"))return d.set("_cmpDrag");var s=E(c.target),p=s.data("model");if(!p)for(var O=s.parent();!p&&O.length&&!(0,N.Mx)(O[0]);)p=O.data("model"),O=O.parent();if(p){if(d.isEditing()&&!p.get("textable")&&p.isChildOf("text"))return;this.select(p,c)}},select:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c&&(this.editor.select(c,{event:d,useValid:!0}),this.initResize(c))},updateBadge:function(c,d){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=this.canvas,O=E(c).data("model");if(O&&O.get("badgable")){var K=this.getBadge(s);if(!s.posOnly){var Q=this.canvas.getConfig(),ne=O.getIcon(),R=Q.pStylePrefix||"",v="".concat(R,"badge"),b=Q.customBadgeLabel,a="".concat(ne?'<div class="'.concat(v,'__icon">').concat(ne,"</div>"):"",`
        <div class="`).concat(v,'__name">').concat(O.getName(),"</div>");K.innerHTML=b?b(O):a}var f="px",h=K.style;h.display="block";var _=p.getTargetToElementFixed(c,K,{pos:d}),A=_.top,J=s.leftOff<0?-s.leftOff:0;h.top=A+f,h.left=J+f}},showHighlighter:function(c){this.canvas.getHighlighter(c).style.opacity=""},initResize:function(c){var d,s=this.em,p=this.canvas,O=s?s.get("Editor"):"",K=(s?s.get("Config"):"").stylePrefix||"",Q="".concat(K,"resizing"),ne=!(0,l.isElement)(c)&&(0,P.isTaggableNode)(c)?c:s.getSelected(),R=ne&&ne.get("resizable"),v={},b=function(f,h,_){var A=_.docs;A&&A.forEach(function(J){var te=J.body,F=te.className||"";te.className=(f=="add"?"".concat(F," ").concat(Q):F.replace(Q,"")).trim()})};if(O&&R){var a=(0,l.isElement)(c)?c:ne.getEl();v={onStart:function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=h.el,A=h.config,J=h.resizer,te=A.keyHeight,F=A.keyWidth,G=A.currentUnit,V=A.keepAutoHeight,le=A.keepAutoWidth;b("add",0,h),d=s.get("StyleManager").getModelToStyle(ne),p.toggleFramesEvents();var ve=getComputedStyle(_),Ne=d.getStyle(),Ze=Ne[F];A.autoWidth=le&&Ze==="auto",isNaN(parseFloat(Ze))&&(Ze=ve[F]);var Me=Ne[te];A.autoHeight=V&&Me==="auto",isNaN(parseFloat(Me))&&(Me=ve[te]),J.startDim.w=parseFloat(Ze),J.startDim.h=parseFloat(Me),U=0,G&&(A.unitHeight=(0,P.getUnitFromValue)(Me),A.unitWidth=(0,P.getUnitFromValue)(Ze))},onMove:function(){O.trigger("component:resize")},onEnd:function(f,h){b("remove",0,h),O.trigger("component:resize"),p.toggleFramesEvents(1),U=1},updateTarget:function(f,h){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(d){var A=_.store,J=_.selectedHandler,te=_.config,F=te.keyHeight,G=te.keyWidth,V=te.autoHeight,le=te.autoWidth,ve=te.unitWidth,Ne=te.unitHeight,Ze=["tc","bc"].indexOf(J)>=0,Me=["cl","cr"].indexOf(J)>=0,je={},ae=A?"":1;if(!Ze){var be=p.getBody().offsetWidth,re=h.w<be?h.w:be;je[G]=le?"auto":"".concat(re).concat(ve)}Me||(je[F]=V?"auto":"".concat(h.h).concat(Ne)),d.addStyle(j(j({},je),{},{en:ae}),{avoidStore:!A});var Te="update:component:style",Re="".concat(Te,":").concat(F," ").concat(Te,":").concat(G);s&&s.trigger(Re,null,null,{noEmit:1})}}},(0,k.Z)(R)=="object"&&(v=j(j(j({},v),R),{},{parent:v})),this.resizer=O.runCommand("resize",{el:a,options:v,force:1})}else O.stopCommand("resize"),this.resizer=null},updateToolbar:function(c){var d=this.config.em,s=c==d?d.getSelected():c,p=this.canvas.getToolbarEl(),O=p.style,K=s.get("toolbar"),Q=d.get("Config").showToolbar;if(s&&Q&&K&&K.length){if(O.display="",!this.toolbar){p.innerHTML="",this.toolbar=new B(K);var ne=new oe({collection:this.toolbar,editor:this.editor,em:d});p.appendChild(ne.render().el)}this.toolbar.reset(K),O.top="-100px",O.left=0}else O.display="none"},updateToolbarPos:function(c){var d="px",s=this.canvas.getToolbarEl().style;s.top="".concat(c.top).concat(d),s.left="".concat(c.left).concat(d),s.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.canvas.getBadgeEl(c.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(c){return c&&c.get("status")==="selected"},updateToolsLocal:function(c){var d=c||this.getElHovered(),s=d.el,p=d.pos,O=d.view,K=d.component;if(s){var Q=K.get("hoverable"),ne=this.lastHovered!==s,R=ne?{}:{posOnly:1};ne&&Q&&(this.lastHovered=s,this.showHighlighter(O),this.showElementOffset(s,p,{view:O})),this.isCompSelected(K)&&(this.hideHighlighter(O),this.hideElementOffset(O));var v="px",b=this.toggleToolsEl(1,O),a=b.style,f=this.canvas.canvasRectOffset(s,p),h=f.top,_=f.left;this.updateBadge(s,p,j(j({},R),{},{view:O,topOff:h,leftOff:_})),a.top=h+v,a.left=_+v,a.width=p.width+v,a.height=p.height+v,this._trgToolUp("local",{component:K,el:b,top:h,left:_,width:p.width,height:p.height})}else this.lastHovered=0},_upToolbar:(0,l.debounce)(function(){this.updateToolsGlobal({force:1})}),_trgToolUp:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em.trigger("canvas:tools:update",j({type:c},d))},updateToolsGlobal:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=this.getElSelected(),s=d.el,p=d.pos,O=d.component;if(!s)return this.toggleToolsEl(),void(this.lastSelected=0);var K=this.canvas,Q=this.lastSelected!==s;(Q||c.force)&&(this.lastSelected=s,this.updateToolbar(O));var ne="px",R=this.toggleToolsEl(1),v=R.style,b=K.getTargetToElementFixed(s,K.getToolbarEl(),{pos:p}),a=b.canvasOffsetTop,f=b.canvasOffsetLeft;v.top=a+ne,v.left=f+ne,v.width=p.width+ne,v.height=p.height+ne,this.updateToolbarPos({top:b.top,left:b.left}),this._trgToolUp("global",{component:O,el:R,top:a,left:f,width:p.width,height:p.height})},updateAttached:(0,l.debounce)(function(){this.updateGlobalPos()}),onContainerChange:(0,l.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(c){return this.canvas.getCanvasView().getElementPos(c)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(c){c&&c.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(c){(0,P.hasWin)()&&(this.editor=c&&c.get("Editor"),this.enable())},stop:function(c,d){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,P.hasWin)()){var p=this.em,O=this.editor;this.onHovered(),this.stopSelectComponent(),!s.preserveSelected&&p.setSelected(null),this.toggleToolsEl(),O&&O.stopCommand("resize")}}}},8463:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>D});var k=w(2316),$=w.n(k)().$;const D={startSelectPosition:function(q,l){var P=this,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.isPointed=!1;var C=this.editorModel.get("Utils"),y=q.ownerDocument.body;C&&!this.sorter&&(this.sorter=new C.Sorter({container:y,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:l,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return P.em.getZoomDecimal()}})),N.onStart&&(this.sorter.onStart=N.onStart),q&&this.sorter.startSort(q,{container:y})},getOffsetDim:function(){var q=this.offset(this.canvas.getFrameEl()),l=this.offset(this.canvas.getElement());return{top:q.top-l.top,left:q.left-l.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?$(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?$(this.cDim[this.posIndex][5]).parent():$(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(q,l,P){var N=q||0,C=l||"before",y=P.length,m=y!==0&&C=="after"&&N==y;return y!==0&&(!m&&!P[N][4]||P[N-1]&&!P[N-1][4]||m&&!P[N-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},7994:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>C});var k=w(4942),$=w(2316),D=w.n($),q=w(9050),l=w(1163);function P(y,m){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);m&&(S=S.filter(function(I){return Object.getOwnPropertyDescriptor(y,I).enumerable})),g.push.apply(g,S)}return g}var N=D().$;const C={getOffsetMethod:function(y){return"get"+(y||"")+"OffsetViewerEl"},run:function(y,m,g){var S=g||{},I=S.state||"",H=y.getConfig(),X=this.em.getZoomDecimal(),Y=S.el||"";if(!H.showOffsets||(0,l.isTextNode)(Y)||!H.showOffsetsSelected&&I=="Fixed")y.stopCommand(this.id,g);else{var x=y.Canvas,W=function(it){for(var lt=1;lt<arguments.length;lt++){var St=arguments[lt]!=null?arguments[lt]:{};lt%2?P(Object(St),!0).forEach(function(Ut){(0,k.Z)(it,Ut,St[Ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(St)):P(Object(St)).forEach(function(Ut){Object.defineProperty(it,Ut,Object.getOwnPropertyDescriptor(St,Ut))})}return it}({},S.elPos||x.getElementPos(Y));(0,q.isUndefined)(S.top)||(W.top=S.top),(0,q.isUndefined)(S.left)||(W.left=S.left);var oe=window.getComputedStyle(Y),se=this.ppfx,Z=I+"State",B=x[this.getOffsetMethod(I)](g.view);B.style.opacity="";var T=this["marginT"+I],j=this["marginB"+I],U=this["marginL"+I],E=this["marginR"+I],M=this["padT"+I],c=this["padB"+I],d=this["padL"+I],s=this["padR"+I];if(B.childNodes.length&&(this[Z]="1",T=B.querySelector("[data-offset-m-t]"),j=B.querySelector("[data-offset-m-b]"),U=B.querySelector("[data-offset-m-l]"),E=B.querySelector("[data-offset-m-r]"),M=B.querySelector("[data-offset-p-t]"),c=B.querySelector("[data-offset-p-b]"),d=B.querySelector("[data-offset-p-l]"),s=B.querySelector("[data-offset-p-r]")),!this[Z]){var p=I.toLowerCase(),O=p+"margin-v",K=p+"padding-v",Q=N('<div class="'.concat(se,'marginName">')).get(0),ne=N('<div class="'.concat(se,'paddingName">')).get(0),R=se+K+"-el",v="".concat(se+O+"-el"," ").concat(se+O),b="".concat(R," ").concat(se+K);T=N('<div class="'.concat(v,'-top"></div>')).get(0),j=N('<div class="'.concat(v,'-bottom"></div>')).get(0),U=N('<div class="'.concat(v,'-left"></div>')).get(0),E=N('<div class="'.concat(v,'-right"></div>')).get(0),M=N('<div class="'.concat(b,'-top"></div>')).get(0),c=N('<div class="'.concat(b,'-bottom"></div>')).get(0),d=N('<div class="'.concat(b,'-left"></div>')).get(0),s=N('<div class="'.concat(b,'-right"></div>')).get(0),this["marginT"+I]=T,this["marginB"+I]=j,this["marginL"+I]=U,this["marginR"+I]=E,this["padT"+I]=M,this["padB"+I]=c,this["padL"+I]=d,this["padR"+I]=s,Q.appendChild(T),Q.appendChild(j),Q.appendChild(U),Q.appendChild(E),ne.appendChild(M),ne.appendChild(c),ne.appendChild(d),ne.appendChild(s),B.appendChild(Q),B.appendChild(ne),this[Z]="1"}var a="px",f=parseFloat(oe.marginLeft.replace(a,""))*X,h=parseFloat(oe.marginRight.replace(a,""))*X,_=parseFloat(oe.marginTop.replace(a,""))*X,A=parseFloat(oe.marginBottom.replace(a,""))*X,J=T.style,te=j.style,F=U.style,G=E.style,V=M.style,le=c.style,ve=d.style,Ne=s.style,Ze=parseFloat(W.left),Me=parseFloat(oe.width)*X+a;J.height=_+a,J.width=Me,J.top=W.top-_+a,J.left=Ze+a,te.height=A+a,te.width=Me,te.top=W.top+W.height+a,te.left=Ze+a;var je=W.height+_+A+a,ae=W.top-_+a;F.height=je,F.width=f+a,F.top=ae,F.left=Ze-f+a,G.height=je,G.width=h+a,G.top=ae,G.left=Ze+W.width+a;var be=parseFloat(oe.paddingTop)*X;V.height=be+a;var re=parseFloat(oe.paddingBottom)*X;le.height=re+a;var Te=W.height-re-be+a,Re=W.top+be+a;ve.height=Te,ve.width=parseFloat(oe.paddingLeft)*X+a,ve.top=Re;var Fe=parseFloat(oe.paddingRight)*X;Ne.height=Te,Ne.width=Fe+a,Ne.top=Re}},stop:function(y,m){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=g||{},I=S.state||"",H=this.getOffsetMethod(I),X=y.Canvas,Y=X[H](g.view);Y.style.opacity=0}}},8352:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>$});var k=w(9050);const $={init:function(){(0,k.bindAll)(this,"_onFramesChange")},run:function(D){this.toggleVis(D)},stop:function(D){this.toggleVis(D,0)},toggleVis:function(D){var q=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!D.Commands.isActive("preview")){var P=D.Canvas,N=l?"on":"off";P.getFrames().forEach(function(C){return q._upFrame(C,l)}),P.getModel()[N]("change:frames",this._onFramesChange)}},_onFramesChange:function(D,q){var l=this;q.forEach(function(P){return P.once("loaded",function(){return l._upFrame(P,!0)})})},_upFrame:function(D,q){var l=q?"add":"remove";D.view.getBody().classList[l]("".concat(this.ppfx,"dashed"))}}},9304:(z,ie,w)=>{w.d(ie,{Z:()=>N});var k=w(4942),$=w(2982),D=w(9050),q=w(1163);function l(C,y){var m=Object.keys(C);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(C);y&&(g=g.filter(function(S){return Object.getOwnPropertyDescriptor(C,S).enumerable})),m.push.apply(m,g)}return m}function P(C){for(var y=1;y<arguments.length;y++){var m=arguments[y]!=null?arguments[y]:{};y%2?l(Object(m),!0).forEach(function(g){(0,k.Z)(C,g,m[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(m)):l(Object(m)).forEach(function(g){Object.defineProperty(C,g,Object.getOwnPropertyDescriptor(m,g))})}return C}const N={getConfig:function(C){return this.__getConfig(C)},getProjectData:function(C){var y={},m=this.storageKey;return m&&(y[m]=C||this.getAll()),y},loadProjectData:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=y.all,g=y.onResult,S=y.reset,I=this.storageKey,H={action:"load"},X=m||this.getAll(),Y=C[I];if(typeof Y=="string")try{Y=JSON.parse(Y)}catch{this.__logWarn("Data parsing failed",{input:Y})}return S&&Y&&X.reset(null,H),g?Y&&g(Y,H):Y&&(0,q.isDef)(Y.length)&&X.reset(Y,H),Y},clear:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=this.all;return y&&y.reset(null,C),this},__getConfig:function(C){var y=this.config||{};return C?y[C]:y},getAll:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.all?C.array?(0,$.Z)(this.all.models):this.all:[]},getAllMap:function(){return this.getAll().reduce(function(C,y){return C[y.get(y.idAttribute)]=y,C},{})},__initConfig:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=(0,q.deepMerge)(C,y),this.em=this.config.em,this.cls=[]},__initListen:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=this.all,m=this.em,g=this.events;y&&m&&y.on("add",function(S,I,H){return m.trigger(g.add,S,H)}).on("remove",function(S,I,H){return m.trigger(g.remove,S,H)}).on("change",function(S,I){return m.trigger(g.update,S,S.changedAttributes(),I)}).on("all",this.__catchAllEvent,this),this.cls=[y].concat(C.collections||[]),(C.propagate||[]).forEach(function(S){var I=S.entity,H=S.event;I.on("all",function(X,Y,x,W){var oe=P({event:X},W||x);[m,y].map(function(se){return se.trigger(H,Y,oe)})})})},__remove:function(C){var y=this,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=this.em,S=(0,D.isString)(C)?this.get(C):C,I=function(){return S&&y.all.remove(S,m),S};return!m.silent&&g&&g.trigger(this.events.removeBefore,S,I,m),!m.abort&&I()},__catchAllEvent:function(C,y,m,g){var S=this.em,I=this.events,H=g||m;S&&I.all&&S.trigger(I.all,{event:C,model:y,options:H}),this.__onAllEvent()},__appendTo:function(){var C=this.getConfig().appendTo;if(C){var y=(0,D.isElement)(C)?C:document.querySelector(C);if(!y)return this.__logWarn('"appendTo" element not found');y.appendChild(this.render())}},__onAllEvent:function(){},__logWarn:function(C,y){this.em.logWarning("[".concat(this.name,"]: ").concat(C),y)},_createId:function(){var C,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,m=this.getAll(),g=m.length+y,S=this.getAllMap();do C=(0,q.createId)(g);while(S[C]);return C},__listenAdd:function(C,y){var m=this;C.on("add",function(g,S,I){return m.em.trigger(y,g,I)})},__listenRemove:function(C,y){var m=this;C.on("remove",function(g,S,I){return m.em.trigger(y,g,I)})},__listenUpdate:function(C,y){var m=this;C.on("change",function(g,S){return m.em.trigger(y,g,g.changedAttributes(),S)})},__destroy:function(){var C;this.cls.forEach(function(y){y.stopListening(),y.reset()}),this.em=0,this.config=0,(C=this.view)===null||C===void 0||C.remove(),this.view=0}}},672:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>d});var k=w(2982),$=w(5671),D=w(3144),q=w(7326),l=w(9340),P=w(2963),N=w(1120),C=w(4942),y=w(9050),m=w(1163),g=w(9714),S=w(966),I=w(5963);const H={stylePrefix:"css-",rules:[]};var X=w(2316),Y=w(9524),x=w(8795);function W(s,p){var O=Object.keys(s);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(s);p&&(K=K.filter(function(Q){return Object.getOwnPropertyDescriptor(s,Q).enumerable})),O.push.apply(O,K)}return O}function oe(s){for(var p=1;p<arguments.length;p++){var O=arguments[p]!=null?arguments[p]:{};p%2?W(Object(O),!0).forEach(function(K){(0,C.Z)(s,K,O[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(O)):W(Object(O)).forEach(function(K){Object.defineProperty(s,K,Object.getOwnPropertyDescriptor(O,K))})}return s}function se(s){var p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,K=(0,N.Z)(s);if(p){var Q=(0,N.Z)(this).constructor;O=Reflect.construct(K,arguments,Q)}else O=K.apply(this,arguments);return(0,P.Z)(this,O)}}var Z=((0,m.hasWin)()?window:{}).CSS,B=function(s){(0,l.Z)(O,s);var p=se(O);function O(){return(0,$.Z)(this,O),p.apply(this,arguments)}return(0,D.Z)(O,[{key:"defaults",value:function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}}},{key:"initialize",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=K||{},this.opt=Q,this.em=Q.em,this.ensureSelectors(),this.on("change",this.__onChange)}},{key:"__onChange",value:function(K,Q){var ne=this.em,R=this.changedAttributes();!(0,m.isEmptyObj)(R)&&ne&&ne.changesUp(Q)}},{key:"clone",value:function(){var K=oe({},this.opt),Q=oe({},this.attributes);return Q.selectors=this.get("selectors").map(function(ne){return ne.clone()}),new this.constructor(Q,K)}},{key:"ensureSelectors",value:function(K,Q,ne){var R=this.em,v=R&&R.get("SelectorManager"),b=[this,"change:selectors",this.ensureSelectors],a=this.getSelectors();if(this.stopListening.apply(this,b),a.models&&(a=(0,k.Z)(a.models)),a=(0,y.isString)(a)?[a]:a,Array.isArray(a)){var f=a.filter(function(h){return h}).map(function(h){return v?v.add(h):h});a=new S.Z(f)}this.set("selectors",a,ne),this.listenTo.apply(this,b)}},{key:"getAtRule",value:function(){var K=this.get("atRuleType"),Q=this.get("mediaText"),ne=K?"@".concat(K):Q?"@media":"";return ne+(Q&&ne?" ".concat(Q):"")}},{key:"selectorsToString",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=[],ne=this.get("state"),R=this.get("selectorsAdd"),v={escape:function(f){return Z&&Z.escape?Z.escape(f):f}},b=this.get("selectors").getFullString(0,v),a=ne&&!K.skipState?":".concat(ne):"";return b&&Q.push("".concat(b).concat(a)),R&&!K.skipAdd&&Q.push(R),Q.join(", ")}},{key:"getDeclaration",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q="",ne=this.attributes.important,R=this.selectorsToString(K),v=this.styleToString(oe({important:ne},K)),b=this.get("singleAtRule");return(R||b)&&(v||K.allowEmpty)&&(Q=b?v:"".concat(R,"{").concat(v,"}")),Q}},{key:"getDevice",value:function(){var K=this.em,Q=this.attributes,ne=Q.atRuleType,R=Q.mediaText,v=(K==null?void 0:K.get("DeviceManager").getDevices())||[],b=v.filter(function(a){return a.getWidthMedia()===""})[0];return ne==="media"&&R?v.filter(function(a){return a.getWidthMedia()===(0,x.U)(R)})[0]||null:b||null}},{key:"getState",value:function(){var K=this.em,Q=this.get("state");return(K.get("SelectorManager").getStates()||[]).filter(function(ne){return ne.getName()===Q})[0]||null}},{key:"getComponent",value:function(){var K,Q=this.getSelectors(),ne=Q.length==1&&Q.at(0),R=ne&&ne.isId()&&ne.get("name");return R&&((K=this.em)===null||K===void 0?void 0:K.get("DomComponents").getById(R))||null}},{key:"toCSS",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q="",ne=this.getAtRule(),R=this.getDeclaration(K);return(R||K.allowEmpty)&&(Q=R),ne&&Q&&(Q="".concat(ne,"{").concat(Q,"}")),Q}},{key:"toJSON",value:function(){for(var K=arguments.length,Q=new Array(K),ne=0;ne<K;ne++)Q[ne]=arguments[ne];var R=X.Model.prototype.toJSON.apply(this,Q);if(this.em.getConfig().avoidDefaults){var v=this.defaults();(0,y.forEach)(v,function(b,a){R[a]===b&&delete R[a]}),delete R.style.__p,(0,y.isEmpty)(R.selectors)&&delete R.selectors,(0,y.isEmpty)(R.style)&&delete R.style}return R}},{key:"compare",value:function(K,Q,ne){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=Q||"",b=ne||"",a=R.selectorsAdd||"",f=R.atRuleType||"",h=(0,y.isArray)(K)||K.models?K.models||K:[K];b&&!f&&(f="media");var _=h.map(function(F){return F.getFullName()}),A=this.get("selectors").map(function(F){return F.getFullName()}),J=_.slice().sort(),te=A.slice().sort();return!(_.length!==A.length||!J.every(function(F,G){return F===te[G]}))&&this.get("state")===v&&this.get("mediaText")===b&&this.get("selectorsAdd")===a&&this.get("atRuleType")===f}}]),O}(Y.Z);function T(s){var p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,K=(0,N.Z)(s);if(p){var Q=(0,N.Z)(this).constructor;O=Reflect.construct(K,arguments,Q)}else O=K.apply(this,arguments);return(0,P.Z)(this,O)}}var j=function(s){(0,l.Z)(O,s);var p=T(O);function O(){return(0,$.Z)(this,O),p.apply(this,arguments)}return(0,D.Z)(O,[{key:"initialize",value:function(K,Q){var ne=this;Q&&Q.em&&(this.editor=Q.em),setTimeout(function(){ne.on("remove",ne.onRemove),ne.on("add",ne.onAdd)})}},{key:"toJSON",value:function(K){return X.Collection.prototype.toJSON.call(this,K).filter(function(Q){return Q.style&&!Q.shallow})}},{key:"onAdd",value:function(K,Q,ne){K.ensureSelectors(K,Q,ne)}},{key:"onRemove",value:function(K){var Q=this.editor;Q.stopListening(K),Q.get("UndoManager").remove(K)}},{key:"add",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof K=="string"&&(K=this.editor.get("Parser").parseCss(K)),Q.em=this.editor,X.Collection.prototype.add.apply(this,[K,Q])}}]),O}(X.Collection);j.prototype.model=B;var U=w(4868);function E(s,p){var O=Object.keys(s);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(s);p&&(K=K.filter(function(Q){return Object.getOwnPropertyDescriptor(s,Q).enumerable})),O.push.apply(O,K)}return O}function M(s){for(var p=1;p<arguments.length;p++){var O=arguments[p]!=null?arguments[p]:{};p%2?E(Object(O),!0).forEach(function(K){(0,C.Z)(s,K,O[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(O)):E(Object(O)).forEach(function(K){Object.defineProperty(s,K,Object.getOwnPropertyDescriptor(O,K))})}return s}function c(s){var p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,K=(0,N.Z)(s);if(p){var Q=(0,N.Z)(this).constructor;O=Reflect.construct(K,arguments,Q)}else O=K.apply(this,arguments);return(0,P.Z)(this,O)}}var d=function(s){(0,l.Z)(O,s);var p=c(O);function O(){var K;(0,$.Z)(this,O);for(var Q=arguments.length,ne=new Array(Q),R=0;R<Q;R++)ne[R]=arguments[R];return K=p.call.apply(p,[this].concat(ne)),(0,C.Z)((0,q.Z)(K),"Selectors",S.Z),(0,C.Z)((0,q.Z)(K),"name","CssComposer"),(0,C.Z)((0,q.Z)(K),"storageKey","styles"),K}return(0,D.Z)(O,[{key:"getConfig",value:function(){return this.c}},{key:"init",value:function(K){for(var Q in this.c=K||{},H)Q in this.c||(this.c[Q]=H[Q]);var ne=this.c.pStylePrefix;ne&&(this.c.stylePrefix=ne+this.c.stylePrefix);var R=this.c.em&&this.c.em.config.style||"";return this.c.rules=R||this.c.rules,this.em=this.c.em,this.rules=new j([],this.c),this}},{key:"onLoad",value:function(){this.rules.add(this.c.rules,{silent:1})}},{key:"postLoad",value:function(){var K,Q=(K=this.em)===null||K===void 0?void 0:K.get("UndoManager");Q&&Q.add(this.getAll())}},{key:"store",value:function(){return this.getProjectData()}},{key:"load",value:function(K){return this.loadProjectData(K)}},{key:"add",value:function(K,Q,ne){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},b=Q||"",a=ne||"",f=M({},R),h=this.get(K,b,a,f);return h&&h.config&&!h.config.singleAtRule||(f.state=b,f.mediaText=a,f.selectors=[],a&&(f.atRuleType="media"),(h=new B(f,this.c)).get("selectors").add(K,v),this.rules.add(h,v)),h}},{key:"get",value:function(K,Q,ne,R){var v=K;if((0,y.isString)(K)){var b=this.em.get("SelectorManager"),a=K.split(",")[0].trim(),f=this.em.get("Parser").parserCss.checkNode({selectors:a})[0];v=b.get(f.selectors)}return this.rules.find(function(h){return h.compare(v,Q,ne,R)})||null}},{key:"getAll",value:function(){return this.rules}},{key:"addCollection",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=[];(0,y.isString)(K)&&(K=this.em.get("Parser").parseCss(K));for(var v=K instanceof Array?K:[K],b=0,a=v.length;b<a;b++){var f,h=v[b]||{};if(h.selectors){var _=(f=this.em)===null||f===void 0?void 0:f.get("SelectorManager");_||console.warn("Selector Manager not found");for(var A=h.selectors,J=A instanceof Array?A:[A],te=[],F=0,G=J.length;F<G;F++){var V=_.add(J[F]);te.push(V)}var le=this.get(te,h.state,h.mediaText,h),ve=this.add(te,h.state,h.mediaText,h,Q),Ne=!le||!Q.avoidUpdateStyle,Ze=h.style||{};if((0,m.isObject)(ne)&&ve.set(ne,Q),Ne){var Me=Q.extend?M(M({},ve.get("style")),Ze):Ze;ve.set("style",Me,Q)}R.push(ve)}}return R}},{key:"addRules",value:function(K){return this.addCollection(K)}},{key:"setRule",value:function(K,Q){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=ne.atRuleType,v=ne.atRuleParams,b=this.em.get("Parser").parserCss.checkNode({selectors:K,style:Q})[0],a=b.state,f=b.selectorsAdd,h=this.em.get("SelectorManager"),_=h.add(b.selectors),A=this.add(_,a,v,{selectorsAdd:f,atRule:R});return A.setStyle(Q,ne),A}},{key:"getRule",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=this.em.get("SelectorManager"),R=this.em.get("Parser").parserCss.checkNode({selectors:K})[0],v=ne.get(R.selectors),b=R.state,a=R.selectorsAdd,f=Q.atRuleType,h=Q.atRuleParams;return v&&this.get(v,b,h,{selectorsAdd:a,atRule:f})}},{key:"getRules",value:function(K){var Q=this.getAll();if(!K)return(0,k.Z)(Q.models);var ne={sort:!0},R=(0,y.isString)(K)?K.split(",").map(function(v){return v.trim()}):K;return Q.filter(function(v){return R.indexOf(v.getSelectors().getFullString(null,ne))>=0})}},{key:"setIdRule",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=ne.addOpts,v=R===void 0?{}:R,b=ne.mediaText,a=ne.state||"",f=(0,y.isUndefined)(b)?this.em.getCurrentMedia():b,h=this.em.get("SelectorManager"),_=h.add({name:K,type:I.Z.TYPE_ID},v),A=this.add(_,a,f,{},v);return A.setStyle(Q,M(M({},ne),v)),A}},{key:"getIdRule",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=Q.mediaText,R=Q.state||"",v=(0,y.isUndefined)(ne)?this.em.getCurrentMedia():ne,b=this.em.get("SelectorManager").get(K,I.Z.TYPE_ID);return b&&this.get(b,R,v)}},{key:"setClassRule",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=ne.state||"",v=ne.mediaText||this.em.getCurrentMedia(),b=this.em.get("SelectorManager"),a=b.add({name:K,type:I.Z.TYPE_CLASS}),f=this.add(a,R,v);return f.setStyle(Q,ne),f}},{key:"getClassRule",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=Q.state||"",R=Q.mediaText||this.em.getCurrentMedia(),v=this.em.get("SelectorManager").get(K,I.Z.TYPE_CLASS);return v&&this.get(v,ne,R)}},{key:"remove",value:function(K,Q){var ne=(0,y.isString)(K)?this.getRules(K):K,R=this.getAll().remove(ne,Q);return(0,y.isArray)(R)?R:[R]}},{key:"clear",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getAll().reset(null,K),this}},{key:"getComponentRules",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=Q.state,R=Q.mediaText,v=Q.current;v&&(ne=this.em.get("state")||"",R=this.em.getCurrentMedia());var b=K.getId(),a=this.getAll().filter(function(f){if(((0,y.isUndefined)(ne)||f.get("state")===ne)&&((0,y.isUndefined)(R)||f.get("mediaText")===R))return f.getSelectorsString()==="#".concat(b)});return a}},{key:"render",value:function(){var K;return(K=this.rulesView)===null||K===void 0||K.remove(),this.rulesView=new U.Z({collection:this.rules,config:this.c}),this.rulesView.render().el}},{key:"destroy",value:function(){var K;this.rules.reset(),this.rules.stopListening(),(K=this.rulesView)===null||K===void 0||K.remove(),[this.em,this.rules,this.rulesView].forEach(function(Q){return null}),this.c={}}}]),O}(g.Z)},4868:(z,ie,w)=>{w.d(ie,{Z:()=>Y});var k=w(5671),$=w(3144),D=w(7326),q=w(9340),l=w(2963),P=w(1120),N=w(9050),C=w(2316),y=w(9283);function m(x){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var oe,se=(0,P.Z)(x);if(W){var Z=(0,P.Z)(this).constructor;oe=Reflect.construct(se,arguments,Z)}else oe=se.apply(this,arguments);return(0,l.Z)(this,oe)}}var g=function(x){(0,q.Z)(oe,x);var W=m(oe);function oe(){return(0,k.Z)(this,oe),W.apply(this,arguments)}return(0,$.Z)(oe,[{key:"tagName",value:function(){return"style"}},{key:"initialize",value:function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=se.config||{};var Z=this.model;this.listenTo(Z,"change",this.render),this.listenTo(Z,"destroy remove",this.remove),this.listenTo(Z.get("selectors"),"change",this.render)}},{key:"render",value:function(){var se=this.model,Z=this.el,B=se.get("important");return Z.innerHTML=se.toCSS({important:B}),this}}]),oe}(C.View);function S(x){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var oe,se=(0,P.Z)(x);if(W){var Z=(0,P.Z)(this).constructor;oe=Reflect.construct(se,arguments,Z)}else oe=se.apply(this,arguments);return(0,l.Z)(this,oe)}}var I=function(x){(0,q.Z)(oe,x);var W=S(oe);function oe(){return(0,k.Z)(this,oe),W.apply(this,arguments)}return(0,$.Z)(oe,[{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var se=this.model,Z=se.get("important");return this.el.textContent=se.getDeclaration({important:Z}),this}}]),oe}(g);function H(x){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var oe,se=(0,P.Z)(x);if(W){var Z=(0,P.Z)(this).constructor;oe=Reflect.construct(se,arguments,Z)}else oe=se.apply(this,arguments);return(0,l.Z)(this,oe)}}var X=function(x,W){return"".concat(x).concat(W?"-".concat(parseFloat(W)):"")},Y=function(x){(0,q.Z)(oe,x);var W=H(oe);function oe(se){var Z;return(0,k.Z)(this,oe),Z=W.call(this,se),(0,N.bindAll)((0,D.Z)(Z),"sortRules"),Z}return(0,$.Z)(oe,[{key:"initialize",value:function(se){var Z=se.config||{};this.atRules={},this.config=Z,this.em=Z.em,this.pfx=Z.stylePrefix||"",this.className=this.pfx+"rules";var B=this.collection;this.listenTo(B,"add",this.addTo),this.listenTo(B,"reset",this.render)}},{key:"addTo",value:function(se){this.addToCollection(se)}},{key:"addToCollection",value:function(se,Z){if(this.renderStarted){var B,T,j=Z||null,U={model:se,config:this.config};if(se.get("atRuleType")==="keyframes"){var E=se.getAtRule(),M=this.atRules[E];if(!M){var c=document.createElement("style");M=document.createTextNode(""),c.appendChild(document.createTextNode("".concat(E,"{"))),c.appendChild(M),c.appendChild(document.createTextNode("}")),this.atRules[E]=M,B=c}T=new I(U),M.appendData(T.render().el.textContent)}else B=(T=new g(U)).render().el;var d=this.className,s=se.get("mediaText"),p=X(d),O=p;if(s&&(O=X(d,this.getMediaWidth(s))),B){var K,Q=j||this.el;try{K=Q.querySelector("#".concat(O))}catch{}K||(K=Q.querySelector("#".concat(p))),K.appendChild(B)}return B}}},{key:"getMediaWidth",value:function(se){return se&&se.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")}},{key:"sortRules",value:function(se,Z){var B=(this.em.getConfig().mediaCondition||"").indexOf("min-width")!==-1;return B?(B?se:Z)-(B?Z:se):0}},{key:"render",value:function(){var se=this;this.renderStarted=1,this.atRules={};var Z=this.em,B=this.$el,T=this.className,j=this.collection,U=document.createDocumentFragment();B.empty();var E=Z.get("DeviceManager").getAll().pluck("priority").sort(this.sortRules);return E.every(function(M){return M})&&E.unshift(0),E.forEach(function(M){return U.appendChild((0,y.ut)("div",{id:X(T,M)}))}),j.each(function(M){return se.addToCollection(M,U)}),B.append(U),B.attr("class",T),this}}]),oe}(C.View)},2004:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>Q,evAdd:()=>d,evAddBefore:()=>s,evAll:()=>j,evPfx:()=>U,evRemove:()=>p,evRemoveBefore:()=>O,evSelect:()=>E,evSelectBefore:()=>M,evUpdate:()=>c});var k=w(5671),$=w(3144),D=w(7326),q=w(9340),l=w(2963),P=w(1120),N=w(4942),C=w(9050),y=w(9714);const m={default:null,devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};var g=w(2316);function S(ne){var R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var v,b=(0,P.Z)(ne);if(R){var a=(0,P.Z)(this).constructor;v=Reflect.construct(b,arguments,a)}else v=b.apply(this,arguments);return(0,l.Z)(this,v)}}var I=function(ne){(0,q.Z)(v,ne);var R=S(v);function v(){return(0,k.Z)(this,v),R.apply(this,arguments)}return(0,$.Z)(v,[{key:"defaults",value:function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}}},{key:"initialize",value:function(){var b=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(a){return b.checkUnit(a)})}},{key:"checkUnit",value:function(b){var a=this.get(b)||"";(parseFloat(a)||0).toString()===a.toString()&&this.set(b,"".concat(a,"px"))}},{key:"getName",value:function(){return this.get("name")||this.get("id")}},{key:"getWidthMedia",value:function(){return this.get("widthMedia")||""}}]),v}(g.Model);function H(ne){var R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var v,b=(0,P.Z)(ne);if(R){var a=(0,P.Z)(this).constructor;v=Reflect.construct(b,arguments,a)}else v=b.apply(this,arguments);return(0,l.Z)(this,v)}}var X=function(ne){(0,q.Z)(v,ne);var R=H(v);function v(){return(0,k.Z)(this,v),R.apply(this,arguments)}return(0,$.Z)(v)}(g.Collection);X.prototype.model=I;var Y,x=w(168),W=w(7539);function oe(ne){var R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var v,b=(0,P.Z)(ne);if(R){var a=(0,P.Z)(this).constructor;v=Reflect.construct(b,arguments,a)}else v=b.apply(this,arguments);return(0,l.Z)(this,v)}}var se=function(ne){(0,q.Z)(v,ne);var R=oe(v);function v(){return(0,k.Z)(this,v),R.apply(this,arguments)}return(0,$.Z)(v,[{key:"template",value:function(b){var a=b.ppfx,f=b.label;return(0,W.Z)(Y||(Y=(0,x.Z)([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp">+</button>
    `])),a,f,a,a,a,a,a,a,a)}},{key:"events",value:function(){return{change:"updateDevice"}}},{key:"initialize",value:function(b){this.config=b.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()}},{key:"startAdd",value:function(){}},{key:"updateDevice",value:function(){var b=this.em;if(b){var a=this.devicesEl,f=a?a.val():"";b.set("device",f)}}},{key:"updateSelect",value:function(){var b=this.em,a=this.devicesEl;if(b&&b.getDeviceModel&&a){var f=b.getDeviceModel(),h=f?f.get("id"):"";a.val(h)}}},{key:"getOptions",value:function(){var b=this.collection,a=this.em,f="";return b.each(function(h){var _=h.attributes,A=_.name,J=_.id,te=a&&a.t&&a.t("deviceManager.devices.".concat(J))||A;f+='<option value="'.concat(J||A,'">').concat(te,"</option>")}),f}},{key:"render",value:function(){var b=this.em,a=this.ppfx,f=this.$el,h=this.el,_=b&&b.t&&b.t("deviceManager.device");return f.html(this.template({ppfx:a,label:_})),this.devicesEl=f.find(".".concat(a,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(b.get("device")),h.className="".concat(a,"devices-c"),this}}]),v}(g.View);function Z(ne,R){var v=Object.keys(ne);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(ne);R&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(ne,a).enumerable})),v.push.apply(v,b)}return v}function B(ne){for(var R=1;R<arguments.length;R++){var v=arguments[R]!=null?arguments[R]:{};R%2?Z(Object(v),!0).forEach(function(b){(0,N.Z)(ne,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(v)):Z(Object(v)).forEach(function(b){Object.defineProperty(ne,b,Object.getOwnPropertyDescriptor(v,b))})}return ne}function T(ne){var R=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var v,b=(0,P.Z)(ne);if(R){var a=(0,P.Z)(this).constructor;v=Reflect.construct(b,arguments,a)}else v=b.apply(this,arguments);return(0,l.Z)(this,v)}}var j="device",U="".concat(j,":"),E="".concat(U,"select"),M="".concat(E,":before"),c="".concat(U,"update"),d="".concat(U,"add"),s="".concat(d,":before"),p="".concat(U,"remove"),O="".concat(p,":before"),K="change:device",Q=function(ne){(0,q.Z)(v,ne);var R=T(v);function v(){var b;(0,k.Z)(this,v);for(var a=arguments.length,f=new Array(a),h=0;h<a;h++)f[h]=arguments[h];return b=R.call.apply(R,[this].concat(f)),(0,N.Z)((0,D.Z)(b),"name","DeviceManager"),(0,N.Z)((0,D.Z)(b),"Device",I),(0,N.Z)((0,D.Z)(b),"Devices",X),(0,N.Z)((0,D.Z)(b),"events",{all:j,select:E,update:c,add:d,remove:p,removeBefore:O}),b}return(0,$.Z)(v,[{key:"init",value:function(){var b=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=B(B({},m),a);var f=this.c.em;return this.devices=new X,this.c.devices.forEach(function(h){return b.add(h)}),this.em=f,this.all=this.devices,this.select(this.c.default||this.devices.at(0)),this.__initListen(),f.on(K,this._onSelect,this),this}},{key:"_onSelect",value:function(b,a,f){var h=this.em,_=this.events,A=b.previous("device"),J=this.get(a),te=_.select;h.trigger(te,J,this.get(A)),this.__catchAllEvent(te,J,f)}},{key:"add",value:function(b){var a,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=f;if((0,C.isString)(b)){var _=f;a=B(B({},h=arguments[2]||{}),{},{id:b,name:h.name||b,width:_})}else a=b;return a.id||(a.id=a.name||this._createId()),this.devices.add(a,h)}},{key:"get",value:function(b){return this.getAll().filter(function(a){return a.get("name")===b})[0]||this.devices.get(b)||null}},{key:"remove",value:function(b){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__remove(b,a)}},{key:"getDevices",value:function(){return this.devices.models}},{key:"select",value:function(b){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=(0,C.isString)(b)?this.get(b):b;return f&&this.em.set("device",f.get("id"),a),this}},{key:"getSelected",value:function(){return this.get(this.em.get("device"))}},{key:"getAll",value:function(){return this.devices}},{key:"render",value:function(){var b;return(b=this.view)===null||b===void 0||b.remove(),this.view=new se({collection:this.devices,config:this.c}),this.view.render().el}},{key:"destroy",value:function(){var b;this.devices.stopListening(),this.devices.reset(),(b=this.view)===null||b===void 0||b.remove(),[this.devices,this.view].forEach(function(a){return null}),this.c={}}}]),v}(y.Z)},9138:(z,ie,w)=>{w.d(ie,{ZP:()=>ne,OA:()=>d,GN:()=>K,xH:()=>Q});var k=w(1002),$=w(2982),D=w(885),q=w(4942),l=w(5671),P=w(3144),N=w(1752),C=w(9340),y=w(2963),m=w(1120),g=w(9050),S=w(1163),I=w(9524),H=w(2316),X=w(8431),Y=w(5963),x=w(966);function W(R,v){var b=Object.keys(R);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(R);v&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(R,f).enumerable})),b.push.apply(b,a)}return b}function oe(R){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?W(Object(b),!0).forEach(function(a){(0,q.Z)(R,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(b)):W(Object(b)).forEach(function(a){Object.defineProperty(R,a,Object.getOwnPropertyDescriptor(b,a))})}return R}function se(R){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,a=(0,m.Z)(R);if(v){var f=(0,m.Z)(this).constructor;b=Reflect.construct(a,arguments,f)}else b=a.apply(this,arguments);return(0,y.Z)(this,b)}}var Z=function(R){(0,C.Z)(b,R);var v=se(b);function b(){return(0,l.Z)(this,b),v.apply(this,arguments)}return(0,P.Z)(b,[{key:"initialize",value:function(){var a=this.attributes,f=a.target,h=a.name,_=a.changeProp;if(!this.get("id")&&this.set("id",h),f){this.target=f,this.unset("target");var A=_?"change:".concat(h):"change:attributes:".concat(h);this.listenTo(f,A,this.targetUpdated)}}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("name")}},{key:"getLabel",value:function(){var a,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f.locale,_=h===void 0||h,A=this.getId(),J=this.get("label")||this.getName();return _&&((a=this.em)===null||a===void 0?void 0:a.t("traitManager.traits.labels.".concat(A)))||J}},{key:"getValue",value:function(){return this.getTargetValue()}},{key:"setValue",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={};f.partial&&(h.avoidStore=!0),this.setTargetValue(a,h),f.partial===!1&&(this.setTargetValue(""),this.setTargetValue(a))}},{key:"props",value:function(){return this.attributes}},{key:"targetUpdated",value:function(){var a,f=this.getTargetValue();this.set({value:f},{fromTarget:1}),(a=this.em)===null||a===void 0||a.trigger("trait:update",{trait:this,component:this.target})}},{key:"getTargetValue",value:function(){var a,f=this.get("name"),h=this.target;return a=this.get("changeProp")?h.get(f):h.getAttributes()[f],(0,g.isUndefined)(a)?"":a}},{key:"setTargetValue",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=this.target,_=this.get("name");if(!(0,g.isUndefined)(a)){var A=a;if(a==="false"?A=!1:a==="true"&&(A=!0),this.get("changeProp"))h.set(_,A,f);else{var J=oe({},h.get("attributes"));J[_]=A,h.set("attributes",J,f)}}}},{key:"setValueFromInput",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_={value:a};this.set(_,oe(oe({},h),{},{avoidStore:1})),f&&(this.set("value","",h),this.set(_,h))}},{key:"getInitValue",value:function(){var a,f=this.target,h=this.get("name");if(f){var _=f.get("attributes");a=this.get("changeProp")?f.get(h):_[h]}return a||this.get("value")||this.get("default")}}]),b}(H.Model);Z.prototype.defaults={type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]};function B(R){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,a=(0,m.Z)(R);if(v){var f=(0,m.Z)(this).constructor;b=Reflect.construct(a,arguments,f)}else b=a.apply(this,arguments);return(0,y.Z)(this,b)}}var T=function(R){(0,C.Z)(b,R);var v=B(b);function b(){return(0,l.Z)(this,b),v.apply(this,arguments)}return(0,P.Z)(b,[{key:"initialize",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em=f.em,this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)}},{key:"handleReset",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=f.previousModels,_=h===void 0?[]:h;_.forEach(function(A){return A.trigger("remove")})}},{key:"handleAdd",value:function(a){a.em=this.em;var f=this.target;f&&(a.target=f)}},{key:"setTarget",value:function(a){this.target=a}},{key:"add",value:function(a,f){var h=this.em;if((0,g.isString)(a)||(0,g.isArray)(a)){var _=h&&h.get&&h.get("TraitManager"),A=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{build:function(le){var ve=[];typeof le=="string"&&(le=[le]);for(var Ne=0;Ne<le.length;Ne++){var Ze={},Me=le[Ne];Ze.name=Me,Me==="target"&&(Ze.type="select",Ze.default=!1,Ze.options=V.optionsTarget),ve.push(Ze)}return ve}}}(_&&_.getConfig());(0,g.isString)(a)&&(a=[a]);for(var J=0,te=a.length;J<te;J++){var F=a[J],G=(0,g.isString)(F)?A.build(F)[0]:F;G.target=this.target,a[J]=G}}return H.Collection.prototype.add.apply(this,[a,f])}}]),b}(H.Collection);function j(R,v){var b=Object.keys(R);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(R);v&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(R,f).enumerable})),b.push.apply(b,a)}return b}function U(R){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?j(Object(b),!0).forEach(function(a){(0,q.Z)(R,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(b)):j(Object(b)).forEach(function(a){Object.defineProperty(R,a,Object.getOwnPropertyDescriptor(b,a))})}return R}function E(R){var v=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,a=(0,m.Z)(R);if(v){var f=(0,m.Z)(this).constructor;b=Reflect.construct(a,arguments,f)}else b=a.apply(this,arguments);return(0,y.Z)(this,b)}}T.prototype.model=Z;var M=function(R){return R.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},c=function(R){return R&&R.getConfig().avoidInlineStyle},d="component:drag",s="__symbols",p="__symbol",O="__symbol_ovrd",K="component:update",Q="".concat(K,"-inside"),ne=function(R){(0,C.Z)(b,R);var v=E(b);function b(){return(0,l.Z)(this,b),v.apply(this,arguments)}return(0,P.Z)(b,[{key:"defaults",get:function(){return{tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,locked:!1,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null,[p]:0,[s]:0,[O]:0,_undo:!0,_undoexc:["status","open"]}}},{key:"init",value:function(){}},{key:"updated",value:function(a,f,h){}},{key:"removed",value:function(){}},{key:"initialize",value:function(){var a=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,g.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var _=h.em,A=this.parent(),J=A&&A.attributes,te=this.get("propagate");if(te&&this.set("propagate",(0,g.isArray)(te)?te:[te]),J&&J.propagate&&!te){var F={},G=J.propagate;G.forEach(function(Ze){return F[Ze]=A.get(Ze)}),F.propagate=G,this.set(U(U({},F),f))}if(h&&h.config&&h.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),h.em=_,this.opt=h,this.em=_,this.frame=h.frame,this.config=h.config||{},this.set("attributes",U(U({},(0,g.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=b.createId(this,h),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(Q,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(Ze){var Me="add remove ".concat(Ze!=="components"?"change":"");a.listenTo(a.get(Ze),Me.trim(),function(){for(var je=arguments.length,ae=new Array(je),be=0;be<je;be++)ae[be]=arguments[be];return a.emitUpdate.apply(a,[Ze].concat(ae))})}),!h.temporary){var V=_&&_.get("CssComposer"),le=this.attributes,ve=le.styles,Ne=le.type;ve&&V&&V.addCollection(ve,{},{group:"cmp:".concat(Ne)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),_&&_.trigger("component:create",this)}}},{key:"__postAdd",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.em,h=f&&f.get("UndoManager"),_=this.components();h&&!this.__hasUm&&(h.add(_),h.add(this.getSelectors()),this.__hasUm=1),a.recursive&&_.map(function(A){return A.__postAdd(a)})}},{key:"__postRemove",value:function(){var a=this.em,f=a&&a.get("UndoManager");f&&(f.remove(this.components()),f.remove(this.getSelectors()),delete this.__hasUm)}},{key:"__onChange",value:function(a,f){var h=this,_=this.changedAttributes();(0,g.keys)(_).forEach(function(A){return h.emitUpdate(A)}),["status","open","toolbar","traits"].forEach(function(A){return delete _[A]}),(0,S.isEmptyObj)(_)||(this.__changesUp(f),this.__propSelfToParent({component:this,changed:_,options:f}))}},{key:"__changesUp",value:function(a){var f=this.em;[this.frame,f].forEach(function(h){return h&&h.changesUp(a)})}},{key:"__propSelfToParent",value:function(a){this.trigger(K,a),this.__propToParent(a)}},{key:"__propToParent",value:function(a){var f=this.parent();f&&f.trigger(Q,a)}},{key:"__emitUpdateTlb",value:function(){this.emitUpdate("toolbar")}},{key:"is",value:function(a){return this.get("type")==a}},{key:"props",value:function(){return this.attributes}},{key:"index",value:function(){var a=this.collection;return a?a.indexOf(this):0}},{key:"setDragMode",value:function(a){return this.set("dmode",a)}},{key:"find",value:function(a){var f=[],h=this.view.$el.find(a);return h.each(function(_){var A=h.eq(_).data("model");A&&f.push(A)}),f}},{key:"findType",value:function(a){var f=[];return function h(_){return _.forEach(function(A){A.is(a)&&f.push(A),h(A.components())})}(this.components()),f}},{key:"closest",value:function(a){var f=this.view.$el.closest(a);return f.length&&f.data("model")}},{key:"closestType",value:function(a){for(var f=this.parent();f&&!f.is(a);)f=f.parent();return f}},{key:"contains",value:function(a){var f=!1;if(!a)return f;var h=function _(A){!f&&A.forEach(function(J){J===a&&(f=!0),!f&&_(J.components())})};return h(this.components()),f}},{key:"tagUpdated",value:function(){this.trigger("rerender")}},{key:"replaceWith",value:function(a){var f=this.collection,h=f.indexOf(this);return f.remove(this),f.add(a,{at:h})}},{key:"attrUpdated",value:function(a,f){var h=this,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=this.get("attributes"),J=A.class;J&&this.setClass(J),delete A.class;var te=A.style;te&&this.setStyle(te),delete A.style;var F=U({},this.previous("attributes")),G=(0,S.shallowDiff)(F,this.get("attributes"));(0,g.keys)(G).forEach(function(V){return h.trigger("change:attributes:".concat(V),h,G[V],_)})}},{key:"setAttributes",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.set("attributes",U({},a),f),this}},{key:"addAttributes",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.setAttributes(U(U({},this.getAttributes({noClass:1})),a),f)}},{key:"removeAttributes",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=Array.isArray(a)?a:[a],_=this.getAttributes();return h.map(function(A){return delete _[A]}),this.setAttributes(_,f)}},{key:"getStyle",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=this.em,_=(0,g.isString)(a)?a:"",A=_?f:a;if(h&&h.getConfig().avoidInlineStyle&&!A.inline){var J=h.get("state"),te=h.get("CssComposer"),F=te.getIdRule(this.getId(),U({state:J},A));if(this.rule=F,F)return F.getStyle(_)}return(0,N.Z)((0,m.Z)(b.prototype),"getStyle",this).call(this,_)}},{key:"setStyle",value:function(){var a=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=this.em,A=this.opt;if(_&&_.getConfig().avoidInlineStyle&&!A.temporary&&!h.inline){var J=this.get("style")||{};f=U(U({},f=(0,g.isString)(f)?this.parseStyle(f):f),J);var te=_.get("state"),F=_.get("CssComposer"),G=this.getStyle(h);this.rule=F.setIdRule(this.getId(),f,U(U({},h),{},{state:te}));var V=(0,S.shallowDiff)(G,f);this.set("style","",{silent:1}),(0,g.keys)(V).forEach(function(le){return a.trigger("change:style:".concat(le))})}else f=(0,N.Z)((0,m.Z)(b.prototype),"setStyle",this).apply(this,arguments);return f}},{key:"getAttributes",value:function(){var a,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=this.em,_=[],A=U({},this.get("attributes")),J=h&&h.get("SelectorManager"),te=this.getId();if(f.noClass||(this.get("classes").forEach(function(G){return _.push((0,g.isString)(G)?G:G.get("name"))}),_.length&&(A.class=_.join(" "))),!f.noStyle){var F=this.get("style");(0,S.isObject)(F)&&!(0,S.isEmptyObj)(F)&&(A.style=this.styleToString({inline:1}))}return(0,g.has)(A,"id")||(c(h)?a=J&&J.get(te,J.Selector.TYPE_ID):(0,g.isEmpty)(this.getStyle())||(a=1),(this.__getSymbol()||this.__getSymbols())&&(a=1),a&&(A.id=te)),A}},{key:"addClass",value:function(a){var f=this.em.get("SelectorManager").addClass(a);return this.get("classes").add(f)}},{key:"setClass",value:function(a){return this.get("classes").reset(),this.addClass(a)}},{key:"removeClass",value:function(a){var f=[];a=(0,g.isArray)(a)?a:[a];var h=this.get("classes"),_=Y.Z.TYPE_CLASS;return a.forEach(function(A){A.split(" ").forEach(function(J){var te=h.where({name:J,type:_})[0];te&&f.push(h.remove(te))})}),f}},{key:"getClasses",value:function(){var a=this.getAttributes().class;return a?a.split(" "):[]}},{key:"__logSymbol",value:function(a,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=this.__getSymbol(),A=this.__getSymbols();(_||A)&&this.em.log(a,{model:this,toUp:f,context:"symbols",opts:h})}},{key:"__initSymb",value:function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=1)}},{key:"__isSymbol",value:function(){return(0,g.isArray)(this.get(s))}},{key:"__isSymbolOrInst",value:function(){return!(!this.__isSymbol()&&!this.get(p))}},{key:"__isSymbolTop",value:function(){var a=this.parent();return this.__isSymbolOrInst()&&(!a||a&&!a.__isSymbol()&&!a.__getSymbol())}},{key:"__isSymbolNested",value:function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var a=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),f=this.__getSymbTop();return(f.__isSymbol()?f:f.__getSymbol())!==a}},{key:"__getAllById",value:function(){var a=this.em;return a?a.get("DomComponents").allById():{}}},{key:"__getSymbol",value:function(){var a=this.get(p);if(a&&(0,g.isString)(a)){var f=this.__getAllById()[a];f?(a=f,this.set(p,f)):a=0}return a}},{key:"__getSymbols",value:function(){var a=this,f=this.get(s);return f&&(0,g.isArray)(f)&&(f.forEach(function(h,_){h&&(0,g.isString)(h)&&(f[_]=a.__getAllById()[h])}),f=f.filter(function(h){return h&&!(0,g.isString)(h)})),f}},{key:"__isSymbOvrd",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",f=this.get(O),h=a.split(":"),_=(0,D.Z)(h,1),A=_[0],J=a!==A?[a,A]:[a];return f===!0||(0,g.isArray)(f)&&J.some(function(te){return f.indexOf(te)>=0})}},{key:"__getSymbToUp",value:function(){var a=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=[],_=this.em,A=f.changed,J=_&&_.config.symbols;if(f.fromInstance||f.noPropagate||f.fromUndo||!J||A&&this.__isSymbOvrd(A))return h;var te=this.__getSymbols()||[],F=this.__getSymbol(),G=F?[F].concat((0,$.Z)(F.__getSymbols()||[])):te;return h=G.filter(function(V){return V!==a}).filter(function(V){return!(A&&V.__isSymbOvrd(A))})}},{key:"__getSymbTop",value:function(a){for(var f=this,h=this.parent(a);h&&(h.__isSymbol()||h.__getSymbol());)f=h,h=h.parent(a);return f}},{key:"__upSymbProps",value:function(a){var f=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=this.changedAttributes(),A=_.attributes||{};if(delete _.status,delete _.open,delete _[s],delete _[p],delete _[O],delete _.attributes,delete A.id,(0,S.isEmptyObj)(A)||(_.attributes=A),!(0,S.isEmptyObj)(_)){var J=this.__getSymbToUp(h);(0,g.keys)(_).map(function(te){f.__isSymbOvrd(te)&&delete _[te]}),this.__logSymbol("props",J,{opts:h,changed:_}),J.forEach(function(te){var F=U({},_);(0,g.keys)(F).map(function(G){te.__isSymbOvrd(G)&&delete F[G]}),te.set(F,U({fromInstance:f},h))})}}},{key:"__upSymbCls",value:function(a,f){var h=this,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=this.__getSymbToUp(_);this.__logSymbol("classes",A,{opts:_}),A.forEach(function(J){J.set("classes",h.get("classes"),{fromInstance:h})}),this.__changesUp(_)}},{key:"__upSymbComps",value:function(a,f,h){var _=this,A=h||f||{},J={fromInstance:A.fromInstance,fromUndo:A.fromUndo},te=a.opt.temporary;if(h)if(h.add){var F=[],G=!!this.__getSymbols(),V=this.__getSymbToUp(U(U({},J),{},{changed:"components:add"}));if(V.length){var le=a.__getSymbol();F=(le?le.__getSymbols():a.__getSymbols())||[],(F=(0,$.Z)(F)).push(le||a)}!te&&this.__logSymbol("add",V,{opts:h,addedInstances:F.map(function(Re){return Re.cid}),added:a.cid}),V.forEach(function(Re){var Fe=Re.__getSymbTop(),it=F.filter(function(lt){var St=lt.__getSymbTop({prev:1});return Fe&&St&&St===Fe})[0]||a.clone({symbol:1,symbolInv:G});Re.append(it,U({fromInstance:_},h))})}else{var ve=a.__getSymbol();if(ve&&!h.temporary&&ve.set(s,ve.__getSymbols().filter(function(Re){return Re!==a})),!a.__isSymbolTop()){var Ne="components:remove",Ze=h.index,Me=a.parent(),je=U({fromInstance:a},h),ae=a.__isSymbolNested(),be=function(Re){var Fe=Re.parent();Fe&&!Fe.__isSymbOvrd(Ne)&&Re.remove(je)},re=Me.__isSymbOvrd(Ne)?[]:a.__getSymbToUp(J);ae&&(re=Me.__getSymbToUp(U(U({},J),{},{changed:Ne})),be=function(Re){var Fe=Re.components().at(Ze);Fe&&Fe.remove(U({fromInstance:Me},je))}),!te&&this.__logSymbol("remove",re,{opts:h,removed:a.cid,isSymbNested:ae}),re.forEach(be)}}else{var Te=this.__getSymbToUp(U(U({},J),{},{changed:"components:reset"}));this.__logSymbol("reset",Te,{components:a.models}),Te.forEach(function(Re){var Fe=a.models.map(function(it){return it.clone({symbol:1})});Re.components().reset(Fe,U({fromInstance:_},f))})}this.__changesUp(A)}},{key:"initClasses",value:function(a,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_="change:classes",A=this.get("attributes").class||[],J=[this,_,this.initClasses],te=this.get("classes")||A,F=(0,g.isString)(te)?te.split(" "):te;this.stopListening.apply(this,J);var G=this.normalizeClasses(F),V=new x.Z([]);return this.set("classes",V,h),V.add(G),V.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,J),this}},{key:"initComponents",value:function(){var a=[this,"change:components",this.initComponents];this.stopListening.apply(this,a);var f=new X.Z(null,this.opt);f.parent=this;var h=this.get("components"),_=!this.opt.avoidChildren;return this.set("components",f),_&&h&&f.add((0,g.isFunction)(h)?h(this):h,this.opt),f.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,a),this}},{key:"initTraits",value:function(a){var f=this.em,h="change:traits";this.off(h,this.initTraits),this.__loadTraits();var _=U({},this.get("attributes")),A=this.get("traits");return A.each(function(J){if(!J.get("changeProp")){var te=J.get("name"),F=J.getInitValue();te&&F&&(_[te]=F)}}),A.length&&this.set("attributes",_),this.on(h,this.initTraits),a&&f&&f.trigger("component:toggled"),this}},{key:"initScriptProps",value:function(){if(!this.opt.temporary){var a="script-props",f=["change:".concat(a),this.initScriptProps];this.off.apply(this,f);var h=this.previous(a)||[],_=this.get(a)||[],A=h.map(function(te){return"change:".concat(te)}).join(" "),J=_.map(function(te){return"change:".concat(te)}).join(" ");A&&this.off(A,this.__scriptPropsChange),J&&this.on(J,this.__scriptPropsChange),this.on.apply(this,f)}}},{key:"__scriptPropsChange",value:function(a,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.avoidStore||this.trigger("rerender")}},{key:"append",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=(0,g.isArray)(a)?a:[a],_=h.map(function(J){return(0,g.isString)(J)||J.collection&&J.collection.remove(J,{temporary:1}),J}),A=this.components().add(_,f);return(0,g.isArray)(A)?A:[A]}},{key:"components",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=this.get("components");return(0,g.isUndefined)(a)?h:(h.reset(null,f),a?this.append(a,f):[])}},{key:"getChildAt",value:function(a){return this.components().at(a||0)||null}},{key:"getLastChild",value:function(){var a=this.components();return a.at(a.length-1)||null}},{key:"empty",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.components().reset(null,a),this}},{key:"parent",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.collection||a.prev&&this.prevColl;return f?f.parent:null}},{key:"parents",value:function(){var a=this.parent();return a?[a].concat(a.parents()):[]}},{key:"scriptUpdated",value:function(){this.set("scriptUpdated",1)}},{key:"initToolbar",value:function(){var a=this.em,f=this,h=a&&a.getConfig().stylePrefix||"";if(!f.get("toolbar")&&a){var _=[];f.collection&&_.push({label:a.getIcon("arrowUp"),command:function(A){return A.runCommand("core:component-exit",{force:1})}}),f.get("draggable")&&_.push({attributes:{class:"".concat(h,"no-touch-actions"),draggable:!0},label:a.getIcon("move"),command:"tlb-move"}),f.get("copyable")&&_.push({label:a.getIcon("copy"),command:"tlb-clone"}),f.get("removable")&&_.push({label:a.getIcon("delete"),command:"tlb-delete"}),f.set("toolbar",_)}}},{key:"__loadTraits",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=a||this.get("traits");if(!(h instanceof T)){h=(0,g.isFunction)(h)?h(this):h;var _=new T([],this.opt);_.setTarget(this),h.length&&(h.forEach(function(A){return A.attributes&&delete A.attributes.value}),_.add(h)),this.set({traits:_},f)}return this}},{key:"getTraits",value:function(){return this.__loadTraits(),(0,$.Z)(this.get("traits").models)}},{key:"setTraits",value:function(a){var f=(0,g.isArray)(a)?a:[a];return this.set({traits:f}),this.getTraits()}},{key:"getTrait",value:function(a){return this.getTraits().filter(function(f){return f.get("id")===a||f.get("name")===a})[0]||null}},{key:"updateTrait",value:function(a,f){var h,_=this.getTrait(a);return _&&_.set(f),(h=this.em)===null||h===void 0||h.trigger("component:toggled"),this}},{key:"getTraitIndex",value:function(a){var f=this.getTrait(a);return f?this.get("traits").indexOf(f):-1}},{key:"removeTrait",value:function(a){var f,h=this,_=((0,g.isArray)(a)?a:[a]).map(function(te){return h.getTrait(te)}),A=this.get("traits"),J=_.length?A.remove(_):[];return(f=this.em)===null||f===void 0||f.trigger("component:toggled"),(0,g.isArray)(J)?J:[J]}},{key:"addTrait",value:function(a){var f,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__loadTraits();var _=this.get("traits").add(a,h);return(f=this.em)===null||f===void 0||f.trigger("component:toggled"),(0,g.isArray)(_)?_:[_]}},{key:"normalizeClasses",value:function(a){var f=[],h=this.em,_=h&&h.get("SelectorManager");if(_)return a.models?(0,$.Z)(a.models):(a.forEach(function(A){return f.push(_.add(A))}),f)}},{key:"clone",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.em,h=U({},this.attributes),_=U({},this.opt),A=this.getId(),J=f&&f.get("CssComposer");h.attributes=U({},h.attributes),delete h.attributes.id,h.components=[],h.classes=[],h.traits=[],this.__isSymbolTop()&&(a.symbol=1),this.get("components").each(function(Ne,Ze){h.components[Ze]=Ne.clone(U(U({},a),{},{_inner:1}))}),this.get("traits").each(function(Ne,Ze){h.traits[Ze]=Ne.clone()}),this.get("classes").each(function(Ne,Ze){h.classes[Ze]=Ne.get("name")}),h.status="",_.collection=null;var te=new this.constructor(h,_),F="#".concat(te.getId()),G=J?J.getRules("#".concat(A)):[];G.forEach(function(Ne){var Ze=Ne.clone();Ze.set("selectors",[F]),J.getAll().add(Ze)}),te.set(s,0);var V=this.__getSymbol(),le=this.__getSymbols();a.symbol||!V&&!le?V?(V.set(s,[].concat((0,$.Z)(V.__getSymbols()),[te])),te.__initSymb()):a.symbol&&(this.__isSymbol()?(this.set(s,[].concat((0,$.Z)(le),[te])),te.set(p,this),te.__initSymb()):a.symbolInv?(this.set(s,[te]),te.set(p,this),[this,te].map(function(Ne){return Ne.__initSymb()})):(te.set(s,[this]),[this,te].map(function(Ne){return Ne.__initSymb()}),this.set(p,te))):(te.set(p,0),te.set(s,0));var ve="component:clone";return f&&f.trigger(ve,te),this.trigger(ve,te),te}},{key:"getName",value:function(){var a=this.em,f=this.attributes,h=f.type,_=f.tagName,A=f.name,J=h||_,te=!h&&_,F="domComponents.names.",G=A&&(a==null?void 0:a.t("".concat(F).concat(A))),V=te&&(a==null?void 0:a.t("".concat(F).concat(te))),le=a&&(a.t("".concat(F).concat(h))||a.t("".concat(F).concat(_)));return this.get("custom-name")||G||A||V||(0,S.capitalize)(te)||le||(0,S.capitalize)(J)}},{key:"getIcon",value:function(){var a=this.get("icon");return a?a+" ":""}},{key:"toHTML",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this,h=[],_=a.tag,A=_||f.get("tagName"),J=f.get("void"),te=a.attributes,F=this.getAttrToHTML();if(delete a.tag,te&&((0,g.isFunction)(te)?F=te(f,F)||{}:(0,S.isObject)(te)&&(F=te)),a.withProps){var G=this.toJSON();(0,g.forEach)(G,function(ae,be){be[0]!=="_"&&["classes","attributes","components"].indexOf(be)<0&&(F["data-gjs-".concat(be)]=(0,g.isArray)(ae)||(0,S.isObject)(ae)?JSON.stringify(ae):ae)})}for(var V in F){var le=F[V];if(!(0,g.isUndefined)(le)&&le!==null)if((0,g.isBoolean)(le))le&&h.push(V);else{var ve="";if(a.altQuoteAttr&&(0,g.isString)(le)&&le.indexOf('"')>=0)ve="'".concat(le.replace(/'/g,"&apos;"),"'");else{var Ne=(0,g.isString)(le)?le.replace(/"/g,"&quot;"):le;ve='"'.concat(Ne,'"')}h.push("".concat(V,"=").concat(ve))}}var Ze=h.length?" ".concat(h.join(" ")):"",Me=f.getInnerHTML(a),je="<".concat(A).concat(Ze).concat(J?"/":"",">").concat(Me);return!J&&(je+="</".concat(A,">")),je}},{key:"getInnerHTML",value:function(a){return this.__innerHTML(a)}},{key:"__innerHTML",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.components();return f.length?f.map(function(h){return h.toHTML(a)}).join(""):this.get("content")}},{key:"getAttrToHTML",value:function(){var a=this.getAttributes();return delete a.style,a}},{key:"toJSON",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=H.Model.prototype.toJSON.call(this,a);if(f.attributes=this.getAttributes(),delete f.attributes.class,delete f.toolbar,delete f.traits,delete f.status,delete f.open,!a.fromUndo){var h=f[p],_=f[s];_&&(0,g.isArray)(_)&&(f[s]=_.filter(function(A){return A}).map(function(A){return A.getId?A.getId():A})),h&&!(0,g.isString)(h)&&(f[p]=h.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(f),f}},{key:"getChangedProps",value:function(a){var f=a||H.Model.prototype.toJSON.apply(this),h=(0,g.result)(this,"defaults");return(0,g.forEach)(h,function(_,A){["type"].indexOf(A)===-1&&f[A]===_&&delete f[A]}),(0,g.isEmpty)(f.type)&&delete f.type,(0,g.forEach)(["attributes","style"],function(_){(0,g.isEmpty)(h[_])&&(0,g.isEmpty)(f[_])&&delete f[_]}),(0,g.forEach)(["classes","components"],function(_){(!f[_]||(0,g.isEmpty)(h[_])&&!f[_].length)&&delete f[_]}),f}},{key:"getId",value:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid}},{key:"setId",value:function(a,f){var h=U({},this.get("attributes"));return h.id=a,this.set("attributes",h,f),this}},{key:"getEl",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,f=this.getView(a);return f&&f.el}},{key:"getView",value:function(a){var f=this.view,h=this.views;return a&&(f=h.filter(function(_){return _._getFrame()===a.view})[0]),f}},{key:"getCurrentView",value:function(){var a=(this.em.get("currentFrame")||{}).model;return this.getView(a)}},{key:"__getScriptProps",value:function(){var a=this.props();return(this.get("script-props")||[]).reduce(function(f,h){return f[h]=a[h],f},{})}},{key:"getScriptString",value:function(a){var f=this,h=a||this.get("script");if(!h)return h;if(this.get("script-props"))h=h.toString().trim();else{if(typeof h=="function"){var _=h.toString().trim();h=(_=_.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var A=this.em.getConfig(),J=M(A.tagVarStart||"{[ "),te=M(A.tagVarEnd||" ]}"),F=new RegExp("".concat(J,"([\\w\\d-]*)").concat(te),"g");h=h.replace(F,function(G,V){f.scriptUpdated();var le=f.attributes[V]||"";return(0,g.isArray)(le)||(0,k.Z)(le)=="object"?JSON.stringify(le):le})}return h}},{key:"emitUpdate",value:function(a){for(var f=this.em,h=K+(a?":".concat(a):""),_=a&&this.get(a),A=arguments.length,J=new Array(A>1?A-1:0),te=1;te<A;te++)J[te-1]=arguments[te];a&&this.updated.apply(this,[a,_,a&&this.previous(a)].concat(J)),this.trigger.apply(this,[h].concat(J)),f&&f.trigger.apply(f,[h,this].concat(J)),["components","classes"].indexOf(a)>=0&&this.__propSelfToParent({component:this,changed:{[a]:_},options:J[2]||J[1]||{}})}},{key:"onAll",value:function(a){return(0,g.isFunction)(a)&&(a(this),this.components().forEach(function(f){return f.onAll(a)})),this}},{key:"remove",value:function(){var a=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=this.em,_=this.collection,A=function(){_&&_.remove(a,U(U({},f),{},{action:"remove-component"})),_||(a.components("",f),a.components().removeChildren(a,null,f))},J=U({},f);return[this,h].map(function(te){return te.trigger("component:remove:before",a,A,J)}),!J.abort&&A(),this}},{key:"move",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var h=f.at,_=this.index(),A=a===this.parent(),J=_===h||_===h-1;A&&J||(A&&h&&h>_&&(f.at=h-1),this.remove({temporary:1}),a.append(this,f),this.emitUpdate())}return this}},{key:"isInstanceOf",value:function(a){var f,h,_=(f=this.em)===null||f===void 0||(h=f.get("DomComponents").getType(a))===null||h===void 0?void 0:h.model;return!!_&&this instanceof _}},{key:"isChildOf",value:function(a){for(var f=(0,g.isString)(a),h=this.parent();h;){if(f){if(h.isInstanceOf(a))return!0}else if(h===a)return!0;h=h.parent()}return!1}},{key:"resetId",value:function(){var a=this.em,f=this.getId();if(f){var h=b.createId(this);this.setId(h);var _=a&&a.get("CssComposer").getIdRule(f),A=_&&_.get("selectors").at(0);return A&&A.set("name",h),this}}},{key:"_getStyleRule",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=a.id,h=this.em,_=f||this.getId();return h&&h.get("CssComposer").getIdRule(_)}},{key:"_getStyleSelector",value:function(a){var f=this._getStyleRule(a);return f&&f.get("selectors").at(0)}},{key:"_idUpdated",value:function(a,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!h.idUpdate){var _=this.ccid,A=this.get("attributes")||{},J=A.id,te=(this.previous("attributes")||{}).id||_,F=b.getList(this);if(F[J]||!J&&te)return this.setId(te,{idUpdate:1});delete F[te],F[J]=this,this.ccid=J;var G=this._getStyleSelector({id:te});G&&G.set({name:J,label:J})}}}]),b}(I.Z);ne.getDefaults=function(){return(0,g.result)(this.prototype,"defaults")},ne.isComponent=function(R){return{tagName:(0,S.toLowerCase)(R.tagName)}},ne.ensureInList=function(R){var v=ne.getList(R),b=R.getId(),a=v[b];if(a){if(a!==R){var f=ne.getIncrementId(b,v);R.setId(f),v[f]=R}}else v[b]=R;R.components().forEach(function(h){return ne.ensureInList(h)})},ne.createId=function(R){var v,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=ne.getList(R),f=b.idMap,h=f===void 0?{}:f,_=R.get("attributes"),A=_.id;return A?(v=ne.getIncrementId(A,a,b),R.setId(v),A!==v&&(h[A]=v)):v=ne.getNewId(a),a[v]=R,v},ne.getNewId=function(R){for(var v=Object.keys(R).length.toString().length+2,b=(Math.random()+1.1).toString(36).slice(-v),a="i".concat(b);R[a];)a=ne.getNewId(R);return a},ne.getIncrementId=function(R,v){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=b.keepIds,f=a===void 0?[]:a,h=1,_=R;if(f.indexOf(R)<0)for(;v[_];)h++,_="".concat(R,"-").concat(h);return _},ne.getList=function(R){var v=R.opt,b=v===void 0?{}:v,a=b.domc,f=b.em,h=a||f&&f.get("DomComponents");return h?h.componentsById:{}},ne.checkId=function(R){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=(0,g.isArray)(R)?R:[R],h=a.keepIds,_=h===void 0?[]:h;f.forEach(function(A){var J=A.attributes,te=J===void 0?{}:J,F=A.components,G=te.id;if(G&&b[G]&&_.indexOf(G)<0){var V=ne.getIncrementId(G,b);te.id=V,(0,g.isArray)(v)&&v.forEach(function(le){var ve=le.selectors;ve.forEach(function(Ne,Ze){Ne==="#".concat(G)&&(ve[Ze]="#".concat(V))})})}F&&ne.checkId(F,v,b,a)})}},8431:(z,ie,w)=>{w.d(ie,{Z:()=>B});var k=w(1002),$=w(2982),D=w(5671),q=w(3144),l=w(7326),P=w(9340),N=w(2963),C=w(1120),y=w(4942),m=w(4925),g=w(2316),S=w.n(g),I=w(9050),H=w(9138),X=["id","draggable"],Y=["at"];function x(T){var j=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var U,E=(0,C.Z)(T);if(j){var M=(0,C.Z)(this).constructor;U=Reflect.construct(E,arguments,M)}else U=E.apply(this,arguments);return(0,N.Z)(this,U)}}function W(T,j){var U=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);j&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable})),U.push.apply(U,E)}return U}function oe(T){for(var j=1;j<arguments.length;j++){var U=arguments[j]!=null?arguments[j]:{};j%2?W(Object(U),!0).forEach(function(E){(0,y.Z)(T,E,U[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(U)):W(Object(U)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(U,E))})}return T}var se=function T(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!j)return[];var E=(0,I.isArray)(j)||(0,I.isFunction)(j.map)?j:[j];return E.map(function(M){U.push(M.getId()),T(M.components().models,U)}),U},Z=function T(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};E.visitedCmps=E.visitedCmps||{};var M=E.visitedCmps,c=(0,I.isArray)(j)?j:[j];return c.map(function(d){var s=d.attributes,p=s===void 0?{}:s,O=d.components,K=d.tagName,Q=p.id,ne=(p.draggable,(0,m.Z)(p,X)),R=d;if(Q&&(M[Q]?(M[Q].push(R),Q=H.ZP.getNewId(U),R.attributes.id=Q):(M[Q]=[],U[Q]&&(R=U[Q],K&&R.set({tagName:K},oe(oe({},E),{},{silent:!0})),(0,I.keys)(ne).length&&R.addAttributes(ne,oe({},E))))),O){var v=T(O,U);if((0,I.isFunction)(R.components)){var b=R.components();b.length>0&&b.reset(v,E)}else R.components=v}return R})},B=function(T){(0,P.Z)(U,T);var j=x(U);function U(){var E;(0,D.Z)(this,U);for(var M=arguments.length,c=new Array(M),d=0;d<M;d++)c[d]=arguments[d];return E=j.call.apply(j,[this].concat(c)),(0,y.Z)((0,l.Z)(E),"__onAddEnd",(0,I.debounce)(function(){})),E}return(0,q.Z)(U,[{key:"initialize",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.opt=M,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var c=M.em,d=M.config;this.config=d,this.em=c,this.domc=M.domc||c&&c.get("DomComponents")}},{key:"resetChildren",value:function(E){var M=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=this,s=c.previousModels||[],p=s.filter(function(K){return!E.get(K.cid)}),O=se(E);c.keepIds=se(s).filter(function(K){return O.indexOf(K)>=0}),p.forEach(function(K){return M.removeChildren(K,d,c)}),E.each(function(K){return M.onAdd(K)})}},{key:"resetFromString",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M.keepIds=se(this);var c=this.domc,d=this.em,s=this.parent,p=d==null?void 0:d.get("CssComposer"),O=(c==null?void 0:c.allById())||{},K=this.parseString(E,M),Q=Z(K,O,M),ne=M.visitedCmps,R=ne===void 0?{}:ne;Object.keys(R).forEach(function(v){var b=R[v];if(b.length){var a=(p==null?void 0:p.getRules("#".concat(v)))||[];a.length&&b.forEach(function(f){a.forEach(function(h){var _=h.clone();_.set("selectors",["#".concat(f.attributes.id)]),p.getAll().add(_)})})}}),this.reset(Q,M),d==null||d.trigger("component:content",s,M,E)}},{key:"removeChildren",value:function(E,M){var c=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(E){var s=this.domc,p=this.em,O=d.temporary||d.fromUndo;if(E.prevColl=this,!O){var K=E.getId(),Q=p.get("SelectorManager").getAll(),ne=p.get("CssComposer").getAll(),R=(d.keepIds||[]).indexOf(K)<0,v=s?s.allById():{};delete v[K];var b=R?ne.remove(ne.filter(function(h){return h.getSelectors().getFullString()==="#".concat(K)}),d):[];Q.remove(b.map(function(h){return h.getSelectors().at(0)})),E.opt.temporary||(p.get("Commands").run("core:component-style-clear",{target:E}),E.removed(),E.trigger("removed"),p.trigger("component:remove",E));var a=E.components();a.forEach(function(h){return c.removeChildren(h,M,d)})}var f=E.components();p.stopListening(f),p.stopListening(E),p.stopListening(E.get("classes")),E.__postRemove()}}},{key:"model",value:function(E,M){var c,d=M.collection.opt,s=d.em,p=s.get("DomComponents").componentTypes;M.em=s,M.config=d.config,M.componentTypes=p,M.domc=d.domc;for(var O=0;O<p.length;O++)if(p[O].id==E.type){c=p[O].model;break}return c||(c=p[p.length-1].model,s&&E.type&&s.logWarning("Component type '".concat(E.type,"' not found"),{attrs:E,options:M})),new c(E,M)}},{key:"parseString",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.em,d=this.domc,s=c.get("CssComposer"),p=c.get("Parser").parseHtml(E);if(H.ZP.checkId(p.html,p.css,d.componentsById,M),p.css&&s&&!M.temporary){M.at;var O=(0,m.Z)(M,Y);s.addCollection(p.css,oe(oe({},O),{},{extend:1}))}return p.html}},{key:"add",value:function(E){var M=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c.keepIds=[].concat((0,$.Z)(c.keepIds||[]),(0,$.Z)(se(c.previousModels))),(0,I.isString)(E)?E=this.parseString(E,c):(0,I.isArray)(E)&&(E=(0,$.Z)(E)).forEach(function(p,O){if((0,I.isString)(p)){var K=M.parseString(p,c);E[O]=(0,I.isArray)(K)&&!K.length?null:K}});var d=(0,I.isArray)(E);E=(d?E:[E]).filter(function(p){return p}).map(function(p){return M.processDef(p)}),E=d?(0,I.flatten)(E,1):E[0];var s=S().Collection.prototype.add.apply(this,[E,c]);return this.__firstAdd=s,s}},{key:"processDef",value:function(E){if(E.cid&&E.ccid)return E;var M=this.em,c=this.config,d=(c===void 0?{}:c).processor,s=E;if(d){var p=d(s=oe({},s));p&&((0,I.each)(s,function(v,b){return delete s[b]}),(0,I.extend)(s,p))}if(s.$$typeof&&(0,k.Z)(s.props)=="object"){(s=oe({},s)).props=oe({},s.props);var O=M.get("DomComponents"),K=M.get("Parser").parserHtml;(0,I.each)(s,function(v,b){(0,I.includes)(["props","type"],b)||delete s[b]});var Q=s.props,ne=Q.children;delete Q.children,delete s.props;var R=K.splitPropsFromAttr(Q);s.attributes=R.attrs,ne&&(s.components=ne),s.type?O.getType(s.type)||(s.tagName=s.type,delete s.type):s.type="textnode",(0,I.extend)(s,R.props)}return s}},{key:"onAdd",value:function(E,M){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=this.domc,s=this.em,p=E.getStyle(),O=s&&s.getConfig().avoidInlineStyle;if(d&&d.Component.ensureInList(E),!(0,I.isEmpty)(p)&&!O&&s&&s.get&&s.getConfig().forceClass&&!c.temporary){var K=E.cid;s.get("CssComposer").setClassRule(K,p),E.setStyle({}),E.addClass(K)}E.__postAdd({recursive:1}),this.__onAddEnd()}}]),U}(S().Collection)},2169:(z,ie,w)=>{w.d(ie,{Z:()=>W});var k=w(4942),$=w(5671),D=w(3144),q=w(9340),l=w(2963),P=w(1120),N=w(2316),C=w.n(N),y=w(9050),m=w(8431),g=w(3505),S=w(966),I=w(9283),H=w(1163);function X(oe,se){var Z=Object.keys(oe);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(oe);se&&(B=B.filter(function(T){return Object.getOwnPropertyDescriptor(oe,T).enumerable})),Z.push.apply(Z,B)}return Z}function Y(oe){for(var se=1;se<arguments.length;se++){var Z=arguments[se]!=null?arguments[se]:{};se%2?X(Object(Z),!0).forEach(function(B){(0,k.Z)(oe,B,Z[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Z)):X(Object(Z)).forEach(function(B){Object.defineProperty(oe,B,Object.getOwnPropertyDescriptor(Z,B))})}return oe}function x(oe){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Z,B=(0,P.Z)(oe);if(se){var T=(0,P.Z)(this).constructor;Z=Reflect.construct(B,arguments,T)}else Z=B.apply(this,arguments);return(0,l.Z)(this,Z)}}var W=function(oe){(0,q.Z)(Z,oe);var se=x(Z);function Z(){return(0,$.Z)(this,Z),se.apply(this,arguments)}return(0,D.Z)(Z,[{key:"className",value:function(){return this.getClasses()}},{key:"tagName",value:function(){return this.model.get("tagName")}},{key:"initialize",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.model,j=B.config||{},U=j.em,E=T.opt||{},M=this.$el,c=this.el;this.opts=B,this.modelOpt=E,this.config=j,this.em=U||"",this.pfx=j.stylePrefix||"",this.ppfx=j.pStylePrefix||"",this.attr=T.get("attributes"),this.classe=this.attr.class||[],this.listenTo(T,"change:style",this.updateStyle),this.listenTo(T,"change:attributes",this.renderAttributes),this.listenTo(T,"change:highlightable",this.updateHighlight),this.listenTo(T,"change:status change:locked",this.updateStatus),this.listenTo(T,"change:script rerender",this.reset),this.listenTo(T,"change:content",this.updateContent),this.listenTo(T,"change",this.handleChange),this.listenTo(T,"active",this.onActive),this.listenTo(T,"disable",this.onDisable),M.data("model",T),(0,H.setViewEl)(c,this),T.view=this,this._getFrame()&&T.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=Y(Y({},this.constructor.getEvents()),{},{dragstart:"handleDragStart"}),this.delegateEvents(),!E.temporary&&this.init(this._clbObj())}},{key:"__isDraggable",value:function(){var B=this.model,T=this.config,j=B.attributes.draggable;return T.draggableComponents&&j}},{key:"_clbObj",value:function(){var B=this.em,T=this.model,j=this.el;return{editor:B&&B.getEditor(),model:T,el:j}}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onActive",value:function(){}},{key:"onDisable",value:function(){}},{key:"remove",value:function(){var B;C().View.prototype.remove.apply(this,arguments);var T=this.model,j=this.$el,U=T.views,E=this._getFrame()||{};return T.components().forEach(function(M){var c=M.getView(E.model);c==null||c.remove()}),(B=this.childrenView)===null||B===void 0||B.remove(),U.splice(U.indexOf(this),1),this.removed(this._clbObj()),j.data({model:"",collection:"",view:""}),this}},{key:"handleDragStart",value:function(B){if(!this.__isDraggable())return!1;B.stopPropagation(),B.preventDefault(),this.em.get("Commands").run("tlb-move",{target:this.model,event:B})}},{key:"initClasses",value:function(){var B=this.model,T="change:classes",j=B.get("classes");j instanceof S.Z&&(this.stopListening(B,T,this.initClasses),this.listenTo(B,T,this.initClasses),this.listenTo(j,"add remove change",this.updateClasses),j.length&&this.importClasses())}},{key:"initComponents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.model,j=this.$el,U=this.childrenView,E="change:components",M=T.get("components"),c=[T,E,this.initComponents];M instanceof m.Z&&(j.data("collection",M),U&&U.remove(),this.stopListening.apply(this,c),!B.avoidRender&&this.renderChildren(),this.listenTo.apply(this,c))}},{key:"handleChange",value:function(){var B=this.model,T=(0,y.keys)(B.changed);if(T.length!==1||T[0]!=="status")for(var j in B.emitUpdate(),B.changed)B.emitUpdate(j)}},{key:"importClasses",value:function(){var B=this.config.em.get("SelectorManager");B&&this.model.get("classes").each(function(T){B.add(T.get("name"))})}},{key:"updateStatus",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.em,j=this.el,U=this.ppfx,E=this.model,M=T?T.get("Canvas").getConfig():{},c=M.extHl,d=E.get("status"),s="".concat(U,"selected"),p="".concat(s,"-parent"),O="".concat(U,"freezed"),K="".concat(U,"hovered"),Q="".concat(U,"no-pointer"),ne=[s,p,O,K,Q],R=c&&!B.noExtHl?"":s;this.$el.removeClass(ne.join(" "));var v=j.getAttribute("class")||"",b=[v];switch(d){case"selected":b.push(R);break;case"selected-parent":b.push(p);break;case"freezed":b.push(O);break;case"freezed-selected":b.push(O,R);break;case"hovered":!B.avoidHover&&b.push(K)}E.get("locked")&&b.push(Q);var a=b.filter(Boolean).join(" ");a&&j.setAttribute("class",a)}},{key:"updateHighlight",value:function(){var B=this.model,T=B.get("textable"),j=B.get("highlightable")&&(T||!B.isChildOf("text"));this.setAttribute("data-gjs-highlightable",!!j||"")}},{key:"updateStyle",value:function(B,T){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=this.model,E=this.em;if(E&&E.getConfig().avoidInlineStyle&&!j.inline){var M=U.getStyle();!(0,y.isEmpty)(M)&&U.setStyle(M)}else this.setAttribute("style",U.styleToString(j))}},{key:"updateClasses",value:function(){var B=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",B),this.updateStatus(),this.onAttrUpdate()}},{key:"setAttribute",value:function(B,T){var j=this.$el;T?j.attr(B,T):j.removeAttr(B)}},{key:"getClasses",value:function(){return this.model.getClasses().join(" ")}},{key:"updateAttributes",value:function(){var B=[],T=this.model,j=this.$el,U=this.el,E=T.attributes,M=E.textable,c=E.type,d=Y(Y({id:T.getId(),"data-gjs-type":c||"default"},this.__isDraggable()&&{draggable:!0}),M&&{contenteditable:"false"});(0,y.each)(U.attributes,function(p){return B.push(p.nodeName)}),B.forEach(function(p){return j.removeAttr(p)}),this.updateStyle(),this.updateHighlight();var s=Y(Y({},d),T.getAttributes());(0,y.keys)(s).forEach(function(p){return s[p]===!1&&delete s[p]}),j.attr(s)}},{key:"updateContent",value:function(){var B=this.model.get("content"),T=this.model.components().length;this.getChildrenContainer().innerHTML=T?"":B}},{key:"prevDef",value:function(B){B.preventDefault()}},{key:"updateScript",value:function(){var B=this.model,T=this.em;B.get("script")&&T&&T.get("Canvas").getCanvasView().updateScript(this)}},{key:"getChildrenContainer",value:function(){var B=this.el;return typeof this.getChildrenSelector=="function"?B=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,B}},{key:"getOffsetRect",value:function(){var B={},T=this.el,j=0,U=0;return function E(M){var c=M.offsetParent;c?(j+=c.offsetTop,U+=c.offsetLeft,E(c)):(B.top=T.offsetTop+j,B.left=T.offsetLeft+U,B.bottom=B.top+T.offsetHeight,B.right=B.left+T.offsetWidth)}(T),B}},{key:"isInViewport",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=B.rect,j=this.el,U=j.ownerDocument,E=U.body,M=U.defaultView.frameElement,c=T||this.getOffsetRect(),d=c.top,s=c.left,p=this._getFrame().getOffsetRect();return d>=p.scrollTop&&s>=p.scrollLeft&&d<=p.scrollBottom&&s<=M.offsetWidth+E.scrollLeft}},{key:"scrollIntoView",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.getOffsetRect(),j=this.isInViewport({rect:T});if(!j||B.force){var U=this.el;B.behavior!=="smooth"?U.ownerDocument.defaultView.scrollTo(0,T.top):U.scrollIntoView(Y({behavior:"smooth",block:"nearest"},B))}}},{key:"reset",value:function(){var B=this.el;this.el="",this._ensureElement(),this._setData(),(0,I.dL)(B,this.el),this.render()}},{key:"_setData",value:function(){var B=this.model,T=B.components();this.$el.data({model:B,collection:T,view:this})}},{key:"_getFrame",value:function(){var B;return(B=this.config.em)===null||B===void 0?void 0:B.get("Canvas").config.frameView}},{key:"renderChildren",value:function(){this.updateContent();var B=this.getChildrenContainer(),T=this.childrenView||new g.Z({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});T.render(B),this.childrenView=T;for(var j=Array.prototype.slice.call(T.el.childNodes),U=0,E=j.length;U<E;U++)B.appendChild(j.shift())}},{key:"renderAttributes",value:function(){this.updateAttributes(),this.updateClasses()}},{key:"onAttrUpdate",value:function(){}},{key:"render",value:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),(0,H.setViewEl)(this.el,this),this.postRender()),this}},{key:"postRender",value:function(){this.modelOpt.temporary||this.onRender(this._clbObj())}},{key:"onRender",value:function(){}}]),Z}(C().View);W.getEvents=function(){return(0,y.result)(this.prototype,"events")}},3505:(z,ie,w)=>{w.d(ie,{Z:()=>g});var k=w(5671),$=w(3144),D=w(9340),q=w(2963),l=w(1120),P=w(2316),N=w.n(P),C=w(9050),y=w(9283);function m(S){var I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,X=(0,l.Z)(S);if(I){var Y=(0,l.Z)(this).constructor;H=Reflect.construct(X,arguments,Y)}else H=X.apply(this,arguments);return(0,q.Z)(this,H)}}var g=function(S){(0,D.Z)(H,S);var I=m(H);function H(){return(0,k.Z)(this,H),I.apply(this,arguments)}return(0,$.Z)(H,[{key:"initialize",value:function(X){this.opts=X||{},this.config=X.config||{},this.em=this.config.em;var Y=this.collection;this.listenTo(Y,"add",this.addTo),this.listenTo(Y,"reset",this.resetChildren),this.listenTo(Y,"remove",this.removeChildren)}},{key:"removeChildren",value:function(X,Y){var x=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};X.views.forEach(function(se){if(se){var Z=se.childrenView,B=se.scriptContainer;Z&&Z.stopListening(),(0,y.L_)(B),se.remove.apply(se)}});var oe=X.components();oe.forEach(function(se){return x.removeChildren(se,Y,W)})}},{key:"addTo",value:function(X){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},x=this.config.em,W=this.collection.indexOf(X);if(this.addToCollection(X,null,W),x&&!Y.temporary){var oe=function se(Z){x.trigger("component:add",Z),Z.components().forEach(function(B){return se(B)})};oe(X)}}},{key:"addToCollection",value:function(X,Y,x){this.compView||(this.compView=w(2169).Z);for(var W=this.config,oe=this.opts,se=this.em,Z=Y||null,B=W.frameView,T=B===void 0?{}:B,j=T.model&&X.getView(T.model),U=oe.componentTypes||se&&se.get("DomComponents").getTypes(),E=X.get("type")||"default",M=this.compView,c=0;c<U.length;c++)if(U[c].id==E){M=U[c].view;break}var d,s=j||new M({model:X,config:W,componentTypes:U});try{d=s.render().el}catch(Q){d=document.createTextNode(""),se.logError(Q)}if(Z)Z.appendChild(d);else{var p=this.parentEl,O=p.childNodes;if((0,C.isUndefined)(x))p.appendChild(d);else{var K=O.length==x;K&&x--,K||!O.length?p.appendChild(d):p.insertBefore(d,O[x])}}return X.opt.temporary||se==null||se.trigger("component:mount",X),d}},{key:"resetChildren",value:function(X){var Y=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=x.previousModels,oe=W===void 0?[]:W;this.parentEl.innerHTML="",oe.forEach(function(se){return Y.removeChildren(se,Y.collection)}),X.each(function(se){return Y.addToCollection(se)})}},{key:"render",value:function(X){var Y=this,x=this.el,W=document.createDocumentFragment();return this.parentEl=X||this.el,this.collection.each(function(oe){return Y.addToCollection(oe,W)}),x.innerHTML="",x.appendChild(W),this}}]),H}(N().View)},9524:(z,ie,w)=>{w.d(ie,{Z:()=>X});var k=w(4942),$=w(5671),D=w(3144),q=w(9340),l=w(2963),P=w(1120),N=w(9050),C=w(1163),y=w(5311),m=w(2316);function g(Y,x){var W=Object.keys(Y);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(Y);x&&(oe=oe.filter(function(se){return Object.getOwnPropertyDescriptor(Y,se).enumerable})),W.push.apply(W,oe)}return W}function S(Y){for(var x=1;x<arguments.length;x++){var W=arguments[x]!=null?arguments[x]:{};x%2?g(Object(W),!0).forEach(function(oe){(0,k.Z)(Y,oe,W[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(W)):g(Object(W)).forEach(function(oe){Object.defineProperty(Y,oe,Object.getOwnPropertyDescriptor(W,oe))})}return Y}function I(Y){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,oe=(0,P.Z)(Y);if(x){var se=(0,P.Z)(this).constructor;W=Reflect.construct(oe,arguments,se)}else W=oe.apply(this,arguments);return(0,l.Z)(this,W)}}var H=(0,y.Z)(),X=function(Y){(0,q.Z)(W,Y);var x=I(W);function W(){return(0,$.Z)(this,W),x.apply(this,arguments)}return(0,D.Z)(W,[{key:"parseStyle",value:function(oe){return H.parseStyle(oe)}},{key:"extendStyle",value:function(oe){return S(S({},this.getStyle()),oe)}},{key:"getStyle",value:function(oe){var se=S({},this.get("style")||{});return oe&&(0,N.isString)(oe)?se[oe]:se}},{key:"setStyle",value:function(){var oe=this,se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,N.isString)(se)&&(se=this.parseStyle(se));var B=this.getStyle(Z),T=S({},se),j=S({},T);(0,N.keys)(j).forEach(function(E){j[E]===""&&delete j[E]}),this.set("style",j,Z);var U=(0,C.shallowDiff)(B,T);return delete U.__p,(0,N.keys)(U).forEach(function(E){var M=oe.em;Z.noEvent||(oe.trigger("change:style:".concat(E)),M&&(M.trigger("styleable:change",oe,E,Z),M.trigger("styleable:change:".concat(E),oe,E,Z)))}),T}},{key:"addStyle",value:function(oe){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof oe=="string"?oe={prop:se}:Z=se||{},oe=this.extendStyle(oe),this.setStyle(oe,Z)}},{key:"removeStyle",value:function(oe){var se=this.getStyle();delete se[oe],this.setStyle(se)}},{key:"styleToString",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=[],Z=this.getStyle(oe);for(var B in Z){var T=oe.important,j=(0,N.isArray)(T)?T.indexOf(B)>=0:T,U="".concat(Z[B]).concat(j?" !important":""),E=B.substr(0,2)=="__";U&&!E&&se.push("".concat(B,":").concat(U,";"))}return se.join("")}},{key:"getSelectors",value:function(){return this.get("selectors")||this.get("classes")}},{key:"getSelectorsString",value:function(oe){return this.selectorsToString?this.selectorsToString(oe):this.getSelectors().getFullString()}},{key:"_validate",value:function(oe,se){return!0}}]),W}(m.Model)},793:(z,ie,w)=>{w.d(ie,{Z:()=>P});var k=w(4942),$=w(9050),D=w(2316);function q(N,C){var y=Object.keys(N);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(N);C&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(N,g).enumerable})),y.push.apply(y,m)}return y}function l(N){for(var C=1;C<arguments.length;C++){var y=arguments[C]!=null?arguments[C]:{};C%2?q(Object(y),!0).forEach(function(m){(0,k.Z)(N,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(y)):q(Object(y)).forEach(function(m){Object.defineProperty(N,m,Object.getOwnPropertyDescriptor(y,m))})}return N}const P={types:[],initialize:function(N){var C=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=y.em;this.em=m,this.opts=y,this.model=function(){var S,I,H,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(X&&X.type){var x=C.getBaseType();S=(H=C.getType(X.type))?H.model:x.model,I=H?H.view:x.view}else{var W=C.recognizeType(X);S=(H=W.type).model,I=H.view,X=W.attributes}var oe=new S(X,l(l({},Y),{},{em:m}));return oe.typeView=I,oe};var g=this.init&&this.init.bind(this);g&&g()},recognizeType:function(N){for(var C=this.getTypes(),y=0;y<C.length;y++){var m=C[y],g=m.isType(N);if(g=typeof g=="boolean"&&g?{type:m.id}:g)return{type:m,attributes:g}}return{type:this.getBaseType(),attributes:N}},getBaseType:function(){var N=this.getTypes();return N[N.length-1]},getTypes:function(){return this.types},getType:function(N){for(var C=this.getTypes(),y=0;y<C.length;y++){var m=C[y];if(m.id===N)return m}},addType:function(N,C){var y=this.getType(N),m=this.getBaseType(),g=y?y.model:m.model,S=y?y.view:m.view,I=C.model,H=C.view,X=C.isType;I=I instanceof D.Model||(0,$.isFunction)(I)?I:g.extend(I||{}),H=H instanceof D.View||(0,$.isFunction)(H)?H:S.extend(H||{}),!this.extendViewApi||C.model||C.view||(H=H.extend(C)),y?(y.model=I,y.view=H,y.isType=X||y.isType):(C.id=N,C.model=I,C.view=H,C.isType=X||function(Y){if(Y&&Y.type==N)return!0},this.getTypes().unshift(C))}}},8659:(z,ie,w)=>{w.d(ie,{Z:()=>m});var k=w(5671),$=w(3144),D=w(9340),q=w(2963),l=w(1120),P=w(2316),N=w.n(P);function C(g){var S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,H=(0,l.Z)(g);if(S){var X=(0,l.Z)(this).constructor;I=Reflect.construct(H,arguments,X)}else I=H.apply(this,arguments);return(0,q.Z)(this,I)}}var y=N().$,m=function(g){(0,D.Z)(I,g);var S=C(I);function I(){var H,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,k.Z)(this,I),H=S.call(this,X);var Y=X.ppfx||"";return H.opts=X,H.ppfx=Y,H.em=X.target||{},!X.onChange&&H.listenTo(H.model,"change:value",H.handleModelChange),H}return(0,$.Z)(I,[{key:"template",value:function(){return'<span class="'.concat(this.holderClass(),'"></span>')}},{key:"inputClass",value:function(){return"".concat(this.ppfx,"field")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"setValue",value:function(H){var X=this.model,Y=H||X.get("defaults"),x=this.getInputEl();x&&(x.value=Y)}},{key:"handleModelChange",value:function(H,X,Y){this.setValue(X,Y)}},{key:"handleChange",value:function(H){H.stopPropagation();var X=this.getInputEl().value;this.__onInputChange(X),this.elementUpdated()}},{key:"__onInputChange",value:function(H){this.model.set({value:H},{fromInput:1})}},{key:"getInputEl",value:function(){if(!this.inputEl){var H=this.model,X=this.opts.type||"text",Y=H.get("placeholder")||H.get("defaults")||H.get("default")||"";this.inputEl=y('<input type="'.concat(X,'" placeholder="').concat(Y,'">'))}return this.inputEl.get(0)}},{key:"render",value:function(){this.inputEl=null;var H=this.$el;return H.addClass(this.inputClass()),H.html(this.template()),H.find(".".concat(this.holderClass())).append(this.getInputEl()),this}}]),I}(N().View);m.prototype.events={change:"handleChange"}},1511:(z,ie,w)=>{w.d(ie,{Z:()=>W});var k=w(4942),$=w(5671),D=w(3144),q=w(9340),l=w(2963),P=w(1120),N=w(2316),C=w.n(N),y=w(9050),m=w(1002),g=w(1163),S=w(8659);function I(oe,se){var Z=Object.keys(oe);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(oe);se&&(B=B.filter(function(T){return Object.getOwnPropertyDescriptor(oe,T).enumerable})),Z.push.apply(Z,B)}return Z}function H(oe){for(var se=1;se<arguments.length;se++){var Z=arguments[se]!=null?arguments[se]:{};se%2?I(Object(Z),!0).forEach(function(B){(0,k.Z)(oe,B,Z[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Z)):I(Object(Z)).forEach(function(B){Object.defineProperty(oe,B,Object.getOwnPropertyDescriptor(Z,B))})}return oe}function X(oe){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Z,B=(0,P.Z)(oe);if(se){var T=(0,P.Z)(this).constructor;Z=Reflect.construct(B,arguments,T)}else Z=B.apply(this,arguments);return(0,l.Z)(this,Z)}}var Y=C().$;Y&&function(oe,se){if((0,g.hasWin)()){var Z={beforeShow:te,move:te,change:te,show:te,hide:te,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},B=[],T=!!/msie/i.exec(window.navigator.userAgent),j=function(){function Ke(vt,Ct){return!!~(""+vt).indexOf(Ct)}var gt=document.createElement("div").style;return gt.cssText="background-color:rgba(0,0,0,.5)",Ke(gt.backgroundColor,"rgba")||Ke(gt.backgroundColor,"hsla")}(),U=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),E=function(){var Ke="";if(T)for(var gt=1;gt<=6;gt++)Ke+="<div class='sp-"+gt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Ke,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),M="spectrum.id";oe.fn.spectrum=function(Ke,gt){if(typeof Ke=="string"){var vt=this,Ct=Array.prototype.slice.call(arguments,1);return this.each(function(){var It=B[oe(this).data(M)];if(It){var Nt=It[Ke];if(!Nt)throw new Error("Spectrum: no such method: '"+Ke+"'");Ke=="get"?vt=It.get():Ke=="container"?vt=It.container:Ke=="option"?vt=It.option.apply(It,Ct):Ke=="destroy"?(It.destroy(),oe(this).removeData(M)):Nt.apply(It,Ct)}}),vt}return this.spectrum("destroy").each(function(){var It=J(this,oe.extend({},Ke,oe(this).data()));oe(this).data(M,It.id)})},oe.fn.spectrum.load=!0,oe.fn.spectrum.loadOpts={},oe.fn.spectrum.draggable=V,oe.fn.spectrum.defaults=Z,oe.fn.spectrum.inputTypeColorSupport=function Ke(){if(Ke._cachedResult===void 0){var gt=oe("<input type='color'/>")[0];Ke._cachedResult=gt.type==="color"&&gt.value!==""}return Ke._cachedResult},oe.spectrum={},oe.spectrum.localization={},oe.spectrum.palettes={},oe.fn.spectrum.processNativeColorInputs=function(){var Ke=oe("input[type=color]");Ke.length&&!le()&&Ke.spectrum({preferredFormat:"hex6"})};var c=/^[\s,#]+/,d=/\s+$/,s=0,p=Math,O=p.round,K=p.min,Q=p.max,ne=p.random,R=function Ke(gt,vt){if(vt=vt||{},(gt=gt||"")instanceof Ke)return gt;if(!(this instanceof Ke))return new Ke(gt,vt);var Ct=function(It){var Nt={r:0,g:0,b:0},sn=1,mn=!1,hn=!1;typeof It=="string"&&(It=function(rn){rn=rn.replace(c,"").replace(d,"").toLowerCase();var nn,wn=!1;if(f[rn])rn=f[rn],wn=!0;else if(rn=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(nn=_.rgb.exec(rn))?{r:nn[1],g:nn[2],b:nn[3]}:(nn=_.rgba.exec(rn))?{r:nn[1],g:nn[2],b:nn[3],a:nn[4]}:(nn=_.hsl.exec(rn))?{h:nn[1],s:nn[2],l:nn[3]}:(nn=_.hsla.exec(rn))?{h:nn[1],s:nn[2],l:nn[3],a:nn[4]}:(nn=_.hsv.exec(rn))?{h:nn[1],s:nn[2],v:nn[3]}:(nn=_.hsva.exec(rn))?{h:nn[1],s:nn[2],v:nn[3],a:nn[4]}:(nn=_.hex8.exec(rn))?{a:mt(nn[1]),r:Ge(nn[2]),g:Ge(nn[3]),b:Ge(nn[4]),format:wn?"name":"hex8"}:(nn=_.hex6.exec(rn))?{r:Ge(nn[1]),g:Ge(nn[2]),b:Ge(nn[3]),format:wn?"name":"hex"}:(nn=_.hex3.exec(rn))?{r:Ge(nn[1]+""+nn[1]),g:Ge(nn[2]+""+nn[2]),b:Ge(nn[3]+""+nn[3]),format:wn?"name":"hex"}:!1}(It)),(0,m.Z)(It)=="object"&&(It.hasOwnProperty("r")&&It.hasOwnProperty("g")&&It.hasOwnProperty("b")?(fn=It.r,pn=It.g,Qt=It.b,Nt={r:255*st(fn,255),g:255*st(pn,255),b:255*st(Qt,255)},mn=!0,hn=String(It.r).substr(-1)==="%"?"prgb":"rgb"):It.hasOwnProperty("h")&&It.hasOwnProperty("s")&&It.hasOwnProperty("v")?(It.s=We(It.s),It.v=We(It.v),Nt=function(rn,nn,wn){rn=6*st(rn,360),nn=st(nn,100),wn=st(wn,100);var Bn=p.floor(rn),Hn=rn-Bn,Zn=wn*(1-nn),Fn=wn*(1-Hn*nn),xn=wn*(1-(1-Hn)*nn),Nn=Bn%6;return{r:255*[wn,Fn,Zn,Zn,xn,wn][Nn],g:255*[xn,wn,wn,Fn,Zn,Zn][Nn],b:255*[Zn,Zn,xn,wn,wn,Fn][Nn]}}(It.h,It.s,It.v),mn=!0,hn="hsv"):It.hasOwnProperty("h")&&It.hasOwnProperty("s")&&It.hasOwnProperty("l")&&(It.s=We(It.s),It.l=We(It.l),Nt=function(rn,nn,wn){var Bn,Hn,Zn;function Fn(Vn,Sn,ln){return ln<0&&(ln+=1),ln>1&&(ln-=1),ln<1/6?Vn+6*(Sn-Vn)*ln:ln<1/2?Sn:ln<2/3?Vn+(Sn-Vn)*(2/3-ln)*6:Vn}if(rn=st(rn,360),nn=st(nn,100),wn=st(wn,100),nn===0)Bn=Hn=Zn=wn;else{var xn=wn<.5?wn*(1+nn):wn+nn-wn*nn,Nn=2*wn-xn;Bn=Fn(Nn,xn,rn+1/3),Hn=Fn(Nn,xn,rn),Zn=Fn(Nn,xn,rn-1/3)}return{r:255*Bn,g:255*Hn,b:255*Zn}}(It.h,It.s,It.l),mn=!0,hn="hsl"),It.hasOwnProperty("a")&&(sn=It.a));var fn,pn,Qt;return sn=ot(sn),{ok:mn,format:It.format||hn,r:K(255,Q(Nt.r,0)),g:K(255,Q(Nt.g,0)),b:K(255,Q(Nt.b,0)),a:sn}}(gt);this._originalInput=gt,this._r=Ct.r,this._g=Ct.g,this._b=Ct.b,this._a=Ct.a,this._roundA=O(100*this._a)/100,this._format=vt.format||Ct.format,this._gradientType=vt.gradientType,this._r<1&&(this._r=O(this._r)),this._g<1&&(this._g=O(this._g)),this._b<1&&(this._b=O(this._b)),this._ok=Ct.ok,this._tc_id=s++};R.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Ke=this.toRgb();return(299*Ke.r+587*Ke.g+114*Ke.b)/1e3},setAlpha:function(Ke){return this._a=ot(Ke),this._roundA=O(100*this._a)/100,this},toHsv:function(){var Ke=Ne(this._r,this._g,this._b);return{h:360*Ke.h,s:Ke.s,v:Ke.v,a:this._a}},toHsvString:function(){var Ke=Ne(this._r,this._g,this._b),gt=O(360*Ke.h),vt=O(100*Ke.s),Ct=O(100*Ke.v);return this._a==1?"hsv("+gt+", "+vt+"%, "+Ct+"%)":"hsva("+gt+", "+vt+"%, "+Ct+"%, "+this._roundA+")"},toHsl:function(){var Ke=ve(this._r,this._g,this._b);return{h:360*Ke.h,s:Ke.s,l:Ke.l,a:this._a}},toHslString:function(){var Ke=ve(this._r,this._g,this._b),gt=O(360*Ke.h),vt=O(100*Ke.s),Ct=O(100*Ke.l);return this._a==1?"hsl("+gt+", "+vt+"%, "+Ct+"%)":"hsla("+gt+", "+vt+"%, "+Ct+"%, "+this._roundA+")"},toHex:function(Ke){return Ze(this._r,this._g,this._b,Ke)},toHexString:function(Ke){return"#"+this.toHex(Ke)},toHex8:function(){return Me(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:O(this._r),g:O(this._g),b:O(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+O(this._r)+", "+O(this._g)+", "+O(this._b)+")":"rgba("+O(this._r)+", "+O(this._g)+", "+O(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:O(100*st(this._r,255))+"%",g:O(100*st(this._g,255))+"%",b:O(100*st(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+O(100*st(this._r,255))+"%, "+O(100*st(this._g,255))+"%, "+O(100*st(this._b,255))+"%)":"rgba("+O(100*st(this._r,255))+"%, "+O(100*st(this._g,255))+"%, "+O(100*st(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(h[Ze(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Ke){var gt="#"+Me(this._r,this._g,this._b,this._a),vt=gt,Ct=this._gradientType?"GradientType = 1, ":"";return Ke&&(vt=R(Ke).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+Ct+"startColorstr="+gt+",endColorstr="+vt+")"},toString:function(Ke){var gt=!!Ke;Ke=Ke||this._format;var vt=!1,Ct=this._a<1&&this._a>=0;return gt||!Ct||Ke!=="hex"&&Ke!=="hex6"&&Ke!=="hex3"&&Ke!=="name"?(Ke==="rgb"&&(vt=this.toRgbString()),Ke==="prgb"&&(vt=this.toPercentageRgbString()),Ke!=="hex"&&Ke!=="hex6"||(vt=this.toHexString()),Ke==="hex3"&&(vt=this.toHexString(!0)),Ke==="hex8"&&(vt=this.toHex8String()),Ke==="name"&&(vt=this.toName()),Ke==="hsl"&&(vt=this.toHslString()),Ke==="hsv"&&(vt=this.toHsvString()),vt||this.toHexString()):Ke==="name"&&this._a===0?this.toName():this.toRgbString()},_applyModification:function(Ke,gt){var vt=Ke.apply(null,[this].concat([].slice.call(gt)));return this._r=vt._r,this._g=vt._g,this._b=vt._b,this.setAlpha(vt._a),this},lighten:function(){return this._applyModification(re,arguments)},brighten:function(){return this._applyModification(Te,arguments)},darken:function(){return this._applyModification(Re,arguments)},desaturate:function(){return this._applyModification(je,arguments)},saturate:function(){return this._applyModification(ae,arguments)},greyscale:function(){return this._applyModification(be,arguments)},spin:function(){return this._applyModification(Fe,arguments)},_applyCombination:function(Ke,gt){return Ke.apply(null,[this].concat([].slice.call(gt)))},analogous:function(){return this._applyCombination(Xt,arguments)},complement:function(){return this._applyCombination(it,arguments)},monochromatic:function(){return this._applyCombination(Dt,arguments)},splitcomplement:function(){return this._applyCombination(Ut,arguments)},triad:function(){return this._applyCombination(lt,arguments)},tetrad:function(){return this._applyCombination(St,arguments)}},R.fromRatio=function(Ke,gt){if((0,m.Z)(Ke)=="object"){var vt={};for(var Ct in Ke)Ke.hasOwnProperty(Ct)&&(vt[Ct]=Ct==="a"?Ke[Ct]:We(Ke[Ct]));Ke=vt}return R(Ke,gt)},R.equals=function(Ke,gt){return!(!Ke||!gt)&&R(Ke).toRgbString()==R(gt).toRgbString()},R.random=function(){return R.fromRatio({r:ne(),g:ne(),b:ne()})},R.mix=function(Ke,gt,vt){vt=vt===0?0:vt||50;var Ct,It=R(Ke).toRgb(),Nt=R(gt).toRgb(),sn=vt/100,mn=2*sn-1,hn=Nt.a-It.a,fn=1-(Ct=((Ct=mn*hn==-1?mn:(mn+hn)/(1+mn*hn))+1)/2),pn={r:Nt.r*Ct+It.r*fn,g:Nt.g*Ct+It.g*fn,b:Nt.b*Ct+It.b*fn,a:Nt.a*sn+It.a*(1-sn)};return R(pn)},R.readability=function(Ke,gt){var vt=R(Ke),Ct=R(gt),It=vt.toRgb(),Nt=Ct.toRgb(),sn=vt.getBrightness(),mn=Ct.getBrightness(),hn=Math.max(It.r,Nt.r)-Math.min(It.r,Nt.r)+Math.max(It.g,Nt.g)-Math.min(It.g,Nt.g)+Math.max(It.b,Nt.b)-Math.min(It.b,Nt.b);return{brightness:Math.abs(sn-mn),color:hn}},R.isReadable=function(Ke,gt){var vt=R.readability(Ke,gt);return vt.brightness>125&&vt.color>500},R.mostReadable=function(Ke,gt){for(var vt=null,Ct=0,It=!1,Nt=0;Nt<gt.length;Nt++){var sn=R.readability(Ke,gt[Nt]),mn=sn.brightness>125&&sn.color>500,hn=3*(sn.brightness/125)+sn.color/500;(mn&&!It||mn&&It&&hn>Ct||!mn&&!It&&hn>Ct)&&(It=mn,Ct=hn,vt=R(gt[Nt]))}return vt};var v,b,a,f=R.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},h=R.hexNames=function(Ke){var gt={};for(var vt in Ke)Ke.hasOwnProperty(vt)&&(gt[Ke[vt]]=vt);return gt}(f),_=(b="[\\s|\\(]+("+(v="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+v+")[,|\\s]+("+v+")\\s*\\)?",a="[\\s|\\(]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")[,|\\s]+("+v+")\\s*\\)?",{rgb:new RegExp("rgb"+b),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+b),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+b),hsva:new RegExp("hsva"+a),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=R,oe(function(){oe.fn.spectrum.load&&oe.fn.spectrum.processNativeColorInputs()})}function A(Ke,gt,vt,Ct){for(var It=[],Nt=0;Nt<Ke.length;Nt++){var sn=Ke[Nt];if(sn){var mn=R(sn),hn=mn.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";hn+=R.equals(gt,sn)?" sp-thumb-active":"";var fn=mn.toString(Ct.preferredFormat||"rgb"),pn=j?"background-color:"+mn.toRgbString():"filter:"+mn.toFilter();It.push('<span title="'+fn+'" data-color="'+mn.toRgbString()+'" class="'+hn+'"><span class="sp-thumb-inner" style="'+pn+';"></span></span>')}else It.push(oe("<div />").append(oe('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",Ct.noColorSelectedText)).html())}return"<div class='sp-cf "+vt+"'>"+It.join("")+"</div>"}function J(Ke,gt){var vt,Ct,It,Nt=function(At,Lt){var Gt=oe.extend({},Z,At);return Gt.callbacks={move:G(Gt.move,Lt),change:G(Gt.change,Lt),show:G(Gt.show,Lt),hide:G(Gt.hide,Lt),beforeShow:G(Gt.beforeShow,Lt)},Gt}(gt,Ke),sn=Nt.flat,mn=Nt.showSelectionPalette,hn=Nt.localStorageKey,fn=Nt.theme,pn=Nt.callbacks,Qt=(vt=Vt,Ct=10,function(){var At=this,Lt=arguments,Gt=function(){It=null,vt.apply(At,Lt)};It||(It=setTimeout(Gt,Ct))}),rn=!1,nn=!1,wn=!0,Bn=0,Hn=0,Zn=0,Fn=0,xn=0,Nn=0,Vn=0,Sn=0,ln=0,ze=0,bn=1,zn=[],In=[],Mn={},cn=Nt.selectionPalette.slice(0),Tn=Nt.maxSelectionSize,gn="sp-dragging",jn=null,On=Ke.ownerDocument,yn=(On.body,oe(Ke)),Rn=!1,Dn=oe(E,On).addClass(fn),en=Dn.find(".sp-picker-container"),Qe=Dn.find(".sp-color"),at=Dn.find(".sp-dragger"),Be=Dn.find(".sp-hue"),ut=Dn.find(".sp-slider"),xt=Dn.find(".sp-alpha-inner"),Kt=Dn.find(".sp-alpha"),Ht=Dn.find(".sp-alpha-handle"),kn=Dn.find(".sp-input"),an=Dn.find(".sp-palette"),Qn=Dn.find(".sp-initial"),Gn=Dn.find(".sp-cancel"),gr=Dn.find(".sp-clear"),or=Dn.find(".sp-choose"),pr=Dn.find(".sp-palette-toggle"),mr=yn.is("input"),cr=mr&&yn.attr("type")==="color"&&le(),Xn=mr&&!sn,tr=Xn?oe(U).addClass(fn).addClass(Nt.className).addClass(Nt.replacerClassName):oe([]),Yn=Xn?tr:yn,Kn=tr.find(".sp-preview-inner"),ft=Nt.color||mr&&yn.val(),yt=!1,Ce=Nt.preferredFormat,ce=!Nt.showButtons||Nt.clickoutFiresChange,he=!ft,ee=Nt.allowEmpty&&!cr;function we(){if(Nt.showPaletteOnly&&(Nt.showPalette=!0),pr.text(Nt.showPaletteOnly?Nt.togglePaletteMoreText:Nt.togglePaletteLessText),Nt.palette){zn=Nt.palette.slice(0),In=oe.isArray(zn[0])?zn:[zn],Mn={};for(var At=0;At<In.length;At++)for(var Lt=0;Lt<In[At].length;Lt++){var Gt=R(In[At][Lt]).toRgbString();Mn[Gt]=!0}}Dn.toggleClass("sp-flat",sn),Dn.toggleClass("sp-input-disabled",!Nt.showInput),Dn.toggleClass("sp-alpha-enabled",Nt.showAlpha),Dn.toggleClass("sp-clear-enabled",ee),Dn.toggleClass("sp-buttons-disabled",!Nt.showButtons),Dn.toggleClass("sp-palette-buttons-disabled",!Nt.togglePaletteOnly),Dn.toggleClass("sp-palette-disabled",!Nt.showPalette),Dn.toggleClass("sp-palette-only",Nt.showPaletteOnly),Dn.toggleClass("sp-initial-disabled",!Nt.showInitial),Dn.addClass(Nt.className).addClass(Nt.containerClassName),Vt()}function Ie(){if(hn&&window.localStorage){try{var At=window.localStorage[hn].split(",#");At.length>1&&(delete window.localStorage[hn],oe.each(At,function(Lt,Gt){qe(Gt)}))}catch{}try{cn=window.localStorage[hn].split(";")}catch{}}}function qe(At){if(mn){var Lt=R(At).toRgbString();if(!Mn[Lt]&&oe.inArray(Lt,cn)===-1)for(cn.push(Lt);cn.length>Tn;)cn.shift();if(hn&&window.localStorage)try{window.localStorage[hn]=cn.join(";")}catch{}}}function ht(){var At=de(),Lt=oe.map(In,function(Gt,vn){return A(Gt,At,"sp-palette-row sp-palette-row-"+vn,Nt)});Ie(),cn&&Lt.push(A(function(){var Gt=[];if(Nt.showPalette)for(var vn=0;vn<cn.length;vn++){var En=R(cn[vn]).toRgbString();Mn[En]||Gt.push(cn[vn])}return Gt.reverse().slice(0,Nt.maxSelectionSize)}(),At,"sp-palette-row sp-palette-row-selection",Nt)),an.html(Lt.join(""))}function bt(){if(Nt.showInitial){var At=yt,Lt=de();Qn.html(A([At,Lt],Lt,"sp-palette-row-initial",Nt))}}function Pt(){(Hn<=0||Bn<=0||Fn<=0)&&Vt(),nn=!0,Dn.addClass(gn),jn=null,yn.trigger("dragstart.spectrum",[de()])}function kt(){nn=!1,Dn.removeClass(gn),yn.trigger("dragstop.spectrum",[de()])}function Mt(){var At=kn.val();if(At!==null&&At!==""||!ee){var Lt=R(At);Lt.isValid()?(me(Lt),Rt(!0)):kn.addClass("sp-validation-error")}else me(null),Rt(!0)}function $t(){rn?tt():Yt()}function Yt(){var At=oe.Event("beforeShow.spectrum");if(rn)Vt();else if(yn.trigger("beforeShow.spectrum",[de()]),pn.beforeShow(de())!==!1&&!At.isDefaultPrevented()){(function(){for(var Gt=0;Gt<B.length;Gt++)B[Gt]&&B[Gt].hide()})(),rn=!0;var Lt=oe(On);Lt.bind("keydown.spectrum",dn),Lt.bind("click.spectrum",Xe),oe(window).bind("resize.spectrum",Qt),tr.addClass("sp-active"),Dn.removeClass("sp-hidden"),Vt(),Ye(),yt=de(),bt(),pn.show(yt),yn.trigger("show.spectrum",[yt])}}function dn(At){At.keyCode===27&&tt()}function Xe(At){At.button!=2&&(nn||(ce?Rt(!0):fe(),tt()))}function tt(){rn&&!sn&&(rn=!1,oe(On).unbind("keydown.spectrum",dn),oe(On).unbind("click.spectrum",Xe),oe(window).unbind("resize.spectrum",Qt),tr.removeClass("sp-active"),Dn.addClass("sp-hidden"),pn.hide(de()),yn.trigger("hide.spectrum",[de()]))}function fe(){me(yt,!0)}function me(At,Lt){var Gt,vn;R.equals(At,de())?Ye():(!At&&ee?he=!0:(he=!1,wn=!At,vn=(Gt=R(At)).toHsv(),Sn=vn.h%360/360,ln=vn.s,ze=vn.v,bn=vn.a),Ye(),Gt&&Gt.isValid()&&!Lt&&(Ce=Nt.preferredFormat||Gt.getFormat()))}function de(At){return At=At||{},ee&&he?null:R.fromRatio({h:Sn,s:ln,v:ze,a:Math.round(100*bn)/100},{format:At.format||Ce})}function Ee(){Ye(),pn.move(de()),yn.trigger("move.spectrum",[de()])}function Ye(){kn.removeClass("sp-validation-error"),Ot();var At=R.fromRatio({h:Sn,s:1,v:1});Qe.css("background-color",At.toHexString());var Lt=Ce;bn<1&&(bn!==0||Lt!=="name")&&(Lt!=="hex"&&Lt!=="hex3"&&Lt!=="hex6"&&Lt!=="name"||(Lt="rgb"));var Gt=de({format:Lt}),vn="";if(Kn.removeClass("sp-clear-display"),Kn.css("background-color","transparent"),!Gt&&ee)Kn.addClass("sp-clear-display");else{var En=Gt.toHexString(),Jn=Gt.toRgbString();if(j||Gt.alpha===1?Kn.css("background-color",Jn):(Kn.css("background-color","transparent"),Kn.css("filter",Gt.toFilter())),Nt.showAlpha){var ye=Gt.toRgb();ye.a=0;var Pe=R(ye).toRgbString(),De="linear-gradient(left, "+Pe+", "+En+")";T?xt.css("filter",R(Pe).toFilter({gradientType:1},En)):(xt.css("background","-webkit-"+De),xt.css("background","-moz-"+De),xt.css("background","-ms-"+De),xt.css("background","linear-gradient(to right, "+Pe+", "+En+")"))}vn=Gt.toString(Lt)}Nt.showInput&&kn.val(vn),Nt.showPalette&&ht(),bt()}function Ot(){var At=ln,Lt=ze;if(ee&&he)Ht.hide(),ut.hide(),at.hide();else{Ht.show(),ut.show(),at.show();var Gt=At*Bn,vn=Hn-Lt*Hn;Gt=Math.max(-Zn,Math.min(Bn-Zn,Gt-Zn)),vn=Math.max(-Zn,Math.min(Hn-Zn,vn-Zn)),at.css({top:vn+"px",left:Gt+"px"});var En=bn*xn;Ht.css({left:En-Nn/2+"px"});var Jn=Sn*Fn;ut.css({top:Jn-Vn+"px"})}}function Rt(At){var Lt=de(),Gt="",vn=!!wn||!R.equals(Lt,yt);Lt&&(Gt=Lt.toString(Ce),!rn&&qe(Lt)),mr&&yn.val(Gt),At&&vn&&(pn.change(Lt),yn.trigger("change",[Lt]))}function Vt(){rn&&(Bn=Qe.width(),Hn=Qe.height(),Zn=at.height(),Be.width(),Fn=Be.height(),Vn=ut.height(),xn=Kt.width(),Nn=Ht.width(),sn||(Dn.css("position","absolute"),Nt.offset?Dn.offset(Nt.offset):Dn.offset(function(At,Lt){var Gt=0,vn=At.outerWidth(),En=At.outerHeight(),Jn=Lt.outerHeight(),ye=At[0].ownerDocument,Pe=ye.documentElement,De=Pe.clientWidth,un=Pe.clientHeight,An=oe(ye).scrollLeft(),$n=oe(ye).scrollTop(),er=De+An,Br=un+$n,Nr=Lt.offset();return Nr.top+=Jn,Nr.left-=Math.min(Nr.left,Nr.left+vn>er&&er>vn?Math.abs(Nr.left+vn-er):0),Nr.top-=Math.min(Nr.top,Nr.top+En>Br&&Br>En?Math.abs(En+Jn-Gt):Gt),Nr}(Dn,Yn))),Ot(),Nt.showPalette&&ht(),yn.trigger("reflow.spectrum"))}function Ft(){tt(),Rn=!0,yn.attr("disabled",!0),Yn.addClass("sp-disabled")}(function(){if(T&&Dn.find("*:not(input)").attr("unselectable","on"),we(),Xn&&yn.after(tr).hide(),ee||gr.hide(),sn)yn.after(Dn).hide();else{var At=Nt.appendTo==="parent"?yn.parent():oe(Nt.appendTo);At.length!==1&&(At=oe("body")),At.append(Dn)}function Lt(vn){return vn.data&&vn.data.ignore?(me(oe(vn.target).closest(".sp-thumb-el").data("color")),Ee()):(me(oe(vn.target).closest(".sp-thumb-el").data("color")),Ee(),Nt.hideAfterPaletteSelect&&(Rt(!0),tt())),!1}Ie(),Yn.bind("click.spectrum touchstart.spectrum",function(vn){Rn||$t(),vn.stopPropagation(),oe(vn.target).is("input")||vn.preventDefault()}),(yn.is(":disabled")||Nt.disabled===!0)&&Ft(),Dn.click(F),kn.change(Mt),kn.bind("paste",function(){setTimeout(Mt,1)}),kn.keydown(function(vn){vn.keyCode==13&&Mt()}),Gn.text(Nt.cancelText),Gn.bind("click.spectrum",function(vn){vn.stopPropagation(),vn.preventDefault(),fe(),tt()}),gr.attr("title",Nt.clearText),gr.bind("click.spectrum",function(vn){vn.stopPropagation(),vn.preventDefault(),he=!0,Ee(),sn&&Rt(!0)}),or.text(Nt.chooseText),or.bind("click.spectrum",function(vn){vn.stopPropagation(),vn.preventDefault(),T&&kn.is(":focus")&&kn.trigger("change"),kn.hasClass("sp-validation-error")||(Rt(!0),tt())}),pr.text(Nt.showPaletteOnly?Nt.togglePaletteMoreText:Nt.togglePaletteLessText),pr.bind("click.spectrum",function(vn){vn.stopPropagation(),vn.preventDefault(),Nt.showPaletteOnly=!Nt.showPaletteOnly,Nt.showPaletteOnly||sn||Dn.css("left","-="+(en.outerWidth(!0)+5)),we()}),V(Kt,function(vn,En,Jn){bn=vn/xn,he=!1,Jn.shiftKey&&(bn=Math.round(10*bn)/10),Ee()},Pt,kt),V(Be,function(vn,En){Sn=parseFloat(En/Fn),he=!1,Nt.showAlpha||(bn=1),Ee()},Pt,kt),V(Qe,function(vn,En,Jn){if(Jn.shiftKey){if(!jn){var ye=ln*Bn,Pe=Hn-ze*Hn,De=Math.abs(vn-ye)>Math.abs(En-Pe);jn=De?"x":"y"}}else jn=null;var un=!jn||jn==="y";(!jn||jn==="x")&&(ln=parseFloat(vn/Bn)),un&&(ze=parseFloat((Hn-En)/Hn)),he=!1,Nt.showAlpha||(bn=1),Ee()},Pt,kt),ft?(me(ft),Ye(),Ce=Nt.preferredFormat||R(ft).getFormat(),qe(ft)):Ye(),sn&&Yt();var Gt=T?"mousedown.spectrum":"click.spectrum touchstart.spectrum";an.delegate(".sp-thumb-el",Gt,Lt),Qn.delegate(".sp-thumb-el:nth-child(1)",Gt,{ignore:!0},Lt)})();var Zt={show:Yt,hide:tt,toggle:$t,reflow:Vt,option:function(At,Lt){return At===se?oe.extend({},Nt):Lt===se?Nt[At]:(Nt[At]=Lt,At==="preferredFormat"&&(Ce=Nt.preferredFormat),void we())},enable:function(){Rn=!1,yn.attr("disabled",!1),Yn.removeClass("sp-disabled")},disable:Ft,offset:function(At){Nt.offset=At,Vt()},set:function(At){me(At),Rt()},get:de,destroy:function(){yn.show(),Yn.unbind("click.spectrum touchstart.spectrum"),Dn.remove(),tr.remove(),B[Zt.id]=null},container:Dn};return Zt.id=B.push(Zt)-1,Zt}function te(){}function F(Ke){Ke.stopPropagation()}function G(Ke,gt){var vt=Array.prototype.slice,Ct=vt.call(arguments,2);return function(){return Ke.apply(gt,Ct.concat(vt.call(arguments)))}}function V(Ke,gt,vt,Ct){gt=gt||function(){},vt=vt||function(){},Ct=Ct||function(){};var It=document,Nt=!1,sn={},mn=0,hn=0,fn="ontouchstart"in window,pn={};function Qt(wn){wn.stopPropagation&&wn.stopPropagation(),wn.preventDefault&&wn.preventDefault(),wn.returnValue=!1}function rn(wn){if(Nt){if(T&&It.documentMode<9&&!wn.button)return nn();var Bn=wn&&wn.touches&&wn.touches[0],Hn=Bn&&Bn.pageX||wn.pageX,Zn=Bn&&Bn.pageY||wn.pageY,Fn=Math.max(0,Math.min(Hn-sn.left,hn)),xn=Math.max(0,Math.min(Zn-sn.top,mn));fn&&Qt(wn),gt.apply(Ke,[Fn,xn,wn])}}function nn(){Nt&&(oe(It).unbind(pn),oe(It.body).removeClass("sp-dragging"),setTimeout(function(){Ct.apply(Ke,arguments)},0)),Nt=!1}pn.selectstart=Qt,pn.dragstart=Qt,pn["touchmove mousemove"]=rn,pn["touchend mouseup"]=nn,oe(Ke).bind("touchstart mousedown",function(wn){var Bn=wn.which?wn.which==3:wn.button==2;Bn||Nt||vt.apply(Ke,arguments)!==!1&&(Nt=!0,mn=oe(Ke).height(),hn=oe(Ke).width(),sn=oe(Ke).offset(),oe(It).bind(pn),oe(It.body).addClass("sp-dragging"),rn(wn),Qt(wn))})}function le(){return oe.fn.spectrum.inputTypeColorSupport()}function ve(Ke,gt,vt){Ke=st(Ke,255),gt=st(gt,255),vt=st(vt,255);var Ct,It,Nt=Q(Ke,gt,vt),sn=K(Ke,gt,vt),mn=(Nt+sn)/2;if(Nt==sn)Ct=It=0;else{var hn=Nt-sn;switch(It=mn>.5?hn/(2-Nt-sn):hn/(Nt+sn),Nt){case Ke:Ct=(gt-vt)/hn+(gt<vt?6:0);break;case gt:Ct=(vt-Ke)/hn+2;break;case vt:Ct=(Ke-gt)/hn+4}Ct/=6}return{h:Ct,s:It,l:mn}}function Ne(Ke,gt,vt){Ke=st(Ke,255),gt=st(gt,255),vt=st(vt,255);var Ct,It,Nt=Q(Ke,gt,vt),sn=K(Ke,gt,vt),mn=Nt,hn=Nt-sn;if(It=Nt===0?0:hn/Nt,Nt==sn)Ct=0;else{switch(Nt){case Ke:Ct=(gt-vt)/hn+(gt<vt?6:0);break;case gt:Ct=(vt-Ke)/hn+2;break;case vt:Ct=(Ke-gt)/hn+4}Ct/=6}return{h:Ct,s:It,v:mn}}function Ze(Ke,gt,vt,Ct){var It=[dt(O(Ke).toString(16)),dt(O(gt).toString(16)),dt(O(vt).toString(16))];return Ct&&It[0].charAt(0)==It[0].charAt(1)&&It[1].charAt(0)==It[1].charAt(1)&&It[2].charAt(0)==It[2].charAt(1)?It[0].charAt(0)+It[1].charAt(0)+It[2].charAt(0):It.join("")}function Me(Ke,gt,vt,Ct){var It;return[dt((It=Ct,Math.round(255*parseFloat(It)).toString(16))),dt(O(Ke).toString(16)),dt(O(gt).toString(16)),dt(O(vt).toString(16))].join("")}function je(Ke,gt){gt=gt===0?0:gt||10;var vt=R(Ke).toHsl();return vt.s-=gt/100,vt.s=Ve(vt.s),R(vt)}function ae(Ke,gt){gt=gt===0?0:gt||10;var vt=R(Ke).toHsl();return vt.s+=gt/100,vt.s=Ve(vt.s),R(vt)}function be(Ke){return R(Ke).desaturate(100)}function re(Ke,gt){gt=gt===0?0:gt||10;var vt=R(Ke).toHsl();return vt.l+=gt/100,vt.l=Ve(vt.l),R(vt)}function Te(Ke,gt){gt=gt===0?0:gt||10;var vt=R(Ke).toRgb();return vt.r=Q(0,K(255,vt.r-O(255*(-gt/100)))),vt.g=Q(0,K(255,vt.g-O(255*(-gt/100)))),vt.b=Q(0,K(255,vt.b-O(255*(-gt/100)))),R(vt)}function Re(Ke,gt){gt=gt===0?0:gt||10;var vt=R(Ke).toHsl();return vt.l-=gt/100,vt.l=Ve(vt.l),R(vt)}function Fe(Ke,gt){var vt=R(Ke).toHsl(),Ct=(O(vt.h)+gt)%360;return vt.h=Ct<0?360+Ct:Ct,R(vt)}function it(Ke){var gt=R(Ke).toHsl();return gt.h=(gt.h+180)%360,R(gt)}function lt(Ke){var gt=R(Ke).toHsl(),vt=gt.h;return[R(Ke),R({h:(vt+120)%360,s:gt.s,l:gt.l}),R({h:(vt+240)%360,s:gt.s,l:gt.l})]}function St(Ke){var gt=R(Ke).toHsl(),vt=gt.h;return[R(Ke),R({h:(vt+90)%360,s:gt.s,l:gt.l}),R({h:(vt+180)%360,s:gt.s,l:gt.l}),R({h:(vt+270)%360,s:gt.s,l:gt.l})]}function Ut(Ke){var gt=R(Ke).toHsl(),vt=gt.h;return[R(Ke),R({h:(vt+72)%360,s:gt.s,l:gt.l}),R({h:(vt+216)%360,s:gt.s,l:gt.l})]}function Xt(Ke,gt,vt){gt=gt||6,vt=vt||30;var Ct=R(Ke).toHsl(),It=360/vt,Nt=[R(Ke)];for(Ct.h=(Ct.h-(It*gt>>1)+720)%360;--gt;)Ct.h=(Ct.h+It)%360,Nt.push(R(Ct));return Nt}function Dt(Ke,gt){gt=gt||6;for(var vt=R(Ke).toHsv(),Ct=vt.h,It=vt.s,Nt=vt.v,sn=[],mn=1/gt;gt--;)sn.push(R({h:Ct,s:It,v:Nt})),Nt=(Nt+mn)%1;return sn}function ot(Ke){return Ke=parseFloat(Ke),(isNaN(Ke)||Ke<0||Ke>1)&&(Ke=1),Ke}function st(Ke,gt){(function(Ct){return typeof Ct=="string"&&Ct.indexOf(".")!=-1&&parseFloat(Ct)===1})(Ke)&&(Ke="100%");var vt=function(Ct){return typeof Ct=="string"&&Ct.indexOf("%")!=-1}(Ke);return Ke=K(gt,Q(0,parseFloat(Ke))),vt&&(Ke=parseInt(Ke*gt,10)/100),p.abs(Ke-gt)<1e-6?1:Ke%gt/parseFloat(gt)}function Ve(Ke){return K(1,Q(0,Ke))}function Ge(Ke){return parseInt(Ke,16)}function dt(Ke){return Ke.length==1?"0"+Ke:""+Ke}function We(Ke){return Ke<=1&&(Ke=100*Ke+"%"),Ke}function mt(Ke){return Ge(Ke)/255}}(Y);var x=function(oe){var se=oe.getFormat()==="name"&&oe.toName(),Z=oe.getAlpha()==1?oe.toHexString():oe.toRgbString();return se||Z.replace(/ /g,"")},W=function(oe){(0,q.Z)(Z,oe);var se=X(Z);function Z(){return(0,$.Z)(this,Z),se.apply(this,arguments)}return(0,D.Z)(Z,[{key:"template",value:function(){var B=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(B,`field-colorp">
        <div class="`).concat(B,`field-colorp-c" data-colorp-c>
          <div class="`).concat(B,`checker-bg"></div>
        </div>
      </div>
    `)}},{key:"inputClass",value:function(){var B=this.ppfx;return"".concat(B,"field ").concat(B,"field-color")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"remove",value:function(){S.Z.prototype.remove.apply(this,arguments),this.colorEl.spectrum("destroy")}},{key:"handleChange",value:function(B){B.stopPropagation();var T=B.target.value;(0,y.isUndefined)(T)||this.__onInputChange(T)}},{key:"__onInputChange",value:function(B){var T=this.model,j=this.opts.onChange,U=B,E=this.getColorEl();if(E){E.spectrum("set",U);var M=E.spectrum("get"),c=U&&x(M);c&&(U=c)}j?j(U):T.set({value:U},{fromInput:1})}},{key:"setValue",value:function(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=this.model,U=(0,y.isUndefined)(T.def)?j.get("defaults"):T.def,E=(0,y.isUndefined)(B)?(0,y.isUndefined)(U)?"":U:B,M=this.getInputEl(),c=this.getColorEl(),d=E!="none"?E:"";M.value=E,c.get(0).style.backgroundColor=d,(T.fromTarget||T.fromInput&&!T.avoidStore)&&(c.spectrum("set",d),this.noneColor=E=="none")}},{key:"getColorEl",value:function(){if(!this.colorEl){var B,T=this.em,j=this.model,U=this.opts,E=this,M=this.ppfx,c=U.onChange,d=Y('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),s=d.get(0).style,p=T&&T.config?T.config.el:"",O=T&&T.getConfig&&T.getConfig().colorPicker||{},K=!1,Q="";this.$el.find("[data-colorp-c]").append(d);var ne=function(R){var v=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];c?c(R,!v):(v&&j.setValueFromInput(0,!1),j.setValueFromInput(R,v))};d.spectrum(H(H(H({color:j.getValue()||!1,containerClassName:"".concat(M,"one-bg ").concat(M,"two-color"),appendTo:p||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},O),j.get("colorPicker")||{}),{},{move:function(R){var v=x(R);Q=v,s.backgroundColor=v,ne(v,!1)},change:function(R){K=!0;var v=x(R);s.backgroundColor=v,ne(v),E.noneColor=0},show:function(R){K=!1,Q="",B=c?j.getValue({noDefault:!0}):x(R)},hide:function(){K||!B&&!c||(E.noneColor&&(B=""),s.backgroundColor=B,d.spectrum("set",B),ne(B,!1))}})),T&&T.on&&this.listenTo(T,"component:selected",function(){Q&&ne(Q),K=!0,Q="",d.spectrum("hide")}),this.colorEl=d}return this.colorEl}},{key:"render",value:function(){return S.Z.prototype.render.call(this),this.getColorEl(),this}}]),Z}(S.Z)},7610:(z,ie,w)=>{w.d(ie,{Z:()=>I});var k=w(5671),$=w(3144),D=w(7326),q=w(9340),l=w(2963),P=w(1120),N=w(2316),C=w.n(N),y=w(9050),m=w(1163),g=w(8659);function S(H){var X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,x=(0,P.Z)(H);if(X){var W=(0,P.Z)(this).constructor;Y=Reflect.construct(x,arguments,W)}else Y=x.apply(this,arguments);return(0,l.Z)(this,Y)}}C().$;var I=function(H){(0,q.Z)(Y,H);var X=S(Y);function Y(){var x,W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,k.Z)(this,Y),x=X.call(this,W),(0,y.bindAll)((0,D.Z)(x),"moveIncrement","upIncrement"),x.doc=document,x.listenTo(x.model,"change:unit",x.handleModelChange),x}return(0,$.Z)(Y,[{key:"template",value:function(){var x=this.ppfx;return`
      <span class="`.concat(x,`input-holder"></span>
      <span class="`).concat(x,`field-units"></span>
      <div class="`).concat(x,`field-arrows" data-arrows>
        <div class="`).concat(x,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(x,`field-arrow-d" data-arrow-down></div>
      </div>
    `)}},{key:"inputClass",value:function(){var x=this.ppfx;return this.opts.contClass||"".concat(x,"field ").concat(x,"field-integer")}},{key:"setValue",value:function(x,W){var oe=W||{},se=this.validateInputValue(x,{deepCheck:1}),Z={value:se.value};(se.unit||se.force)&&(Z.unit=se.unit),this.model.set(Z,oe),oe.silent&&this.handleModelChange()}},{key:"handleChange",value:function(x){x.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()}},{key:"handleUnitChange",value:function(x){x.stopPropagation();var W=this.getUnitEl().value;this.model.set("unit",W),this.elementUpdated()}},{key:"handleKeyDown",value:function(x){x.key==="ArrowUp"&&(x.preventDefault(),this.upArrowClick()),x.key==="ArrowDown"&&(x.preventDefault(),this.downArrowClick())}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"handleModelChange",value:function(){var x=this.model;this.getInputEl().value=x.get("value");var W=this.getUnitEl();W&&(W.value=x.get("unit")||"")}},{key:"getUnitEl",value:function(){if(!this.unitEl){var x=this.model,W=x.get("units")||[];if(W.length){var oe=['<option value="" disabled hidden>-</option>'];W.forEach(function(Z){var B=Z==x.get("unit")?"selected":"";oe.push("<option ".concat(B,">").concat(Z,"</option>"))});var se=document.createElement("div");se.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(oe.join(""),"</select>"),this.unitEl=se.firstChild}}return this.unitEl}},{key:"upArrowClick",value:function(){var x=this.model,W=x.get("step"),oe=parseFloat(x.get("value"));this.setValue(this.normalizeValue(oe+W)),this.elementUpdated()}},{key:"downArrowClick",value:function(){var x=this.model,W=x.get("step"),oe=parseFloat(x.get("value"));this.setValue(this.normalizeValue(oe-W)),this.elementUpdated()}},{key:"downIncrement",value:function(x){x.preventDefault(),this.moved=0;var W=this.model.get("value")||0;W=this.normalizeValue(W),this.current={y:x.pageY,val:W},(0,m.on)(this.doc,"mousemove",this.moveIncrement),(0,m.on)(this.doc,"mouseup",this.upIncrement)}},{key:"moveIncrement",value:function(x){this.moved=1;var W=this.model,oe=W.get("step"),se=this.current,Z=this.normalizeValue(se.val+(se.y-x.pageY)*oe),B=this.validateInputValue(Z),T=B.value,j=B.unit;return this.prValue=T,W.set({value:T,unit:j},{avoidStore:1}),!1}},{key:"upIncrement",value:function(){var x=this.model,W=x.get("step");if((0,m.off)(this.doc,"mouseup",this.upIncrement),(0,m.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var oe=this.prValue-W;x.set("value",oe,{avoidStore:1}).set("value",oe+W),this.elementUpdated()}}},{key:"normalizeValue",value:function(x){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,oe=this.model,se=oe.get("step"),Z=0;if(isNaN(x))return W;if(x=parseFloat(x),Math.floor(x)!==x){var B=se.toString().split(".")[1];Z=B?B.length:0}return Z?parseFloat(x.toFixed(Z)):x}},{key:"validateInputValue",value:function(x){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=0,se=W||{},Z=this.model,B="",T=(0,y.isUndefined)(x)?B:x,j=W.units||Z.get("units")||[],U=Z.get("unit")||j.length&&j[0]||"",E=(0,y.isUndefined)(W.max)?Z.get("max"):W.max,M=(0,y.isUndefined)(W.min)?Z.get("min"):W.min,c=!!Z.get("limitlessMax"),d=!!Z.get("limitlessMin");if(se.deepCheck){var s=Z.get("fixedValues")||[];if(T===""&&(U=""),T){var p=new RegExp("^"+s.join("|"),"g");if(s.length&&p.test(T))T=T.match(p)[0],U="",oe=1;else{var O=T+"";T+="",T=parseFloat(T.replace(",",".")),T=isNaN(T)?B:T;var K=O.replace(T,"");(0,y.indexOf)(j,K)>=0&&(U=K)}}}return c||(0,y.isUndefined)(E)||E===""||(T=T>E?E:T),d||(0,y.isUndefined)(M)||M===""||(T=T<M?M:T),{force:oe,value:T,unit:U}}},{key:"render",value:function(){g.Z.prototype.render.call(this),this.unitEl=null;var x=this.getUnitEl();return x&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(x),this}}]),Y}(g.Z);I.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"}},6602:(z,ie,w)=>{w.d(ie,{Z:()=>S});var k=w(5671),$=w(3144),D=w(7326),q=w(9340),l=w(2963),P=w(1120),N=w(4942),C=w(9050),y=w(2316),m=w.n(y);function g(I){var H=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var X,Y=(0,P.Z)(I);if(H){var x=(0,P.Z)(this).constructor;X=Reflect.construct(Y,arguments,x)}else X=Y.apply(this,arguments);return(0,l.Z)(this,X)}}var S=function(I){(0,q.Z)(X,I);var H=g(X);function X(){var Y,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=arguments.length>1?arguments[1]:void 0,oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return(0,k.Z)(this,X),Y=H.call(this,x),(0,N.Z)((0,D.Z)(Y),"itemsView",""),(0,N.Z)((0,D.Z)(Y),"itemType","type"),(0,N.Z)((0,D.Z)(Y),"reuseView",!1),Y.config=W||x.config||{},oe&&Y.listenTo(Y.collection,"add",Y.addTo),Y.items=[],Y}return(0,$.Z)(X,[{key:"addTo",value:function(Y){this.add(Y)}},{key:"itemViewNotFound",value:function(Y){var x=this.config,W=this.ns,oe=x.em,se="".concat(W?"[".concat(W,"]: "):"","'").concat(Y,"' type not found");oe&&oe.logWarning(se)}},{key:"add",value:function(Y,x){var W,oe=this.config,se=this.reuseView,Z=this.items,B=this.itemsView,T=B===void 0?{}:B,j=x||null,U=this.itemView,E=Y.get(this.itemType);T[E]?U=T[E]:!E||T[E]||(0,C.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],E)||this.itemViewNotFound(E),W=Y.view&&se?Y.view:new U({model:Y,config:oe},oe),Z&&Z.push(W);var M=W.render().el;j?j.appendChild(M):this.$el.append(M)}},{key:"render",value:function(){var Y=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(x){this.add(x,Y)},this),this.$el.append(Y),this.onRender(),this}},{key:"onRender",value:function(){}},{key:"onRemoveBefore",value:function(){}},{key:"onRemove",value:function(){}},{key:"remove",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=this.items;this.onRemoveBefore(x,Y),this.clearItems(),m().View.prototype.remove.apply(this,arguments),this.onRemove(x,Y)}},{key:"clearItems",value:function(){this.items}}]),X}(m().View);S.prototype.itemView=""},4836:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>m});var k=w(5671),$=w(3144),D=w(4942),q=w(9050),l=w(1163),P={placeholder:"eg. Text here"};const N={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:P,alt:P,title:P,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:null};function C(g,S){var I=Object.keys(g);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(g);S&&(H=H.filter(function(X){return Object.getOwnPropertyDescriptor(g,X).enumerable})),I.push.apply(I,H)}return I}function y(g){for(var S=1;S<arguments.length;S++){var I=arguments[S]!=null?arguments[S]:{};S%2?C(Object(I),!0).forEach(function(H){(0,D.Z)(g,H,I[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(I)):C(Object(I)).forEach(function(H){Object.defineProperty(g,H,Object.getOwnPropertyDescriptor(I,H))})}return g}var m=function(){function g(){(0,k.Z)(this,g),(0,D.Z)(this,"name","I18n")}return(0,$.Z)(g,[{key:"init",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=y(y(y({},N),S),{},{messages:y(y({},N.messages),S.messages||{})});var I=this.config.messagesAdd;return I&&this.addMessages(I),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=S.em,this}},{key:"getConfig",value:function(){return this.config}},{key:"setLocale",value:function(S){var I=this.em,H=this.config,X={value:S,valuePrev:H.locale};return I&&I.trigger("i18n:locale",X),H.locale=S,this}},{key:"getLocale",value:function(){return this.config.locale}},{key:"getMessages",value:function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=this.config.messages;return S&&!H[S]&&this._debug("'".concat(S,"' i18n lang not found"),I),S?H[S]:H}},{key:"setMessages",value:function(S){var I=this.em;return this.config.messages=S,I&&I.trigger("i18n:update",S),this}},{key:"addMessages",value:function(S){var I=this.em,H=this.config.messages;return I&&I.trigger("i18n:add",S),this.setMessages((0,l.deepMerge)(H,S)),this}},{key:"t",value:function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=this.config,X=I.params||{},Y=I.l||this.getLocale(),x=I.lFlb||H.localeFallback,W=this._getMsg(S,Y,I);return W||(W=this._getMsg(S,x,I)),!W&&this._debug("'".concat(S,"' i18n key not found in '").concat(Y,"' lang"),I),W=W&&(0,q.isString)(W)?this._addParams(W,X):W}},{key:"_localLang",value:function(){var S=(0,l.hasWin)()&&window.navigator||{},I=S.language||S.userLanguage;return I?I.split("-")[0]:"en"}},{key:"_addParams",value:function(S,I){var H=new RegExp("{([\\w\\d-]*)}","g");return S.replace(H,function(X,Y){return I[Y]||""}).trim()}},{key:"_getMsg",value:function(S,I){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=this.getMessages(I,H);if(X){var Y=X[S];return!Y&&S.indexOf(".")>0&&(Y=S.split(".").reduce(function(x,W){if(!(0,q.isUndefined)(x))return x[W]},X)),Y}}},{key:"_debug",value:function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=this.em,X=this.config;(I.debug||X.debug)&&H&&H.logWarning(S)}},{key:"destroy",value:function(){this.config={},this.em={}}}]),g}()},9788:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>M});var k,$=w(1002),D=w(4942),q=w(9050),l=w(1163),P={},N={16:!1,18:!1,17:!1,91:!1},C="all",y={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},m={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},g=function(c){return m[c]||c.toUpperCase().charCodeAt(0)},S=[];for(k=1;k<20;k++)m["f"+k]=111+k;function I(c,d){for(var s=c.length;s--;)if(c[s]===d)return s;return-1}function H(c,d){if(c.length!=d.length)return!1;for(var s=0;s<c.length;s++)if(c[s]!==d[s])return!1;return!0}var X={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function Y(c){for(k in N)N[k]=c[X[k]]}function x(c){var d,s=c.keyCode,p=I(S,s);if(p>=0&&S.splice(p,1),s!=93&&s!=224||(s=91),s in N)for(d in N[s]=!1,y)y[d]==s&&(oe[d]=!1)}function W(){for(k in N)N[k]=!1;for(k in y)oe[k]=!1}function oe(c,d,s){var p,O;p=Z(c),s===void 0&&(s=d,d="all");for(var K=0;K<p.length;K++)O=[],(c=p[K].split("+")).length>1&&(O=B(c),c=[c[c.length-1]]),c=c[0],(c=g(c))in P||(P[c]=[]),P[c].push({shortcut:p[K],scope:d,method:s,key:p[K],mods:O})}for(k in y)oe[k]=!1;function se(){return C||"all"}function Z(c){var d;return(d=(c=c.replace(/\s/g,"")).split(","))[d.length-1]==""&&(d[d.length-2]+=","),d}function B(c){for(var d=c.slice(0,c.length-1),s=0;s<d.length;s++)d[s]=y[d[s]];return d}function T(c,d,s){c.addEventListener?c.addEventListener(d,s,!1):c.attachEvent&&c.attachEvent("on"+d,function(){s(window.event)})}oe.setScope=function(c){C=c||"all"},oe.getScope=se,oe.deleteScope=function(c){var d,s,p;for(d in P)for(s=P[d],p=0;p<s.length;)s[p].scope===c?s.splice(p,1):p++},oe.filter=function(c){var d=(c.target||c.srcElement).tagName;return!(d=="INPUT"||d=="SELECT"||d=="TEXTAREA")},oe.isPressed=function(c){return typeof c=="string"&&(c=g(c)),I(S,c)!=-1},oe.getPressedKeyCodes=function(){return S.slice(0)},oe.unbind=function(c,d){var s,p,O,K,Q,ne=[];for(s=Z(c),K=0;K<s.length;K++){if((p=s[K].split("+")).length>1&&(ne=B(p)),c=p[p.length-1],c=g(c),d===void 0&&(d=se()),!P[c])return;for(O=0;O<P[c].length;O++)(Q=P[c][O]).scope===d&&H(Q.mods,ne)&&(P[c][O]={})}},oe.handlers=P,oe.init=function(c){T(c.document,"keydown",function(d){(function(s){var p,O,K,Q,ne,R;if(p=s.keyCode,I(S,p)==-1&&S.push(p),p!=93&&p!=224||(p=91),p in N)for(K in N[p]=!0,y)y[K]==p&&(oe[K]=!0);else if(Y(s),oe.filter.call(this,s)&&p in P){for(R=se(),Q=0;Q<P[p].length;Q++)if((O=P[p][Q]).scope==R||O.scope=="all"){for(K in ne=O.mods.length>0,N)(!N[K]&&I(O.mods,+K)>-1||N[K]&&I(O.mods,+K)==-1)&&(ne=!1);(O.mods.length!=0||N[16]||N[18]||N[17]||N[91])&&!ne||O.method(s,O)===!1&&(s.preventDefault?s.preventDefault():s.returnValue=!1,s.stopPropagation&&s.stopPropagation(),s.cancelBubble&&(s.cancelBubble=!0))}}})(d)}),T(c.document,"keyup",x),T(c,"focus",W)};const j=oe;function U(c,d){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(c);d&&(p=p.filter(function(O){return Object.getOwnPropertyDescriptor(c,O).enumerable})),s.push.apply(s,p)}return s}function E(c){for(var d=1;d<arguments.length;d++){var s=arguments[d]!=null?arguments[d]:{};d%2?U(Object(s),!0).forEach(function(p){(0,D.Z)(c,p,s[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)):U(Object(s)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(s,p))})}return c}(0,l.hasWin)()&&j.init(window);const M=function(){var c={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:1}}}};return{keymaster:j,name:"Keymaps",getConfig:function(){return this.config},init:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.config=E(E({},c),d),this.em=this.config.em,this.keymaps={},this},onLoad:function(){var d=this.config.defaults;for(var s in d){var p=d[s];this.add(s,p.keys,p.handler,p.opts||{})}},add:function(d,s,p){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},K=this.em,Q=K.get("Commands"),ne=K.getEditor(),R=K.get("Canvas"),v={id:d,keys:s,handler:p},b=this.keymaps[d];return b&&this.remove(d),this.keymaps[d]=v,j(s,function(a,f){var h={event:a,h:f};if(p=(0,q.isString)(p)?Q.get(p):p,!K.isEditing()&&!ne.Canvas.isInputFocused()||O.force){O.prevent&&R.getCanvasView().preventDefault(a),(0,$.Z)(p)=="object"?Q.runCommand(p,h):p(ne,0,h);var _=[d,f.shortcut,a];K.trigger.apply(K,["keymap:emit"].concat(_)),K.trigger.apply(K,["keymap:emit:".concat(d)].concat(_))}}),K.trigger("keymap:add",v),v},get:function(d){return this.keymaps[d]},getAll:function(){return this.keymaps},remove:function(d){var s=this.em,p=this.get(d);if(p)return delete this.keymaps[d],p.keys.split(", ").forEach(function(O){return j.unbind(O.trim())}),s&&s.trigger("keymap:remove",p),p},removeAll:function(){var d=this;return Object.keys(this.keymaps).forEach(function(s){return d.remove(s)}),j.handlers={},this},destroy:function(){this.removeAll(),this.keymaps={},this.em={}}}}},4424:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>W});var k=w(4942);const $={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null,optionsHtml:{htmlType:null,allowScripts:!1,allowUnsafeAttr:!1}};var D=w(9050),q={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},l=(0,D.keys)(q),P=["5","6","11","15"],N=["font-face","page","counter-style","viewport"],C=function(){for(var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",se=[],Z=[],B=oe.split(","),T=0,j=B.length;T<j;T++){var U=B[T].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(U)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(U)){var E=U.split(".").filter(Boolean);Z.push(E)}else se.push(U)}return{result:Z,add:se}},y=function(oe){for(var se=oe.style,Z={},B=0,T=se.length;B<T;B++){var j=se[B],U=se.getPropertyValue(j),E=se.getPropertyPriority(j);Z[j]="".concat(U).concat(E?" !".concat(E):"")}return Z},m=function(oe){return(oe.conditionText||oe.media&&oe.media.mediaText||oe.name||oe.selectorText||"").trim()},g=function(oe){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B={},T=oe.length,j=oe[T-1],U=j?j.split(/:(.+)/):[],E=U[1],M=Z.atRule,c=Z.selectorsAdd,d=Z.mediaText,s=N.indexOf(M)>=0;return s&&(B.singleAtRule=1),M&&(B.atRuleType=M),c&&(B.selectorsAdd=c),d&&(B.mediaText=d),E&&(oe[T-1]=U[0],B.state=E,U.splice(U.length-1,1)),B.selectors=oe,B.style=se,B},S=function oe(se){for(var Z=[],B=se.cssRules||[],T=0,j=B.length;T<j;T++){var U=B[T],E=U.type.toString(),M=0,c="",d="",s=U.selectorText||U.keyText,p=P.indexOf(E)>=0;if(p)M=1,c=q[E],d=m(U);else if(l.indexOf(E)>=0){var O=oe(U);d=m(U);for(var K=0,Q=O.length;K<Q;K++){var ne=O[K];d&&(ne.mediaText=d),ne.atRuleType=q[E]}Z=Z.concat(O)}if(s||p){for(var R=y(U),v=C(s),b=v.add,a=void 0,f=0,h=(s=v.result).length;f<h;f++){var _=g(s[f],R,{atRule:q[E]});Z.push(_),a=_}if(b.length){var A=b.join(", ");if(a)a.selectorsAdd=A;else{var J={selectors:[],selectorsAdd:A,style:R};M&&(J.singleAtRule=M),c&&(J.atRuleType=c),d&&(J.mediaText=d),Z.push(J)}}}}return Z};const I=function(oe){var se=document.createElement("style");se.innerHTML=oe,document.head.appendChild(se);var Z=se.sheet;return document.head.removeChild(se),S(Z)},H=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{parse:function(se){var Z=this,B=[],T=oe.parserCss,j=oe.em,U=j&&j.get&&j.get("Editor");return(T?T(se,U):I(se)).forEach(function(E){return B=B.concat(Z.checkNode(E))}),j&&j.trigger("parse:css",{input:se,output:B}),B},checkNode:function(se){var Z=se,B=Z.selectors,T=Z.style;if((0,D.isString)(B)){var j=[],U=C(B),E=U.result,M=U.add.join(", "),c={atRule:se.atRule,mediaText:se.params};E.length?E.forEach(function(d){j.push(g(d,T,c))}):j.push(g([],T,c)),M&&(j[j.length-1].selectorsAdd=M),se=j}return se}}};var X=w(5311);function Y(oe,se){var Z=Object.keys(oe);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(oe);se&&(B=B.filter(function(T){return Object.getOwnPropertyDescriptor(oe,T).enumerable})),Z.push.apply(Z,B)}return Z}function x(oe){for(var se=1;se<arguments.length;se++){var Z=arguments[se]!=null?arguments[se]:{};se%2?Y(Object(Z),!0).forEach(function(B){(0,k.Z)(oe,B,Z[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Z)):Y(Object(Z)).forEach(function(B){Object.defineProperty(oe,B,Object.getOwnPropertyDescriptor(Z,B))})}return oe}const W=function(){var oe,se,Z={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",init:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(Z=x(x({},$),B)).Parser=this,oe=new X.Z(Z),se=new H(Z),this.em=Z.em,this.parserCss=se,this.parserHtml=oe,this},getConfig:function(){return Z},parseHtml:function(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=this.em,U=this.compTypes;return oe.compTypes=j?j.get("DomComponents").getTypes():U,oe.parse(B,se,T)},parseCss:function(B){return se.parse(B)},destroy:function(){var B=this;["em","parserCss","parserHtml"].forEach(function(T){return B[T]={}})}}}},5311:(z,ie,w)=>{w.d(ie,{Z:()=>y});var k=w(4942),$=w(1002),D=w(9050),q="text/html",l=q;const P=function(m){var g,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=new DOMParser,H=S.htmlType||l,X=H===q,Y=X?m:"<div>".concat(m,"</div>"),x=I.parseFromString(Y,H);if(X){var W=x.head,oe=x.body,se=W.querySelectorAll("script");(0,D.each)(se,function(B){return oe.appendChild(B)});var Z=[];(0,D.each)(W.children,function(B){return Z.push(B)}),(0,D.each)(Z,function(B,T){return oe.insertBefore(B,oe.children[T])}),g=oe}else g=x.firstChild;return g};function N(m,g){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(m);g&&(I=I.filter(function(H){return Object.getOwnPropertyDescriptor(m,H).enumerable})),S.push.apply(S,I)}return S}function C(m){for(var g=1;g<arguments.length;g++){var S=arguments[g]!=null?arguments[g]:{};g%2?N(Object(S),!0).forEach(function(I){(0,k.Z)(m,I,S[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):N(Object(S)).forEach(function(I){Object.defineProperty(m,I,Object.getOwnPropertyDescriptor(S,I))})}return m}const y=function(m){var g=m,S="data-gjs-",I="parse:html";return{compTypes:"",modelAttrStart:S,splitPropsFromAttr:function(){var H=this,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y={},x={};return(0,D.each)(X,function(W,oe){if(oe.indexOf(H.modelAttrStart)===0){var se=oe.replace(S,""),Z=W.length,B=W&&(0,D.isString)(W),T=B&&W.substr(0,1),j=B&&W.substr(Z-1);W=(W=W==="true"||W)!=="false"&&W;try{W=T=="{"&&j=="}"||T=="["&&j=="]"?JSON.parse(W):W}catch{}Y[se]=W}else x[oe]=W}),{props:Y,attrs:x}},parseStyle:function(H){for(var X={},Y=H.split(";"),x=0,W=Y.length;x<W;x++){var oe=Y[x].trim();if(oe){var se=oe.split(":");X[se[0].trim()]=se.slice(1).join(":").trim()}}return X},parseClass:function(H){for(var X=[],Y=H.split(" "),x=0,W=Y.length;x<W;x++){var oe=Y[x].trim();oe&&X.push(oe)}return X},parseNode:function(H){for(var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=[],x=H.childNodes,W=0,oe=x.length;W<oe;W++){var se=x[W],Z=se.attributes||[],B=Z.length,T=Y[Y.length-1],j=se.childNodes.length,U=this.compTypes,E={};if(U){var M="",c=se.getAttribute&&se.getAttribute("".concat(S,"type"));if(c)E={type:c};else{for(var d=0;d<U.length;d++){var s=U[d];if(M=s.model.isComponent(se,X)){(0,$.Z)(M)!=="object"&&(M={type:s.id});break}}E=M}}if(!E.tagName){var p=se.tagName||"",O=se.namespaceURI||"";E.tagName=p&&O==="http://www.w3.org/1999/xhtml"?p.toLowerCase():p}B&&(E.attributes={});for(var K=0;K<B;K++){var Q=Z[K].nodeName,ne=Z[K].nodeValue;if(Q=="style")E.style=this.parseStyle(ne);else if(Q=="class")E.classes=this.parseClass(ne);else{if(Q=="contenteditable")continue;if(Q.indexOf(S)===0){var R=Q.replace(S,""),v=ne.length,b=ne&&ne.substr(0,1),a=ne&&ne.substr(v-1);ne=(ne=ne==="true"||ne)!=="false"&&ne;try{ne=b=="{"&&a=="}"||b=="["&&a=="]"?JSON.parse(ne):ne}catch{}E[R]=ne}else ne===""&&se[Q]===!0&&(ne=!0),E.attributes[Q]=ne}}if(j&&!E.components){var f=se.childNodes[0];j===1&&f.nodeType===3?(!E.type&&(E.type="text"),E.components={type:"textnode",content:f.nodeValue}):E.components=this.parseNode(se,C(C({},X),{},{inSvg:X.inSvg||E.type==="svg"}))}if(E.type=="textnode"){if(T&&T.type=="textnode"){T.content+=E.content;continue}if(!m.keepEmptyTextNodes){var h=se.nodeValue;if(h!=" "&&!h.trim())continue}}j||"".concat(se.outerHTML).slice(-2)!=="/>"||(E.void=!0);var _=E.components;if(!E.type&&_){for(var A=1,J=0,te=0;te<_.length;te++){var F=_[te],G=F.type;if(["text","textnode"].indexOf(G)<0&&g.textTags.indexOf(F.tagName)<0){A=0;break}G=="textnode"&&(J=1)}A&&J&&(E.type="text")}(E.tagName||E.type=="textnode")&&Y.push(E)}return Y},parse:function(H,X){var Y,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},W=g.em,oe=W&&W.get("Config")||{},se={html:null,css:null},Z=C(C({},m),x),B=C(C({},m.optionsHtml),{},{htmlType:((Y=m.optionsHtml)===null||Y===void 0?void 0:Y.htmlType)||m.htmlType},x),T=(0,D.isFunction)(Z.parserHtml)?Z.parserHtml(H,B):P(H,B),j=T.querySelectorAll("script"),U=j.length,E=(0,D.isUndefined)(oe.allowScripts)?B.allowScripts:oe.allowScripts;if(!E)for(;U--;)j[U].parentNode.removeChild(j[U]);if(B.allowUnsafeAttr||this.__clearUnsafeAttr(T),X){for(var M=T.querySelectorAll("style"),c=M.length,d="";c--;)d=M[c].innerHTML+d,M[c].parentNode.removeChild(M[c]);d&&(se.css=X.parse(d))}W&&W.trigger("".concat(I,":root"),{input:H,root:T});var s=this.parseNode(T,Z),p=s.length!==1||g.returnArray?s:s[0];return se.html=p,W&&W.trigger(I,{input:H,output:se}),se},__clearUnsafeAttr:function(H){var X=this,Y=H.attributes||[],x=H.childNodes||[],W=[];(0,D.each)(Y,function(oe){var se=oe.nodeName||"";se.indexOf("on")===0&&W.push(se)}),W.map(function(oe){return H.removeAttribute(oe)}),(0,D.each)(x,function(oe){return X.__clearUnsafeAttr(oe)})}}}},2012:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>j});var k=w(5861),$=w(2982),D=w(4942),q=w(4687),l=w.n(q),P=w(1163),N=w(5671),C=w(3144),y=w(9050);function m(U,E){var M=Object.keys(U);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(U);E&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(U,d).enumerable})),M.push.apply(M,c)}return M}function g(U){for(var E=1;E<arguments.length;E++){var M=arguments[E]!=null?arguments[E]:{};E%2?m(Object(M),!0).forEach(function(c){(0,D.Z)(U,c,M[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(M)):m(Object(M)).forEach(function(c){Object.defineProperty(U,c,Object.getOwnPropertyDescriptor(M,c))})}return U}var S="_rte",I=1,H=0,X=-1,Y=function(U){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"A",M=U.selection(),c=M.anchorNode,d=M.focusNode,s=c==null?void 0:c.parentNode,p=d==null?void 0:d.parentNode;return(s==null?void 0:s.nodeName)==E||(p==null?void 0:p.nodeName)==E},x="data-selectme",W={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(U){return U.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(U){return U.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(U){return U.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(U){return U.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(U){return U&&U.selection()&&Y(U)?I:H},result:function(U){Y(U)?U.exec("unlink"):U.insertHTML('<a href="" '.concat(x,">").concat(U.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(U){return U!=null&&U.selection()&&Y(U,"SPAN")?X:H},result:function(U){!Y(U,"SPAN")&&U.insertHTML("<span ".concat(x,">").concat(U.selection(),"</span>"),{select:!0})}}},oe=function(){function U(){var E=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,N.Z)(this,U);var c=M.el,d=M.em;if(this.em=d,c[S])return c[S];c[S]=this,this.setEl(c),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var s=(M.actions||[]).map(function(ne){var R=ne;return typeof ne=="string"?R=g({},W[ne]):W[ne.name]&&(R=g(g({},W[ne.name]),ne)),R}),p=s.length?s:Object.keys(W).map(function(ne){return W[ne]});M.classes=g(g({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"}),M.classes);var O=M.classes,K=M.actionbar;if(this.actionbar=K,this.settings=M,this.classes=O,this.actions=p,!K){var Q=M.actionbarContainer;(K=document.createElement("div")).className=O.actionbar,Q.appendChild(K),this.actionbar=K,p.forEach(function(ne){return E.addAction(ne)})}return M.styleWithCSS&&this.exec("styleWithCSS"),this}return(0,C.Z)(U,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(E){this.el=E,this.doc=E.ownerDocument}},{key:"updateActiveActions",value:function(){var E=this;this.getActions().forEach(function(M){var c=M.btn,d=M.update,s=g({},E.classes),p=s.active,O=s.inactive,K=s.disabled,Q=M.state,ne=M.name,R=E.doc;if(c.className=c.className.replace(p,"").trim(),c.className=c.className.replace(O,"").trim(),c.className=c.className.replace(K,"").trim(),Q)switch(Q(E,R)){case I:c.className+=" ".concat(p);break;case H:c.className+=" ".concat(O);break;case X:c.className+=" ".concat(K)}else R.queryCommandSupported(ne)&&R.queryCommandState(ne)&&(c.className+=" ".concat(p));d&&d(E,M)})}},{key:"enable",value:function(E){return this.enabled?this:this.__toggleEffects(!0,E)}},{key:"disable",value:function(){return this.__toggleEffects(!1)}},{key:"__toggleEffects",value:function(){var E=arguments.length>0&&arguments[0]!==void 0&&arguments[0],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=E?P.on:P.off,d=this.el,s=this.doc;if(this.actionbarEl().style.display=E?"":"none",d.contentEditable=!!E,c(d,"mouseup keyup",this.updateActiveActions),c(s,"keydown",this.__onKeydown),c(s,"paste",this.__onPaste),this.enabled=E,E){var p=M.event;if(this.syncActions(),this.updateActiveActions(),p){var O=null;if(s.caretRangeFromPoint){var K=(0,P.getPointerEvent)(p);O=s.caretRangeFromPoint(K.clientX,K.clientY)}else p.rangeParent&&(O=s.createRange()).setStart(p.rangeParent,p.rangeOffset);var Q=s.getSelection();Q.removeAllRanges(),O&&Q.addRange(O)}d.focus()}return this}},{key:"__onKeydown",value:function(E){var M=this.doc;E.key!=="Enter"||["insertOrderedList","insertUnorderedList"].some(function(c){return M.queryCommandState(c)})||(M.execCommand("insertLineBreak"),E.preventDefault())}},{key:"__onPaste",value:function(E){var M=E.clipboardData||window.clipboardData,c=M.getData("text"),d=M.getData("text/html");if(c&&!d){E.preventDefault();var s=c.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,s)}}},{key:"syncActions",value:function(){var E=this;this.getActions().forEach(function(M){if(E.actionbar&&(!M.state||M.state&&M.state(E,E.doc)>=0)){var c=M.event||"click";M.btn["on".concat(c)]=function(d){M.result(E,M),E.updateActiveActions()}}})}},{key:"addAction",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=M.sync,d=document.createElement("span"),s=E.icon,p=E.attributes||{};for(var O in d.className=this.classes.button,E.btn=d,p)d.setAttribute(O,p[O]);typeof s=="string"?d.innerHTML=s:d.appendChild(s),this.actionbarEl().appendChild(d),c&&(this.actions.push(E),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.doc.execCommand(E,!1,M)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=M.select,d=this.em,s=this.doc,p=this.el,O=s.getSelection();if(O&&O.rangeCount){var K=(0,P.getModel)(p),Q=s.createElement("div"),ne=O.getRangeAt(0);ne.deleteContents(),(0,y.isString)(E)?Q.innerHTML=E:E&&Q.appendChild(E),Array.prototype.slice.call(Q.childNodes).forEach(function(R){ne.insertNode(R)}),O.removeAllRanges(),O.addRange(ne),p.focus(),c&&K&&(K.once("rte:disable",function(){var R=K.find("[".concat(x,"]"))[0];R&&(d.setSelected(R),R.removeAttributes(x))}),K.trigger("disable"))}}}]),U}();const se={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link","wrap"]};function Z(U,E){var M=Object.keys(U);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(U);E&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(U,d).enumerable})),M.push.apply(M,c)}return M}function B(U){for(var E=1;E<arguments.length;E++){var M=arguments[E]!=null?arguments[E]:{};E%2?Z(Object(M),!0).forEach(function(c){(0,D.Z)(U,c,M[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(M)):Z(Object(M)).forEach(function(c){Object.defineProperty(U,c,Object.getOwnPropertyDescriptor(M,c))})}return U}var T="change:canvasOffset frame:scroll component:update";const j=function(){var U,E=function(){var M=U.style,c="-1000px";M.top=c,M.left=c,M.display="none"};return{customRte:null,name:"RichTextEditor",getConfig:function(){return this.config},init:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=B(B({},se),M),d=c.pStylePrefix;return d&&(c.stylePrefix=d+c.stylePrefix),this.config=c,this.pfx=c.stylePrefix,this.em=c.em,this.actions=c.actions||[],(0,P.hasWin)()?((U=document.createElement("div")).className="".concat(d,"rte-toolbar ").concat(d,"one-bg"),this.initRte(document.createElement("div")),(0,P.on)(U,"mousedown",function(s){return s.stopPropagation()}),this):this},destroy:function(){var M,c,d,s=this;(M=this.globalRte)===null||M===void 0||M.destroy(),(c=this.customRte)===null||c===void 0||(d=c.destroy)===null||d===void 0||d.call(c),U=0,["actionbar","actions","em","config","globalRte","lastEl"].map(function(p){delete s[p]})},postRender:function(M){var c=M.model.get("Canvas");U.style.pointerEvents="all",E(),c.getToolsEl().appendChild(U)},initRte:function(M){var c=this.globalRte,d=this.em,s=this.pfx,p=this.actionbar,O=this.config,K=U,Q=this.actions||(0,$.Z)(O.actions),ne={actionbar:"".concat(s,"actionbar"),button:"".concat(s,"action"),active:"".concat(s,"active"),inactive:"".concat(s,"inactive"),disabled:"".concat(s,"disabled")};return c?(c.em=d,c.setEl(M)):(c=new oe({em:d,el:M,classes:ne,actions:Q,actionbar:p,actionbarContainer:K}),this.globalRte=c),c.actionbar&&(this.actionbar=c.actionbar),c.actions&&(this.actions=c.actions),c},add:function(M){var c,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};d.name=M,(c=this.globalRte)===null||c===void 0||c.addAction(d,{sync:1})},get:function(M){var c,d;return(c=this.globalRte)===null||c===void 0||c.getActions().forEach(function(s){s.name==M&&(d=s)}),d},getAll:function(){var M;return(M=this.globalRte)===null||M===void 0?void 0:M.getActions()},remove:function(M){var c=this.getAll(),d=this.get(M);if(d){var s=d.btn,p=c.indexOf(d);s.parentNode.removeChild(s),c.splice(p,1)}return d},getToolbarEl:function(){return U},updatePosition:function(){var M="px",c=this.em.get("Canvas"),d=U.style,s=c.getTargetToElementFixed(this.lastEl,U,{event:"rteToolbarPosUpdate",left:0});d.top=(s.top||0)+M,d.left=(s.left||0)+M},enable:function(M,c,d){var s=this;return(0,k.Z)(l().mark(function p(){var O,K,Q,ne;return l().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return s.lastEl=M.el,O=s.customRte,K=s.em,Q=M.getChildrenContainer(),U.style.display="",R.next=6,O?O.enable(Q,c):s.initRte(Q).enable(d);case 6:return ne=R.sent,K&&(setTimeout(s.updatePosition.bind(s),0),K.off(T,s.updatePosition,s),K.on(T,s.updatePosition,s),K.trigger("rte:enable",M,ne)),R.abrupt("return",ne);case 9:case"end":return R.stop()}},p)}))()},disable:function(M,c){var d=this.em,s=this.customRte,p=M.getChildrenContainer();s?s.disable(p,c):c&&c.disable(),E(),d&&(d.off(T,this.updatePosition,this),d.trigger("rte:disable",M,c))}}}},4859:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>d});var k=w(5861),$=w(5671),D=w(3144),q=w(7326),l=w(9340),P=w(2963),N=w(1120),C=w(4942),y=w(4687),m=w.n(y),g=w(9714);const S={id:"gjs-",type:"local",autosave:!0,autoload:!0,recovery:!1,stepsBeforeSave:1,onStore:function(s){return s},onLoad:function(s){return s},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(s){return s},onLoad:function(s){return s}}}};var I=w(1163),H=function(){function s(){(0,$.Z)(this,s)}var p,O;return(0,D.Z)(s,[{key:"store",value:(O=(0,k.Z)(m().mark(function K(Q){var ne,R=arguments;return m().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:ne=R.length>1&&R[1]!==void 0?R[1]:{},this.hasLocal(ne,!0)&&localStorage.setItem(ne.key,JSON.stringify(Q));case 2:case"end":return v.stop()}},K,this)})),function(K){return O.apply(this,arguments)})},{key:"load",value:(p=(0,k.Z)(m().mark(function K(){var Q,ne,R=arguments;return m().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return Q=R.length>0&&R[0]!==void 0?R[0]:{},ne={},this.hasLocal(Q,!0)&&(ne=JSON.parse(localStorage.getItem(Q.key)||"{}")),v.abrupt("return",ne);case 4:case"end":return v.stop()}},K,this)})),function(){return p.apply(this,arguments)})},{key:"hasLocal",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=arguments.length>1?arguments[1]:void 0;if(K.checkLocal&&(!(0,I.hasWin)()||!localStorage)){if(Q)throw new Error("localStorage not available");return!1}return!0}}]),s}(),X=w(9050),Y=w(9661);function x(s,p){var O=Object.keys(s);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(s);p&&(K=K.filter(function(Q){return Object.getOwnPropertyDescriptor(s,Q).enumerable})),O.push.apply(O,K)}return O}function W(s){for(var p=1;p<arguments.length;p++){var O=arguments[p]!=null?arguments[p]:{};p%2?x(Object(O),!0).forEach(function(K){(0,C.Z)(s,K,O[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(O)):x(Object(O)).forEach(function(K){Object.defineProperty(s,K,Object.getOwnPropertyDescriptor(O,K))})}return s}var oe=function(){function s(){(0,$.Z)(this,s)}var p,O;return(0,D.Z)(s,[{key:"store",value:(O=(0,k.Z)(m().mark(function K(Q){var ne,R=arguments;return m().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return ne=R.length>1&&R[1]!==void 0?R[1]:{},v.next=3,this.request(ne.urlStore,this.__props(ne,Q),ne);case 3:case"end":return v.stop()}},K,this)})),function(K){return O.apply(this,arguments)})},{key:"load",value:(p=(0,k.Z)(m().mark(function K(Q){return m().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,this.request(Q.urlLoad,this.__props(Q),Q);case 2:return ne.abrupt("return",ne.sent);case 3:case"end":return ne.stop()}},K,this)})),function(K){return p.apply(this,arguments)})},{key:"request",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,Y.Z)(K,Q).then(function(R){var v=R.text();return(R.status/200|0)==1?v:v.then(Promise.reject)}).then(function(R){var v=R&&(0,X.isString)(R);return ne.contentTypeJson&&v?JSON.parse(R):R})}},{key:"__props",value:function(){var K,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=arguments.length>1?arguments[1]:void 0,R=Q.contentTypeJson,v=Q.headers||{},b=Q.fetchOptions||{},a="X-Requested-With",f="Content-Type";if((0,X.isUndefined)(v[a])&&(v[a]="XMLHttpRequest"),(0,X.isUndefined)(v[f])&&R&&(v[f]="application/json; charset=utf-8"),ne)if(R)K=JSON.stringify(ne);else for(var h in K=new FormData,ne)K.append(h,ne[h]);var _={method:K?"POST":"GET",credentials:Q.credentials,headers:v,body:K};return W(W({},_),(0,X.isFunction)(b)?b(_):b)}}]),s}();function se(s,p){var O=Object.keys(s);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(s);p&&(K=K.filter(function(Q){return Object.getOwnPropertyDescriptor(s,Q).enumerable})),O.push.apply(O,K)}return O}function Z(s){for(var p=1;p<arguments.length;p++){var O=arguments[p]!=null?arguments[p]:{};p%2?se(Object(O),!0).forEach(function(K){(0,C.Z)(s,K,O[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(O)):se(Object(O)).forEach(function(K){Object.defineProperty(s,K,Object.getOwnPropertyDescriptor(O,K))})}return s}function B(s){var p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,K=(0,N.Z)(s);if(p){var Q=(0,N.Z)(this).constructor;O=Reflect.construct(K,arguments,Q)}else O=K.apply(this,arguments);return(0,P.Z)(this,O)}}var T="storage:start",j="storage:after",U="storage:end",E="storage:error",M="local",c="remote",d=function(s){(0,l.Z)(ne,s);var p,O,K,Q=B(ne);function ne(){var R;(0,$.Z)(this,ne);for(var v=arguments.length,b=new Array(v),a=0;a<v;a++)b[a]=arguments[a];return R=Q.call.apply(Q,[this].concat(b)),(0,C.Z)((0,q.Z)(R),"name","StorageManager"),R}return(0,D.Z)(ne,[{key:"init",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__initConfig(S,R);var v=this.getConfig();return v._disable&&(v.type=0),this.storages={},this.add(M,new H(v)),this.add(c,new oe(v)),this.setCurrent(v.type),this}},{key:"isAutosave",value:function(){return!!this.getConfig().autosave}},{key:"setAutosave",value:function(R){return this.getConfig().autosave=!!R,this}},{key:"getStepsBeforeSave",value:function(){return this.getConfig().stepsBeforeSave}},{key:"setStepsBeforeSave",value:function(R){return this.getConfig().stepsBeforeSave=R,this}},{key:"add",value:function(R,v){return this.storages[R]=v,this}},{key:"get",value:function(R){return this.storages[R]||null}},{key:"getStorages",value:function(){return this.storages}},{key:"getCurrent",value:function(){return this.getConfig().currentStorage}},{key:"setCurrent",value:function(R){return this.getConfig().currentStorage=R,this}},{key:"getCurrentStorage",value:function(){return this.get(this.getCurrent())}},{key:"getStorageOptions",value:function(R){return this.getCurrentOptions(R)}},{key:"store",value:(K=(0,k.Z)(m().mark(function R(v){var b,a,f,h,_,A=arguments;return m().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return b=A.length>1&&A[1]!==void 0?A[1]:{},a=this.getCurrentStorage(),f=Z(Z({},this.getCurrentOptions()),b),h=this.getRecoveryStorage(),_=this.getCurrentOptions(M),J.prev=5,J.next=8,this.__exec(a,f,v);case 8:if(J.t0=h,!J.t0){J.next=12;break}return J.next=12,this.__exec(h,_,{});case 12:case 19:J.next=22;break;case 14:if(J.prev=14,J.t1=J.catch(5),!h){J.next=21;break}return J.next=19,this.__exec(h,_,v);case 21:throw J.t1;case 22:return J.abrupt("return",v);case 23:case"end":return J.stop()}},R,this,[[5,14]])})),function(R){return K.apply(this,arguments)})},{key:"load",value:(O=(0,k.Z)(m().mark(function R(){var v,b,a,f,h,_,A=arguments;return m().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(v=A.length>0&&A[0]!==void 0?A[0]:{},b=this.getCurrentStorage(),a=Z(Z({},this.getCurrentOptions()),v),!(f=this.getRecoveryStorage())){J.next=17;break}return J.next=7,this.__exec(f,this.getCurrentOptions(M));case 7:if(_=J.sent,(0,X.isEmpty)(_)){J.next=17;break}return J.prev=9,J.next=12,this.__askRecovery();case 12:h=_,J.next=17;break;case 15:J.prev=15,J.t0=J.catch(9);case 17:if(h){J.next=21;break}return J.next=20,this.__exec(b,a);case 20:h=J.sent;case 21:return J.abrupt("return",h||{});case 22:case"end":return J.stop()}},R,this,[[9,15]])})),function(){return O.apply(this,arguments)})},{key:"__askRecovery",value:function(){var R=this.em,v=this.getRecovery();return new Promise(function(b,a){(0,X.isFunction)(v)?v(b,a,R==null?void 0:R.getEditor()):confirm(R==null?void 0:R.t("storageManager.recover"))?b():a()})}},{key:"getRecovery",value:function(){return this.getConfig().recovery}},{key:"getRecoveryStorage",value:function(){return this.getRecovery()&&this.getCurrent()===c&&this.get(M)}},{key:"__exec",value:(p=(0,k.Z)(m().mark(function R(v,b,a){var f,h,_,A,J,te,F,G;return m().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(f=a?"store":"load",h=this.getConfig(),_=h.onStore,A=h.onLoad,this.onStart(f,a),v){V.next=5;break}return V.abrupt("return",a||{});case 5:if(V.prev=5,F=(te=this.em)===null||te===void 0?void 0:te.getEditor(),!a){V.next=31;break}if(V.t1=_,!V.t1){V.next=13;break}return V.next=12,_(a,F);case 12:V.t1=V.sent;case 13:if(V.t0=V.t1,V.t0){V.next=16;break}V.t0=a;case 16:if(G=V.t0,V.t3=b.onStore,!V.t3){V.next=22;break}return V.next=21,b.onStore(G,F);case 21:V.t3=V.sent;case 22:if(V.t2=V.t3,V.t2){V.next=25;break}V.t2=G;case 25:return G=V.t2,V.next=28,v.store(G,b);case 28:J=a,V.next=53;break;case 31:return V.next=33,v.load(b);case 33:if(J=V.sent,J=this.__clearKeys(J),V.t5=b.onLoad,!V.t5){V.next=40;break}return V.next=39,b.onLoad(J,F);case 39:V.t5=V.sent;case 40:if(V.t4=V.t5,V.t4){V.next=43;break}V.t4=J;case 43:if(J=V.t4,V.t7=A,!V.t7){V.next=49;break}return V.next=48,A(J,F);case 48:V.t7=V.sent;case 49:if(V.t6=V.t7,V.t6){V.next=52;break}V.t6=J;case 52:J=V.t6;case 53:this.onAfter(f,J),this.onEnd(f,J),V.next=61;break;case 57:throw V.prev=57,V.t8=V.catch(5),this.onError(f,V.t8),V.t8;case 61:return V.abrupt("return",J);case 62:case"end":return V.stop()}},R,this,[[5,57]])})),function(R,v,b){return p.apply(this,arguments)})},{key:"__clearKeys",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=this.getConfig(),b=new RegExp("^".concat(v.id)),a={};for(var f in R){var h=f.replace(b,"");a[h]=R[f]}return a}},{key:"getCurrentOptions",value:function(R){var v=this.getConfig(),b=R||this.getCurrent();return v.options[b]||{}}},{key:"onStart",value:function(R,v){var b=this.em;b&&(b.trigger(T),R&&b.trigger("".concat(T,":").concat(R),v))}},{key:"onAfter",value:function(R,v){var b=this.em;b&&(b.trigger(j),b.trigger("".concat(j,":").concat(R),v),b.trigger("storage:".concat(R),v))}},{key:"onEnd",value:function(R,v){var b=this.em;b&&(b.trigger(U),R&&b.trigger("".concat(U,":").concat(R),v))}},{key:"onError",value:function(R,v){var b=this.em;b&&(b.trigger(E,v),R&&b.trigger("".concat(E,":").concat(R),v),this.onEnd(R,v))}},{key:"canAutoload",value:function(){return this.getCurrentStorage()&&this.getConfig().autoload}},{key:"destroy",value:function(){this.__destroy(),this.storages={}}}]),ne}(g.Z)},2326:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>yt,evAll:()=>kn,evCustom:()=>Kn,evLayerSelect:()=>tr,evPfx:()=>an,evProp:()=>pr,evPropAdd:()=>mr,evPropRemove:()=>cr,evPropUp:()=>Xn,evSector:()=>Qn,evSectorAdd:()=>Gn,evSectorRemove:()=>gr,evSectorUpdate:()=>or,evTarget:()=>Yn});var k=w(2982),$=w(4942),D=w(9050),q=w(1163),l=w(9304),P=w(2316),N=w.n(P);const C={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var y=w(4925),m=w(5671),g=w(3144),S=w(9340),I=w(2963),H=w(1120),X=w(793),Y=["partial"];function x(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function W(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?x(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):x(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function oe(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var se=function(Ce){(0,S.Z)(he,Ce);var ce=oe(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"initialize",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em=we.em;var Ie=this.get("id")||"",qe=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(qe||Ie).replace(/ /g,"-"));var ht=this.get("property");!this.get("id")&&this.set("id",ht),!qe&&this.set("name",(0,q.capitalize)(ht).replace(/-/g," ")),this.on("change",this.__upTargets),he.callInit(this,ee,we)}},{key:"__getParentProp",value:function(){var ee,we;return(ee=this.collection)===null||ee===void 0||(we=ee.opts)===null||we===void 0?void 0:we.parentProp}},{key:"__upTargets",value:function(ee){var we=this,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=this.em,ht=qe.get("StyleManager"),bt=this.getName(),Pt=Ie.__clear,kt=Pt?"":this.__getFullValue(Ie),Mt=this.__getParentProp(),$t=this.changedAttributes(),Yt=(0,D.keys)($t).reduce(function(de,Ee){return de[Ee]=we.previous(Ee),de},{}),dn=[].concat((0,k.Z)((0,D.keys)(this.__getClearProps())),["__p"]),Xe=(0,D.keys)($t),tt=!Ie.__up&&!Mt&&(Pt||dn.some(function(de){return Xe.indexOf(de)>=0})),fe=this.get("onChange"),me={property:this,from:Yt,to:$t,value:kt,opts:Ie};ht.__trgEv(ht.events.propertyUpdate,me),fe&&fe(me),tt&&this.__upTargetsStyle({[bt]:kt},Ie)}},{key:"__upTargetsStyle",value:function(ee,we){var Ie,qe=(Ie=this.em)===null||Ie===void 0?void 0:Ie.get("StyleManager");qe==null||qe.addStyleTargets(W(W({},ee),{},{__p:!!we.avoidStore}),we)}},{key:"_up",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};we.noTarget&&(we.__up=!0);var Ie=we.partial,qe=(0,y.Z)(we,Y);return ee.__p=!(!qe.avoidStore&&!Ie),this.set(ee,W(W({},qe),{},{avoidStore:ee.__p}))}},{key:"up",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.set(ee,W(W({},we),{},{__up:!0}))}},{key:"init",value:function(){}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("property")}},{key:"getLabel",value:function(){var ee,we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=we.locale,qe=Ie===void 0||Ie,ht=this.getId(),bt=this.get("name")||this.get("label");return qe&&((ee=this.em)===null||ee===void 0?void 0:ee.t("styleManager.properties.".concat(ht)))||bt}},{key:"getValue",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ee.noDefault,Ie=this.get("value");return this.hasValue()||we?Ie:this.getDefaultValue()}},{key:"hasValue",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ee.noParent,Ie=we&&this.getParentTarget(),qe=this.get("value");return!(0,D.isUndefined)(qe)&&qe!==""&&!Ie}},{key:"hasValueParent",value:function(){return this.hasValue()&&!this.hasValue({noParent:!0})}},{key:"getStyle",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=this.getName(),Ie=ee.camelCase?(0,q.camelCase)(we):we;return{[Ie]:this.__getFullValue(ee)}}},{key:"getDefaultValue",value:function(){var ee=this.get("default");return"".concat((0,D.isUndefined)(ee)?this.get("defaults"):ee)}},{key:"upValue",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=ee===null||ee===""?this.__getClearProps():this.__parseValue(ee,we);return this._up(Ie,we)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"clear",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._up(this.__getClearProps(),W(W({},ee),{},{__clear:!0}))}},{key:"canClear",value:function(){var ee=this.getParent();return ee?ee.__canClearProp(this):this.hasValue({noParent:!0})}},{key:"getParent",value:function(){return this.__getParentProp()||null}},{key:"isFull",value:function(){return!!this.get("full")}},{key:"__parseValue",value:function(ee,we){return this.parseValue(ee,we)}},{key:"__getClearProps",value:function(){return{value:""}}},{key:"setValue",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qe=this.parseValue(ee),ht=!we;!ht&&this.set({value:void 0},{avoidStore:ht,silent:!0}),this.set(qe,W({avoidStore:ht},Ie))}},{key:"setValueFromInput",value:function(ee,we){var Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.setValue(ee,we,W(W({},Ie),{},{fromInput:1}))}},{key:"parseValue",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie={value:ee},qe="!important";if((0,D.isString)(ee)&&ee.indexOf(qe)!==-1&&(Ie.value=ee.replace(qe,"").trim(),Ie.important=1),!this.get("functionName")&&!we.complete)return Ie;var ht=[],bt="".concat(Ie.value),Pt=bt.indexOf("(")+1,kt=bt.lastIndexOf(")"),Mt=bt.substring(0,Pt-1);if(Mt&&(Ie.functionName=Mt),ht.push(Pt),kt>=0&&ht.push(kt),Ie.value=String.prototype.substring.apply(bt,ht),we.numeric){var $t=parseFloat(Ie.value);Ie.unit=Ie.value.replace($t,""),Ie.value=$t}return Ie}},{key:"__getFullValue",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ee.withDefault;return!this.hasValue()&&we?this.getDefaultValue():this.getFullValue()}},{key:"getFullValue",value:function(ee){var we=this.get("functionName"),Ie=this.getDefaultValue(),qe=(0,D.isUndefined)(ee)?this.get("value"):ee,ht=!(0,D.isUndefined)(qe)&&qe!=="";if(qe&&Ie&&qe===Ie)return Ie;if(we&&ht){var bt=we==="url"?"'".concat(qe.replace(/'|"/g,""),"'"):qe;qe="".concat(we,"(").concat(bt,")")}return ht&&this.get("important")&&(qe="".concat(qe," !important")),qe||""}},{key:"__setParentTarget",value:function(ee){this.up({parentTarget:ee})}},{key:"getParentTarget",value:function(){return this.get("parentTarget")||null}},{key:"__parseFn",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",we=ee.indexOf("(")+1,Ie=ee.lastIndexOf(")");return{name:ee.substring(0,we-1).trim(),value:String.prototype.substring.apply(ee,[we,Ie>=0?Ie:void 0]).trim()}}},{key:"__checkVisibility",value:function(ee){var we=ee.target,Ie=ee.component,qe=ee.sectors,ht=Ie||we;if(!ht)return!1;var bt=this.getId(),Pt=this.getName(),kt=this.get("toRequire"),Mt=this.get("requires"),$t=this.get("requiresParent"),Yt=ht.get("unstylable"),dn=ht.get("stylable-require"),Xe=ht.get("stylable");if((0,D.isArray)(Xe)&&(Xe=Xe.indexOf(Pt)>=0),(0,D.isArray)(Yt)&&(Xe=Yt.indexOf(Pt)<0),kt&&(Xe=!we||dn&&(dn.indexOf(bt)>=0||dn.indexOf(Pt)>=0)),qe&&Mt){var tt=(0,D.keys)(Mt);qe.forEach(function(Ee){Ee.getProperties().forEach(function(Ye){if((0,D.includes)(tt,Ye.id)){var Ot=Mt[Ye.id];Xe=Xe&&(0,D.includes)(Ot,Ye.get("value"))}})})}if($t){var fe=Ie&&Ie.parent(),me=fe&&fe.getEl();if(me){var de=(0,q.hasWin)()?window.getComputedStyle(me):{};(0,D.each)($t,function(Ee,Ye){Xe=Xe&&de[Ye]&&(0,D.includes)(Ee,de[Ye])})}else Xe=!1}return!!Xe}}]),he}(P.Model);function Z(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function B(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?Z(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):Z(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function T(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}se.callParentInit=function(Ce,ce,he){var ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Ce.prototype.initialize.apply(ce,[he,W(W({},ee),{},{skipInit:1})])},se.callInit=function(Ce,ce){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!he.skipInit&&Ce.init(ce,he)},se.getDefaults=function(){return(0,D.result)(this.prototype,"defaults")},se.prototype.defaults={name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],onChange:null,full:0,important:0,toRequire:0,requires:null,requiresParent:null,parentTarget:null};var j=function(Ce){return Ce==="integer"||Ce==="number"},U=function(Ce){(0,S.Z)(he,Ce);var ce=T(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"defaults",value:function(){return B(B({},se.getDefaults()),{},{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})}},{key:"initialize",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};se.callParentInit(se,this,ee,we);var Ie=this.em,qe=new Nn(this.get("properties")||[],{em:Ie,parentProp:this});this.set("properties",qe,{silent:1}),this.listenTo(qe,"change",this.__upProperties),se.callInit(this,ee,we)}},{key:"getProperties",value:function(){return(0,k.Z)(this.get("properties").models)}},{key:"getProperty",value:function(ee){return this.get("properties").filter(function(we){return we.getId()===ee||we.getName()===ee})[0]||null}},{key:"getPropertyAt",value:function(ee){return this.get("properties").at(ee)}},{key:"isDetached",value:function(){return!!this.get("detached")}},{key:"getValues",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ee.byName;return this.getProperties().reduce(function(Ie,qe){return Ie[we?qe.getName():qe.getId()]="".concat(qe.__getFullValue()),Ie},{})}},{key:"getSeparator",value:function(){return this.getSplitSeparator()}},{key:"getJoin",value:function(){return this.__getJoin()}},{key:"getStyleFromProps",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=this.getName(),Ie=this.__getJoin(),qe=this.get("toStyle"),ht=this.getValues(),bt={};if(qe)bt=qe(ht,{join:Ie,name:we,property:this});else if(ht=this.getValues({byName:!0}),this.isDetached())bt=ht;else{var Pt=this.getProperties().map(function(kt){return kt.__getFullValue({withDefault:1})}).filter(Boolean).join(Ie);bt={[we]:Pt}}return this.isDetached()?bt[we]="":(bt[we]=bt[we]||"",bt=B(B({},bt),this.getProperties().reduce(function(kt,Mt){return kt[Mt.getName()]="",kt},{}))),ee.camelCase?Object.keys(bt).reduce(function(kt,Mt){return kt[camelCase(Mt)]=bt[Mt],kt},{}):bt}},{key:"getSplitSeparator",value:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))}},{key:"__upProperties",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!we.__up&&!we.__clearIn){var Ie=this.__getParentProp();if(Ie)return Ie.__upProperties(this,we);this.__upTargetsStyleProps(we,ee)}}},{key:"__upTargetsStyleProps",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=arguments.length>1?arguments[1]:void 0,Ie=this.getStyleFromProps();if(this.isDetached()&&we){var qe=we.getName();Ie={[qe]:Ie[qe]}}this.__upTargetsStyle(Ie,ee)}},{key:"_up",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__setProperties(this.__getSplitValue(ee.value),we),se.prototype._up.call(this,ee,we)}},{key:"getStyle",value:function(ee){return this.getStyleFromProps(ee)}},{key:"__getFullValue",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.isDetached()||ee.__clear?"":this.getStyleFromProps()[this.getName()]||""}},{key:"__getJoin",value:function(){var ee=this.get("join");return(0,D.isString)(ee)?ee:this.get("separator")}},{key:"__styleHasProps",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=this.getName(),Ie=this.getProperties(),qe=Ie.map(function(bt){return bt.getName()}),ht=[we].concat((0,k.Z)(qe));return ht.some(function(bt){return!(0,D.isUndefined)(ee[bt])&&ee[bt]!==""})}},{key:"__splitValue",value:function(ee,we){return ee.split(we).map(function(Ie){return Ie.trim()}).filter(Boolean)}},{key:"__splitStyleName",value:function(ee,we,Ie){return this.__splitValue(ee[we]||"",Ie)}},{key:"__getSplitValue",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=we.byName,qe=this.getProperties(),ht=qe.length===4&&qe.every(function(kt){return j(kt.getType())}),bt=this.__splitValue(ee,this.getSplitSeparator()),Pt={};return qe.forEach(function(kt,Mt){var $t=bt[Mt],Yt=(0,D.isUndefined)($t)?"":$t;if(ht){var dn=bt.length;Yt=bt[Mt]||bt[Mt%dn+(dn!=1&&dn%2?1:0)]||Yt}var Xe=Ie?kt.getName():kt.getId();Pt[Xe]=Yt||""}),Pt}},{key:"__getPropsFromStyle",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.__styleHasProps(ee))return null;var Ie=we.byName,qe=this.getName(),ht=this.getProperties(),bt=this.getSplitSeparator(),Pt=this.get("fromStyle"),kt=Pt?Pt(ee,{property:this,name:qe,separator:bt}):{};return Pt||(kt=this.__getSplitValue(ee[qe]||"",{byName:Ie}),ht.forEach(function(Mt){var $t=ee[Mt.getName()],Yt=Ie?Mt.getName():Mt.getId();(0,D.isUndefined)($t)||$t===""||(kt[Yt]=$t)})),kt}},{key:"__setProperties",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.getProperties().forEach(function(qe){var ht=ee[qe.getId()];qe.__getFullValue()!==ht&&qe.upValue(ht,we)});var Ie=(0,D.keys)(ee).map(function(qe){return ee[qe]}).join(" ");this.set("value",Ie,{silent:!0})}},{key:"clear",value:function(){var ee=this;return this.getProperties().map(function(we){return we.clear({__clearIn:!ee.isDetached()})}),se.prototype.clear.call(this)}},{key:"hasValue",value:function(ee){return this.getProperties().some(function(we){return we.hasValue(ee)})}},{key:"getFullValue",value:function(){return this.__getFullValue()}},{key:"__canClearProp",value:function(ee){return this.isDetached()&&ee.hasValue({noParent:!0})}}]),he}(se);function E(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function M(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?E(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):E(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function c(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var d=function(Ce){(0,S.Z)(he,Ce);var ce=c(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"defaults",value:function(){return{values:{}}}},{key:"initialize",value:function(){var ee=this.collection;this.prop=ee==null?void 0:ee.prop}},{key:"getId",value:function(){return this.cid}},{key:"getIndex",value:function(){var ee=this.collection;return ee?ee.indexOf(this):-1}},{key:"getValues",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=this.get("values");return ee.camelCase?Object.keys(we).reduce(function(Ie,qe){return Ie[(0,q.camelCase)(qe)]=we[qe],Ie},{}):we}},{key:"getLabel",value:function(){var ee;return(ee=this.prop)===null||ee===void 0?void 0:ee.getLayerLabel(this)}},{key:"isSelected",value:function(){var ee;return((ee=this.prop)===null||ee===void 0?void 0:ee.getSelectedLayer())===this}},{key:"select",value:function(){var ee;return(ee=this.prop)===null||ee===void 0?void 0:ee.selectLayer(this)}},{key:"remove",value:function(){var ee;return(ee=this.prop)===null||ee===void 0?void 0:ee.removeLayer(this)}},{key:"move",value:function(ee){var we;return(we=this.prop)===null||we===void 0?void 0:we.moveLayer(this,ee)}},{key:"getStylePreview",value:function(){var ee,we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(ee=this.prop)===null||ee===void 0?void 0:ee.getStylePreview(this,we)}},{key:"hasPreview",value:function(){var ee;return!((ee=this.prop)===null||ee===void 0||!ee.get("preview"))}},{key:"upValues",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.set("values",M(M({},this.getValues()),ee))}}]),he}(P.Model);function s(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var p=function(Ce){(0,S.Z)(he,Ce);var ce=s(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"initialize",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prop=we.prop}}]),he}(P.Collection);p.prototype.model=d;var O=["__layers"];function K(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function Q(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?K(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):K(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function ne(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var R=/,(?![^\(]*\))/,v=/\s(?![^(]*\))/,b=function(Ce){(0,S.Z)(he,Ce);var ce=ne(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"defaults",value:function(){return Q(Q({},U.getDefaults()),{},{layers:[],layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})}},{key:"initialize",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};U.callParentInit(U,this,ee,we);var Ie=this.get("layers"),qe=new p(Ie,{prop:this});qe.property=this,qe.properties=this.get("properties"),this.set("layers",qe,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(qe,"add remove",this.__upLayers),U.callInit(this,ee,we)}},{key:"getLayers",value:function(){return this.__getLayers().models}},{key:"__getLayers",value:function(){return this.get("layers")}},{key:"getLayer",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.__getLayers().at(ee)||null}},{key:"getSelectedLayer",value:function(){var ee=this.get("selectedLayer");return ee&&ee.getIndex()>=0?ee:null}},{key:"selectLayer",value:function(ee){return this.set("selectedLayer",ee,{__select:!0})}},{key:"selectLayerAt",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,we=this.getLayer(ee);return we&&this.selectLayer(we)}},{key:"moveLayer",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Ie=ee?ee.getIndex():-1;Ie>=0&&(0,D.isNumber)(we)&&we>=0&&we<this.getLayers().length&&Ie!==we&&(this.removeLayer(ee),this.__getLayers().add(ee,{at:we}))}},{key:"addLayer",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie={};this.getProperties().forEach(function(ht){var bt=ht.getId(),Pt=ee[bt];Ie[bt]=(0,D.isUndefined)(Pt)?ht.getDefaultValue():Pt});var qe=this.get("layers").push({values:Ie},we);return qe}},{key:"removeLayer",value:function(ee){return this.get("layers").remove(ee)}},{key:"removeLayerAt",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,we=this.getLayer(ee);return we?this.removeLayer(we):null}},{key:"getLayerLabel",value:function(ee){var we="";if(ee){var Ie=this.get("layerLabel"),qe=ee.getValues(),ht=ee.getIndex();if(Ie)we=Ie(ee,{index:ht,values:qe,property:this});else{var bt=[];this.getProperties().map(function(Pt){bt.push(qe[Pt.getId()])}),we=bt.filter(Boolean).join(" ")}}return we}},{key:"getStyleFromLayer",value:function(ee){var we,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=this.__getJoin(),ht=this.__getJoinLayers(),bt=this.get("toStyle"),Pt=this.getName(),kt=ee.getValues();if(bt)we=bt(kt,{join:qe,joinLayers:ht,name:Pt,layer:ee,property:this});else{var Mt=this.getProperties().map(function($t){var Yt=$t.getName(),dn=kt[$t.getId()],Xe=(0,D.isUndefined)(dn)?$t.getDefaultValue():dn;if(Ie.number&&j($t.getType())){var tt=$t.parseValue(dn,Ie.number);Xe="".concat(tt.value).concat(tt.unit)}return{name:Yt,value:Xe}});we=this.isDetached()?Mt.reduce(function($t,Yt){return $t[Yt.name]=Yt.value,$t},{}):{[this.getName()]:Mt.map(function($t){return $t.value}).join(qe)}}return Ie.camelCase?Object.keys(we).reduce(function($t,Yt){return $t[(0,q.camelCase)(Yt)]=we[Yt],$t},{}):we}},{key:"getStylePreview",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie={},qe=this.get("preview");return qe&&(Ie=this.getStyleFromLayer(ee,we)),Ie}},{key:"getLayerSeparator",value:function(){var ee=this.get("layerSeparator");return(0,D.isString)(ee)?new RegExp("".concat(ee,"(?![^\\(]*\\))")):ee}},{key:"__upProperties",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=this.getSelectedLayer();Ie&&(Ie.upValues({[ee.getId()]:ee.__getFullValue()}),we.__up||this.__upTargetsStyleProps(we))}},{key:"__upLayers",value:function(ee,we,Ie){this.__upTargetsStyleProps(Ie||we)}},{key:"__upTargets",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!we.__select)return se.prototype.__upTargets.call(this,ee,we)}},{key:"__upTargetsStyleProps",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__upTargetsStyle(this.getStyleFromLayers(),ee)}},{key:"__upTargetsStyle",value:function(ee,we){return se.prototype.__upTargetsStyle.call(this,ee,we)}},{key:"__upSelected",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ee.noEvent,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=this.em.get("StyleManager"),ht=this.getSelectedLayer(),bt=ht==null?void 0:ht.getValues();bt&&this.getProperties().forEach(function(Pt){var kt,Mt=(kt=bt[Pt.getId()])!==null&&kt!==void 0?kt:"";Pt.__getFullValue()!==Mt&&Pt.upValue(Mt,Q(Q({},Ie),{},{__up:!0}))}),!we&&qe.__trgEv(qe.events.layerSelect,{property:this})}},{key:"_up",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=ee.__layers,qe=Ie===void 0?[]:Ie,ht=(0,y.Z)(ee,O);return!this.isDetached()&&this.__setLayers(qe),this.__upSelected({noEvent:!0},we),se.prototype._up.call(this,ht,we)}},{key:"__setLayers",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],we=this.__getLayers(),Ie=ee.map(function(qe){return{values:qe}});we.length===Ie.length?Ie.map(function(qe,ht){var bt;return(bt=we.at(ht))===null||bt===void 0?void 0:bt.upValues(qe.values)}):this.__getLayers().reset(Ie),this.__upSelected({noEvent:!0})}},{key:"__parseValue",value:function(ee){var we=this,Ie=this.parseValue(ee);return Ie.__layers=ee.split(R).map(function(qe){return qe.trim()}).map(function(qe){return we.__parseLayer(qe)}).filter(Boolean),Ie}},{key:"__parseLayer",value:function(ee){var we=this.get("parseLayer"),Ie=ee.split(v),qe=this.getProperties();return we?we({value:ee,values:Ie}):qe.reduce(function(ht,bt,Pt){var kt=Ie[Pt];return ht[bt.getId()]=(0,D.isUndefined)(kt)?bt.getDefaultValue():kt,ht},{})}},{key:"__getLayersFromStyle",value:function(){var ee=this,we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.__styleHasProps(we))return null;var Ie=this.getName(),qe=this.getProperties(),ht=this.getLayerSeparator(),bt=this.get("fromStyle"),Pt=bt?bt(we,{property:this,name:Ie,separatorLayers:ht}):[];if(!bt){var kt=this.__splitStyleName(we,Ie,ht).map(function(Mt){return Mt.split(ee.getSplitSeparator())}).map(function(Mt){var $t={};return qe.forEach(function(Yt,dn){var Xe=Mt[dn];$t[Yt.getId()]=(0,D.isUndefined)(Xe)?Yt.getDefaultValue():Xe}),$t});qe.forEach(function(Mt){var $t=Mt.getId();ee.__splitStyleName(we,Mt.getName(),ht).map(function(Yt){return{[$t]:Yt||Mt.getDefaultValue()}}).forEach(function(Yt,dn){kt[dn]=kt[dn]?Q(Q({},kt[dn]),Yt):Yt})}),Pt=kt}return(0,D.isArray)(Pt)?Pt:[Pt]}},{key:"getStyle",value:function(ee){return this.getStyleFromLayers(ee)}},{key:"getStyleFromLayers",value:function(ee){var we=this,Ie={},qe=this.getName(),ht=this.getLayers(),bt=this.getProperties();if(ht.map(function(kt){return we.getStyleFromLayer(kt,ee)}).forEach(function(kt){(0,D.keys)(kt).map(function(Mt){Ie[Mt]||(Ie[Mt]=[]),Ie[Mt].push(kt[Mt])})}),(0,D.keys)(Ie).map(function(kt){Ie[kt]=Ie[kt].join(we.__getJoinLayers())}),this.isDetached())Ie[qe]="",!ht.length&&bt.map(function(kt){Ie[kt.getName()]=""});else{var Pt=bt.reduce(function(kt,Mt){return kt[Mt.getName()]="",kt},{});Ie[qe]=Ie[qe]||"",Ie=Q(Q({},Ie),Pt)}return Ie}},{key:"__getJoinLayers",value:function(){var ee=this.get("layerJoin"),we=this.get("layerSeparator");return ee||((0,D.isString)(we)?we:ee)}},{key:"__getFullValue",value:function(){return this.get("detached")?"":this.getStyleFromLayers()[this.getName()]}},{key:"hasValue",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ee.noParent,Ie=we&&this.getParentTarget();return this.getLayers().length>0&&!Ie}},{key:"clear",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.__getLayers().reset(),this.__upTargetsStyleProps(ee),se.prototype.clear.call(this)}},{key:"__canClearProp",value:function(){return!1}}]),he}(U),a=["complete","partial"];function f(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function h(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?f(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):f(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function _(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var A="data-clear-style",J=function(Ce){(0,S.Z)(he,Ce);var ce=_(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"template",value:function(){var ee=this.pfx,we=this.ppfx;return`
      <div class="`.concat(ee,`label" data-sm-label></div>
      <div class="`).concat(we,`fields" data-sm-fields></div>
    `)}},{key:"templateLabel",value:function(ee){var we=this.pfx,Ie=this.em,qe=ee.parent,ht=ee.attributes,bt=ht.icon,Pt=bt===void 0?"":bt,kt=ht.info,Mt=kt===void 0?"":kt,$t=Ie==null?void 0:Ie.getConfig().icons,Yt=($t==null?void 0:$t.close)||"";return`
      <span class="`.concat(we,"icon ").concat(Pt,'" title="').concat(Mt,`">
        `).concat(ee.getLabel(),`
      </span>
      `).concat(qe?"":'<div class="'.concat(we,'clear" style="display: none" ').concat(A,">").concat(Yt,"</div>"),`
    `)}},{key:"templateInput",value:function(ee){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(ee.getDefaultValue(),`"/>
      </div>
    `)}},{key:"initialize",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,D.bindAll)(this,"__change","__updateStyle");var we=ee.config||{},Ie=we.em;this.config=we,this.em=Ie,this.pfx=we.stylePrefix||"",this.ppfx=we.pStylePrefix||"",this.__destroyFn=this.destroy?this.destroy.bind(this):function(){};var qe=this.model;qe.view=this,this.onValueChange=(0,D.debounce)(this.onValueChange.bind(this),10),this.updateStatus=(0,D.debounce)(this.updateStatus.bind(this)),this.listenTo(qe,"destroy remove",this.remove),this.listenTo(qe,"change:visible",this.updateVisibility),this.listenTo(qe,"change:name change:className change:full",this.render),this.listenTo(qe,"change:value",this.onValueChange),this.listenTo(qe,"change:parentTarget",this.updateStatus),this.listenTo(Ie,"change:device",this.onValueChange);var ht=this.init&&this.init.bind(this);ht&&ht()}},{key:"remove",value:function(){var ee=this;P.View.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(we){return ee[we]=null}),this.__destroyFn(this._getClbOpts())}},{key:"updateStatus",value:function(){var ee,we=this.model,Ie=this.pfx,qe=this.ppfx,ht=this.config,bt="".concat(qe,"four-color"),Pt="".concat(qe,"color-warn"),kt=this.$el.children(".".concat(Ie,"label")),Mt=this.getClearEl(),$t=Mt?Mt.style:{};kt.removeClass("".concat(bt," ").concat(Pt)),$t.display="none",we.hasValue({noParent:!0})&&ht.highlightChanged?(kt.addClass(bt),ht.clearProperties&&($t.display="")):we.hasValue()&&ht.highlightComputed&&kt.addClass(Pt),(ee=this.parent)===null||ee===void 0||ee.updateStatus()}},{key:"clear",value:function(ee){ee&&ee.stopPropagation(),this.model.clear()}},{key:"getClearEl",value:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(A,"]"))),this.clearEl}},{key:"inputValueChanged",value:function(ee){ee&&ee.stopPropagation(),this.emit||this.model.upValue(ee.target.value)}},{key:"onValueChange",value:function(ee,we){this.setValue(this.model.getFullValue()),this.updateStatus()}},{key:"setValue",value:function(ee){var we=this.model,Ie=(0,D.isUndefined)(ee)||ee===""?we.getDefaultValue():ee;if(this.update)return this.__update(Ie);this.__setValueInput(Ie)}},{key:"__setValueInput",value:function(ee){var we=this.getInputEl();we&&(we.value=ee)}},{key:"getInputEl",value:function(){return this.input||(this.input=this.el.querySelector("input")),this.input}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"clearCached",value:function(){this.clearEl=null,this.input=null,this.$input=null}},{key:"__unset",value:function(){var ee=this.unset&&this.unset.bind(this);ee&&ee(this._getClbOpts())}},{key:"__update",value:function(ee){var we=this.update&&this.update.bind(this);we&&we(h(h({},this._getClbOpts()),{},{value:ee}))}},{key:"__change",value:function(){for(var ee=this.emit&&this.emit.bind(this),we=arguments.length,Ie=new Array(we),qe=0;qe<we;qe++)Ie[qe]=arguments[qe];ee&&ee.apply(void 0,[this._getClbOpts()].concat(Ie))}},{key:"__updateStyle",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=we.complete,qe=we.partial,ht=((0,y.Z)(we,a),this.model),bt=Ie!==!1&&qe!==!0;(0,q.isObject)(ee)?ht.__upTargetsStyle(ee,{avoidStore:!bt}):ht.upValue(ee,{partial:!bt})}},{key:"_getClbOpts",value:function(){var ee=this.model;return{el:this.el,createdEl:this.createdEl,property:ee,props:ee.attributes,change:this.__change,updateStyle:this.__updateStyle}}},{key:"render",value:function(){this.clearCached();var ee=this.pfx,we=this.model,Ie=this.el,qe=this.$el,ht=we.getName(),bt=we.getType(),Pt=we.get("className")||"",kt="".concat(ee,"property"),Mt=bt==="number"?"".concat(ee).concat(bt," ").concat(ee,"integer"):"".concat(ee).concat(bt);this.createdEl&&this.__destroyFn(this._getClbOpts()),qe.empty().append(this.template(we)),qe.find("[data-sm-label]").append(this.templateLabel(we));var $t=this.create&&this.create.bind(this);this.createdEl=$t&&$t(this._getClbOpts()),qe.find("[data-sm-fields]").append(this.createdEl||this.templateInput(we)),Ie.className="".concat(kt," ").concat(Mt," ").concat(kt,"__").concat(ht," ").concat(Pt).trim(),Ie.className+=we.isFull()?" ".concat(kt,"--full"):"";var Yt=this.onRender&&this.onRender.bind(this);Yt&&Yt(),this.setValue(we.getValue())}}]),he}(P.View);J.prototype.events={change:"inputValueChanged",["click [".concat(A,"]")]:"clear"};var te=w(9283);function F(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var G=function(Ce){(0,S.Z)(he,Ce);var ce=F(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"initialize",value:function(ee){this.config=ee.config||{},this.pfx=this.config.stylePrefix||"",this.properties=[],this.parent=ee.parent;var we=this.collection;this.listenTo(we,"add",this.addTo),this.listenTo(we,"reset",this.render)}},{key:"addTo",value:function(ee,we,Ie){this.add(ee,null,Ie)}},{key:"add",value:function(ee,we){var Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qe=this.parent,ht=this.config,bt=we||this.el,Pt=new ee.typeView({model:ee,config:ht});qe&&(Pt.parent=qe),Pt.render();var kt=Pt.el;this.properties.push(Pt),(0,te.$Q)(bt,kt,Ie.at)}},{key:"remove",value:function(){P.View.prototype.remove.apply(this,arguments),this.clearItems()}},{key:"clearItems",value:function(){this.properties.forEach(function(ee){return ee.remove()}),this.properties=[]}},{key:"render",value:function(){var ee=this,we=this.$el,Ie=this.pfx;this.clearItems();var qe=document.createDocumentFragment();return this.collection.forEach(function(ht){return ee.add(ht,qe)}),we.empty(),we.append(qe),we.attr("class","".concat(Ie,"properties")),this}}]),he}(P.View);function V(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function le(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?V(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):V(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function ve(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var Ne=function(Ce){(0,S.Z)(he,Ce);var ce=ve(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"templateInput",value:function(){var ee=this.pfx;return`
      <div class="`.concat(ee,"field ").concat(ee,`composite">
        <span id="`).concat(ee,`input-holder"></span>
      </div>
    `)}},{key:"remove",value:function(){var ee;(ee=this.props)===null||ee===void 0||ee.remove(),J.prototype.remove.apply(this,arguments)}},{key:"onValueChange",value:function(){}},{key:"onRender",value:function(){var ee=this.model,we=this.pfx,Ie=ee.get("properties");if(Ie.length&&!this.props){var qe=ee.isDetached(),ht=new G({config:le(le({},this.config),{},{highlightComputed:qe,highlightChanged:qe}),collection:Ie,parent:this});ht.render(),this.$el.find("#".concat(we,"input-holder")).append(ht.el),this.props=ht}}},{key:"clearCached",value:function(){J.prototype.clearCached.apply(this,arguments),this.props=null}}]),he}(J);function Ze(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var Me=function(Ce){(0,S.Z)(he,Ce);var ce=Ze(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"events",value:function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}}},{key:"template",value:function(){var ee=this.pfx,we=this.ppfx,Ie=this.em,qe=Ie==null?void 0:Ie.getConfig().icons,ht=(qe==null?void 0:qe.close)||"",bt=(qe==null?void 0:qe.move)||"";return`
      <div class="`.concat(ee,`label-wrp">
        <div id="`).concat(ee,'move" class="').concat(we,`no-touch-actions" data-move-layer>
          `).concat(bt,`
        </div>
        <div id="`).concat(ee,`label" data-label></div>
        <div id="`).concat(ee,'preview-box" class="').concat(ee,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(ee,'preview" class="').concat(ee,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(ee,'close-layer" class="').concat(ee,`btn-close" data-close-layer>
          `).concat(ht,`
        </div>
      </div>
      <div id="`).concat(ee,`inputs" data-properties></div>
    `)}},{key:"initialize",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=this.model,Ie=ee.config||{};this.em=Ie.em,this.config=Ie,this.sorter=ee.sorter,this.pfx=Ie.stylePrefix||"",this.ppfx=Ie.pStylePrefix||"",this.propertyView=ee.propertyView;var qe=this.propertyView.model;this.listenTo(we,"destroy remove",this.remove),this.listenTo(we,"change:values",this.updateLabel),this.listenTo(qe,"change:selectedLayer",this.updateVisibility),we.view=this,we.set({droppable:0,draggable:1}),this.$el.data("model",we)}},{key:"initSorter",value:function(){var ee;(ee=this.sorter)===null||ee===void 0||ee.startSort(this.el)}},{key:"removeItem",value:function(ee){ee&&ee.stopPropagation(),this.model.remove()}},{key:"select",value:function(){this.model.select()}},{key:"getPropertiesWrapper",value:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl}},{key:"getPreviewEl",value:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl}},{key:"getLabelEl",value:function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl}},{key:"updateLabel",value:function(){var ee=this.model,we=ee.getLabel();if(this.getLabelEl().innerHTML=we,ee.hasPreview()){var Ie=this.getPreviewEl(),qe=ee.getStylePreview({number:{min:-3,max:3}}),ht=(0,D.keys)(qe).map(function(bt){return"".concat(bt,":").concat(qe[bt])}).join(";");Ie.setAttribute("style",ht)}}},{key:"updateVisibility",value:function(){var ee=this.pfx,we=this.model,Ie=this.propertyView,qe=this.getPropertiesWrapper(),ht=we.isSelected();qe.style.display=ht?"":"none",this.$el[ht?"addClass":"removeClass"]("".concat(ee,"active")),ht&&qe.appendChild(Ie.props.el)}},{key:"render",value:function(){var ee=this.el,we=this.pfx,Ie=this.model;return ee.innerHTML=this.template(),ee.className="".concat(we,"layer"),Ie.hasPreview()&&(ee.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this}}]),he}(P.View);function je(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var ae=function(Ce){(0,S.Z)(he,Ce);var ce=je(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"initialize",value:function(ee){var we=this.collection,Ie=ee.config||{},qe=Ie.em,ht=Ie.stylePrefix||"",bt=Ie.pStylePrefix||"";this.config=Ie,this.pfx=ht,this.ppfx=bt,this.propertyView=ee.propertyView,this.className="".concat(ht,"layers ").concat(bt,"field"),this.listenTo(we,"add",this.addTo),this.listenTo(we,"reset",this.reset),this.items=[];var Pt=qe?qe.get("Utils"):"";this.sorter=Pt?new Pt.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(ht,"layers"),itemSel:".".concat(ht,"layer"),pfx:Ie.pStylePrefix}):"",we.view=this,this.$el.data("model",we),this.$el.data("collection",we)}},{key:"addTo",value:function(ee){var we=this.collection.indexOf(ee);this.addToCollection(ee,null,we)}},{key:"addToCollection",value:function(ee,we,Ie){var qe=we||null,ht=this.propertyView,bt=this.config,Pt=this.sorter,kt=this.$el,Mt=new Me({model:ee,config:bt,sorter:Pt,propertyView:ht}),$t=Mt.render().el;if(this.items.push(Mt),qe)qe.appendChild($t);else if(Ie!==void 0){var Yt="before";kt.children().length===Ie&&(Ie--,Yt="after"),Ie<0?kt.append($t):kt.children().eq(Ie)[Yt]($t)}else kt.append($t);return $t}},{key:"reset",value:function(ee,we){this.clearItems(we),this.render()}},{key:"remove",value:function(){this.clearItems(),P.View.prototype.remove.apply(this,arguments)}},{key:"clearItems",value:function(){this.items.forEach(function(ee){return ee.remove()}),this.items=[]}},{key:"render",value:function(){var ee=this,we=this.$el,Ie=this.sorter,qe=document.createDocumentFragment();return we.empty(),this.collection.forEach(function(ht){return ee.addToCollection(ht,qe)}),we.append(qe),we.attr("class",this.className),Ie&&(Ie.plh=null),this}}]),he}(P.View);function be(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function re(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?be(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):be(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function Te(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var Re=function(Ce){(0,S.Z)(he,Ce);var ce=Te(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"events",value:function(){return re(re({},Ne.prototype.events),{},{"click [data-add-layer]":"addLayer",change:""})}},{key:"templateInput",value:function(){var ee=this.pfx,we=this.em,Ie=we==null?void 0:we.getConfig().icons,qe=(Ie==null?void 0:Ie.plus)||"+";return`
      <div class="`.concat(ee,"field ").concat(ee,`stack">
        <button type="button" id="`).concat(ee,`add" data-add-layer>
          `).concat(qe,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)}},{key:"init",value:function(){var ee=this.model;this.listenTo(ee.__getLayers(),"change reset",this.updateStatus)}},{key:"addLayer",value:function(){this.model.addLayer({},{at:0})}},{key:"setValue",value:function(){}},{key:"remove",value:function(){var ee;(ee=this.layersView)===null||ee===void 0||ee.remove(),Ne.prototype.remove.apply(this,arguments)}},{key:"clearCached",value:function(){Ne.prototype.clearCached.apply(this,arguments),this.layersView=null}},{key:"onRender",value:function(){var ee=this.model,we=this.el,Ie=this.config,qe=ee.get("properties");if(qe.length&&!this.props){var ht=new G({config:re(re({},Ie),{},{highlightComputed:!1,highlightChanged:!1}),collection:qe,parent:this});ht.render();var bt=new ae({collection:ee.__getLayers(),config:Ie,propertyView:this});bt.render(),we.querySelector("[data-layers-wrapper]").appendChild(bt.el),this.props=ht,this.layersView=bt}}}]),he}(Ne);function Fe(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function it(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?Fe(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):Fe(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function lt(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var St=function(Ce){(0,S.Z)(he,Ce);var ce=lt(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"events",value:function(){return it(it({},J.prototype.events),{},{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})}},{key:"templateInput",value:function(){var ee,we=this.pfx,Ie=this.em,qe=(ee=this.em)===null||ee===void 0?void 0:ee.getConfig().icons,ht=qe==null?void 0:qe.close;return`
      <div class="`.concat(we,"field ").concat(we,`file">
        <div id='`).concat(we,`input-holder'>
          <div class="`).concat(we,`btn-c">
            <button class="`).concat(we,'btn" id="').concat(we,`images" type="button" data-open-assets>
              `).concat(Ie.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(we,'preview-box" class="').concat(we,`preview-file" data-preview-box>
          <div id="`).concat(we,'preview-file" class="').concat(we,`preview-file-cnt" data-preview></div>
          <div id="`).concat(we,'close" class="').concat(we,'preview-file-close" data-clear-asset>').concat(ht,`</div>
        </div>
      </div>
    `)}},{key:"__setValueInput",value:function(ee){var we=this.model,Ie=this.el,qe=we.getDefaultValue(),ht=Ie.querySelector("[data-preview-box]"),bt=Ie.querySelector("[data-preview]");ht.style.display=ee&&ee!==qe?"":"none",bt.style.backgroundImage=ee||we.getDefaultValue()}},{key:"openAssetManager",value:function(){var ee,we=this,Ie=(ee=this.em)===null||ee===void 0?void 0:ee.get("AssetManager");Ie==null||Ie.open({select:function(qe,ht){var bt=(0,D.isString)(qe)?qe:qe.get("src");we.model.upValue(bt,{partial:!ht}),ht&&Ie.close()},types:["image"],accept:"image/*"})}}]),he}(J);function Ut(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var Xt=function(Ce){(0,S.Z)(he,Ce);var ce=Ut(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"templateInput",value:function(){return""}},{key:"init",value:function(){var ee=this.model;this.listenTo(ee,"change:unit",this.onValueChange),this.listenTo(ee,"change:units",this.render)}},{key:"setValue",value:function(){}},{key:"onRender",value:function(){var ee=this.ppfx,we=this.model,Ie=this.el;if(!this.inputInst){var qe=we.input;qe.ppfx=ee,qe.render(),Ie.querySelector(".".concat(ee,"fields")).appendChild(qe.el),this.input=qe.inputEl.get(0),this.inputInst=qe}}},{key:"clearCached",value:function(){J.prototype.clearCached.apply(this,arguments),this.inputInst=null}}]),he}(J),Dt=w(1511);function ot(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var st=function(Ce){(0,S.Z)(he,Ce);var ce=ot(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"setValue",value:function(ee){var we;(we=this.inputInst)===null||we===void 0||we.setValue(ee,{fromTarget:1,def:this.model.getDefaultValue()})}},{key:"remove",value:function(){var ee=this;Xt.prototype.remove.apply(this,arguments);var we=this.inputInst;we&&we.remove&&we.remove(),["inputInst","$color"].forEach(function(Ie){return ee[Ie]=null})}},{key:"__handleChange",value:function(ee,we){this.model.upValue(ee,{partial:we})}},{key:"onRender",value:function(){if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var ee=this.ppfx,we=this.model,Ie=this.em,qe=this.el,ht=new Dt.Z({target:Ie,model:we,ppfx:ee,onChange:this.__handleChange}).render();qe.querySelector(".".concat(ee,"fields")).appendChild(ht.el),this.input=ht.inputEl.get(0),this.inputInst=ht}}}]),he}(Xt);function Ve(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function Ge(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?Ve(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):Ve(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function dt(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var We=function(Ce){(0,S.Z)(he,Ce);var ce=dt(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"defaults",value:function(){return Ge(Ge({},se.getDefaults()),{},{options:[],full:0})}},{key:"getOptions",value:function(){var ee=this.attributes,we=ee.options,Ie=ee.list;return(we&&we.length?we:Ie)||[]}},{key:"getOption",value:function(ee){var we=this,Ie=ee||this.getValue();return this.getOptions().filter(function(qe){return we.getOptionId(qe)===Ie})[0]||null}},{key:"setOptions",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.set("options",ee),this}},{key:"addOption",value:function(ee){if(ee){var we=this.getOptions();this.setOptions([].concat((0,k.Z)(we),[ee]))}return this}},{key:"getOptionId",value:function(ee){return(0,q.isDef)(ee.id)?ee.id:ee.value}},{key:"getOptionLabel",value:function(ee){var we,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=Ie.locale,ht=qe===void 0||qe,bt=((0,D.isString)(ee)?this.getOption(ee):ee)||{},Pt=this.getOptionId(bt),kt=bt.label||bt.name||Pt,Mt=this.getId();return ht&&((we=this.em)===null||we===void 0?void 0:we.t("styleManager.options.".concat(Mt,".").concat(Pt)))||kt}},{key:"initialize",value:function(){for(var ee=arguments.length,we=new Array(ee),Ie=0;Ie<ee;Ie++)we[Ie]=arguments[Ie];se.prototype.initialize.apply(this,we),this.listenTo(this,"change:options",this.__onOptionChange)}},{key:"__onOptionChange",value:function(){this.set("list",this.get("options"))}}]),he}(se);function mt(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var Ke=function(Ce){(0,S.Z)(he,Ce);var ce=mt(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"templateInput",value:function(){var ee=this.pfx,we=this.ppfx;return`
      <div class="`.concat(we,"field ").concat(we,`select">
        <span id="`).concat(ee,`input-holder"></span>
        <div class="`).concat(we,`sel-arrow">
          <div class="`).concat(we,`d-s-arrow"></div>
        </div>
      </div>
    `)}},{key:"initialize",value:function(){for(var ee=arguments.length,we=new Array(ee),Ie=0;Ie<ee;Ie++)we[Ie]=arguments[Ie];J.prototype.initialize.apply(this,we),this.listenTo(this.model,"change:options",this.updateOptions)}},{key:"updateOptions",value:function(){this.input=null,this.onRender()}},{key:"onRender",value:function(){var ee=this.model,we=this.pfx,Ie=ee.getOptions();if(!this.input){var qe=[];Ie.forEach(function(bt){var Pt=ee.getOptionId(bt),kt=ee.getOptionLabel(Pt),Mt=bt.style?bt.style.replace(/"/g,"&quot;"):"",$t=Mt?'style="'.concat(Mt,'"'):"",Yt=Pt.replace(/"/g,"&quot;");qe.push('<option value="'.concat(Yt,'" ').concat($t,">").concat(kt,"</option>"))});var ht=this.el.querySelector("#".concat(we,"input-holder"));ht.innerHTML="<select>".concat(qe.join(""),"</select>"),this.input=ht.firstChild}}},{key:"__setValueInput",value:function(ee){var we=this.model,Ie=this.getInputEl(),qe=we.getOptions()[0],ht=qe?we.getOptionId(qe):"";Ie&&(Ie.value=ee||ht)}}]),he}(J);function gt(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function vt(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?gt(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):gt(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function Ct(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var It=function(Ce){(0,S.Z)(he,Ce);var ce=Ct(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"defaults",value:function(){return vt(vt({},We.getDefaults()),{},{full:1})}}]),he}(We);function Nt(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var sn=function(Ce){(0,S.Z)(he,Ce);var ce=Nt(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"templateInput",value:function(){var ee=this.ppfx;return'<div class="'.concat(ee,"field ").concat(ee,'field-radio"></div>')}},{key:"onRender",value:function(){var ee=this.pfx,we=this.ppfx,Ie=this.model,qe="".concat(we,"radio-item-label"),ht=Ie.getName(),bt=Ie.getOptions(),Pt="".concat(ee,"radio ").concat(ee,"radio-").concat(ht),kt=Ie.cid;if(!this.input){var Mt=[];bt.forEach(function(Yt){var dn=Yt.className?"".concat(Yt.className," ").concat(ee,"icon ").concat(qe):"",Xe=Ie.getOptionId(Yt),tt="".concat(ht,"-").concat(Xe,"-").concat(kt),fe=dn?"":Ie.getOptionLabel(Xe),me=Yt.title?'title="'.concat(Yt.title,'"'):"",de=Ie.getValue()===Xe?"checked":"";Mt.push(`
          <div class="`.concat(we,`radio-item">
            <input type="radio" class="`).concat(Pt,'" id="').concat(tt,'" name="').concat(ht,"-").concat(kt,'" value="').concat(Xe,'" ').concat(de,`/>
            <label class="`).concat(dn||qe,'" ').concat(me,' for="').concat(tt,'">').concat(fe,`</label>
          </div>
        `))});var $t=this.el.querySelector(".".concat(we,"field"));$t.innerHTML='<div class="'.concat(we,'radio-items">').concat(Mt.join(""),"</div>"),this.input=$t.firstChild}}},{key:"__setValueInput",value:function(ee){var we,Ie=this.model,qe=ee||Ie.getDefaultValue(),ht=(we=this.getInputEl())===null||we===void 0?void 0:we.querySelector('[value="'.concat(qe,'"]'));ht&&(ht.checked=!0)}}]),he}(Ke),mn=w(7610);function hn(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function fn(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?hn(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):hn(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function pn(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var Qt=function(Ce){(0,S.Z)(he,Ce);var ce=pn(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"defaults",value:function(){return fn(fn({},se.getDefaults()),{},{units:[],unit:"",min:"",max:"",step:1})}},{key:"getUnits",value:function(){return this.get("units")||[]}},{key:"getUnit",value:function(){return this.get("unit")}},{key:"getMin",value:function(){return this.get("min")}},{key:"getMax",value:function(){return this.get("max")}},{key:"getStep",value:function(){return this.get("step")}},{key:"upUnit",value:function(ee,we){return this._up({unit:ee},we)}},{key:"initialize",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};se.callParentInit(se,this,ee,we);var Ie=this.get("unit"),qe=this.get("units");this.input=(0,q.hasWin)()&&new mn.Z({model:this}),qe.length&&!Ie&&this.set("unit",qe[0],{silent:1}),se.callInit(this,ee,we)}},{key:"__getClearProps",value:function(){return fn(fn({},se.prototype.__getClearProps()),{},{unit:""})}},{key:"parseValue",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=se.prototype.parseValue.apply(this,arguments),qe=this.input.validateInputValue(Ie.value,fn({deepCheck:1},we)),ht=qe.value,bt=qe.unit;return Ie.value=ht,Ie.unit=bt,Ie}},{key:"getFullValue",value:function(){var ee=this.get("value"),we=this.get("unit");return ee=(0,D.isUndefined)(ee)?"":ee,we=!(0,D.isUndefined)(we)&&ee?we:"",ee="".concat(ee).concat(we),se.prototype.getFullValue.apply(this,[ee])}}]),he}(se);function rn(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function nn(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?rn(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):rn(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function wn(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var Bn=function(Ce){(0,S.Z)(he,Ce);var ce=wn(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"defaults",value:function(){return nn(nn({},Qt.getDefaults()),{},{showInput:1})}}]),he}(Qt);function Hn(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function Zn(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?Hn(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):Hn(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function Fn(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var xn=function(Ce){(0,S.Z)(he,Ce);var ce=Fn(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"events",value:function(){return Zn(Zn({},Xt.prototype.events),{},{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})}},{key:"templateInput",value:function(ee){var we=this.ppfx;return`
      <div class="`.concat(we,"field ").concat(we,`field-range">
        <input type="range" min="`).concat(ee.get("min"),'" max="').concat(ee.get("max"),'" step="').concat(ee.get("step"),`"/>
      </div>
    `)}},{key:"getSliderEl",value:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider}},{key:"inputValueChanged",value:function(){this.model.upValue(this.getSliderEl().value)}},{key:"inputValueChangedSoft",value:function(){this.model.upValue(this.getSliderEl().value,{partial:!0})}},{key:"setValue",value:function(ee){var we=this.model,Ie=we.parseValue(ee);this.getSliderEl().value=ee===""?we.getDefaultValue():parseFloat(Ie.value),Xt.prototype.setValue.apply(this,arguments)}},{key:"onRender",value:function(){Xt.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")}},{key:"clearCached",value:function(){Xt.prototype.clearCached.apply(this,arguments),this.slider=null}}]),he}(Xt);const Nn=N().Collection.extend(X.Z).extend({extendViewApi:1,init:function(){var Ce=this.opts,ce=this.em,he=Ce.module||(ce==null?void 0:ce.get("StyleManager"));he&&(he.__listenAdd(this,he.events.propertyAdd),he.__listenRemove(this,he.events.propertyRemove))},types:[{id:"stack",model:b,view:Re,isType:function(Ce){if(Ce&&Ce.type=="stack")return Ce}},{id:"composite",model:U,view:Ne,isType:function(Ce){if(Ce&&Ce.type=="composite")return Ce}},{id:"file",model:se,view:St,isType:function(Ce){if(Ce&&Ce.type=="file")return Ce}},{id:"color",model:se,view:st,isType:function(Ce){if(Ce&&Ce.type=="color")return Ce}},{id:"select",model:We,view:Ke,isType:function(Ce){if(Ce&&Ce.type=="select")return Ce}},{id:"radio",model:It,view:sn,isType:function(Ce){if(Ce&&Ce.type=="radio")return Ce}},{id:"slider",model:Bn,view:xn,isType:function(Ce){if(Ce&&Ce.type=="slider")return Ce}},{id:"integer",model:Qt,view:Xt,isType:function(Ce){if(Ce&&Ce.type=="integer")return Ce}},{id:"number",model:Qt,view:Xt,isType:function(Ce){if(Ce&&Ce.type=="number")return Ce}},{id:"base",model:se,view:J,isType:function(Ce){return Ce.type="base",Ce}}]});var Vn=["extend"];function Sn(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function ln(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?Sn(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):Sn(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function ze(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var bn=function(Ce){(0,S.Z)(he,Ce);var ce=ze(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"defaults",value:function(){return{id:"",name:"",open:!0,visible:!0,buildProps:"",extendBuilded:1,properties:[]}}},{key:"initialize",value:function(ee){var we=this,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=Ie.em;this.em=qe;var ht=ee||{},bt=this.buildProperties(ht.buildProps),Pt=this.get("name")||"",kt=[];!this.get("id")&&this.set("id",Pt.replace(/ /g,"_").toLowerCase()),kt=(kt=bt?this.extendProperties(bt):this.get("properties").map(function($t){return(0,D.isString)($t)?we.buildProperties($t)[0]:$t}).filter(Boolean)).map(function($t){return we.checkExtend($t)});var Mt=new Nn(kt,{em:qe});Mt.sector=this,this.set("properties",Mt)}},{key:"getId",value:function(){return this.get("id")}},{key:"getName",value:function(){var ee,we=this.getId();return((ee=this.em)===null||ee===void 0?void 0:ee.t("styleManager.sectors.".concat(we)))||this.get("name")}},{key:"setName",value:function(ee){return this.set("name",ee)}},{key:"isOpen",value:function(){return!!this.get("open")}},{key:"setOpen",value:function(ee){return this.set("open",ee)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"getProperties",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=this.get("properties"),Ie=we.models?(0,k.Z)(we.models):we;return Ie.filter(function(qe){var ht=!0;return ee.withValue&&(ht=qe.hasValue({noParent:!0})),ee.withParentValue&&(ht=!qe.hasValue({noParent:!0})&&qe.hasValue()),ht})}},{key:"getProperty",value:function(ee){return this.getProperties().filter(function(we){return we.get("id")===ee})[0]||null}},{key:"addProperty",value:function(ee,we){return this.get("properties").add(this.checkExtend(ee),we)}},{key:"extendProperties",value:function(ee,we,Ie){for(var qe=ee.length,ht=we||this.get("properties"),bt=this.get("extendBuilded"),Pt=[],kt=0,Mt=ht.length;kt<Mt;kt++){for(var $t=ht[kt],Yt=0,dn=0;dn<qe;dn++){var Xe=ee[dn];if(!($t.property!=Xe.property&&$t.id!=Xe.property)){var tt=$t.properties;tt&&tt.length&&($t.properties=this.extendProperties(Xe.properties||[],tt,1)),ee[dn]=bt?(0,D.extend)(Xe,$t):$t,Pt[dn]=ee[dn],Yt=1}}Yt||(ee.push($t),Pt.push($t))}return Ie?Pt.filter(function(fe){return fe}):ee}},{key:"checkExtend",value:function(ee){var we=((0,D.isString)(ee)?{extend:ee}:ee)||{},Ie=we.extend,qe=(0,y.Z)(we,Vn);return Ie?ln(ln({},this.buildProperties([Ie])[0]||{}),qe):ee}},{key:"buildProperties",value:function(ee){var we,Ie=ee||[];if(!Ie.length)return[];var qe=(we=this.em)===null||we===void 0?void 0:we.get("StyleManager").builtIn;return qe==null?void 0:qe.build(Ie)}}]),he}(P.Model);function zn(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function In(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?zn(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):zn(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}function Mn(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var cn=function(Ce){(0,S.Z)(he,Ce);var ce=Mn(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"initialize",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=we.module,qe=we.em;this.em=qe,this.module=Ie,this.listenTo(this,"reset",this.onReset)}},{key:"model",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=we.collection.em;return new bn(ee,In(In({},we),{},{em:Ie}))}},{key:"onReset",value:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=we.previousModels||[];Ie.forEach(function(qe){return qe.get("properties").reset()})}}]),he}(P.Collection),Tn=w(885),gn=["extend"];function jn(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function On(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?jn(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):jn(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}var yn,Rn=function(Ce){return Ce.map(function(ce){return{id:ce}})},Dn=function(){function Ce(){(0,m.Z)(this,Ce),this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var ce=", sans-serif",he=["flex-start","flex-end","center"],ee=[].concat(he,["baseline","stretch"]);this.optsBgSize=Rn(["auto","cover","contain"]),this.optsBgAttach=Rn(["scroll","fixed","local"]),this.optsBgRepeat=Rn(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Rn(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Rn(["visible","hidden","scroll","auto"]),this.optsDir=Rn(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Rn(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Rn(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Rn(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Rn(["none","left","right"]),this.optsPos=Rn(["static","relative","absolute","fixed"]),this.optsTextAlign=Rn(["left","center","right","justify"]),this.optsFlexAlign=Rn(ee),this.optsJustCont=Rn([].concat(he,["space-between","space-around","space-evenly"])),this.optsAlignCont=Rn([].concat(he,["space-between","space-around","stretch"])),this.optsAlignSelf=Rn(["auto"].concat((0,k.Z)(ee))),this.optsTransitProp=Rn(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Rn(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Rn(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+ce,"Arial Black, Gadget"+ce,"Brush Script MT"+ce,"Comic Sans MS, cursive"+ce,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+ce,"Impact, Charcoal"+ce,"Lucida Sans Unicode, Lucida Grande"+ce,"Tahoma, Geneva"+ce,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+ce,"Verdana, Geneva"+ce].map(function(we){return{id:we,label:we.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return(0,g.Z)(Ce,[{key:"__sub",value:function(ce){var he=this;return function(){return ce.map(function(ee){if((0,D.isString)(ee))return he.get(ee);var we=ee.extend,Ie=(0,y.Z)(ee,gn);return On(On({},he.get(we)),Ie)})}}},{key:"init",value:function(){var ce=this,he=this.fixedValues,ee=this.requireFlex,we=this.typeNumber;return this.props={},[["text-shadow-h",{type:we,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:he},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:ee},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:we,default:"0",requiresParent:ee}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black"}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:ee},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:ee},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(Ie,qe){var ht=qe.values,bt=ht["box-shadow-h"],Pt=ht["box-shadow-v"],kt=ht["box-shadow-blur"],Mt=ht["box-shadow-spread"];return"".concat(bt," ").concat(Pt," ").concat(kt," ").concat(Mt)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(Ie,qe){var ht=qe.values,bt=ht["text-shadow-h"],Pt=ht["text-shadow-v"],kt=ht["text-shadow-blur"];return"".concat(bt," ").concat(Pt," ").concat(kt)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(Ie,qe){var ht=qe.values;return[ht["background-repeat-sub"]||"",ht["background-position-sub"]||"",ht["background-attachment-sub"]||"",ht["background-size-sub"]||""].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(Ie,qe){var ht=qe.property,bt=Ie[qe.name]||"",Pt=ht.getLayerSeparator();return bt?bt.split(Pt).map(function(kt){var Mt=ht.__parseFn(kt);return{name:Mt.name,value:Mt.value}}):[]},toStyle:function(Ie,qe){return{[qe.name]:"".concat(Ie.name,"(").concat(Ie.value,")")}},properties:[{property:"name",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(Ie){var qe=Ie.property;if(Ie.to.value){var ht=On({},qe.getOption().propValue||{}),bt=qe.getParent().getProperty("value"),Pt=bt.getUnit();(!Pt||(ht==null?void 0:ht.units.indexOf(Pt))<0)&&(ht.unit=(ht==null?void 0:ht.units[0])||""),bt.up(ht)}}},{property:"value",type:this.typeNumber,default:"0",full:!0}]}]].forEach(function(Ie){var qe=(0,Tn.Z)(Ie,3),ht=qe[0],bt=qe[1],Pt=qe[2];ce.add(ht,bt||{},{from:Pt})}),this}},{key:"add",value:function(ce){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},we=ee.from||"",Ie=this.props[we||ce]||{},qe=On(On({},Ie),{},{property:ce},he);return qe.properties&&(0,D.isFunction)(qe.properties)&&(qe.properties=qe.properties()),this.props[ce]=qe,qe}},{key:"get",value:function(ce){return this.props[ce]||null}},{key:"build",value:function(ce){var he=this,ee=[];return((0,D.isString)(ce)?[ce]:ce).forEach(function(we){ee.push(he.get(we)||{property:we})}),ee}}]),Ce}(),en=w(168),Qe=w(7539);function at(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var Be=function(Ce){(0,S.Z)(he,Ce);var ce=at(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"template",value:function(ee){var we,Ie=ee.pfx,qe=ee.label,ht=(we=this.em)===null||we===void 0?void 0:we.getConfig().icons,bt=(ht==null?void 0:ht.caret)||"",Pt="".concat(Ie,"sector-");return(0,Qe.Z)(yn||(yn=(0,en.Z)([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),Pt,Pt,bt,Pt,qe)}},{key:"events",value:function(){return{"click [data-sector-title]":"toggle"}}},{key:"initialize",value:function(ee){var we=ee.config||{},Ie=this.model,qe=we.em;this.config=we,this.em=qe,this.pfx=we.stylePrefix||"",this.listenTo(Ie,"destroy remove",this.remove),this.listenTo(Ie,"change:open",this.updateOpen),this.listenTo(Ie,"change:visible",this.updateVisibility)}},{key:"updateOpen",value:function(){var ee=this.$el,we=this.model,Ie=this.pfx,qe=we.isOpen();ee[qe?"addClass":"removeClass"]("".concat(Ie,"open")),this.getPropertiesEl().style.display=qe?"":"none"}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"getPropertiesEl",value:function(){var ee=this.$el,we=this.pfx;return ee.find(".".concat(we,"properties")).get(0)}},{key:"toggle",value:function(){var ee=this.model;ee.setOpen(!ee.get("open"))}},{key:"renderProperties",value:function(){var ee=this.model,we=this.config,Ie=ee.get("properties");if(Ie){var qe=new G({collection:Ie,config:we});this.$el.append(qe.render().el)}}},{key:"render",value:function(){var ee=this.pfx,we=this.model,Ie=this.$el,qe=we.getId(),ht=we.getName();return Ie.html(this.template({pfx:ee,label:ht})),this.renderProperties(),Ie.attr("class","".concat(ee,"sector ").concat(ee,"sector__").concat(qe," no-select")),this.updateOpen(),this}}]),he}(P.View);function ut(Ce){var ce=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,ee=(0,H.Z)(Ce);if(ce){var we=(0,H.Z)(this).constructor;he=Reflect.construct(ee,arguments,we)}else he=ee.apply(this,arguments);return(0,I.Z)(this,he)}}var xt=function(Ce){(0,S.Z)(he,Ce);var ce=ut(he);function he(){return(0,m.Z)(this,he),ce.apply(this,arguments)}return(0,g.Z)(he,[{key:"initialize",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ee.module,Ie=ee.config,qe=Ie===void 0?{}:Ie,ht=this.collection;this.pfx=qe.stylePrefix||"",this.ppfx=qe.pStylePrefix||"",this.config=qe,this.module=we,this.listenTo(ht,"add",this.addTo),this.listenTo(ht,"reset",this.render)}},{key:"remove",value:function(){var ee=this;P.View.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(we){return ee[we]={}})}},{key:"addTo",value:function(ee,we){var Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.addToCollection(ee,null,Ie)}},{key:"addToCollection",value:function(ee,we){var Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qe=this.config,ht=this.el,bt=we||ht,Pt=new Be({model:ee,config:qe}).render().el;return(0,te.$Q)(bt,Pt,Ie.at),Pt}},{key:"render",value:function(){var ee=this,we=this.$el,Ie=this.pfx,qe=this.ppfx;we.empty();var ht=document.createDocumentFragment();return this.collection.each(function(bt){return ee.addToCollection(bt,ht)}),we.append(ht),we.addClass("".concat(Ie,"sectors ").concat(qe,"one-bg ").concat(qe,"two-color")),this}}]),he}(P.View);function Kt(Ce,ce){var he=Object.keys(Ce);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(Ce);ce&&(ee=ee.filter(function(we){return Object.getOwnPropertyDescriptor(Ce,we).enumerable})),he.push.apply(he,ee)}return he}function Ht(Ce){for(var ce=1;ce<arguments.length;ce++){var he=arguments[ce]!=null?arguments[ce]:{};ce%2?Kt(Object(he),!0).forEach(function(ee){(0,$.Z)(Ce,ee,he[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(he)):Kt(Object(he)).forEach(function(ee){Object.defineProperty(Ce,ee,Object.getOwnPropertyDescriptor(he,ee))})}return Ce}var kn="style",an="".concat(kn,":"),Qn="".concat(an,"sector"),Gn="".concat(Qn,":add"),gr="".concat(Qn,":remove"),or="".concat(Qn,":update"),pr="".concat(an,"property"),mr="".concat(pr,":add"),cr="".concat(pr,":remove"),Xn="".concat(pr,":update"),tr="".concat(an,"layer:select"),Yn="".concat(an,"target"),Kn="".concat(an,"custom"),ft=function(Ce){return Ce||Ce===0};const yt=function(){var Ce,ce,he;return Ht(Ht({},l.Z),{},{Sector:bn,events:{all:kn,sectorAdd:Gn,sectorRemove:gr,sectorUpdate:or,propertyAdd:mr,propertyRemove:cr,propertyUpdate:Xn,layerSelect:tr,target:Yn,custom:Kn},name:"StyleManager",init:function(){var ee=this,we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,D.bindAll)(this,"__clearStateTarget"),this.__initConfig(C,we);var Ie=this.config,qe=Ie.em,ht=Ie.pStylePrefix;ht&&(Ie.stylePrefix=ht+Ie.stylePrefix),this.builtIn=new Dn,Ce=new Nn([],{em:qe,module:this}),ce=new cn([],Ht(Ht({},Ie),{},{module:this}));var bt=new P.Model({targets:[]});this.model=bt,this.__listenAdd(ce,Gn),this.__listenRemove(ce,gr),this.__listenUpdate(ce,or);var Pt="component:toggled component:update:classes change:state change:device frame:resized selector:type";this.upAll=(0,D.debounce)(function(){return ee.__upSel()}),bt.listenTo(qe,Pt,this.upAll),bt.listenTo(qe,"component:toggled",this.__clearStateTarget);var kt=(0,D.debounce)(function(){ee.__upProps(),ee.__trgCustom()});bt.listenTo(qe,"styleable:change undo redo",kt);var Mt=(0,D.debounce)(function(){return ee.__trgCustom()});return bt.listenTo(qe,"".concat(tr," ").concat(Yn),Mt),bt.on("change:lastTarget",function(){return qe.trigger(Yn,ee.getSelected())}),this},__upSel:function(){this.select(this.em.getSelectedAll())},__trgCustom:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__ctn=this.__ctn||ee.container,this.em.trigger(this.events.custom,{container:this.__ctn})},__trgEv:function(ee){for(var we,Ie=arguments.length,qe=new Array(Ie>1?Ie-1:0),ht=1;ht<Ie;ht++)qe[ht-1]=arguments[ht];(we=this.em).trigger.apply(we,[ee].concat(qe))},__clearStateTarget:function(){var ee=this,we=this.em,Ie=this.__getStateTarget();Ie&&(we==null||we.skip(function(){we.get("CssComposer").remove(Ie),ee.model.set({stateTarget:null})}))},onLoad:function(){ce.add(this.config.sectors,{silent:!0})},postRender:function(){this.__appendTo()},addSector:function(ee,we){var Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qe=this.getSector(ee);return qe||(we.id=ee,qe=ce.add(we,Ie)),qe},getSector:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=ce.where({id:ee})[0];return!Ie&&we.warn&&this._logNoSector(ee),Ie||null},getSectors:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=ce&&ce.models?ee.array?(0,k.Z)(ce.models):ce:[];return ee.visible?we.filter(function(Ie){return Ie.isVisible()}):we},removeSector:function(ee){return this.getSectors().remove(this.getSector(ee,{warn:1}))},addProperty:function(ee,we){var Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qe=this.getSector(ee,{warn:1}),ht=null;return qe&&(ht=qe.addProperty(we,Ie)),ht},getProperty:function(ee,we){var Ie,qe=this.getSector(ee,{warn:1});return qe&&(Ie=qe.get("properties").filter(function(ht){return ht.get("property")===we||ht.get("id")===we})[0]),Ie||null},getProperties:function(ee){var we=null,Ie=this.getSector(ee,{warn:1});return Ie&&(we=Ie.get("properties")),we},removeProperty:function(ee,we){var Ie=this.getProperties(ee);return Ie?Ie.remove(this.getProperty(ee,we)):null},select:function(ee){var we=this,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=this.em,ht=(0,D.isArray)(ee)?ee:[ee],bt=Ie.stylable,Pt=qe.get("CssComposer"),kt=[];ht.filter(Boolean).forEach(function(tt){var fe=tt;if((0,D.isString)(tt)){var me=Pt.getRule(tt)||Pt.setRule(tt);!(0,D.isUndefined)(bt)&&me.set({stylable:bt}),fe=me}kt.push(fe)});var Mt=Ie.component||kt.filter(function(tt){return(0,q.isComponent)(tt)}).reverse()[0];kt=kt.map(function(tt){return we.getModelToStyle(tt)});var $t=qe.getState(),Yt=kt.slice().reverse()[0],dn=this.getParentRules(Yt,{state:$t,component:Mt}),Xe=this.__getStateTarget();return qe.skip(function(){var tt;if($t&&Yt!=null&&(tt=Yt.getState)!==null&&tt!==void 0&&tt.call(Yt)){var fe=Yt.getStyle();Xe?Xe.setStyle(fe):Xe=Pt.getAll().add({selectors:"gjs-selected",style:fe,shallow:!0,important:!0})}else Xe&&(Pt.remove(Xe),Xe=null)}),this.model.set({targets:kt,lastTarget:Yt,lastTargetParents:dn,stateTarget:Xe,component:Mt}),this.__upProps(Ie),kt},getSelected:function(){return this.model.get("lastTarget")||null},getSelectedAll:function(){return this.model.get("targets")},getSelectedParents:function(){return this.model.get("lastTargetParents")||[]},__getStateTarget:function(){return this.model.get("stateTarget")||null},addStyleTargets:function(ee,we){this.getSelectedAll().map(function(ht){return ht.addStyle(ee,we)});var Ie=this.getSelected(),qe=this.__getStateTarget();Ie&&(qe==null||qe.setStyle(Ie.getStyle(),we))},getBuiltIn:function(ee){return this.builtIn.get(ee)},getBuiltInAll:function(){return this.builtIn.props},addBuiltIn:function(ee,we){return this.builtIn.add(ee,we)},getModelToStyle:function(ee){var we,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},qe=this.em,ht=Ie.skipAdd;if(qe&&(we=ee)!==null&&we!==void 0&&we.toHTML){var bt,Pt=qe.getConfig(),kt=qe.get("UndoManager"),Mt=qe.get("CssComposer"),$t=qe.get("SelectorManager"),Yt=$t?$t.getConfig():{},dn=Pt.devicePreviewMode?"":qe.get("state"),Xe=ee.get("classes"),tt=Xe.getStyleable(),fe=tt.length,me=!Yt.componentFirst||Ie.useClasses,de={noCount:1},Ee={state:dn,addOpts:de};if(kt.stop(),fe&&me){var Ye=qe.getCurrentMedia();(bt=Mt.get(tt,dn,Ye))||ht||(bt=Mt.add(tt,dn,Ye,{},de))}else if(Pt.avoidInlineStyle){var Ot=ee.getId();!(bt=Mt.getIdRule(Ot,Ee))&&!ht&&(bt=Mt.setIdRule(Ot,{},Ee)),ee.is("wrapper")&&bt.set("wrapper",1,de)}bt&&(ee=bt),kt.start()}return ee},getParentRules:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=we.state,qe=we.component,ht=this.em,bt=[];if(ht&&ee){var Pt=qe,kt=ht.get("CssComposer"),Mt=ht.get("CodeManager").getGenerator("css"),$t=ee.toHTML?ee:ee.getComponent(),Yt={combination:!0,array:!0},dn=[],Xe=[],tt=[];$t?(dn=kt.getRules("#".concat($t.getId())),tt=(Xe=Pt?kt.getRules(Pt.getSelectors().getFullName(Yt)):[]).concat(dn)):(dn=Pt?kt.getRules("#".concat(Pt.getId())):[],Xe=kt.getRules(ee.getSelectors().getFullName(Yt)),tt=dn.concat(Xe));var fe=tt.filter(function(me){return(0,D.isUndefined)(Ie)?1:me.get("state")===Ie}).sort(Mt.sortRules).reverse();bt=fe.slice(fe.indexOf(ee)+1)}return bt},addType:function(ee,we){Ce.addType(ee,we)},getType:function(ee){return Ce.getType(ee)},getTypes:function(){return Ce.getTypes()},createType:function(ee){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=we.model,qe=Ie===void 0?{}:Ie,ht=we.view,bt=ht===void 0?{}:ht,Pt=this.config,kt=this.getType(ee);if(kt)return new kt.view(Ht({model:new kt.model(qe),config:Pt},bt))},render:function(){var ee=this.config,we=this.em,Ie=he&&he.el;return(he=new xt({el:Ie,em:we,config:ee,collection:ce,module:this})).render().el},_logNoSector:function(ee){var we=this.em;we&&we.logWarning("'".concat(ee,"' sector not found"))},__upProps:function(ee){var we=this,Ie=this.getSelected();if(Ie){var qe=this.model.get("component"),ht=this.getSelectedParents(),bt=Ie.getStyle(),Pt=ht.map(function(kt){return{target:kt,style:kt.getStyle()}});ce.map(function(kt){kt.getProperties().map(function(Mt){we.__upProp(Mt,bt,Pt,ee)})}),ce.forEach(function(kt){var Mt=kt.getProperties();Mt.forEach(function(Yt){var dn=Yt.__checkVisibility({target:Ie,component:qe,sectors:ce});Yt.set("visible",dn)});var $t=Mt.some(function(Yt){return Yt.isVisible()});kt.set("visible",$t)})}},__upProp:function(ee,we,Ie,qe){var ht=this,bt=ee.getName(),Pt=we[bt],kt=ft(Pt),Mt=ee.getType()==="stack",$t=ee.getType()==="composite",Yt=Ht(Ht({},qe),{},{__up:!0}),dn=!$t&&!Mt,Xe=Mt?ee.__getLayersFromStyle(we):[],tt=$t?ee.__getPropsFromStyle(we):{},fe=kt?Pt:null,me=null;if(Mt&&Xe===null||$t&&tt===null){var de=Mt?"__getLayersFromStyle":"__getPropsFromStyle",Ee=Ie.filter(function(Zt){return ee[de](Zt.style)!==null})[0];if(Ee){fe=Ee.style[bt],me=Ee.target;var Ye=ee[de](Ee.style);Mt?Xe=Ye:tt=Ye}}else if(!kt){fe=null;var Ot=Ie.filter(function(Zt){return ft(Zt.style[bt])})[0];Ot&&(fe=Ot.style[bt],me=Ot.target)}if(ee.__setParentTarget(me),dn&&ee.__getFullValue()!==fe&&ee.upValue(fe,Yt),Mt&&ee.__setLayers(Xe||[]),$t){var Rt=ee.getProperties();if(ee.isDetached()){var Vt=ee.__getPropsFromStyle(we,{byName:!0})||{},Ft=Ie.map(function(Zt){return Ht(Ht({},Zt),{},{style:ee.__getPropsFromStyle(Zt.style,{byName:!0})||{}})});Rt.map(function(Zt){return ht.__upProp(Zt,Vt,Ft,qe)})}else ee.__setProperties(tt||{},Yt),ee.getProperties().map(function(Zt){return Zt.__setParentTarget(me)})}},destroy:function(){[Ce,ce].forEach(function(ee){ee.reset(),ee.stopListening()}),he&&he.remove(),this.model.stopListening(),this.upAll.cancel(),this.em={},this.config={},this.builtIn={},this.model={}}})}},6388:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>h,evAll:()=>b,evCustom:()=>f,evPfx:()=>a});var k=w(4942),$=w(9050),D=w(9304),q=w(2316),l=w.n(q);const P={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]};var N=w(5671),C=w(3144),y=w(7326),m=w(9340),g=w(2963),S=w(1120),I=w(6602),H=w(885),X=w(1163);function Y(_,A){var J=Object.keys(_);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(_);A&&(te=te.filter(function(F){return Object.getOwnPropertyDescriptor(_,F).enumerable})),J.push.apply(J,te)}return J}function x(_){for(var A=1;A<arguments.length;A++){var J=arguments[A]!=null?arguments[A]:{};A%2?Y(Object(J),!0).forEach(function(te){(0,k.Z)(_,te,J[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(J)):Y(Object(J)).forEach(function(te){Object.defineProperty(_,te,Object.getOwnPropertyDescriptor(J,te))})}return _}function W(_){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,te=(0,S.Z)(_);if(A){var F=(0,S.Z)(this).constructor;J=Reflect.construct(te,arguments,F)}else J=te.apply(this,arguments);return(0,g.Z)(this,J)}}var oe=l().$,se=function(_){(0,m.Z)(J,_);var A=W(J);function J(){var te,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,N.Z)(this,J),te=A.call(this,F),(0,k.Z)((0,y.Z)(te),"events",{}),(0,k.Z)((0,y.Z)(te),"appendInput",!0);var G=F.config,V=G===void 0?{}:G,le=(0,y.Z)(te),ve=le.model,Ne=le.eventCapture,Ze=ve.target,Me=ve.attributes.type;te.config=V,te.em=V.em,te.pfx=V.stylePrefix||"",te.ppfx=V.pStylePrefix||"",te.target=Ze;var je=(0,y.Z)(te),ae=je.ppfx;return te.clsField="".concat(ae,"field ").concat(ae,"field-").concat(Me),[["change:value",te.onValueChange],["remove",te.removeView]].forEach(function(be){var re=(0,H.Z)(be,2),Te=re[0],Re=re[1];ve.off(Te,Re),te.listenTo(ve,Te,Re)}),ve.view=(0,y.Z)(te),te.listenTo(ve,"change:label",te.render),te.listenTo(ve,"change:placeholder",te.rerender),te.events={},Ne.forEach(function(be){return te.events[be]="onChange"}),te.delegateEvents(),te.init(),te}return(0,C.Z)(J,[{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"templateLabel",value:function(){var te=this.ppfx,F=this.getLabel();return'<div class="'.concat(te,'label" title="').concat(F,'">').concat(F,"</div>")}},{key:"templateInput",value:function(){var te=this.clsField;return'<div class="'.concat(te,'" data-input></div>')}},{key:"getClbOpts",value:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}}},{key:"removeView",value:function(){this.remove(),this.removed()}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onRender",value:function(){}},{key:"onUpdate",value:function(){}},{key:"onEvent",value:function(){}},{key:"onChange",value:function(te){var F=this.getInputElem();F&&!(0,$.isUndefined)(F.value)&&this.model.set("value",F.value),this.onEvent(x(x({},this.getClbOpts()),{},{event:te}))}},{key:"getValueForTarget",value:function(){return this.model.get("value")}},{key:"setInputValue",value:function(te){var F=this.getInputElem();F&&(F.value=te)}},{key:"onValueChange",value:function(te,F){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(G.fromTarget)this.setInputValue(te.get("value")),this.postUpdate();else{var V=this.getValueForTarget();te.setTargetValue(V,G)}}},{key:"renderLabel",value:function(){var te=this.$el,F=this.target,G=this.getLabel(),V=this.templateLabel(F);this.createLabel&&(V=this.createLabel({label:G,component:F,trait:this})||""),te.find("[data-label]").append(V)}},{key:"getLabel",value:function(){var te=this.em,F=this.model.attributes,G=F.label,V=F.name;return te.t("traitManager.traits.labels.".concat(V))||(0,X.capitalize)(G||V).replace(/-/g," ")}},{key:"getComponent",value:function(){return this.target}},{key:"getInputEl",value:function(){if(!this.$input){var te=this.em,F=this.model,G=F,V=F.attributes.name,le=G.get("placeholder")||G.get("default")||"",ve=G.get("type")||"text",Ne=G.get("min"),Ze=G.get("max"),Me=this.getModelValue(),je=oe('<input type="'.concat(ve,'" placeholder="').concat(le,'">')),ae=te.t("traitManager.traits.attributes.".concat(V))||{};je.attr(ae),(0,$.isUndefined)(Me)||(G.set({value:Me},{silent:!0}),je.prop("value",Me)),Ne&&je.prop("min",Ne),Ze&&je.prop("max",Ze),this.$input=je}return this.$input.get(0)}},{key:"getInputElem",value:function(){var te=this.input,F=this.$input;return te||F&&F.get&&F.get(0)||this.getElInput()}},{key:"getModelValue",value:function(){var te,F=this.model,G=this.target,V=F.get("name");if(F.get("changeProp"))te=G.get(V);else{var le=G.get("attributes");te=F.get("value")||le[V]}return(0,$.isUndefined)(te)?"":te}},{key:"getElInput",value:function(){return this.elInput}},{key:"renderField",value:function(){var te=this.$el,F=this.appendInput,G=this.model,V=te.find("[data-input]"),le=V[V.length-1],ve=G.el;ve||(ve=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,$.isString)(ve)?(le.innerHTML=ve,this.elInput=le.firstChild):(F?le.appendChild(ve):le.insertBefore(ve,le.firstChild),this.elInput=ve),G.el=this.elInput}},{key:"hasLabel",value:function(){var te=this.model.attributes.label;return!this.noLabel&&te!==!1}},{key:"rerender",value:function(){this.model.el=null,this.render()}},{key:"postUpdate",value:function(){this.onUpdate(this.getClbOpts())}},{key:"render",value:function(){var te=this.$el,F=this.pfx,G=this.ppfx,V=this.model.attributes,le=V.type,ve=V.id,Ne=this.hasLabel&&this.hasLabel(),Ze="".concat(F,"trait");this.$input=null;var Me='<div class="'.concat(Ze," ").concat(Ze,"--").concat(le,`">
      `).concat(Ne?'<div class="'.concat(G,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(G,"field-wrp ").concat(G,"field-wrp--").concat(le,`" data-input>
        `).concat(this.templateInput?(0,$.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return te.empty().append(Me),Ne&&this.renderLabel(),this.renderField(),this.el.className="".concat(Ze,"__wrp ").concat(Ze,"__wrp-").concat(ve),this.postUpdate(),this.onRender(this.getClbOpts()),this}}]),J}(l().View);function Z(_){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,te=(0,S.Z)(_);if(A){var F=(0,S.Z)(this).constructor;J=Reflect.construct(te,arguments,F)}else J=te.apply(this,arguments);return(0,g.Z)(this,J)}}se.prototype.eventCapture=["change"];var B=function(_){(0,m.Z)(J,_);var A=Z(J);function J(){var te,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=arguments.length>1?arguments[1]:void 0;(0,N.Z)(this,J),te=A.call(this,F),(0,k.Z)((0,y.Z)(te),"reuseView",!0),te.itemsView=G;var V=F.config||{},le=V.stylePrefix||"",ve=F.editor;return te.config=V,te.em=ve,te.pfx=le,te.ppfx=V.pStylePrefix||"",te.className="".concat(le,"traits"),te.listenTo(ve,"component:toggled",te.updatedCollection),te.updatedCollection(),te}return(0,C.Z)(J,[{key:"updatedCollection",value:function(){var te=this.ppfx,F=this.className,G=this.em.getSelected();this.el.className="".concat(F," ").concat(te,"one-bg ").concat(te,"two-color"),this.collection=G?G.get("traits"):[],this.render()}}]),J}(I.Z);function T(_){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,te=(0,S.Z)(_);if(A){var F=(0,S.Z)(this).constructor;J=Reflect.construct(te,arguments,F)}else J=te.apply(this,arguments);return(0,g.Z)(this,J)}}B.prototype.itemView=se;var j=l().$,U=function(_){(0,m.Z)(J,_);var A=T(J);function J(){var te,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,N.Z)(this,J),(te=A.call(this,F)).listenTo(te.model,"change:options",te.rerender),te}return(0,C.Z)(J,[{key:"templateInput",value:function(){var te=this.ppfx,F=this.clsField;return'<div class="'.concat(F,`">
      <div data-input></div>
      <div class="`).concat(te,`sel-arrow">
        <div class="`).concat(te,`d-s-arrow"></div>
      </div>
    </div>`)}},{key:"getInputEl",value:function(){if(!this.$input){var te=this.model,F=this.em,G=te.get("name"),V=te.get("options")||[],le=[],ve="<select>";V.forEach(function(Me){var je,ae,be,re="";(0,$.isString)(Me)?(je=Me,ae=Me):(je=Me.name||Me.label||Me.value,ae="".concat((0,$.isUndefined)(Me.value)?Me.id:Me.value).replace(/"/g,"&quot;"),re+=(be=Me.style?Me.style.replace(/"/g,"&quot;"):"")?' style="'.concat(be,'"'):"");var Te=F.t("traitManager.traits.options.".concat(G,".").concat(ae))||je;ve+='<option value="'.concat(ae,'"').concat(re,">").concat(Te,"</option>"),le.push(ae)}),ve+="</select>",this.$input=j(ve);var Ne=te.getTargetValue(),Ze=le.indexOf(Ne)>=0?Ne:te.get("default");!(0,$.isUndefined)(Ze)&&this.$input.val(Ze)}return this.$input.get(0)}}]),J}(se);function E(_){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,te=(0,S.Z)(_);if(A){var F=(0,S.Z)(this).constructor;J=Reflect.construct(te,arguments,F)}else J=te.apply(this,arguments);return(0,g.Z)(this,J)}}var M=function(_){(0,m.Z)(J,_);var A=E(J);function J(){var te;(0,N.Z)(this,J);for(var F=arguments.length,G=new Array(F),V=0;V<F;V++)G[V]=arguments[V];return te=A.call.apply(A,[this].concat(G)),(0,k.Z)((0,y.Z)(te),"appendInput",!1),te}return(0,C.Z)(J,[{key:"templateInput",value:function(){var te=this.ppfx,F=this.clsField;return'<label class="'.concat(F,`" data-input>
    <i class="`).concat(te,`chk-icon"></i>
  </label>`)}},{key:"onChange",value:function(){var te=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(te))}},{key:"getCheckedValue",value:function(te){var F=te,G=this.model.attributes,V=G.valueTrue,le=G.valueFalse;return F&&!(0,$.isUndefined)(V)&&(F=V),F||(0,$.isUndefined)(le)||(F=le),F}},{key:"getInputEl",value:function(){for(var te=!this.$input,F=arguments.length,G=new Array(F),V=0;V<F;V++)G[V]=arguments[V];var le=se.prototype.getInputEl.apply(this,G);if(te){var ve,Ne,Ze=this.model,Me=this.target,je=Ze.attributes,ae=(je.valueTrue,je.valueFalse),be=Ze.get("name");Ze.get("changeProp")?Ne=ve=Me.get(be):ve=!(!(Ne=Me.get("attributes")[be])&&Ne!==""),(0,$.isUndefined)(ae)||Ne!==ae||(ve=!1),le.checked=ve}return le}}]),J}(se),c=w(7610);function d(_){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,te=(0,S.Z)(_);if(A){var F=(0,S.Z)(this).constructor;J=Reflect.construct(te,arguments,F)}else J=te.apply(this,arguments);return(0,g.Z)(this,J)}}var s=function(_){(0,m.Z)(J,_);var A=d(J);function J(){return(0,N.Z)(this,J),A.apply(this,arguments)}return(0,C.Z)(J,[{key:"getValueForTarget",value:function(){var te=this.model,F=te.attributes,G=F.value,V=F.unit;return(0,$.isUndefined)(G)||G===""?te.get("default"):G+V}},{key:"getInputEl",value:function(){if(!this.input){var te=this.ppfx,F=this.model,G=this.getModelValue(),V=new c.Z({contClass:"".concat(te,"field-int"),type:"number",model:F,ppfx:te});this.input=V.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,F.set("value",G,{fromTarget:1}),this.$input.val(G),this.input=V.el}return this.input}}]),J}(se),p=w(1511);function O(_){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,te=(0,S.Z)(_);if(A){var F=(0,S.Z)(this).constructor;J=Reflect.construct(te,arguments,F)}else J=te.apply(this,arguments);return(0,g.Z)(this,J)}}var K=function(_){(0,m.Z)(J,_);var A=O(J);function J(){var te;(0,N.Z)(this,J);for(var F=arguments.length,G=new Array(F),V=0;V<F;V++)G[V]=arguments[V];return te=A.call.apply(A,[this].concat(G)),(0,k.Z)((0,y.Z)(te),"templateInput",""),te}return(0,C.Z)(J,[{key:"getInputEl",value:function(){if(!this.input){var te=this.model,F=this.getModelValue(),G=new p.Z({model:te,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();G.setValue(F,{fromTarget:1}),this.input=G.el}return this.input}}]),J}(se);function Q(_){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,te=(0,S.Z)(_);if(A){var F=(0,S.Z)(this).constructor;J=Reflect.construct(te,arguments,F)}else J=te.apply(this,arguments);return(0,g.Z)(this,J)}}var ne=function(_){(0,m.Z)(J,_);var A=Q(J);function J(){var te;(0,N.Z)(this,J);for(var F=arguments.length,G=new Array(F),V=0;V<F;V++)G[V]=arguments[V];return te=A.call.apply(A,[this].concat(G)),(0,k.Z)((0,y.Z)(te),"templateInput",""),te}return(0,C.Z)(J,[{key:"onChange",value:function(){this.handleClick()}},{key:"handleClick",value:function(){var te=this.model,F=this.em,G=te.get("command");G&&((0,$.isString)(G)?F.get("Commands").run(G):G(F.get("Editor"),te))}},{key:"renderLabel",value:function(){this.model.get("label")&&se.prototype.renderLabel.apply(this,arguments)}},{key:"getInputEl",value:function(){var te=this.model,F=this.ppfx,G=te.props(),V=G.labelButton,le=G.text,ve=G.full,Ne=V||le,Ze="".concat(F,"btn");return'<button type="button" class="'.concat(Ze,"-prim").concat(ve?" ".concat(Ze,"--full"):"",'">').concat(Ne,"</button>")}}]),J}(se);function R(_,A){var J=Object.keys(_);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(_);A&&(te=te.filter(function(F){return Object.getOwnPropertyDescriptor(_,F).enumerable})),J.push.apply(J,te)}return J}function v(_){for(var A=1;A<arguments.length;A++){var J=arguments[A]!=null?arguments[A]:{};A%2?R(Object(J),!0).forEach(function(te){(0,k.Z)(_,te,J[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(J)):R(Object(J)).forEach(function(te){Object.defineProperty(_,te,Object.getOwnPropertyDescriptor(J,te))})}return _}ne.prototype.eventCapture=["click button"];var b="trait",a="".concat(b,":"),f="".concat(a,"custom");const h=function(){var _={text:se,number:s,select:U,checkbox:M,color:K,button:ne};return v(v({},D.Z),{},{TraitsView:B,events:{all:b,custom:f},name:"TraitManager",init:function(){var A=this,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__initConfig(P,J);var te=this.config,F=new q.Model;this.model=F;var G=this.em,V=te.pStylePrefix;this.types=v({},_),V&&(te.stylePrefix="".concat(V).concat(te.stylePrefix));var le=(0,$.debounce)(function(){return A.__upSel()});F.listenTo(G,"component:toggled",le);var ve=(0,$.debounce)(function(){return A.__onUp()});return F.listenTo(G,"trait:update",ve),this},__upSel:function(){this.select(this.em.getSelected())},__onUp:function(){this.select(this.getSelected())},select:function(A){var J=A?A.getTraits():[];this.model.set({component:A,traits:J}),this.__trgCustom()},getSelected:function(){return this.model.get("component")||null},getCurrent:function(){return this.model.get("traits")||[]},__trgCustom:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__ctn=this.__ctn||A.container,this.em.trigger(this.events.custom,{container:this.__ctn})},postRender:function(){this.__appendTo()},getTraitsViewer:function(){return this.view},addType:function(A,J){var te=this.getType("text");this.types[A]=te.extend(J)},getType:function(A){return this.getTypes()[A]},getTypes:function(){return this.types},render:function(){var A=this.view,J=this.getConfig(),te=A&&A.el;return A=new B({el:te,collection:[],editor:J.em,config:J},this.getTypes()),this.view=A,A.el},destroy:function(){this.__destroy()}})}},8202:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>C});var k=w(2982),$=w(4942),D=w(3410),q=w.n(D),l=w(9050);function P(y,m){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);m&&(S=S.filter(function(I){return Object.getOwnPropertyDescriptor(y,I).enumerable})),g.push.apply(g,S)}return g}function N(y){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?P(Object(g),!0).forEach(function(S){(0,$.Z)(y,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(g)):P(Object(g)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(g,S))})}return y}const C=function(){var y,m,g,S,I={maximumStackLength:500,trackSelection:1},H=function(Y){return Y.avoidStore||Y.noUndo},X=function(Y){return Object.keys(Y.changedAttributes())};return{name:"UndoManager",init:function(){var Y=this,x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};g=N(N({},I),x),y=g.em,this.em=y,g._disable&&(g=N(N({},g),{},{maximumStackLength:0}));var W=!0;return(m=new(q())(N({track:!0,register:[]},g))).changeUndoType("change",{condition:function(oe){var se=oe.get("_undo");if(se){var Z=oe.get("_undoexc");if((0,l.isArray)(Z)&&X(oe).some(function(B){return Z.indexOf(B)>=0}))return!1;if((0,l.isBoolean)(se)||(0,l.isArray)(se)&&X(oe).some(function(B){return se.indexOf(B)>=0}))return!0}return!1},on:function(oe,se,Z){!S&&(S=oe.previousAttributes());var B=Z||se||{};if(B.noUndo&&setTimeout(function(){S=null}),!H(B)){var T=oe.toJSON({fromUndo:W}),j={object:oe,before:S,after:T};if(S=null,!(0,l.isEmpty)(T))return j}}}),m.changeUndoType("add",{on:function(oe,se){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!H(Z)&&Y.isRegistered(se))return{object:se,before:void 0,after:oe,options:N(N({},Z),{},{fromUndo:W})}}}),m.changeUndoType("remove",{on:function(oe,se){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!H(Z)&&Y.isRegistered(se))return{object:se,before:oe,after:void 0,options:N(N({},Z),{},{fromUndo:W})}}}),m.changeUndoType("reset",{undo:function(oe,se){oe.reset(se,{fromUndo:W})},redo:function(oe,se,Z){oe.reset(Z,{fromUndo:W})},on:function(oe){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!H(se)&&Y.isRegistered(oe))return{object:oe,before:se.previousModels,after:(0,k.Z)(oe.models),options:N(N({},se),{},{fromUndo:W})}}}),m.on("undo redo",function(){y.trigger("change:canvasOffset"),y.getSelectedAll().map(function(oe){return oe.trigger("rerender:layer")})}),["undo","redo"].forEach(function(oe){return m.on(oe,function(){return y.trigger(oe)})}),this},postLoad:function(){g.trackSelection&&y&&this.add(y.get("selected"))},getConfig:function(){return g},add:function(Y){return m.register(Y),this},remove:function(Y){return m.unregister(Y),this},removeAll:function(){return m.unregisterAll(),this},start:function(){return m.startTracking(),this},stop:function(){return m.stopTracking(),this},undo:function(){var Y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return!y.isEditing()&&m.undo(Y),this},undoAll:function(){return m.undoAll(),this},redo:function(){var Y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return!y.isEditing()&&m.redo(Y),this},redoAll:function(){return m.redoAll(),this},hasUndo:function(){return m.isAvailable("undo")},hasRedo:function(){return m.isAvailable("redo")},isRegistered:function(Y){return!!this.getInstance().objectRegistry.isRegistered(Y)},getStack:function(){return m.stack},getStackGroup:function(){var Y=[],x=[];return this.getStack().forEach(function(W){var oe=W.get("magicFusionIndex");x.indexOf(oe)<0&&(x.push(oe),Y.push(W))}),Y},skip:function(Y){this.stop(),Y(),this.start()},getGroupedStack:function(){var Y={},x=this.getStack();return x.forEach(function(W,oe){var se=W.get("magicFusionIndex"),Z=function(B,T){var j=B.attributes,U=j.type,E=j.after,M=j.before,c=j.object,d=j.options;return{index:T,type:U,after:E,before:M,object:c,options:d===void 0?{}:d}}(W,oe);Y[se]?Y[se].push(Z):Y[se]=[Z]}),Object.keys(Y).map(function(W){var oe=Y[W];return{index:oe[oe.length-1].index,actions:oe,labels:(0,l.unique)(oe.reduce(function(se,Z){var B,T=(B=Z.options)===null||B===void 0?void 0:B.action;return T&&se.push(T),se},[]))}})},goToGroup:function(Y){var x=this;if(Y){var W=this.getPointer(),oe=Y.index-W;(0,l.times)(Math.abs(oe),function(){x[oe<0?"undo":"redo"](!1)})}},getPointer:function(){return this.getStack().pointer},clear:function(){return m.clear(),this},getInstance:function(){return m},destroy:function(){this.clear().removeAll(),this.em={}}}}},5610:(z,ie,w)=>{w.d(ie,{Z:()=>C});var k=w(4942),$=w(5671),D=w(3144),q=w(9050),l=w(1163);function P(y,m){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);m&&(S=S.filter(function(I){return Object.getOwnPropertyDescriptor(y,I).enumerable})),g.push.apply(g,S)}return g}function N(y){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?P(Object(g),!0).forEach(function(S){(0,k.Z)(y,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(g)):P(Object(g)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(g,S))})}return y}var C=function(){function y(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,$.Z)(this,y),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},(0,q.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(m),this.delta={x:0,y:0},this}return(0,D.Z)(y,[{key:"setOptions",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.opts=N(N({},this.opts),m)}},{key:"toggleDrag",value:function(m){var g=this.getDocumentEl(),S=this.getContainerEl(),I=this.getWindowEl(),H=m?"on":"off",X={on:l.on,off:l.off};X[H](S,"mousemove dragover",this.drag),X[H](g,"mouseup dragend touchend",this.stop),X[H](g,"keydown",this.keyHandle),X[H](I,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var m=this.lastScroll,g=this.delta,S=this.getScrollInfo(),I={x:S.x-m.x,y:S.y-m.y};this.move(g.x+I.x,g.y+I.y),this.lastScrollDiff=I}},{key:"start",value:function(m){var g=this.opts,S=g.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(m),this.guidesStatic=(0,q.result)(g,"guidesStatic")||[],this.guidesTarget=(0,q.result)(g,"guidesTarget")||[],(0,q.isFunction)(S)&&S(m,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(m)}},{key:"drag",value:function(m){var g=this,S=this.opts,I=this.lastScrollDiff,H=this.globScrollDiff,X=S.onDrag,Y=this.startPointer,x=this.getPointerPos(m),W={x:H.x+I.x,y:H.y+I.y};this.globScrollDiff=W;var oe={x:x.x-Y.x+W.x,y:x.y-Y.y+W.y};this.lastScrollDiff={x:0,y:0};var se=this.lockedAxis;(se=m.shiftKey?!se&&this.detectAxisLock(oe.x,oe.y):null)==="x"?oe.x=Y.x:se==="y"&&(oe.y=Y.y);var Z=function(M){["x","y"].forEach(function(c){return M[c]=M[c]*(0,q.result)(S,"scale")}),g.delta=M,g.move(M.x,M.y),(0,q.isFunction)(X)&&X(m,g)},B=N({},oe);if(this.currentPointer=x,this.lockedAxis=se,this.lastScroll=this.getScrollInfo(),Z(oe),this.guidesTarget.length){var T=this.snapGuides(B),j=T.newDelta,U=T.trgX,E=T.trgY;(U||E)&&Z(j)}m.which===0&&this.stop(m)}},{key:"snapGuides",value:function(m){var g=this,S=m,I=this.trgX,H=this.trgY;return this.guidesTarget.forEach(function(X){X.x&&g.trgX||X.y&&g.trgY||(X.active=0,g.guidesStatic.forEach(function(Y){if(!(X.y&&Y.x||X.x&&Y.y)){var x=X.y&&Y.y,W=x?"y":"x",oe=X[W],se=Y[W],Z=m[W],B=x?H:I;if(g.isPointIn(oe,se)&&(0,q.isUndefined)(B)){var T=Z-(oe-se);g.setGuideLock(X,T)}}}))}),I=this.trgX,H=this.trgY,["x","y"].forEach(function(X){var Y=X.toUpperCase(),x=g["trg".concat(Y)];x&&!g.isPointIn(m[X],x.lock)&&(g.setGuideLock(x,null),x=null),x&&!(0,q.isUndefined)(x.lock)&&(S[X]=x.lock)}),{newDelta:S,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(m,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=S.offset,H=I||this.opts.snapOffset;return m>=g&&m<=g+H||m<=g&&m>=g-H}},{key:"setGuideLock",value:function(m,g){var S=(0,q.isUndefined)(m.x)?"Y":"X",I="trg".concat(S);return g!==null?(m.active=1,m.lock=g,this[I]=m):(delete m.active,delete m.lock,delete this[I]),m}},{key:"stop",value:function(m){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=this.delta,I=g.cancel,H=I?0:S.x,X=I?0:S.y;this.toggleDrag(),this.lockedAxis=null,this.move(H,X,1);var Y=this.opts.onEnd;(0,q.isFunction)(Y)&&Y(m,this,{cancelled:I})}},{key:"keyHandle",value:function(m){(0,l.isEscKey)(m)&&this.stop(m,{cancel:1})}},{key:"move",value:function(m,g,S){var I=this.el,H=this.opts,X=this.startPosition;if(X){var Y=H.setPosition,x=X.x+m,W=X.y+g;this.position={x,y:W,end:S},(0,q.isFunction)(Y)&&Y(this.position),I&&(I.style.left="".concat(x,"px"),I.style.top="".concat(W,"px"))}}},{key:"getContainerEl",value:function(){var m=this.opts.container;return m?[m]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(m){var g=m.ownerDocument||m;return g.defaultView||g.parentWindow})}},{key:"getDocumentEl",value:function(m){var g=this.opts.doc;if(m=m||this.el,!this.docs){var S=[document];m&&S.push(m.ownerDocument),g&&S.push(g),this.docs=S}return this.docs}},{key:"getPointerPos",value:function(m){var g=this.opts.getPointerPosition,S=(0,l.getPointerEvent)(m);return g?g(m):{x:S.clientX,y:S.clientY}}},{key:"getStartPosition",value:function(){var m=this.el,g=this.opts.getPosition,S={x:0,y:0};return(0,q.isFunction)(g)?S=g():m&&(S={x:parseFloat(m.style.left),y:parseFloat(m.style.top)}),S}},{key:"getScrollInfo",value:function(){var m=this.opts.doc,g=m&&m.body;return{y:g?g.scrollTop:0,x:g?g.scrollLeft:0}}},{key:"detectAxisLock",value:function(m,g){var S=m,I=g,H=Math.abs(S),X=Math.abs(I);return I>=H||I<=-H?"x":S>X||S<-X?"y":void 0}}]),y}()},2579:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>st});var k=typeof document<"u"?document:null,$=typeof window<"u"?window:null,D=Array.prototype,q=D.filter,l=D.indexOf,P=D.map,N=D.push,C=D.reverse,y=D.slice,m=D.splice,g=/^#[\w-]*$/,S=/^\.[\w-]*$/,I=/<.+>/,H=/^\w+$/;function X(Ve,Ge){return Ge===void 0&&(Ge=k),S.test(Ve)?Ge.getElementsByClassName(Ve.slice(1)):H.test(Ve)?Ge.getElementsByTagName(Ve):Ge.querySelectorAll(Ve)}function Y(Ve,Ge){if(Ge===void 0&&(Ge=k),Ve){if(Ve.__cash)return Ve;var dt=Ve;if(E(Ve)){if(Ge.__cash&&(Ge=Ge[0]),!(dt=g.test(Ve)?Ge.getElementById(Ve.slice(1)):I.test(Ve)?Xt(Ve):X(Ve,Ge)))return}else if(U(Ve))return this.ready(Ve);(dt.nodeType||dt===$)&&(dt=[dt]),this.length=dt.length;for(var We=0,mt=this.length;We<mt;We++)this[We]=dt[We]}}function x(Ve,Ge){return new Y(Ve,Ge)}var W=x.fn=x.prototype=Y.prototype={constructor:x,__cash:!0,length:0,splice:m};W.get=function(Ve){return Ve===void 0?y.call(this):this[Ve<0?Ve+this.length:Ve]},W.eq=function(Ve){return x(this.get(Ve))},W.first=function(){return this.eq(0)},W.last=function(){return this.eq(-1)},W.map=function(Ve){return x(P.call(this,function(Ge,dt){return Ve.call(Ge,dt,Ge)}))},W.slice=function(){return x(y.apply(this,arguments))};var oe=/(?:^\w|[A-Z]|\b\w)/g,se=/[\s-_]+/g;function Z(Ve){return Ve.replace(oe,function(Ge,dt){return Ge[dt?"toUpperCase":"toLowerCase"]()}).replace(se,"")}function B(Ve,Ge){for(var dt=0,We=Ve.length;dt<We&&Ge.call(Ve[dt],Ve[dt],dt,Ve)!==!1;dt++);}x.camelCase=Z,x.each=B,W.each=function(Ve){return B(this,function(Ge,dt){return Ve.call(Ge,dt,Ge)}),this},W.removeProp=function(Ve){return this.each(function(Ge,dt){delete dt[Ve]})},x.extend=W.extend=function(Ve){Ve===void 0&&(Ve=this);for(var Ge=arguments,dt=Ge.length,We=dt<2?0:1;We<dt;We++)for(var mt in Ge[We])Ve[mt]=Ge[We][mt];return Ve};var T=1;function j(Ve,Ge){var dt=Ve&&(Ve.matches||Ve.webkitMatchesSelector||Ve.mozMatchesSelector||Ve.msMatchesSelector||Ve.oMatchesSelector);return!!dt&&dt.call(Ve,Ge)}function U(Ve){return typeof Ve=="function"}function E(Ve){return typeof Ve=="string"}function M(Ve){return!isNaN(parseFloat(Ve))&&isFinite(Ve)}x.guid=T,x.matches=j,x.isFunction=U,x.isString=E,x.isNumeric=M;var c=Array.isArray;function d(Ve){return E(Ve)?function(Ge,dt){return j(dt,Ve)}:Ve.__cash?function(Ge,dt){return Ve.is(dt)}:function(Ge,dt,We){return dt===We}}x.isArray=c,W.prop=function(Ve,Ge){if(Ve){if(E(Ve))return arguments.length<2?this[0]&&this[0][Ve]:this.each(function(We,mt){mt[Ve]=Ge});for(var dt in Ve)this.prop(dt,Ve[dt]);return this}},W.filter=function(Ve){if(!Ve)return x();var Ge=U(Ve)?Ve:d(Ve);return x(q.call(this,function(dt,We){return Ge.call(dt,We,dt,Ve)}))};var s=/\S+/g;function p(Ve){return E(Ve)&&Ve.match(s)||[]}function O(Ve){return Ve.filter(function(Ge,dt,We){return We.indexOf(Ge)===dt})}function K(Ve,Ge,dt){if(Ve.nodeType===1){var We=$.getComputedStyle(Ve,null);return Ge?dt?We.getPropertyValue(Ge):We[Ge]:We}}function Q(Ve,Ge){return parseInt(K(Ve,Ge),10)||0}W.hasClass=function(Ve){var Ge=p(Ve),dt=!1;return Ge.length&&this.each(function(We,mt){return!(dt=mt.classList.contains(Ge[0]))}),dt},W.removeAttr=function(Ve){var Ge=p(Ve);return Ge.length?this.each(function(dt,We){B(Ge,function(mt){We.removeAttribute(mt)})}):this},W.attr=function(Ve,Ge){if(Ve){if(E(Ve)){if(arguments.length<2){if(!this[0])return;var dt=this[0].getAttribute(Ve);return dt===null?void 0:dt}return Ge===null?this.removeAttr(Ve):this.each(function(mt,Ke){Ke.setAttribute(Ve,Ge)})}for(var We in Ve)this.attr(We,Ve[We]);return this}},W.toggleClass=function(Ve,Ge){var dt=p(Ve),We=Ge!==void 0;return dt.length?this.each(function(mt,Ke){B(dt,function(gt){We?Ge?Ke.classList.add(gt):Ke.classList.remove(gt):Ke.classList.toggle(gt)})}):this},W.addClass=function(Ve){return this.toggleClass(Ve,!0)},W.removeClass=function(Ve){return arguments.length?this.toggleClass(Ve,!1):this.attr("class","")},x.unique=O,W.add=function(Ve,Ge){return x(O(this.get().concat(x(Ve,Ge).get())))};var ne=/^--/;function R(Ve){return ne.test(Ve)}var v={},b=k&&k.createElement("div"),a=b?b.style:{},f=["webkit","moz","ms","o"];function h(Ve,Ge){if(Ge===void 0&&(Ge=R(Ve)),Ge)return Ve;if(!v[Ve]){var dt=Z(Ve),We=""+dt.charAt(0).toUpperCase()+dt.slice(1);B((dt+" "+f.join(We+" ")+We).split(" "),function(mt){if(mt in a)return v[Ve]=mt,!1})}return v[Ve]}x.prefixedProp=h;var _={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function A(Ve,Ge,dt){return dt===void 0&&(dt=R(Ve)),dt||_[Ve]||!M(Ge)?Ge:Ge+"px"}W.css=function(Ve,Ge){if(E(Ve)){var dt=R(Ve);return Ve=h(Ve,dt),arguments.length<2?this[0]&&K(this[0],Ve,dt):Ve?(Ge=A(Ve,Ge,dt),this.each(function(mt,Ke){Ke.nodeType===1&&(dt?Ke.style.setProperty(Ve,Ge):Ke.style[Ve]=Ge)})):this}for(var We in Ve)this.css(We,Ve[We]);return this};var J="__cashData",te=/^data-(.*)/;function F(Ve){return Ve[J]=Ve[J]||{}}function G(Ve,Ge){var dt=F(Ve);if(Ge){if(!(Ge in dt)){var We=Ve.dataset?Ve.dataset[Ge]||Ve.dataset[Z(Ge)]:x(Ve).attr("data-"+Ge);if(We!==void 0){try{We=JSON.parse(We)}catch{}dt[Ge]=We}}return dt[Ge]}return dt}function V(Ve,Ge){return Q(Ve,"border"+(Ge?"Left":"Top")+"Width")+Q(Ve,"padding"+(Ge?"Left":"Top"))+Q(Ve,"padding"+(Ge?"Right":"Bottom"))+Q(Ve,"border"+(Ge?"Right":"Bottom")+"Width")}function le(Ve,Ge){for(var dt=0,We=Ge.length;dt<We;dt++)if(Ve.indexOf(Ge[dt])<0)return!1;return!0}function ve(Ve,Ge,dt){B(Ve[dt],function(We){We[0];var mt=We[1];Ge.removeEventListener(dt,mt)}),delete Ve[dt]}x.hasData=function(Ve){return J in Ve},W.data=function(Ve,Ge){var dt=this;if(!Ve)return this[0]?(B(this[0].attributes,function(mt){var Ke=mt.name.match(te);Ke&&dt.data(Ke[1])}),G(this[0])):void 0;if(E(Ve))return Ge===void 0?this[0]&&G(this[0],Ve):this.each(function(mt,Ke){return function(gt,vt,Ct){F(gt)[vt]=Ct}(Ke,Ve,Ge)});for(var We in Ve)this.data(We,Ve[We]);return this},W.removeData=function(Ve){return this.each(function(Ge,dt){return function(We,mt){mt===void 0?delete We[J]:delete F(We)[mt]}(dt,Ve)})},B(["Width","Height"],function(Ve){W["inner"+Ve]=function(){if(this[0])return this[0]===$?$["inner"+Ve]:this[0]["client"+Ve]}}),B(["width","height"],function(Ve,Ge){W[Ve]=function(dt){return this[0]?arguments.length?(dt=parseInt(dt,10),this.each(function(We,mt){if(mt.nodeType===1){var Ke=K(mt,"boxSizing");mt.style[Ve]=A(Ve,dt+(Ke==="border-box"?V(mt,!Ge):0))}})):this[0]===$?this[0][Z("outer-"+Ve)]:this[0].getBoundingClientRect()[Ve]-V(this[0],!Ge):dt===void 0?void 0:this}}),B(["Width","Height"],function(Ve,Ge){W["outer"+Ve]=function(dt){if(this[0])return this[0]===$?$["outer"+Ve]:this[0]["offset"+Ve]+(dt?Q(this[0],"margin"+(Ge?"Top":"Left"))+Q(this[0],"margin"+(Ge?"Bottom":"Right")):0)}});var Ne="__cashEvents",Ze=".";function Me(Ve){return Ve[Ne]=Ve[Ne]||{}}function je(Ve){var Ge=Ve.split(Ze);return[Ge[0],Ge.slice(1).sort()]}function ae(Ve,Ge,dt,We){var mt=Me(Ve);if(Ge){var Ke=mt[Ge];if(!Ke)return;We&&(We.guid=We.guid||T++),mt[Ge]=Ke.filter(function(gt){var vt=gt[0],Ct=gt[1];if(We&&Ct.guid!==We.guid||!le(vt,dt))return!0;Ve.removeEventListener(Ge,Ct)})}else if(dt&&dt.length)for(Ge in mt)ae(Ve,Ge,dt,We);else for(Ge in mt)ve(mt,Ve,Ge)}W.off=function(Ve,Ge){var dt=this;return Ve===void 0?this.each(function(We,mt){return ae(mt)}):B(p(Ve),function(We){var mt=je(We),Ke=mt[0],gt=mt[1];dt.each(function(vt,Ct){return ae(Ct,Ke,gt,Ge)})}),this},W.on=function(Ve,Ge,dt,We){var mt=this;if(!E(Ve)){for(var Ke in Ve)this.on(Ke,Ge,Ve[Ke]);return this}return U(Ge)&&(dt=Ge,Ge=!1),B(p(Ve),function(gt){var vt=je(gt),Ct=vt[0],It=vt[1];mt.each(function(Nt,sn){var mn=function hn(fn){if(!fn.namespace||le(It,fn.namespace.split(Ze))){var pn=sn;if(Ge){for(var Qt=fn.target;!j(Qt,Ge);)if(Qt===sn||!(Qt=Qt.parentNode))return;pn=Qt}fn.namespace=fn.namespace||"";var rn=dt.call(pn,fn,fn.data);We&&ae(sn,Ct,It,hn),rn===!1&&(fn.preventDefault(),fn.stopPropagation())}};mn.guid=dt.guid=dt.guid||T++,function(hn,fn,pn,Qt){Qt.guid=Qt.guid||T++;var rn=Me(hn);rn[fn]=rn[fn]||[],rn[fn].push([pn,Qt]),hn.addEventListener(fn,Qt)}(sn,Ct,It,mn)})}),this},W.one=function(Ve,Ge,dt){return this.on(Ve,Ge,dt,!0)},W.ready=function(Ve){var Ge=function(){return Ve(x)};return k.readyState!=="loading"?setTimeout(Ge):k.addEventListener("DOMContentLoaded",Ge),this},W.trigger=function(Ve,Ge){var dt=Ve;if(E(Ve)){var We=je(Ve),mt=We[0],Ke=We[1];(dt=k.createEvent("HTMLEvents")).initEvent(mt,!0,!0),dt.namespace=Ke.join(Ze)}return dt.data=Ge,this.each(function(gt,vt){vt.dispatchEvent(dt)})};var be=/select-one/i,re=/select-multiple/i;function Te(Ve){var Ge=Ve.type;return be.test(Ge)?function(dt){return dt.selectedIndex<0?null:dt.options[dt.selectedIndex].value}(Ve):re.test(Ge)?function(dt){var We=[];return B(dt.options,function(mt){!mt.selected||mt.disabled||mt.parentNode.disabled||We.push(mt.value)}),We}(Ve):Ve.value}var Re=/%20/g,Fe=/file|reset|submit|button|image/i,it=/radio|checkbox/i;W.serialize=function(){var Ve="";return this.each(function(Ge,dt){B(dt.elements||[dt],function(We){if(!We.disabled&&We.name&&We.tagName!=="FIELDSET"&&!Fe.test(We.type)&&(!it.test(We.type)||We.checked)){var mt=Te(We);mt!==void 0&&B(c(mt)?mt:[mt],function(Ke){Ve+=function(gt,vt){return"&"+encodeURIComponent(gt)+"="+encodeURIComponent(vt).replace(Re,"+")}(We.name,Ke)})}})}),Ve.substr(1)},W.val=function(Ve){return Ve===void 0?this[0]&&Te(this[0]):this.each(function(Ge,dt){var We=re.test(dt.type),mt=Ve===null?We?[]:"":Ve;We&&c(mt)?B(dt.options,function(Ke){Ke.selected=mt.indexOf(Ke.value)>=0}):dt.value=mt})},W.clone=function(){return this.map(function(Ve,Ge){return Ge.cloneNode(!0)})},W.detach=function(){return this.each(function(Ve,Ge){Ge.parentNode&&Ge.parentNode.removeChild(Ge)})};var lt,St=/^\s*<(\w+)[^>]*>/,Ut=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function Xt(Ve){if(function(){if(!lt){var We=k.createElement("table"),mt=k.createElement("tr");lt={"*":k.createElement("div"),tr:k.createElement("tbody"),td:mt,th:mt,thead:We,tbody:We,tfoot:We}}}(),!E(Ve))return[];if(Ut.test(Ve))return[k.createElement(RegExp.$1)];var Ge=St.test(Ve)&&RegExp.$1,dt=lt[Ge]||lt["*"];return dt.innerHTML=Ve,x(dt.childNodes).detach().get()}function Dt(Ve,Ge,dt){if(Ge!==void 0){var We=E(Ge);!We&&Ge.length?B(Ge,function(mt){return Dt(Ve,mt,dt)}):B(Ve,We?function(mt){mt.insertAdjacentHTML(dt?"afterbegin":"beforeend",Ge)}:function(mt,Ke){return function(gt,vt,Ct){Ct?gt.insertBefore(vt,gt.childNodes[0]):gt.appendChild(vt)}(mt,Ke?Ge.cloneNode(!0):Ge,dt)})}}x.parseHTML=Xt,W.empty=function(){var Ve=this[0];if(Ve)for(;Ve.firstChild;)Ve.removeChild(Ve.firstChild);return this},W.append=function(){var Ve=this;return B(arguments,function(Ge){Dt(Ve,Ge)}),this},W.appendTo=function(Ve){return Dt(x(Ve),this),this},W.html=function(Ve){if(Ve===void 0)return this[0]&&this[0].innerHTML;var Ge=Ve.nodeType?Ve[0].outerHTML:Ve;return this.each(function(dt,We){We.innerHTML=Ge})},W.insertAfter=function(Ve){var Ge=this;return x(Ve).each(function(dt,We){var mt=We.parentNode;Ge.each(function(Ke,gt){mt.insertBefore(dt?gt.cloneNode(!0):gt,We.nextSibling)})}),this},W.after=function(){var Ve=this;return B(C.apply(arguments),function(Ge){C.apply(x(Ge).slice()).insertAfter(Ve)}),this},W.insertBefore=function(Ve){var Ge=this;return x(Ve).each(function(dt,We){var mt=We.parentNode;Ge.each(function(Ke,gt){mt.insertBefore(dt?gt.cloneNode(!0):gt,We)})}),this},W.before=function(){var Ve=this;return B(arguments,function(Ge){x(Ge).insertBefore(Ve)}),this},W.prepend=function(){var Ve=this;return B(arguments,function(Ge){Dt(Ve,Ge,!0)}),this},W.prependTo=function(Ve){return Dt(x(Ve),C.apply(this.slice()),!0),this},W.remove=function(){return this.detach().off()},W.replaceWith=function(Ve){var Ge=this;return this.each(function(dt,We){var mt=We.parentNode;if(mt){var Ke=dt?x(Ve).clone():x(Ve);if(!Ke[0])return Ge.remove(),!1;mt.replaceChild(Ke[0],We),x(Ke[0]).after(Ke.slice(1))}})},W.replaceAll=function(Ve){return x(Ve).replaceWith(this),this},W.text=function(Ve){return Ve===void 0?this[0]?this[0].textContent:"":this.each(function(Ge,dt){dt.textContent=Ve})};var ot=k&&k.documentElement;W.offset=function(){var Ve=this[0];if(Ve){var Ge=Ve.getBoundingClientRect();return{top:Ge.top+$.pageYOffset-ot.clientTop,left:Ge.left+$.pageXOffset-ot.clientLeft}}},W.offsetParent=function(){return x(this[0]&&this[0].offsetParent)},W.position=function(){var Ve=this[0];if(Ve)return{left:Ve.offsetLeft,top:Ve.offsetTop}},W.children=function(Ve){var Ge=[];return this.each(function(dt,We){N.apply(Ge,We.children)}),Ge=x(O(Ge)),Ve?Ge.filter(function(dt,We){return j(We,Ve)}):Ge},W.contents=function(){var Ve=[];return this.each(function(Ge,dt){N.apply(Ve,dt.tagName==="IFRAME"?[dt.contentDocument]:dt.childNodes)}),x(Ve.length&&O(Ve))},W.find=function(Ve){for(var Ge=[],dt=0,We=this.length;dt<We;dt++){var mt=X(Ve,this[dt]);mt.length&&N.apply(Ge,mt)}return x(Ge.length&&O(Ge))},W.has=function(Ve){var Ge=E(Ve)?function(dt,We){return!!X(Ve,We).length}:function(dt,We){return We.contains(Ve)};return this.filter(Ge)},W.is=function(Ve){if(!Ve||!this[0])return!1;var Ge=d(Ve),dt=!1;return this.each(function(We,mt){return!(dt=Ge(We,mt,Ve))}),dt},W.next=function(){return x(this[0]&&this[0].nextElementSibling)},W.not=function(Ve){if(!Ve||!this[0])return this;var Ge=d(Ve);return this.filter(function(dt,We){return!Ge(dt,We,Ve)})},W.parent=function(){var Ve=[];return this.each(function(Ge,dt){dt&&dt.parentNode&&Ve.push(dt.parentNode)}),x(O(Ve))},W.index=function(Ve){var Ge=Ve?x(Ve)[0]:this[0],dt=Ve?this:x(Ge).parent().children();return l.call(dt,Ge)},W.closest=function(Ve){return Ve&&this[0]?this.is(Ve)?this.filter(Ve):this.parent().closest(Ve):x()},W.parents=function(Ve){var Ge,dt=[];return this.each(function(We,mt){for(Ge=mt;Ge&&Ge.parentNode&&Ge!==k.body.parentNode;)Ge=Ge.parentNode,(!Ve||Ve&&j(Ge,Ve))&&dt.push(Ge)}),x(O(dt))},W.prev=function(){return x(this[0]&&this[0].previousElementSibling)},W.siblings=function(){var Ve=this[0];return this.parent().children().filter(function(Ge,dt){return dt!==Ve})};const st=x},9283:(z,ie,w)=>{w.d(ie,{$Q:()=>g,FW:()=>C,G1:()=>q,L_:()=>P,Mx:()=>l,R3:()=>S,SJ:()=>Y,dL:()=>m,pn:()=>y,rw:()=>H,sE:()=>N,t3:()=>X,ut:()=>I});var k=w(9050),$="tag",D="attributes",q="transitionend oTransitionEnd transitionend webkitTransitionEnd",l=function(x){return x&&x.nodeType===9},P=function(x){var W=x&&x.parentNode;W&&W.removeChild(x)},N=function(x,W){return x.querySelectorAll(W)},C=function(x){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x&&x.setAttribute&&(0,k.each)(W,function(oe,se){return x.setAttribute(se,oe)})},y=function(x){return x&&!!(x.offsetWidth||x.offsetHeight||x.getClientRects().length)},m=function(x,W){x.parentNode.replaceChild(W,x)},g=function(x,W,oe){var se=x.childNodes,Z=se.length,B=(0,k.isUndefined)(oe)?Z:oe;(0,k.isString)(W)&&(x.insertAdjacentHTML("beforeEnd",W),W=x.lastChild,x.removeChild(W)),B>=Z?x.appendChild(W):x.insertBefore(W,se[B])},S=function(x,W){return g(x,W)},I=function(x){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=arguments.length>2?arguments[2]:void 0,se=document.createElement(x);return W&&(0,k.each)(W,function(Z,B){return se.setAttribute(B,Z)}),oe&&((0,k.isString)(oe)?se.innerHTML=oe:se.appendChild(oe)),se},H=function(x){return document.createTextNode(x)},X=function(x,W){var oe,se=x.type;try{oe=new window[W](se,x)}catch{(oe=document.createEvent(W)).initEvent(se,!0,!0)}return oe._parentEvent=x,se.indexOf("key")===0&&(oe.keyCodeVal=x.keyCode,["keyCode","which"].forEach(function(Z){Object.defineProperty(oe,Z,{get:function(){return this.keyCodeVal}})})),oe},Y=function(x){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],oe=Array.isArray(W)?W:[W];oe.forEach(function(se){var Z=se[$]||"div",B=se[D]||{},T=document.createElement(Z);(0,k.each)(B,function(j,U){T.setAttribute(U,j)}),x.appendChild(T)})}},9661:(z,ie,w)=>{w.d(ie,{Z:()=>X});var k=w(1002);const $=function(Y){var x=this.constructor;return this.then(function(W){return x.resolve(Y()).then(function(){return W})},function(W){return x.resolve(Y()).then(function(){return x.reject(W)})})},D=function(Y){return new this(function(x,W){if(!Y||Y.length===void 0)return W(new TypeError((0,k.Z)(Y)+" "+Y+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var oe=Array.prototype.slice.call(Y);if(oe.length===0)return x([]);var se=oe.length;function Z(T,j){if(j&&((0,k.Z)(j)==="object"||typeof j=="function")){var U=j.then;if(typeof U=="function")return void U.call(j,function(E){Z(T,E)},function(E){oe[T]={status:"rejected",reason:E},--se==0&&x(oe)})}oe[T]={status:"fulfilled",value:j},--se==0&&x(oe)}for(var B=0;B<oe.length;B++)Z(B,oe[B])})};var q=setTimeout;function l(Y){return Boolean(Y&&Y.length!==void 0)}function P(){}function N(Y){if(!(this instanceof N))throw new TypeError("Promises must be constructed via new");if(typeof Y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],I(Y,this)}function C(Y,x){for(;Y._state===3;)Y=Y._value;Y._state!==0?(Y._handled=!0,N._immediateFn(function(){var W=Y._state===1?x.onFulfilled:x.onRejected;if(W!==null){var oe;try{oe=W(Y._value)}catch(se){return void m(x.promise,se)}y(x.promise,oe)}else(Y._state===1?y:m)(x.promise,Y._value)})):Y._deferreds.push(x)}function y(Y,x){try{if(x===Y)throw new TypeError("A promise cannot be resolved with itself.");if(x&&((0,k.Z)(x)==="object"||typeof x=="function")){var W=x.then;if(x instanceof N)return Y._state=3,Y._value=x,void g(Y);if(typeof W=="function")return void I((oe=W,se=x,function(){oe.apply(se,arguments)}),Y)}Y._state=1,Y._value=x,g(Y)}catch(Z){m(Y,Z)}var oe,se}function m(Y,x){Y._state=2,Y._value=x,g(Y)}function g(Y){Y._state===2&&Y._deferreds.length===0&&N._immediateFn(function(){Y._handled||N._unhandledRejectionFn(Y._value)});for(var x=0,W=Y._deferreds.length;x<W;x++)C(Y,Y._deferreds[x]);Y._deferreds=null}function S(Y,x,W){this.onFulfilled=typeof Y=="function"?Y:null,this.onRejected=typeof x=="function"?x:null,this.promise=W}function I(Y,x){var W=!1;try{Y(function(oe){W||(W=!0,y(x,oe))},function(oe){W||(W=!0,m(x,oe))})}catch(oe){if(W)return;W=!0,m(x,oe)}}N.prototype.catch=function(Y){return this.then(null,Y)},N.prototype.then=function(Y,x){var W=new this.constructor(P);return C(this,new S(Y,x,W)),W},N.prototype.finally=$,N.all=function(Y){return new N(function(x,W){if(!l(Y))return W(new TypeError("Promise.all accepts an array"));var oe=Array.prototype.slice.call(Y);if(oe.length===0)return x([]);var se=oe.length;function Z(T,j){try{if(j&&((0,k.Z)(j)==="object"||typeof j=="function")){var U=j.then;if(typeof U=="function")return void U.call(j,function(E){Z(T,E)},W)}oe[T]=j,--se==0&&x(oe)}catch(E){W(E)}}for(var B=0;B<oe.length;B++)Z(B,oe[B])})},N.allSettled=D,N.resolve=function(Y){return Y&&(0,k.Z)(Y)==="object"&&Y.constructor===N?Y:new N(function(x){x(Y)})},N.reject=function(Y){return new N(function(x,W){W(Y)})},N.race=function(Y){return new N(function(x,W){if(!l(Y))return W(new TypeError("Promise.race accepts an array"));for(var oe=0,se=Y.length;oe<se;oe++)N.resolve(Y[oe]).then(x,W)})},N._immediateFn=typeof setImmediate=="function"&&function(Y){setImmediate(Y)}||function(Y){q(Y,0)},N._unhandledRejectionFn=function(Y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Y)};const H=N;(0,w(1163).hasWin)()&&(window.Promise=window.Promise||H);const X=typeof fetch=="function"?fetch.bind():function(Y,x){return new H(function(W,oe){var se=new XMLHttpRequest;for(var Z in se.open(x.method||"get",Y),se.withCredentials=x.credentials=="include",x.headers||{})se.setRequestHeader(Z,x.headers[Z]);se.onload=function(B){return W({status:se.status,statusText:se.statusText,text:function(){return H.resolve(se.responseText)}})},se.onerror=oe,se.upload&&x.onProgress&&(se.upload.onprogress=x.onProgress),x.body?se.send(x.body):se.send()})}},6718:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>B});var k=w(4942),$=w(5610),D=w(2316),q=w.n(D),l=w(9050),P=w(1163);function N(T,j){var U=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);j&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable})),U.push.apply(U,E)}return U}function C(T){for(var j=1;j<arguments.length;j++){var U=arguments[j]!=null?arguments[j]:{};j%2?N(Object(U),!0).forEach(function(E){(0,k.Z)(T,E,U[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(U)):N(Object(U)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(U,E))})}return T}var y=q().$,m=function(){};const g=q().View.extend({initialize:function(T){this.opt=T||{},(0,l.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var j=T||{};this.elT=0,this.elL=0,this.borderOffset=j.borderOffset||10;var U=j.container;this.el=typeof U=="string"?document.querySelector(U):U,this.$el=y(this.el),this.containerSel=j.containerSel||"div",this.itemSel=j.itemSel||"div",this.draggable=j.draggable||!0,this.nested=j.nested||0,this.pfx=j.pfx||"",this.ppfx=j.ppfx||"",this.freezeClass=j.freezeClass||this.pfx+"freezed",this.onStart=j.onStart||m,this.onEndMove=j.onEndMove||"",this.customTarget=j.customTarget,this.onEnd=j.onEnd,this.direction=j.direction||"v",this.onMoveClb=j.onMove||"",this.relative=j.relative||0,this.ignoreViewChildren=j.ignoreViewChildren||0,this.ignoreModels=j.ignoreModels||0,this.plh=j.placer||"",this.wmargin=j.wmargin||0,this.offTop=j.offsetTop||0,this.offLeft=j.offsetLeft||0,this.document=j.document||document,this.$document=y(this.document),this.dropContent=null,this.em=j.em||null,this.dragHelper=null,this.canvasRelative=j.canvasRelative||0,this.selectOnEnd=!j.avoidSelectOnEnd,this.scale=j.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return(0,l.result)(this,scale)||1},getContainerEl:function(T){if(T&&(this.el=T),!this.el){var j=this.opt.container;this.el=typeof j=="string"?document.querySelector(j):j,this.$el=y(this.el)}return this.el},getDocuments:function(T){var j=this.em,U=T?T.ownerDocument:j&&j.get("Canvas").getBody().ownerDocument,E=[document];return U&&E.push(U),E},updateOffset:function(){var T,j=((T=this.em)===null||T===void 0?void 0:T.get("canvasOffset"))||{};this.offTop=j.top,this.offLeft=j.left},setDropContent:function(T){this.dropModel=null,this.dropContent=T},updateTextViewCursorPosition:function(T){var j=this.em;if(j){var U=j.get("Canvas"),E=U.getDocument(),M=null;if(E.caretRangeFromPoint){var c=(0,P.getPointerEvent)(T);M=E.caretRangeFromPoint(c.clientX,c.clientY)}else T.rangeParent&&(M=E.createRange()).setStart(T.rangeParent,T.rangeOffset);var d=U.getWindow().getSelection();U.getFrameEl().focus(),d.removeAllRanges(),M&&d.addRange(M),this.setContentEditable(this.activeTextModel,!0)}},setContentEditable:function(T,j){if(T){var U=T.getEl();U.contentEditable!=j&&(U.contentEditable=j)}},toggleSortCursor:function(T){var j=this.em,U=j&&j.get("Canvas");U&&(T?U.startAutoscroll():U.stopAutoscroll())},setDragHelper:function(T,j){for(var U=j||"",E=T.cloneNode(1),M=T.getBoundingClientRect(),c=getComputedStyle(T),d="",s=0;s<c.length;s++){var p=c[s];d+="".concat(p,":").concat(c.getPropertyValue(p),";")}document.body.appendChild(E),E.className+=" ".concat(this.pfx,"bdrag"),E.setAttribute("style",d),this.dragHelper=E,E.style.width="".concat(M.width,"px"),E.style.height="".concat(M.height,"px"),U&&this.moveDragHelper(U),this.em&&y(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),y(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(T){var j=T.target.ownerDocument;if(this.dragHelper&&j){var U=T.pageY,E=T.pageX,M=0,c=0,d=(j.defaultView||j.parentWindow).frameElement,s=this.dragHelper.style;if(d){var p=d.getBoundingClientRect();M=p.top+document.documentElement.scrollTop,c=p.left+document.documentElement.scrollLeft,U=T.clientY,E=T.clientX}s.top=U+M+"px",s.left=E+c+"px"}},matches:function(T,j,U){return P.matches.call(T,j)},closest:function(T,j){if(T){for(var U=T.parentNode;U&&U.nodeType===1;){if(this.matches(U,j))return U;U=U.parentNode}return null}},offset:function(T){var j=T.getBoundingClientRect();return{top:j.top+document.body.scrollTop,left:j.left+document.body.scrollLeft}},createPlaceholder:function(){var T=this.pfx,j=document.createElement("div"),U=document.createElement("div");return j.className=T+"placeholder",j.style.display="none",j.style["pointer-events"]="none",U.className=T+"placeholder-int",j.appendChild(U),j},startSort:function(T){var j,U,E,M,c,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.em,p=this.itemSel,O=this.containerSel,K=this.plh,Q=this.getContainerEl(d.container),ne=this.getDocuments(T);this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,T&&!this.matches(T,"".concat(p,", ").concat(O))&&(T=this.closest(T,p)),this.sourceEl=T,K||(this.plh=this.createPlaceholder(),Q.appendChild(this.plh)),T&&((c=this.getSourceModel(T))&&c.set&&c.set("status","freezed"),this.srcModel=c),(0,P.on)(Q,"mousemove dragover",this.onMove),(0,P.on)(ne,"mouseup dragend touchend",this.endMove),(0,P.on)(ne,"keydown",this.rollback),this.onStart({sorter:this,target:c,parent:c&&((j=(U=c).parent)===null||j===void 0?void 0:j.call(U)),index:c&&((E=(M=c).index)===null||E===void 0?void 0:E.call(M))}),s==null||s.clearSelection(),this.toggleSortCursor(1),s==null||s.trigger("sorter:drag:start",T,c)},getTargetModel:function(T){var j=T||this.target;return y(j).data("model")},getSourceModel:function(T){var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=U.target,M=U.avoidChildren,c=M===void 0?1:M,d=this.em,s=this.sourceEl,p=T||s,O=this.dropModel,K=this.dropContent,Q=function(b){return b&&E&&b.opt&&b.opt.avoidChildren&&j.isTextableActive(b,E)};if(K&&d){if(Q(O)&&(O=null),!O){var ne=d.get("DomComponents").getComponents(),R={avoidChildren:c,avoidStore:1,avoidUpdateStyle:1},v=ne.add(K,C(C({},R),{},{temporary:1}));if(O=(O=ne.remove(v,R))instanceof Array?O[0]:O,this.dropModel=O,Q(O))return this.getSourceModel(p,{target:E,avoidChildren:0})}return O}return p&&y(p).data("model")},selectTargetModel:function(T,j){if(!(T instanceof q().Collection||j&&j===T)){var U=this.targetModel;U&&U!==this.srcModel&&U.set("status",""),T&&T.set&&(T.set("status","selected-parent"),this.targetModel=T)}},onMove:function(T){var j=T,U=this.em,E=this.onMoveClb,M=this.plh,c=this.customTarget;this.moved=1;var d=M.style.display;d&&d!=="none"||(M.style.display="block");var s=this.offset(this.el);this.elT=this.wmargin?Math.abs(s.top):s.top,this.elL=this.wmargin?Math.abs(s.left):s.left;var p=T.pageY-this.elT+this.el.scrollTop,O=T.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&U){var K=U.get("Canvas").getMouseRelativeCanvas(T,{noScroll:1});O=K.x,p=K.y}this.rX=O,this.rY=p,this.eventMove=T;var Q=this.getSourceModel(),ne=c?c({sorter:this,event:T}):T.target,R=this.dimsFromTarget(ne,O,p),v=this.target,b=v&&this.getTargetModel(v);if(this.selectTargetModel(b,Q),b||(M.style.display="none"),v){this.lastDims=R;var a=this.findPosition(R,O,p);this.isTextableActive(Q,b)?(this.activeTextModel=b,M.style.display="none",this.lastPos=a,this.updateTextViewCursorPosition(j)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==a.index&&this.lastPos.method==a.method||(this.movePlaceholder(this.plh,R,a,this.prevTargetDim),this.$plh||(this.$plh=y(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=a)),(0,l.isFunction)(E)&&E({event:T,target:Q,parent:b,index:a.index+(a.method=="after"?1:0)}),U&&U.trigger("sorter:drag",{target:v,targetModel:b,sourceModel:Q,dims:R,pos:a,x:O,y:p})}},isTextableActive:function(T,j){var U;return(T==null||(U=T.get)===null||U===void 0?void 0:U.call(T,"textable"))&&(j==null?void 0:j.isInstanceOf("text"))},disableTextable:function(){var T=this.activeTextModel;T&&T.getView().disableEditing(),this.setContentEditable(T,!1)},isInFlow:function(T,j){if(!T)return!1;j=j||document.body;var U=T;return U.offsetHeight,!!this.styleInFlow(U,j)},styleInFlow:function(T,j){if(!(0,P.isTextNode)(T)){var U=T.style||{},E=y(T),M=j&&y(j);if(!U.overflow||U.overflow==="visible"){var c=E.css("float");if(!(c&&c!=="none"||M&&M.css("display")=="flex"&&M.css("flex-direction")!=="column")){switch(U.position){case"static":case"relative":case"":break;default:return}switch(T.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(E.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}}},validTarget:function(T,j){var U=this.getTargetModel(T),E=this.getSourceModel(j,{target:U}),M={valid:!0,src:j=E&&E.view&&E.view.el,srcModel:E,trg:T=U&&U.view&&U.view.el,trgModel:U};if(!j||!T)return M.valid=!1,M;var c=E.get("draggable");if((0,l.isFunction)(c)){var d=c(E,U);M.dragInfo=d,M.draggable=d,c=d}else c=c instanceof Array?c.join(", "):c,M.dragInfo=c,c=(0,l.isString)(c)?this.matches(T,c):c,M.draggable=c;var s=U.get("droppable");if((0,l.isFunction)(s)){var p=s(E,U);M.droppable=p,M.dropInfo=p,s=p}else s=(s=s instanceof q().Collection?1:s)instanceof Array?s.join(", "):s,M.dropInfo=s,s=(0,l.isString)(s)?this.matches(j,s):s,s=c&&this.isTextableActive(E,U)?1:s,M.droppable=s;return s&&c||(M.valid=!1),M},dimsFromTarget:function(T,j,U){var E=this.em,M=[];if(!T||(this.matches(T,"".concat(this.itemSel,", ").concat(this.containerSel))||(T=this.closest(T,this.itemSel)),this.draggable instanceof Array&&(T=this.closest(T,this.draggable.join(","))),!T))return M;if(this.prevTarget&&this.prevTarget!=T&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(T,this.containerSel);var c=this.validTarget(T);if(E&&E.trigger("sorter:drag:validation",c),!c.valid&&this.targetP)return this.dimsFromTarget(this.targetP,j,U);this.prevTarget=T,this.prevTargetDim=this.getDim(T),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(T)}if(this.prevTarget==T&&(M=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,j,U)||!this.nested&&!this.cacheDims.length){var d=this.targetP;d&&this.validTarget(d).valid&&(M=this.cacheDimsP,this.target=d)}return this.lastPos=null,M},getTargetFromEl:function(T){var j,U=T,E=this.targetPrev,M=this.em,c=this.containerSel,d=this.itemSel;if(this.matches(U,"".concat(d,", ").concat(c))||(U=this.closest(U,d)),this.draggable instanceof Array&&(U=this.closest(U,this.draggable.join(","))),E&&E!=U&&(this.targetPrev=""),!this.targetPrev){j=this.closest(U,c);var s=this.validTarget(U);if(M&&M.trigger("sorter:drag:validation",s),!s.valid&&j)return this.getTargetFromEl(j);this.targetPrev=U}return this.nearElBorders(U)&&(j=this.closest(U,c))&&this.validTarget(j).valid&&(U=j),U},nearElBorders:function(T){var j=10,U=T.getBoundingClientRect(),E=T.ownerDocument.body,M=this.getCurrentPos(),c=M.x,d=M.y,s=U.top+E.scrollTop,p=U.left+E.scrollLeft,O=U.width,K=U.height;if(d<s+j||d>s+K-j||c<p+j||c>p+O-j)return 1},getCurrentPos:function(){var T=this.eventMove;return{x:T.pageX||0,y:T.pageY||0}},getDim:function(T){var j,U,E,M,c=this.em,d=this.canvasRelative,s=c&&c.get("Canvas"),p=s?s.getElementOffsets(T):{};if(d&&c){var O=s.getElementPos(T,{noScroll:1});j=O.top,U=O.left,E=O.height,M=O.width}else{var K=this.offset(T);j=this.relative?T.offsetTop:K.top-(this.wmargin?-1:1)*this.elT,U=this.relative?T.offsetLeft:K.left-(this.wmargin?-1:1)*this.elL,E=T.offsetHeight,M=T.offsetWidth}return{top:j,left:U,height:E,width:M,offsets:p}},getChildrenDim:function(T){var j=this,U=[];if(!T)return U;var E=this.getTargetModel(T);if(E&&E.view&&!this.ignoreViewChildren){var M=E.getCurrentView?E.getCurrentView():E.view;T=M.getChildrenContainer()}return(0,l.each)(T.children,function(c,d){var s=(0,P.getModel)(c,y),p=s&&s.index?s.index():d;if((0,P.isTextNode)(c)||j.matches(c,j.itemSel)){var O=j.getDim(c),K=j.direction;K=K=="v"||K!="h"&&j.isInFlow(c,T),O.dir=K,O.el=c,O.indexEl=p,U.push(O)}}),U},nearBorders:function(T,j,U){var E=0,M=this.borderOffset,c=j||0,d=U||0,s=T.top,p=T.left,O=T.height,K=T.width;return(s+M>d||d>s+O-M||p+M>c||c>p+K-M)&&(E=1),!!E},findPosition:function(T,j,U){for(var E={index:0,indexEl:0,method:"before"},M=0,c=0,d=0,s=0,p=0,O=0,K=0,Q=0,ne=T.length;Q<ne;Q++){var R=K=T[Q],v=R.top,b=R.left,a=R.height,f=R.width;if(O=v+a,s=b+f/2,p=v+a/2,!(c&&b>c||d&&p>=d||M&&b+f<M))if(E.index=Q,E.indexEl=K.indexEl,K.dir){if(U<p){E.method="before";break}E.method="after"}else U<O&&(d=O),j<s?(c=s,E.method="before"):(M=s,E.method="after")}return E},movePlaceholder:function(T,j,U,E){var M=0,c=0,d=0,s=0,p=0,O="px",K=5,Q=U.method,ne=j[U.index];if(T.classList.remove("vertical"),T.classList.add("horizontal"),ne){var R=ne.top,v=ne.left,b=ne.height,a=ne.width;ne.dir?(s=a+O,p="auto",c=Q=="before"?R-M:R+b-M,d=v):(s="auto",p=b-2*M+O,c=R+M,d=Q=="before"?v-M:v+a-M,T.classList.remove("horizontal"),T.classList.add("vertical"))}else{if(!this.nested)return void(T.style.display="none");if(E){var f=E.offsets||{},h=f.paddingTop||K,_=f.paddingLeft||K;c=E.top+h,d=E.left+_,s=parseInt(E.width)-2*_+O,p="auto"}}T.style.top=c+O,T.style.left=d+O,s&&(T.style.width=s),p&&(T.style.height=p)},parents:function(T){return T?[T].concat(this.parents(T.parent())):[]},sort:function(T,j){var U=T.parents.filter(function(M){return j.parents.includes(M)})[0];if(!U)return j.model.index()-T.model.index();var E=T.parents[T.parents.indexOf(U)-1];return j.parents[j.parents.indexOf(U)-1].index()-E.index()},endMove:function(T){var j,U=this,E=this.sourceEl,M=[],c=this.getDocuments(),d=this.getContainerEl(),s=this.onEndMove,p=this.onEnd,O=this.target,K=this.lastPos;if((0,P.off)(d,"mousemove dragover",this.onMove),(0,P.off)(c,"mouseup dragend touchend",this.endMove),(0,P.off)(c,"keydown",this.rollback),this.plh.style.display="none",E&&(j=this.getSourceModel(),this.selectOnEnd&&j&&j.set&&(j.set("status",""),j.set("status","selected"))),this.moved&&O){var Q=this.toMove,ne=(0,l.isArray)(Q)?Q:Q?[Q]:[E],R=0;ne.length===1?M.push(this.move(O,ne[0],K)):ne.map(function(a){return{model:a,parents:U.parents(a)}}).sort(this.sort).forEach(function(a){var f=a.model,h=f.index(),_=f.parent().getEl();M.push(U.move(O,f,C(C({},K),{},{indexEl:K.indexEl-R,index:K.index-R}))),_===O&&h<=K.index&&R++})}this.plh&&(this.plh.style.display="none");var v=this.dragHelper;if(v&&(v.parentNode.removeChild(v),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,(0,l.isFunction)(s)){var b={target:j,parent:j&&j.parent(),index:j&&j.index()};M.length?M.forEach(function(a){return s(a,U,b)}):s(null,this,C(C({},b),{},{cancelled:1}))}(0,l.isFunction)(p)&&p({sorter:this})},move:function(T,j,U){var E,M,c=this.em,d=this.dropContent,s=(0,P.getElement)(j),p=[],O=U.method==="after"?U.indexEl+1:U.indexEl,K=this.validTarget(T,s),Q=y(T).data("collection"),ne=K.trgModel,R=K.srcModel,v=K.draggable,b=ne instanceof q().Collection?1:K.droppable;if(Q&&b&&v){var a={at:O,action:"move-component"},f=this.isTextableActive(R,ne);if(d)E=(0,l.isFunction)(d)?d():d,a.avoidUpdateStyle=!0,a.action="add-component";else{var h=R.collection.indexOf(R),_=Q===R.collection;(!_||!(h===O||h===O-1)||f)&&(E=R.collection.remove(R,{temporary:!0}),_&&O>h&&(a.at=O-1))}E&&(f?(delete a.at,M=ne.getView().insertComponent(E,a)):M=Q.add(E,a)),this.dropContent=null,this.prevTarget=null}else if(c){var A=K.dropInfo||(ne==null?void 0:ne.get("droppable")),J=K.dragInfo||(R==null?void 0:R.get("draggable"));!Q&&p.push("Target collection not found"),!b&&A&&p.push("Target is not droppable, accepts [".concat(A,"]")),!v&&J&&p.push("Component not draggable, acceptable by [".concat(J,"]")),c.logWarning("Invalid target position",{errors:p,model:R,context:"sorter",target:ne})}return c==null||c.trigger("sorter:drag:end",{targetCollection:Q,modelToDrop:E,warns:p,validResult:K,dst:T,srcEl:s}),M},rollback:function(T){(0,P.off)(this.getDocuments(),"keydown",this.rollback),(T.which||T.keyCode)==27&&(this.moved=0,this.endMove())}});var S=w(5671),I=w(3144);function H(T,j){var U=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);j&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable})),U.push.apply(U,E)}return U}function X(T){for(var j=1;j<arguments.length;j++){var U=arguments[j]!=null?arguments[j]:{};j%2?H(Object(U),!0).forEach(function(E){(0,k.Z)(T,E,U[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(U)):H(Object(U)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(U,E))})}return T}var Y={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:10,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},x=function(T,j){var U=j||window,E=T.getBoundingClientRect();return{left:E.left+U.pageXOffset,top:E.top+U.pageYOffset,width:E.width,height:E.height}},W=function(){function T(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,S.Z)(this,T),this.setOptions(j),(0,l.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return(0,I.Z)(T,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.opts=(0,l.defaults)(j,Y),this.setup()}},{key:"setup",value:function(){var j=this.opts,U=j.prefix||"",E=j.appendTo||document.body,M=this.container;for(M||((M=document.createElement("div")).className="".concat(U,"resizer-c"),E.appendChild(M),this.container=M);M.firstChild;)M.removeChild(M.firstChild);var c={};for(var d in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(p){return c[p]=j[p]?function(O,K){var Q=K.prefix||"",ne=document.createElement("i");return ne.className=Q+"resizer-h "+Q+"resizer-h-"+O,ne.setAttribute("data-"+Q+"handler",O),ne}(p,j):""}),c){var s=c[d];s&&M.appendChild(s)}this.handlers=c,this.mousePosFetcher=j.mousePosFetcher,this.updateTarget=j.updateTarget,this.posFetcher=j.posFetcher,this.onStart=j.onStart,this.onMove=j.onMove,this.onEnd=j.onEnd,this.onUpdateContainer=j.onUpdateContainer}},{key:"toggleFrames",value:function(j){if(this.opts.silentFrames){var U=document.querySelectorAll("iframe");(0,l.each)(U,function(E){return E.style.pointerEvents=j?"none":""})}}},{key:"isHandler",value:function(j){var U=this.handlers;for(var E in U)if(U[E]===j)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getParentEl",value:function(){return this.el.parentElement}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=this.posFetcher||"";return E?E(j,U):x(j)}},{key:"focus",value:function(j){j&&j===this.el||(this.el=j,this.updateContainer({forceShow:1}),(0,P.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&((0,P.off)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(j){if(j.button===0){j.preventDefault(),j.stopPropagation();var U=this.el,E=this.getParentEl(),M=this.opts||{},c=this.mousePosFetcher,d="data-"+M.prefix+"handler",s=this.getElementPos(U,{target:"el"}),p=this.getElementPos(E);this.handlerAttr=j.target.getAttribute(d),this.clickedHandler=j.target,this.startDim={t:s.top,l:s.left,w:s.width,h:s.height},this.rectDim={t:s.top,l:s.left,w:s.width,h:s.height},this.startPos=c?c(j):{x:j.clientX,y:j.clientY},this.parentDim={t:p.top,l:p.left,w:p.width,h:p.height};var O=this.getDocumentEl();this.docs=O,(0,P.on)(O,"pointermove",this.move),(0,P.on)(O,"keydown",this.handleKeyDown),(0,P.on)(O,"pointerup",this.stop),(0,l.isFunction)(this.onStart)&&this.onStart(j,{docs:O,config:M,el:U,resizer:this}),this.toggleFrames(1),this.move(j)}}},{key:"move",value:function(j){var U=this.onMove,E=this.mousePosFetcher,M=E?E(j):{x:j.clientX,y:j.clientY};this.currentPos=M,this.delta={x:M.x-this.startPos.x,y:M.y-this.startPos.y},this.keys={shift:j.shiftKey,ctrl:j.ctrlKey,alt:j.altKey},this.rectDim=this.calc(this),this.updateRect(0),U&&U(j)}},{key:"stop",value:function(j){var U=this.el,E=this.opts,M=this.docs||this.getDocumentEl();(0,P.off)(M,"pointermove",this.move),(0,P.off)(M,"keydown",this.handleKeyDown),(0,P.off)(M,"pointerup",this.stop),this.updateRect(1),this.toggleFrames(),(0,l.isFunction)(this.onEnd)&&this.onEnd(j,{docs:M,config:E,el:U,resizer:this}),delete this.docs}},{key:"updateRect",value:function(j){var U=this.el,E=this.opts,M=this.rectDim,c=this.updateTarget,d=this.getSelectedHandler(),s=E.unitHeight,p=E.unitWidth,O=E.keyWidth,K=E.keyHeight;if((0,l.isFunction)(c))c(U,M,{store:j,selectedHandler:d,resizer:this,config:E});else{var Q=U.style;Q[O]=M.w+p,Q[K]=M.h+s}this.updateContainer()}},{key:"updateContainer",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=this.opts,E=this.container,M=this.el,c=E.style;!U.avoidContainerUpdate&&M&&j.forceShow&&(c.display="block"),this.onUpdateContainer({el:E,resizer:this,opts:X(X({},U),j)})}},{key:"getSelectedHandler",value:function(){var j=this.handlers;if(this.selectedHandler){for(var U in j)if(j[U]===this.selectedHandler)return U}}},{key:"handleKeyDown",value:function(j){j.keyCode===27&&(this.rectDim=this.startDim,this.stop(j))}},{key:"handleMouseDown",value:function(j){var U=j.target;this.isHandler(U)?(this.selectedHandler=U,this.start(j)):U!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(j){var U,E=this.opts||{},M=E.step,c=this.startDim,d=E.minDim,s=E.maxDim,p=j.delta.x,O=j.delta.y,K=this.parentDim.w,Q=this.parentDim.h,ne=this.opts.unitWidth,R=this.opts.unitHeight,v=ne==="%"?c.w/100*K:c.w,b=R==="%"?c.h/100*Q:c.h,a={t:0,l:0,w:v,h:b};if(j){var f=j.handlerAttr;~f.indexOf("r")&&(U=ne==="%"?(0,P.normalizeFloat)((v+p*M)/K*100,.01):(0,P.normalizeFloat)(v+p*M,M),U=Math.max(d,U),s&&(U=Math.min(s,U)),a.w=U),~f.indexOf("b")&&(U=R==="%"?(0,P.normalizeFloat)((b+O*M)/Q*100,.01):(0,P.normalizeFloat)(b+O*M,M),U=Math.max(d,U),s&&(U=Math.min(s,U)),a.h=U),~f.indexOf("l")&&(U=ne==="%"?(0,P.normalizeFloat)((v-p*M)/K*100,.01):(0,P.normalizeFloat)(v-p*M,M),U=Math.max(d,U),s&&(U=Math.min(s,U)),a.w=U),~f.indexOf("t")&&(U=R==="%"?(0,P.normalizeFloat)((b-O*M)/Q*100,.01):(0,P.normalizeFloat)(b-O*M,M),U=Math.max(d,U),s&&(U=Math.min(s,U)),a.h=U);var h=E.ratioDefault?!j.keys.shift:j.keys.shift;if(f.indexOf("c")<0&&h){var _=c.w/c.h;a.w/a.h>_?a.h=Math.round(a.w/_):a.w=Math.round(a.h*_)}return~f.indexOf("l")&&(a.l=c.w-a.w),~f.indexOf("t")&&(a.t=c.h-a.h),a}}}]),T}();const oe={init:function(T){return new W(T)}};function se(T,j){var U=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);j&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable})),U.push.apply(U,E)}return U}function Z(T){for(var j=1;j<arguments.length;j++){var U=arguments[j]!=null?arguments[j]:{};j%2?se(Object(U),!0).forEach(function(E){(0,k.Z)(T,E,U[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(U)):se(Object(U)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(U,E))})}return T}const B=function(){return{name:"Utils",init:function(){return this},destroy:function(){},Sorter:g,Resizer:oe,Dragger:$.Z,helpers:Z({},P)}}},7116:(z,ie,w)=>{w.d(ie,{Z:()=>P});var k,$=w(2316),D=w.n($),q=w(9050),l=(k=function(N,C){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(y[g]=m[g])},k(N,C)},function(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=N}k(N,C),N.prototype=C===null?Object.create(C):(y.prototype=C.prototype,new y)});const P=function(N){function C(y,m,g){return N.call(this,m,{module:y,modelConstructor:g})||this}return l(C,N),C.prototype.add=function(y,m){var g,S=this,I=(0,q.isArray)(y)?y:(0,q.isUndefined)(y)?void 0:[y];return I=(g=I==null?void 0:I.map(function(H){return H instanceof S.newModel?H:new S.newModel(S.module,H)}))!==null&&g!==void 0?g:[void 0],N.prototype.add.call(this,(0,q.isArray)(y)?I:I[0],m)},C.prototype.preinitialize=function(y,m){this.newModel=m.modelConstructor,this.module=m.module},C}(D().Collection)},7904:(z,ie,w)=>{w.d(ie,{Z:()=>l});var k,$=w(2316),D=w.n($),q=(k=function(P,N){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(C[m]=y[m])},k(P,N)},function(P,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function C(){this.constructor=P}k(P,N),P.prototype=N===null?Object.create(N):(C.prototype=N.prototype,new C)});const l=function(P){function N(C,y,m){var g=P.call(this,y,m)||this;return g._module=C,g}return q(N,P),Object.defineProperty(N.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),N}(D().Model)},6434:(z,ie,w)=>{w.d(ie,{O:()=>y,Z:()=>C});var k,$=w(9050),D=w(1163),q=(k=function(m,g){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,I){S.__proto__=I}||function(S,I){for(var H in I)Object.prototype.hasOwnProperty.call(I,H)&&(S[H]=I[H])},k(m,g)},function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function S(){this.constructor=m}k(m,g),m.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}),l=function(){return l=Object.assign||function(m){for(var g,S=1,I=arguments.length;S<I;S++)for(var H in g=arguments[S])Object.prototype.hasOwnProperty.call(g,H)&&(m[H]=g[H]);return m},l.apply(this,arguments)},P=function(m,g,S){if(S||arguments.length===2)for(var I,H=0,X=g.length;H<X;H++)!I&&H in g||(I||(I=Array.prototype.slice.call(g,0,H)),I[H]=g[H]);return m.concat(I||Array.prototype.slice.call(g))},N=function(){function m(g,S,I){this.cls=[],this.isPrivate=!1,this._em=g,this._name=S;var H=this.name.charAt(0).toLowerCase()+this.name.slice(1),X=(0,$.isUndefined)(g.config[H])?g.config[this.name]:g.config[H],Y=X===!0?{}:X||{};Y.pStylePrefix=g.config.pStylePrefix||"",(0,$.isUndefined)(X)||X||(Y._disable=1),Y.em=g,this._config=(0,D.deepMerge)(I||{},Y)}return Object.defineProperty(m.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),m.prototype.init=function(g){},m.prototype.postLoad=function(g){},Object.defineProperty(m.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),m.prototype.getConfig=function(g){return g?this.config[g]:this.config},m.prototype.__logWarn=function(g,S){S===void 0&&(S={}),this.em.logWarning("[".concat(this.name,"]: ").concat(g),S)},m.prototype.__appendTo=function(){var g=this.getConfig().appendTo;if(g){var S=(0,$.isElement)(g)?g:document.querySelector(g);if(!S)return this.__logWarn('"appendTo" element not found');S.appendChild(this.render())}},m}();const C=N;var y=function(m){function g(S,I,H,X){var Y=m.call(this,S,I)||this;return Y.cls=[],Y.private=!1,Y.all=H,Y.events=X,Y.__initListen(),Y}return q(g,m),g.prototype.postLoad=function(S){},g.prototype.render=function(){},g.prototype.getProjectData=function(S){var I={},H=this.storageKey;return H&&(I[H]=S||this.getAll()),I},g.prototype.loadProjectData=function(S,I){S===void 0&&(S={}),I===void 0&&(I={});var H=I.all,X=I.onResult,Y=I.reset,x=this.storageKey,W={action:"load"},oe=H||this.all,se=S[x];if(typeof se=="string")try{se=JSON.parse(se)}catch{this.__logWarn("Data parsing failed",{input:se})}return Y&&se&&oe.reset(void 0,W),X?se&&X(se,W):se&&(0,D.isDef)(se.length)&&oe.reset(se,W),se},g.prototype.clear=function(S){S===void 0&&(S={});var I=this.all;return I&&I.reset(void 0,S),this},g.prototype.getAll=function(){return P([],this.all.models,!0)},g.prototype.getAllMap=function(){return this.getAll().reduce(function(S,I){return S[I.get(I.idAttribute)]=I,S},{})},g.prototype.__initListen=function(S){S===void 0&&(S={});var I=this,H=I.all,X=I.em,Y=I.events;H&&X&&H.on("add",function(x,W,oe){return X.trigger(Y.add,x,oe)}).on("remove",function(x,W,oe){return X.trigger(Y.remove,x,oe)}).on("change",function(x,W){return X.trigger(Y.update,x,x.changedAttributes(),W)}).on("all",this.__catchAllEvent,this),this.cls=[H].concat(S.collections||[]),(S.propagate||[]).forEach(function(x){var W=x.entity,oe=x.event;W.on("all",function(se,Z,B,T){var j=l({event:se},T||B);[X,H].map(function(U){return U.trigger(oe,Z,j)})})})},g.prototype.__remove=function(S,I){var H=this;I===void 0&&(I={});var X=this.em,Y=isString(S)?this.get(S):S,x=function(){return Y&&H.all.remove(Y,I),Y};return!I.silent&&(X==null||X.trigger(this.events.removeBefore,Y,x,I)),!I.abort&&x()},g.prototype.__catchAllEvent=function(S,I,H,X){var Y=this.em,x=this.events,W=X||H;Y&&x.all&&Y.trigger(x.all,{event:S,model:I,options:W}),this.__onAllEvent()},g.prototype.__appendTo=function(){var S=this.config.appendTo;if(S){var I=(0,$.isElement)(S)?S:document.querySelector(S);if(!I)return this.__logWarn('"appendTo" element not found');I.appendChild(this.render())}},g.prototype.__onAllEvent=function(){},g.prototype._createId=function(S){S===void 0&&(S=16);var I,H=this.getAll().length+S,X=this.getAllMap();do I=(0,D.createId)(H);while(X[I]);return I},g.prototype.__listenAdd=function(S,I){var H=this;S.on("add",function(X,Y,x){return H.em.trigger(I,X,x)})},g.prototype.__listenRemove=function(S,I){var H=this;S.on("remove",function(X,Y,x){return H.em.trigger(I,X,x)})},g.prototype.__listenUpdate=function(S,I){var H=this;S.on("change",function(X,Y){return H.em.trigger(I,X,X.changedAttributes(),Y)})},g.prototype.__destroy=function(){var S;this.cls.forEach(function(I){I.stopListening(),I.reset()}),(S=this.view)===null||S===void 0||S.remove(),this.view=void 0},g}(N)},3059:(z,ie,w)=>{w.d(ie,{Z:()=>l});var k,$=w(2316),D=w.n($),q=(k=function(P,N){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(C[m]=y[m])},k(P,N)},function(P,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function C(){this.constructor=P}k(P,N),P.prototype=N===null?Object.create(N):(C.prototype=N.prototype,new C)});const l=function(P){function N(){return P!==null&&P.apply(this,arguments)||this}return q(N,P),Object.defineProperty(N.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"module",{get:function(){var C,y;return(y=(C=this.model)===null||C===void 0?void 0:C.module)!==null&&y!==void 0?y:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),N.prototype.preinitialize=function(C){this.className=""},N}(D().View)},7287:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>te});var k=w(9050),$=w(6434),D=w(1163);const q={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,extHl:0,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]};var l,P=w(7904),N=w(7948),C=w(2004),y=w(3560),m=(l=function(F,G){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,le){V.__proto__=le}||function(V,le){for(var ve in le)Object.prototype.hasOwnProperty.call(le,ve)&&(V[ve]=le[ve])},l(F,G)},function(F,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function V(){this.constructor=F}l(F,G),F.prototype=G===null?Object.create(G):(V.prototype=G.prototype,new V)}),g=function(F){function G(V){var le=this,ve=V.em,Ne=V.config,Ze=Ne.scripts,Me=Ne.styles;return(le=F.call(this,V,{scripts:Ze,styles:Me})||this).set("frames",new y.Z(V)),le.listenTo(le,"change:zoom",le.onZoomChange),le.listenTo(ve,"change:device ".concat(C.evUpdate),le.updateDevice),le.listenTo(ve,N.evPageSelect,le._pageUpdated),le}return m(G,F),G.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}},Object.defineProperty(G.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),G.prototype.init=function(){var V=this.em.get("PageManager").getMain();this.set("frames",V.getFrames()),this.updateDevice({frame:V.getMainFrame()})},G.prototype._pageUpdated=function(V,le){var ve=this.em;ve.setSelected(),ve.get("readyCanvas")&&ve.stopDefault(),le==null||le.getFrames().map(function(Ne){return Ne.disable()}),this.set("frames",V.getFrames()),this.updateDevice({frame:V.getMainFrame()})},G.prototype.updateDevice=function(V){V===void 0&&(V={});var le=this.em,ve=le.getDeviceModel(),Ne=V.frame||le.getCurrentFrameModel();if(Ne&&ve){var Ze=ve.attributes,Me=Ze.width,je=Ze.height;Ne.set({width:Me,height:je},{noUndo:1})}},G.prototype.onZoomChange=function(){this.get("zoom")<1&&this.set("zoom",1)},G}(P.Z);const S=g;var I=w(6840),H=w(3059),X=w(9283),Y=w(2316),x=w.n(Y),W=function(){var F=function(G,V){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,ve){le.__proto__=ve}||function(le,ve){for(var Ne in ve)Object.prototype.hasOwnProperty.call(ve,Ne)&&(le[Ne]=ve[Ne])},F(G,V)};return function(G,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function le(){this.constructor=G}F(G,V),G.prototype=V===null?Object.create(V):(le.prototype=V.prototype,new le)}}();const oe=function(F){function G(V,le){V===void 0&&(V={}),le===void 0&&(le=!1);var ve=F.call(this,V)||this;return ve.itemsView="",ve.itemType="type",ve.reuseView=!1,ve.viewCollection=[],le&&ve.listenTo(ve.collection,"add",ve.addTo),ve}return W(G,F),G.prototype.addTo=function(V){this.add(V)},G.prototype.itemViewNotFound=function(V){},G.prototype.add=function(V,le){var ve,Ne=this,Ze=Ne.reuseView,Me=Ne.viewCollection,je=(Ne.itemsView,le||null),ae=V.get(this.itemType);ve=V.view&&Ze?V.view:this.renderView(V,ae),Me.push(ve);var be=ve.render().el;je?je.appendChild(be):this.$el.append(be)},G.prototype.render=function(){var V=this,le=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(ve){return V.add(ve,le)}),this.$el.append(le),this.onRender(),this},G.prototype.onRender=function(){},G.prototype.onRemoveBefore=function(V,le){},G.prototype.onRemove=function(V,le){},G.prototype.remove=function(V){V===void 0&&(V={});var le=this.viewCollection;return this.onRemoveBefore(le,V),this.clearItems(),x().View.prototype.remove.apply(this,V),this.onRemove(le,V),this},G.prototype.clearItems=function(){this.viewCollection},G}(H.Z);var se=w(4868),Z=w(4942),B=w(5671),T=w(3144);function j(F,G){var V=Object.keys(F);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(F);G&&(le=le.filter(function(ve){return Object.getOwnPropertyDescriptor(F,ve).enumerable})),V.push.apply(V,le)}return V}var U=function(){function F(G,V){var le=this;(0,B.Z)(this,F),this.em=G;var ve=V||G.get("Canvas").getFrames().map(function(Ze){return Ze.getComponent().getEl()}),Ne=Array.isArray(ve)?ve:[ve];return this.el=ve,this.counter=0,(0,k.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),Ne.forEach(function(Ze){return le.toggleEffects(Ze,1)}),this}return(0,T.Z)(F,[{key:"toggleEffects",value:function(G,V){var le={on:D.on,off:D.off},ve=V?"on":"off";le[ve](G,"dragenter",this.handleDragEnter),le[ve](G,"dragover",this.handleDragOver),le[ve](G,"drop",this.handleDrop),le[ve](G,"dragleave",this.handleDragLeave)}},{key:"__customTglEff",value:function(G){var V=G?D.on:D.off,le=this.el.ownerDocument,ve=le.defaultView.frameElement;this.sortOpts=G?{onStart:function(Ne){var Ze=Ne.sorter;(0,D.on)(ve,"pointermove",Ze.onMove)},onEnd:function(Ne){var Ze=Ne.sorter;(0,D.off)(ve,"pointermove",Ze.onMove)},customTarget:function(Ne){var Ze=Ne.event;return le.elementFromPoint(Ze.clientX,Ze.clientY)}}:null,V(ve,"pointerenter",this.handleDragEnter),V(ve,"pointermove",this.handleDragOver),V(document,"pointerup",this.handleDrop),V(ve,"pointerout",this.handleDragLeave)}},{key:"startCustom",value:function(){this.__customTglEff(!0)}},{key:"endCustom",value:function(G){this.over?this.endDrop(G):this.__customTglEff(!1)}},{key:"endDrop",value:function(G,V){var le=this.em,ve=this.dragStop;this.counter=0,ve&&ve(G),this.__customTglEff(!1),le.trigger("canvas:dragend",V)}},{key:"handleDragLeave",value:function(G){this.updateCounter(-1,G)}},{key:"updateCounter",value:function(G,V){this.counter+=G,this.counter===0&&this.endDrop(1,V)}},{key:"handleDragEnter",value:function(G){var V=this,le=this.em,ve=G.dataTransfer;if(this.updateCounter(1,G),!this.over){this.over=1;var Ne,Ze,Me=le.get("Utils"),je=le.get("Canvas"),ae=le.get("dragContent")||"<br>";if(le.stopDefault(),le.inAbsoluteMode()){var be=le.get("DomComponents").getWrapper(),re=be.append({})[0],Te=le.get("Commands").run("core:component-drag",{event:G,guidesInfo:1,center:1,target:re,onEnd:function(Fe,it,lt){var St;if(!lt.cancelled){St=be.append(ae)[0];var Ut=je.getOffset(),Xt=re.getStyle(),Dt=Xt.top,ot=Xt.left,st=Xt.position;St.addStyle({left:parseFloat(ot)-Ut.left+"px",top:parseFloat(Dt)-Ut.top+"px",position:st})}V.handleDragEnd(St,ve),re.remove()}});Ne=function(Fe){return Te.stop(G,{cancel:Fe})},Ze=function(Fe){return ae=Fe}}else{var Re=new Me.Sorter(function(Fe){for(var it=1;it<arguments.length;it++){var lt=arguments[it]!=null?arguments[it]:{};it%2?j(Object(lt),!0).forEach(function(St){(0,Z.Z)(Fe,St,lt[St])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Fe,Object.getOwnPropertyDescriptors(lt)):j(Object(lt)).forEach(function(St){Object.defineProperty(Fe,St,Object.getOwnPropertyDescriptor(lt,St))})}return Fe}({em:le,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:je.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(Fe){return V.handleDragEnd(Fe,ve)},document:this.el.ownerDocument},this.sortOpts||{}));Re.setDropContent(ae),Re.startSort(),this.sorter=Re,Ne=function(Fe){Fe&&(Re.moved=0),Re.endMove()},Ze=function(Fe){return Re.setDropContent(Fe)}}this.dragStop=Ne,this.dragContent=Ze,le.trigger("canvas:dragenter",ve,ae)}}},{key:"handleDragEnd",value:function(G,V){var le=this.em;this.over=0,G&&(le.set("dragResult",G),le.trigger("canvas:drop",V,G)),le.runDefault({preserveSelected:1})}},{key:"handleDragOver",value:function(G){G.preventDefault(),this.em.trigger("canvas:dragover",G)}},{key:"handleDrop",value:function(G){G.preventDefault();var V=this.dragContent,le=G.dataTransfer,ve=this.getContentByData(le).content;G.target.style.border="",ve&&V&&V(ve),this.endDrop(!ve,G)}},{key:"getContentByData",value:function(G){var V=this.em,le=G&&G.types,ve=G&&G.files||[],Ne=V.get("dragContent"),Ze=G&&G.getData("text");if(ve.length){Ze=[];for(var Me=0;Me<ve.length;Me++){var je=ve[Me],ae=je.type.split("/")[0];ae=="image"&&Ze.push({type:ae,file:je,attributes:{alt:je.name}})}}else if(Ne)Ze=Ne;else if((0,k.indexOf)(le,"text/html")>=0)Ze=G&&G.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,k.indexOf)(le,"text/uri-list")>=0)Ze={type:"link",attributes:{href:Ze},content:Ze};else if((0,k.indexOf)(le,"text/json")>=0){var be=G&&G.getData("text/json");be&&(Ze=JSON.parse(be))}else le.length===1&&le[0]==="text/plain"&&(Ze="<div>".concat(Ze,"</div>"));var re={content:Ze};return V.trigger("canvas:dragdata",G,re),re}}]),F}(),E=function(){var F=function(G,V){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,ve){le.__proto__=ve}||function(le,ve){for(var Ne in ve)Object.prototype.hasOwnProperty.call(ve,Ne)&&(le[Ne]=ve[Ne])},F(G,V)};return function(G,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function le(){this.constructor=G}F(G,V),G.prototype=V===null?Object.create(V):(le.prototype=V.prototype,new le)}}(),M=function(){return M=Object.assign||function(F){for(var G,V=1,le=arguments.length;V<le;V++)for(var ve in G=arguments[V])Object.prototype.hasOwnProperty.call(G,ve)&&(F[ve]=G[ve]);return F},M.apply(this,arguments)},c=function(F,G,V){if(V||arguments.length===2)for(var le,ve=0,Ne=G.length;ve<Ne;ve++)!le&&ve in G||(le||(le=Array.prototype.slice.call(G,0,ve)),le[ve]=G[ve]);return F.concat(le||Array.prototype.slice.call(G))},d=function(F){function G(V,le){var ve=F.call(this,{model:V})||this;ve.dragging=!1,ve.lastMaxHeight=0,ve.tools={},(0,k.bindAll)(ve,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var Ne=ve,Ze=Ne.el;Ne.em,ve.module._config=M(M({},ve.config||{}),{frameView:ve}),ve.frameWrapView=le,ve.showGlobalTools=(0,k.debounce)(ve.showGlobalTools.bind(ve),50);var Me=ve.getCanvasModel();return ve.listenTo(V,"change:head",ve.updateHead),ve.listenTo(Me,"change:styles",ve.renderStyles),V.view=ve,(0,D.setViewEl)(Ze,ve),ve}return E(G,F),Object.defineProperty(G.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),G.prototype.updateHead=function(){var V=this.model,le=this.getHead(),ve=[],Ne=[],Ze=V.head,Me=V.previous("head"),je=function(be){return be===void 0&&(be={}),Object.keys(be).sort().map(function(re){return"[".concat(re,'="').concat(be[re],'"]')}).join("")},ae=function(be,re,Te){be.forEach(function(Re){var Fe=Re.tag,it=Re.attributes;!re.some(function(lt){return lt.tag===Fe&&je(lt.attributes)===je(it)})&&Te.push(Re)})};ae(Ze,Me,Ne),ae(Me,Ze,ve),ve.forEach(function(be){var re,Te=le.querySelector("".concat(be.tag).concat(je(be.attributes)));(re=Te==null?void 0:Te.parentNode)===null||re===void 0||re.removeChild(Te)}),(0,X.SJ)(le,Ne)},G.prototype.getEl=function(){return this.el},G.prototype.getCanvasModel=function(){return this.em.get("Canvas").getModel()},G.prototype.getWindow=function(){return this.getEl().contentWindow},G.prototype.getDoc=function(){return this.getEl().contentDocument},G.prototype.getHead=function(){return this.getDoc().querySelector("head")},G.prototype.getBody=function(){return this.getDoc().querySelector("body")},G.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},G.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,X.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},G.prototype.getToolsEl=function(){var V;return(V=this.frameWrapView)===null||V===void 0?void 0:V.elTools},G.prototype.getGlobalToolsEl=function(){return this.em.get("Canvas").getGlobalToolsEl()},G.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},G.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},G.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},G.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},G.prototype.getOffsetRect=function(){var V=this.el,le=this.getBody(),ve=le.scrollTop,Ne=le.scrollLeft,Ze=V.offsetHeight,Me=V.offsetWidth;return{top:V.offsetTop,left:V.offsetLeft,height:Ze,width:Me,scrollTop:ve,scrollLeft:Ne,scrollBottom:ve+Ze,scrollRight:Ne+Me}},G.prototype._getTool=function(V){var le=this.tools,ve=this.getToolsEl();return le[V]||(le[V]=ve.querySelector(V)),le[V]},G.prototype.remove=function(){for(var V=[],le=0;le<arguments.length;le++)V[le]=arguments[le];var ve=this.wrapper;return this._toggleEffects(!1),this.tools={},ve&&ve.remove(),H.Z.prototype.remove.apply(this,V),this},G.prototype.startAutoscroll=function(){var V=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){V._toggleAutoscrollFx(!0),requestAnimationFrame(V.autoscroll)},0)},G.prototype.autoscroll=function(){if(this.dragging){var V=this.lastClientY,le=this.em.get("Canvas"),ve=this.getWindow(),Ne=ve.pageYOffset,Ze=V||0,Me=le.getConfig().autoscrollLimit,je=this.getRect().height-Me,ae=Ne;Ze<Me&&(ae-=Me-Ze),Ze>je&&(ae+=Ze-je),!(0,k.isUndefined)(V)&&ae!==Ne&&ae>0&&ae<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),ve.scrollTo(0,ae)),requestAnimationFrame(this.autoscroll)}},G.prototype.updateClientY=function(V){V.preventDefault(),this.lastClientY=(0,D.getPointerEvent)(V).clientY*this.em.getZoomDecimal()},G.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},G.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},G.prototype._toggleAutoscrollFx=function(V){this.dragging=V;var le=this.getWindow(),ve=V?"on":"off",Ne={on:D.on,off:D.off};Ne[ve](le,"mousemove dragover",this.updateClientY),Ne[ve](le,"mouseup",this.stopAutoscroll)},G.prototype.render=function(){var V=this.$el,le=this.ppfx;return V.attr({class:"".concat(le,"frame")}),this.renderScripts(),this},G.prototype.renderScripts=function(){var V=this,le=this,ve=le.el,Ne=le.model,Ze=le.em,Me="frame:load",je={el:ve,model:Ne,view:this},ae=this.getCanvasModel(),be=function(re){var Te;if(re.length>0){var Re=re.shift(),Fe=(0,X.ut)("script",M({type:"text/javascript"},(0,k.isString)(Re)?{src:Re}:Re));Fe.onerror=Fe.onload=be.bind(null,re),(Te=ve.contentDocument)===null||Te===void 0||Te.head.appendChild(Fe)}else V.renderBody(),Ze&&Ze.trigger(Me,je)};ve.onload=function(){var re=V.config.frameContent;if(re){var Te=V.getDoc();Te.open(),Te.write(re),Te.close()}Ze&&Ze.trigger("".concat(Me,":before"),je),be(c([],ae.get("scripts"),!0))}},G.prototype.renderStyles=function(V){V===void 0&&(V={});var le=this.getHead(),ve=this.getCanvasModel(),Ne=function(re){return re.map(function(Te){return{tag:"link",attributes:M({rel:"stylesheet"},(0,k.isString)(Te)?{href:Te}:Te)}})},Ze=Ne(V.prev||ve.previous("styles")),Me=Ne(ve.get("styles")),je=[],ae=[],be=function(re,Te,Re){re.forEach(function(Fe){var it=Fe.attributes.href;!Te.some(function(lt){return lt.attributes.href===it})&&Re.push(Fe)})};be(Me,Ze,ae),be(Ze,Me,je),je.forEach(function(re){var Te,Re=le.querySelector('link[href="'.concat(re.attributes.href,'"]'));(Te=Re==null?void 0:Re.parentNode)===null||Te===void 0||Te.removeChild(Re)}),(0,X.SJ)(le,ae)},G.prototype.renderBody=function(){var V,le,ve=this,Ne=this,Ze=Ne.config,Me=Ne.em,je=Ne.model,ae=Ne.ppfx,be=this.getDoc(),re=this.getBody(),Te=this.getWindow(),Re=Me.config;Te._isEditor=!0,this.renderStyles({prev:[]}),(0,X.R3)(re,`<style>
      `.concat(Re.baseCss||Ze.frameStyle||"",`

      [data-gjs-type="wrapper"] {
        min-height: 100vh;
        padding-top: 0.001em;
      }

      .`).concat(ae,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(ae,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(ae,`selected-parent {
        outline: 2px solid `).concat("#ffca6f",` !important
      }

      .`).concat(ae,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(ae,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(ae,`no-pointer {
        pointer-events: none;
      }

      .`).concat(ae,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(ae,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(ae,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(ae,`is__grabbing,
      .`).concat(ae,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(Re.canvasCss||"",`
      `).concat(Re.protectedCss||"",`
    </style>`));var Fe=je.getComponent(),it=Me.get("DomComponents").getType("wrapper").view;this.wrapper=new it({model:Fe,config:M(M({},Fe.config),{em:Me,frameView:this})}).render(),(0,X.R3)(re,(V=this.wrapper)===null||V===void 0?void 0:V.el),(0,X.R3)(re,new se.Z({collection:je.getStyles(),config:M(M({},Me.get("CssComposer").getConfig()),{frameView:this})}).render().el),(0,X.R3)(re,this.getJsContainer()),(0,D.on)(re,"click",function(lt){var St;return lt&&((St=lt.target)===null||St===void 0?void 0:St.tagName)=="A"&&lt.preventDefault()}),(0,D.on)(re,"submit",function(lt){return lt&&lt.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(lt){return lt.event.split(" ").forEach(function(St){be.addEventListener(St,function(Ut){return ve.el.dispatchEvent((0,X.t3)(Ut,lt.class))})})}),this._toggleEffects(!0),this.droppable=(0,D.hasDnd)(Me)&&new U(Me,(le=this.wrapper)===null||le===void 0?void 0:le.el),je.trigger("loaded")},G.prototype._toggleEffects=function(V){var le=V?D.on:D.off,ve=this.getWindow();ve&&le(ve,"".concat(X.G1," resize"),this._emitUpdate)},G.prototype._emitUpdate=function(){this.model._emitUpdated()},G}(H.Z);const s=d;var p=w(5610),O=function(){var F=function(G,V){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,ve){le.__proto__=ve}||function(le,ve){for(var Ne in ve)Object.prototype.hasOwnProperty.call(ve,Ne)&&(le[Ne]=ve[Ne])},F(G,V)};return function(G,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function le(){this.constructor=G}F(G,V),G.prototype=V===null?Object.create(V):(le.prototype=V.prototype,new le)}}(),K=function(){return K=Object.assign||function(F){for(var G,V=1,le=arguments.length;V<le;V++)for(var ve in G=arguments[V])Object.prototype.hasOwnProperty.call(G,ve)&&(F[ve]=G[ve]);return F},K.apply(this,arguments)};const Q=function(F){function G(V,le){var ve=F.call(this,{model:V})||this;return(0,k.bindAll)(ve,"onScroll","frameLoaded","updateOffset","remove","startDrag"),K(K({},V.config),{frameWrapView:ve}),ve.cv=le,ve.frame=new s(V,ve),ve.classAnim="".concat(ve.ppfx,"frame-wrapper--anim"),ve.updateOffset=(0,k.debounce)(ve.updateOffset.bind(ve),0),ve.updateSize=(0,k.debounce)(ve.updateSize.bind(ve),0),ve.listenTo(V,"loaded",ve.frameLoaded),ve.listenTo(V,"change:x change:y",ve.updatePos),ve.listenTo(V,"change:width change:height",ve.updateSize),ve.listenTo(V,"destroy remove",ve.remove),ve.updatePos(),ve.setupDragger(),ve}return O(G,F),G.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},G.prototype.setupDragger=function(){var V,le,ve,Ne=this,Ze=this.module,Me=this.model,je=function(ae){Ze.toggleFramesEvents(ae)};this.dragger=new p.Z({onStart:function(){var ae=Me.attributes,be=ae.x,re=ae.y;ve=Ne.em.getZoomMultiplier(),V=be,le=re,je(!1)},onEnd:function(){return je(!0)},setPosition:function(ae){Me.set({x:V+ae.x*ve,y:le+ae.y*ve})}})},G.prototype.startDrag=function(V){var le;V&&((le=this.dragger)===null||le===void 0||le.start(V))},G.prototype.__clear=function(V){var le=this.frame;le&&le.remove(V),(0,X.L_)(this.elTools)},G.prototype.remove=function(V){var le=this;return this.__clear(V),H.Z.prototype.remove.apply(this,V),["frame","dragger","cv","elTools"].forEach(function(ve){return le[ve]=0}),this},G.prototype.updateOffset=function(){var V,le=this,ve=le.em,Ne=le.$el,Ze=le.frame;ve&&(ve.runDefault({preserveSelected:1}),Ne.removeClass(this.classAnim),(V=Ze==null?void 0:Ze.model)===null||V===void 0||V._emitUpdated())},G.prototype.updatePos=function(V){var le=this.model,ve=this.el,Ne=le.attributes,Ze=Ne.x,Me=Ne.y,je=ve.style;this.frame.rect=void 0,je.left=isNaN(Ze)?Ze:"".concat(Ze,"px"),je.top=isNaN(Me)?Me:"".concat(Me,"px"),V&&this.updateOffset()},G.prototype.updateSize=function(){this.updateDim()},G.prototype.updateDim=function(){var V=this,le=V.em,ve=V.el,Ne=V.$el,Ze=V.model,Me=V.classAnim,je=V.frame;if(je){je.rect=void 0,Ne.addClass(Me);var ae=this.__handleSize(),be=ae.noChanges,re=ae.width,Te=ae.height;((0,k.isNull)(re)||(0,k.isNull)(Te))&&Ze.set(K(K({},re?{}:{width:ve.offsetWidth}),Te?{}:{height:ve.offsetHeight}),{silent:1}),le.stopDefault({preserveSelected:1}),be?this.updateOffset():setTimeout(this.updateOffset,350)}},G.prototype.onScroll=function(){var V=this.frame;this.em.trigger("frame:scroll",{frame:V,body:V.getBody(),target:V.getWindow()})},G.prototype.frameLoaded=function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},G.prototype.__handleSize=function(){var V="px",le=this.model,ve=this.el.style,Ne=le.attributes,Ze=Ne.width,Me=Ne.height,je=ve.width||"",ae=ve.height||"",be=Ze||"",re=Me||"",Te=je==be&&ae==re;return ve.width=(0,k.isNumber)(be)?"".concat(be).concat(V):be,ve.height=(0,k.isNumber)(re)?"".concat(re).concat(V):re,{noChanges:Te,width:Ze,height:Me,newW:be,newH:re}},G.prototype.render=function(){var V=this,le=V.frame,ve=V.$el,Ne=V.ppfx,Ze=V.cv,Me=V.model,je=V.el,ae=Me.attributes.onRender;this.__clear(),this.__handleSize(),le.render(),ve.empty().attr({class:"".concat(Ne,"frame-wrapper")}).append(`
      <div class="`.concat(Ne,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(Ne,`frame-wrapper__name" data-action-move>
          `).concat(Me.get("name")||"",`
        </div>
        <div class="`).concat(Ne,`frame-wrapper__top-r">
          <div class="`).concat(Ne,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(Ne,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(Ne,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(Ne,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(le.el);var be=(0,X.ut)("div",{class:"".concat(Ne,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(Ne,`highlighter" data-hl></div>
      <div class="`).concat(Ne,`badge" data-badge></div>
      <div class="`).concat(Ne,`placeholder">
        <div class="`).concat(Ne,`placeholder-int"></div>
      </div>
      <div class="`).concat(Ne,`ghost"></div>
      <div class="`).concat(Ne,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(Ne,`resizer"></div>
      <div class="`).concat(Ne,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(Ne,`offset-fixed-v"></div>
    `));this.elTools=be;var re=Ze==null?void 0:Ze.toolsWrapper;return re&&re.appendChild(be),ae&&ae({el:je,elTop:je.querySelector("[data-frame-top]"),elRight:je.querySelector("[data-frame-right]"),elBottom:je.querySelector("[data-frame-bottom]"),elLeft:je.querySelector("[data-frame-left]"),frame:Me,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},G}(H.Z);var ne=function(){var F=function(G,V){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,ve){le.__proto__=ve}||function(le,ve){for(var Ne in ve)Object.prototype.hasOwnProperty.call(ve,Ne)&&(le[Ne]=ve[Ne])},F(G,V)};return function(G,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function le(){this.constructor=G}F(G,V),G.prototype=V===null?Object.create(V):(le.prototype=V.prototype,new le)}}(),R=function(F){function G(V,le){V===void 0&&(V={});var ve=F.call(this,V,!0)||this;return ve.listenTo(ve.collection,"reset",ve.render),ve.canvasView=le.canvasView,ve._module=le.module,ve}return ne(G,F),G.prototype.onRemoveBefore=function(V,le){le===void 0&&(le={}),V.forEach(function(ve){return ve.remove(le)})},G.prototype.onRender=function(){var V=this.$el,le=this.ppfx;V.attr({class:"".concat(le,"frames")})},G.prototype.renderView=function(V,le){return new Q(V,this.canvasView)},G}(oe);const v=R;var b=function(){var F=function(G,V){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,ve){le.__proto__=ve}||function(le,ve){for(var Ne in ve)Object.prototype.hasOwnProperty.call(ve,Ne)&&(le[Ne]=ve[Ne])},F(G,V)};return function(G,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function le(){this.constructor=G}F(G,V),G.prototype=V===null?Object.create(V):(le.prototype=V.prototype,new le)}}(),a=function(){return a=Object.assign||function(F){for(var G,V=1,le=arguments.length;V<le;V++)for(var ve in G=arguments[V])Object.prototype.hasOwnProperty.call(G,ve)&&(F[ve]=G[ve]);return F},a.apply(this,arguments)},f=function(F){function G(V){var le=F.call(this,{model:V})||this;le.ready=!1,(0,k.bindAll)(le,"clearOff","onKeyPress","onCanvasMove"),le.className=le.pfx+"canvas";var ve=le.em;return le._initFrames(),le.listenTo(ve,"change:canvasOffset",le.clearOff),le.listenTo(ve,"component:selected",le.checkSelected),le.listenTo(V,"change:zoom change:x change:y",le.updateFrames),le.listenTo(V,"change:frames",le._onFramesUpdate),le.toggleListeners(!0),le}return b(G,F),G.prototype.events=function(){return{wheel:"onWheel"}},G.prototype.template=function(){var V=this.pfx;return`
      <div class="`.concat(V,`canvas__frames" data-frames></div>
      <div id="`).concat(V,'tools" class="').concat(V,`canvas__tools" data-tools></div>
    `)},G.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},G.prototype._initFrames=function(){var V=this,le=V.frames,ve=V.model,Ne=V.config,Ze=V.em,Me=ve.frames;Ze.set("readyCanvas",0),Me.once("loaded:all",function(){return Ze.set("readyCanvas",1)}),le==null||le.remove(),this.frames=new v({collection:Me},a(a({},Ne),{canvasView:this}))},G.prototype.checkSelected=function(V,le){var ve;le===void 0&&(le={});var Ne=le.scroll,Ze=this.em.get("currentFrame");Ne&&((ve=V.views)===null||ve===void 0||ve.forEach(function(Me){Me._getFrame()===Ze&&Me.scrollIntoView(Ne)}))},G.prototype.remove=function(){for(var V,le=[],ve=0;ve<arguments.length;ve++)le[ve]=arguments[ve];return(V=this.frames)===null||V===void 0||V.remove(),this.frames=void 0,H.Z.prototype.remove.apply(this,le),this.toggleListeners(!1),this},G.prototype.preventDefault=function(V){var le;V&&(V.preventDefault(),(le=V._parentEvent)===null||le===void 0||le.preventDefault())},G.prototype.onCanvasMove=function(V){},G.prototype.toggleListeners=function(V){this.el;var le=V?D.on:D.off;le(document,"keypress",this.onKeyPress),le(window,"scroll resize",this.clearOff)},G.prototype.onKeyPress=function(V){var le=this.em;(0,D.getKeyChar)(V)!==" "||le.getZoomDecimal()===1||le.get("Canvas").isInputFocused()||(this.preventDefault(V),le.get("Editor").runCommand("core:canvas-move"))},G.prototype.onWheel=function(V){if((V.ctrlKey||V.metaKey)&&this.em.getConfig().multiFrames){this.preventDefault(V);var le=this.model,ve=Math.max(-1,Math.min(1,V.wheelDelta||-V.detail)),Ne=le.get("zoom");le.set("zoom",Ne+2*ve)}},G.prototype.updateFrames=function(V){var le=this.em,ve=this.model.attributes,Ne=ve.x,Ze=ve.y,Me=this.getZoom(),je={preserveSelected:1},ae=Me?1/Me:1;this.framesArea.style.transform="scale(".concat(Me,") translate(").concat(Ne*ae,"px, ").concat(Ze*ae,"px)"),this.clearOff(),le.stopDefault(je),le.trigger("canvas:update",V),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){return le.runDefault(je)},300)},G.prototype.getZoom=function(){return this.em.getZoomDecimal()},G.prototype.isElInViewport=function(V){var le=(0,D.getElement)(V),ve=(0,D.getElRect)(le),Ne=this.getFrameOffset(le),Ze=ve.top,Me=ve.left;return Ze>=0&&Me>=0&&Ze<=Ne.height&&Me<=Ne.width},G.prototype.offset=function(V,le){var ve,Ne;le===void 0&&(le={});var Ze=(0,D.getElRect)(V),Me=V==null?void 0:V.ownerDocument.body,je=le.noScroll;return{top:Ze.top+(je?0:(ve=Me==null?void 0:Me.scrollTop)!==null&&ve!==void 0?ve:0),left:Ze.left+(je?0:(Ne=Me==null?void 0:Me.scrollLeft)!==null&&Ne!==void 0?Ne:0),width:Ze.width,height:Ze.height}},G.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},G.prototype.getFrameOffset=function(V){var le;if(!this.frmOff||V){var ve=(le=this.frame)===null||le===void 0?void 0:le.el,Ne=V==null?void 0:V.ownerDocument.defaultView,Ze=Ne?Ne.frameElement:ve;this.frmOff=this.offset(Ze||ve)}return this.frmOff},G.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},G.prototype.getElementPos=function(V,le){le===void 0&&(le={});var ve=this.getZoom(),Ne=le||{},Ze=this.getFrameOffset(V),Me=this.el,je=this.getCanvasOffset(),ae=this.offset(V,le),be=Ne.avoidFrameOffset?0:Ze.top,re=Ne.avoidFrameOffset?0:Ze.left;return{top:ae.top*ve+be-je.top+Me.scrollTop,left:ae.left*ve+re-je.left+Me.scrollLeft,height:ae.height*ve,width:ae.width*ve,zoom:ve,rect:ae}},G.prototype.getElementOffsets=function(V){var le=this;if(!V||(0,D.isTextNode)(V))return{};var ve={},Ne=window.getComputedStyle(V);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(Ze){ve[Ze]=parseFloat(Ne[Ze])*le.getZoom()}),ve},G.prototype.getPosition=function(V){var le;V===void 0&&(V={});var ve=(le=this.frame)===null||le===void 0?void 0:le.el.contentDocument;if(ve){var Ne=ve.body,Ze=this.getZoom(),Me=this.getFrameOffset(),je=this.getCanvasOffset(),ae=V.noScroll;return{top:Me.top+(ae?0:Ne.scrollTop)*Ze-je.top,left:Me.left+(ae?0:Ne.scrollLeft)*Ze-je.left,width:je.width,height:je.height}}},G.prototype.updateScript=function(V){var le=V.model,ve=le.getId();V.scriptContainer||(V.scriptContainer=(0,X.ut)("div",{"data-id":ve}),this.getJsContainer().appendChild(V.scriptContainer)),V.el.id=ve,V.scriptContainer.innerHTML="";var Ne=document.createElement("script"),Ze=le.getScriptString(),Me=le.get("script-props")?Ze:`function(){
`.concat(Ze,`
;}`),je=JSON.stringify(le.__getScriptProps());Ne.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(ve,`');
        if (!item) return;
        (`).concat(Me,".bind(item))(").concat(je,`)
      }, 1);`),setTimeout(function(){var ae=V.scriptContainer;ae==null||ae.appendChild(Ne)},0)},G.prototype.getJsContainer=function(V){var le=this.getFrameView(V);return le&&le.getJsContainer()},G.prototype.getFrameView=function(V){return(V==null?void 0:V._getFrame())||this.em.get("currentFrame")},G.prototype._renderFrames=function(){if(this.ready){var V=this,le=V.model,ve=V.frames,Ne=V.em,Ze=V.framesArea,Me=le.frames;Me.listenToLoad(),ve.render();var je=Me.at(0),ae=je==null?void 0:je.view;Ne.setCurrentFrame(ae),Ze==null||Ze.appendChild(ve.el),this.frame=ae}},G.prototype.render=function(){var V=this,le=V.el,ve=V.$el,Ne=V.ppfx,Ze=V.config,Me=V.em;ve.html(this.template());var je=ve.find("[data-frames]");this.framesArea=je.get(0);var ae=ve.find("[data-tools]");this.toolsWrapper=ae.get(0),ae.append(`
      <div class="`.concat(Ne,"tools ").concat(Ne,`tools-gl" style="pointer-events:none">
        <div class="`).concat(Ne,`placeholder">
          <div class="`).concat(Ne,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(Ne,`tools" style="pointer-events:none">
        `).concat(Ze.extHl?'<div class="'.concat(Ne,'highlighter-sel"></div>'):"",`
        <div class="`).concat(Ne,`badge"></div>
        <div class="`).concat(Ne,`ghost"></div>
        <div class="`).concat(Ne,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(Ne,`resizer"></div>
        <div class="`).concat(Ne,`offset-v"></div>
        <div class="`).concat(Ne,`offset-fixed-v"></div>
      </div>
    `));var be=le.querySelector("#".concat(Ne,"tools"));return this.hlEl=le.querySelector(".".concat(Ne,"highlighter")),this.badgeEl=le.querySelector(".".concat(Ne,"badge")),this.placerEl=le.querySelector(".".concat(Ne,"placeholder")),this.ghostEl=le.querySelector(".".concat(Ne,"ghost")),this.toolbarEl=le.querySelector(".".concat(Ne,"toolbar")),this.resizerEl=le.querySelector(".".concat(Ne,"resizer")),this.offsetEl=le.querySelector(".".concat(Ne,"offset-v")),this.fixedOffsetEl=le.querySelector(".".concat(Ne,"offset-fixed-v")),this.toolsGlobEl=le.querySelector(".".concat(Ne,"tools-gl")),this.toolsEl=be,this.el.className=(0,D.getUiClass)(Me,this.className),this.ready=!0,this._renderFrames(),this},G}(H.Z);const h=f;var _=function(){var F=function(G,V){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,ve){le.__proto__=ve}||function(le,ve){for(var Ne in ve)Object.prototype.hasOwnProperty.call(ve,Ne)&&(le[Ne]=ve[Ne])},F(G,V)};return function(G,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function le(){this.constructor=G}F(G,V),G.prototype=V===null?Object.create(V):(le.prototype=V.prototype,new le)}}(),A=function(){return A=Object.assign||function(F){for(var G,V=1,le=arguments.length;V<le;V++)for(var ve in G=arguments[V])Object.prototype.hasOwnProperty.call(G,ve)&&(F[ve]=G[ve]);return F},A.apply(this,arguments)},J=function(F,G,V){if(V||arguments.length===2)for(var le,ve=0,Ne=G.length;ve<Ne;ve++)!le&&ve in G||(le||(le=Array.prototype.slice.call(G,0,ve)),le[ve]=G[ve]);return F.concat(le||Array.prototype.slice.call(G))};const te=function(F){function G(V){var le=F.call(this,V,"Canvas",q)||this;return le.canvas=new S(le),le.model=le.canvas,le.startAutoscroll=le.startAutoscroll.bind(le),le.stopAutoscroll=le.stopAutoscroll.bind(le),le}return _(G,F),G.prototype.getCanvasView=function(){return this.canvasView},G.prototype.init=function(){},G.prototype.onLoad=function(){this.model.init()},G.prototype.getModel=function(){return this.canvas},G.prototype.getElement=function(){return this.getCanvasView().el},G.prototype.getFrame=function(V){return this.getFrames()[V||0]},G.prototype.getFrameEl=function(){var V=(this.canvasView||{}).frame;return V==null?void 0:V.el},G.prototype.getFramesEl=function(){var V;return(V=this.canvasView)===null||V===void 0?void 0:V.framesArea},G.prototype.getWindow=function(){var V=(this.canvasView||{}).frame;return V==null?void 0:V.getWindow()},G.prototype.getDocument=function(){var V=this.getFrameEl();return V==null?void 0:V.contentDocument},G.prototype.getBody=function(){var V=this.getDocument();return V==null?void 0:V.body},G.prototype._getLocalEl=function(V,le,ve){var Ne=V,Ze=le==null?void 0:le._getFrame();return Ne=Ze?Ze[ve]():Ne},G.prototype.getGlobalToolsEl=function(){var V;return(V=this.canvasView)===null||V===void 0?void 0:V.toolsGlobEl},G.prototype.getToolsEl=function(V){return this._getLocalEl(this.getCanvasView().toolsEl,V,"getToolsEl")},G.prototype.getHighlighter=function(V){return this._getLocalEl(this.getCanvasView().hlEl,V,"getHighlighter")},G.prototype.getBadgeEl=function(V){return this._getLocalEl(this.getCanvasView().badgeEl,V,"getBadgeEl")},G.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},G.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},G.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},G.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},G.prototype.getOffsetViewerEl=function(V){return this._getLocalEl(this.getCanvasView().offsetEl,V,"getOffsetViewerEl")},G.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},G.prototype.render=function(){var V;return(V=this.canvasView)===null||V===void 0||V.remove(),this.canvasView=new h(this.canvas),this.canvasView.render().el},G.prototype.getOffset=function(){var V=this.offset(this.getFrameEl()),le=this.offset(this.getElement());return{top:V.top-le.top,left:V.left-le.left}},G.prototype.offset=function(V){return this.getCanvasView().offset(V)},G.prototype.setCustomBadgeLabel=function(V){this.config.customBadgeLabel=V},G.prototype.getElementPos=function(V,le){return this.getCanvasView().getElementPos(V,le)},G.prototype.getElementOffsets=function(V){return this.getCanvasView().getElementOffsets(V)},G.prototype.getRect=function(){var V,le=(V=this.getCanvasView().getPosition())!==null&&V!==void 0?V:{},ve=le.top,Ne=ve===void 0?0:ve,Ze=le.left,Me=Ze===void 0?0:Ze;return A(A({},this.getCanvasView().getCanvasOffset()),{topScroll:Ne,leftScroll:Me})},G.prototype.getTargetToElementDim=function(V,le,ve){ve===void 0&&(ve={});var Ne=ve||{},Ze=this.getCanvasView().getPosition();if(Ze){var Me=Ne.elPos||this.getCanvasView().getElementPos(le),je=ve.toRight||0,ae=Ne.targetHeight||V.offsetHeight,be=Ne.targetWidth||V.offsetWidth,re=Ne.event||null,Te=Me.top-ae,Re=Me.left;Re+=je?Me.width:0;var Fe=(Re=je?Re-be:Re)<Ze.left?Ze.left:Re,it=Te<Ze.top?Ze.top:Te,lt={top:it=it>Me.top+Me.height?Me.top+Me.height:it,left:Fe,elementTop:Me.top,elementLeft:Me.left,elementWidth:Me.width,elementHeight:Me.height,targetWidth:V.offsetWidth,targetHeight:V.offsetHeight,canvasTop:Ze.top,canvasLeft:Ze.left,canvasWidth:Ze.width,canvasHeight:Ze.height};return re&&this.em&&this.em.trigger(re,lt),lt}},G.prototype.canvasRectOffset=function(V,le,ve){var Ne=this;ve===void 0&&(ve={});var Ze=function(Me,je,ae){je===void 0&&(je=1);var be=Ne.em.getZoomDecimal(),re=je?"top":"left",Te=Me.ownerDocument,Re=ve.offset?function(Ge){var dt=Ge.defaultView;return dt==null?void 0:dt.frameElement}(Te):{},Fe=Re.offsetTop,it=Fe===void 0?0:Fe,lt=Re.offsetLeft,St=lt===void 0?0:lt,Ut=Te.body||{},Xt=Ut.scrollTop,Dt=Xt===void 0?0:Xt,ot=Ut.scrollLeft,st=je?Dt:ot===void 0?0:ot,Ve=je?it:St;return ae[re]-(st-Ve)*be};return{top:Ze(V,1,le),left:Ze(V,0,le)}},G.prototype.getTargetToElementFixed=function(V,le,ve){var Ne;ve===void 0&&(ve={});var Ze=ve.pos||this.getElementPos(V),Me=ve.canvasOff||this.canvasRectOffset(V,Ze),je=le.offsetHeight||0,ae=le.offsetWidth||0,be=Ze.left+Ze.width,re=this.getCanvasView(),Te=re.getPosition(),Re=re.getFrameOffset(V),Fe=ve.event,it=-je,lt=(0,k.isUndefined)(ve.left)?Ze.width-ae:ve.left;lt=Ze.left<-lt?-Ze.left:lt;var St=(Ne=Te==null?void 0:Te.width)!==null&&Ne!==void 0?Ne:0;lt=be>St?lt-(be-St):lt;var Ut=Ze.height+je,Xt=Ut<Re.height;Me.top<je&&(Xt?it+=Ut:it=-Me.top<Ze.height?-Me.top:Ze.height);var Dt={top:it,left:lt,canvasOffsetTop:Me.top,canvasOffsetLeft:Me.left};return Fe&&this.em.trigger(Fe,Dt),Dt},G.prototype.getMouseRelativePos=function(V,le){le===void 0&&(le={});var ve=0,Ne=0,Ze=le.subWinOffset,Me=V.target.ownerDocument,je=Me.defaultView||Me.parentWindow,ae=je.frameElement,be=Ze?je.pageYOffset:0,re=Ze?je.pageXOffset:0;if(ae){var Te=ae.getBoundingClientRect();ve=Te.top||0,Ne=Te.left||0}return{y:V.clientY+ve-be,x:V.clientX+Ne-re}},G.prototype.getMouseRelativeCanvas=function(V,le){var ve,Ne=this.getZoomDecimal(),Ze=(ve=this.getCanvasView().getPosition(le))!==null&&ve!==void 0?ve:{},Me=Ze.top,je=Me===void 0?0:Me,ae=Ze.left,be=ae===void 0?0:ae;return{y:V.clientY*Ne+je,x:V.clientX*Ne+be}},G.prototype.hasFocus=function(){return this.getDocument().hasFocus()},G.prototype.isInputFocused=function(){var V=this.getDocument(),le=this.getFrameEl(),ve=J(["body"],this.config.notTextable,!0),Ne=le&&document.activeElement===le?V&&V.activeElement:document.activeElement;return Ne&&!ve.some(function(Ze){return Ne.matches(Ze)})},G.prototype.scrollTo=function(V,le){le===void 0&&(le={});var ve=(0,D.getElement)(V),Ne=ve&&(0,D.getViewEl)(ve);Ne&&Ne.scrollIntoView(le)},G.prototype.startAutoscroll=function(V){var le=V&&V.view||this.em.getCurrentFrame();le&&le.startAutoscroll()},G.prototype.stopAutoscroll=function(V){var le=V&&V.view||this.em.getCurrentFrame();le&&le.stopAutoscroll()},G.prototype.setZoom=function(V){return this.canvas.set("zoom",parseFloat(V)),this},G.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},G.prototype.setCoords=function(V,le){return this.canvas.set({x:parseFloat(V),y:parseFloat(le)}),this},G.prototype.getCoords=function(){var V=this.canvas.attributes;return{x:V.x,y:V.y}},G.prototype.getZoomDecimal=function(){return this.getZoom()/100},G.prototype.getZoomMultiplier=function(){var V=this.getZoomDecimal();return V?1/V:1},G.prototype.toggleFramesEvents=function(V){this.getFramesEl().style.pointerEvents=V?"":"none"},G.prototype.getFrames=function(){return this.canvas.frames.map(function(V){return V})},G.prototype.addFrame=function(V,le){return V===void 0&&(V={}),le===void 0&&(le={}),this.canvas.frames.add(new I.Z(this,A({},V)),le)},G.prototype.destroy=function(){var V,le=this;this.canvas.stopListening(),(V=this.canvasView)===null||V===void 0||V.remove(),["model","droppable"].forEach(function(ve){return le[ve]={}})},G}($.Z)},6840:(z,ie,w)=>{w.d(ie,{Z:()=>m});var k,$=w(9050),D=w(7904),q=w(1163),l=(k=function(g,S){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,H){I.__proto__=H}||function(I,H){for(var X in H)Object.prototype.hasOwnProperty.call(H,X)&&(I[X]=H[X])},k(g,S)},function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function I(){this.constructor=g}k(g,S),g.prototype=S===null?Object.create(S):(I.prototype=S.prototype,new I)}),P=function(){return P=Object.assign||function(g){for(var S,I=1,H=arguments.length;I<H;I++)for(var X in S=arguments[I])Object.prototype.hasOwnProperty.call(S,X)&&(g[X]=S[X]);return g},P.apply(this,arguments)},N=function(g,S,I){if(I||arguments.length===2)for(var H,X=0,Y=S.length;X<Y;X++)!H&&X in S||(H||(H=Array.prototype.slice.call(S,0,X)),H[X]=S[X]);return g.concat(H||Array.prototype.slice.call(S))},C="__aw",y="__ah";const m=function(g){function S(I,H){var X=g.call(this,I,H)||this,Y=X.em,x=X.attributes,W=x.styles,oe=x.component,se=Y.get("DomComponents"),Z=se.getConfig(),B=Y.get("CssComposer").getAll(),T={},j={em:Y,config:Z,frame:X,idMap:T};if(!(0,q.isComponent)(oe)){var U=(0,q.isObject)(oe)?oe:{components:oe};!U.type&&(U.type="wrapper");var E=se.getType("wrapper").model;X.set("component",new E(U,j))}return W?(0,q.isObject)(W)||(Object.keys(T).length&&Array.isArray(W)&&W.forEach(function(M){var c=M.selectors;if(c&&c.length==1){var d=c[0],s=d.name&&d.type===2&&d;if(s&&T[s.name])s.name=T[s.name];else if((0,$.isString)(d)&&d[0]==="#"){var p=d.substring(1);p&&T[p]&&(c[0]="#".concat(T[p]))}}}),B.add(W),X.set("styles",B)):X.set("styles",B),!H.width&&X.set(C,1),!H.height&&X.set(y,1),X}return l(S,g),S.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(S.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),S.prototype.onRemove=function(){this.getComponent().remove({root:1})},S.prototype.changesUp=function(I){I===void 0&&(I={}),I.temporary||I.noCount||I.avoidStore||this.set("changesCount",this.get("changesCount")+1)},S.prototype.getComponent=function(){return this.get("component")},S.prototype.getStyles=function(){return this.get("styles")},S.prototype.disable=function(){this.trigger("disable")},S.prototype.remove=function(){this.view=void 0;var I=this.collection;return I&&I.remove(this)},S.prototype.getHead=function(){return N([],this.head,!0)},S.prototype.setHead=function(I){return this.set("head",N([],I,!0))},S.prototype.addHeadItem=function(I){this.head.push(I)},S.prototype.getHeadByAttr=function(I,H,X){return this.head.filter(function(Y){return Y.attributes&&Y.attributes[I]==H&&(!X||X===Y.tag)})[0]},S.prototype.removeHeadByAttr=function(I,H,X){var Y=this.getHeadByAttr(I,H,X),x=this.head.indexOf(Y);x>=0&&this.head.splice(x,1)},S.prototype.addLink=function(I){var H="link";!this.getHeadByAttr("href",I,H)&&this.addHeadItem({tag:H,attributes:{href:I,rel:"stylesheet"}})},S.prototype.removeLink=function(I){this.removeHeadByAttr("href",I,"link")},S.prototype.addScript=function(I){var H="script";!this.getHeadByAttr("src",I,H)&&this.addHeadItem({tag:H,attributes:{src:I}})},S.prototype.removeScript=function(I){this.removeHeadByAttr("src",I,"script")},S.prototype.getPage=function(){var I;return(I=this.collection)===null||I===void 0?void 0:I.page},S.prototype._emitUpdated=function(I){I===void 0&&(I={}),this.em.trigger("frame:updated",P({frame:this},I))},S.prototype.toJSON=function(I){I===void 0&&(I={});var H=D.Z.prototype.toJSON.call(this,I),X=(0,$.result)(this,"defaults");return I.fromUndo&&delete H.component,delete H.styles,delete H.changesCount,H[C]&&delete H.width,H[y]&&delete H.height,(0,$.forEach)(H,function(Y,x){x.indexOf("_")===0&&delete H[x]}),(0,$.forEach)(X,function(Y,x){H[x]===Y&&delete H[x]}),(0,$.forEach)(["attributes","head"],function(Y){(0,$.isEmpty)(H[Y])&&delete H[Y]}),H},S}(D.Z)},3560:(z,ie,w)=>{w.d(ie,{Z:()=>P});var k,$=w(9050),D=w(7116),q=w(6840),l=(k=function(N,C){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(y[g]=m[g])},k(N,C)},function(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function y(){this.constructor=N}k(N,C),N.prototype=C===null?Object.create(C):(y.prototype=C.prototype,new y)});const P=function(N){function C(y,m){m===void 0&&(m=[]);var g=N.call(this,y,m,q.Z)||this;return g.loadedItems=0,g.itemsToLoad=0,(0,$.bindAll)(g,"itemLoaded"),g.on("reset",g.onReset),g.on("remove",g.onRemove),g}return l(C,N),C.prototype.onReset=function(y,m){var g=this;((m==null?void 0:m.previousModels)||[]).map(function(S){return g.onRemove(S)})},C.prototype.onRemove=function(y){y==null||y.onRemove()},C.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},C.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},C.prototype.listenToLoadItems=function(y){var m=this;this.forEach(function(g){return g[y?"on":"off"]("loaded",m.itemLoaded)})},C}(D.Z)},5819:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>tt});var k=w(9050);const $={stylePrefix:"comp-",components:[],draggableComponents:1,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var D=w(9138),q=w(8431),l=w(2169),P=w(5671),N=w(3144),C=w(9340),y=w(2963),m=w(1120);function g(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var S=function(fe){(0,C.Z)(de,fe);var me=g(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"tagName",value:function(){return"div"}}]),de}(l.Z),I=w(3505),H=w(4942),X=w(1752),Y=w(1163);function x(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function W(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?x(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):x(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function oe(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var se=function(fe){(0,C.Z)(de,fe);var me=oe(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return W(W({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:"cell",tagName:"td",draggable:["tr"]})}}]),de}(D.ZP);se.isComponent=function(fe){return["td","th"].indexOf((0,Y.toLowerCase)(fe.tagName))>=0};const Z=l.Z.extend({});function B(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function T(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?B(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):B(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function j(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var U="tr",E=function(fe){(0,C.Z)(de,fe);var me=j(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return T(T({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{tagName:U,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})}}]),de}(D.ZP);E.isComponent=function(fe){return(0,Y.toLowerCase)(fe.tagName)===U};const M=l.Z.extend({});function c(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function d(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?c(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):c(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function s(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var p="table",O=function(fe){(0,C.Z)(de,fe);var me=s(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return d(d({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:p,tagName:p,droppable:["tbody","thead","tfoot"]})}},{key:"initialize",value:function(Ee,Ye){D.ZP.prototype.initialize.apply(this,arguments);var Ot=this.get("components");!Ot.length&&Ot.add({type:"tbody"})}}]),de}(D.ZP);O.isComponent=function(fe){return(0,Y.toLowerCase)(fe.tagName)===p};const K=l.Z.extend({events:{}});function Q(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function ne(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?Q(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):Q(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function R(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var v="tbody",b=function(fe){(0,C.Z)(de,fe);var me=R(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return ne(ne({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:v,tagName:v,draggable:["table"],droppable:["tr"],columns:1,rows:1})}},{key:"initialize",value:function(Ee,Ye){D.ZP.prototype.initialize.apply(this,arguments);var Ot=this.get("components"),Rt=this.get("columns"),Vt=this.get("rows");if(!Ot.length){for(var Ft=[];Vt--;){for(var Zt=[],At=Rt;At--;)Zt.push({type:"cell",classes:["cell"]});Ft.push({type:"row",classes:["row"],components:Zt})}Ot.add(Ft)}}}]),de}(D.ZP);function a(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function f(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?a(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):a(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function h(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}b.isComponent=function(fe){return(0,Y.toLowerCase)(fe.tagName)===v};var _="thead",A=function(fe){(0,C.Z)(de,fe);var me=h(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return f(f({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:_,tagName:_})}}]),de}(b);A.isComponent=function(fe){return(0,Y.toLowerCase)(fe.tagName)===_};const J=l.Z.extend({});function te(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var F=function(fe){(0,C.Z)(de,fe);var me=te(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de)}(l.Z);function G(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function V(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?G(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):G(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function le(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var ve="tfoot",Ne=function(fe){(0,C.Z)(de,fe);var me=le(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return V(V({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:ve,tagName:ve})}}]),de}(b);Ne.isComponent=function(fe){return(0,Y.toLowerCase)(fe.tagName)===ve};const Ze=l.Z.extend({});function Me(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function je(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?Me(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):Me(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function ae(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var be='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',re=function(fe){(0,C.Z)(de,fe);var me=ae(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return je(je({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(be,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(be,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})}},{key:"initialize",value:function(Ee,Ye){D.ZP.prototype.initialize.apply(this,arguments);var Ot=this.get("attributes"),Rt=Ot.src;Rt&&(0,Y.buildBase64UrlFromSvg)((0,k.result)(this,"defaults").src)!==Rt&&this.set("src",Rt,{silent:1})}},{key:"initToolbar",value:function(){for(var Ee=arguments.length,Ye=new Array(Ee),Ot=0;Ot<Ee;Ot++)Ye[Ot]=arguments[Ot];D.ZP.prototype.initToolbar.apply(this,Ye);var Rt=this.em;if(Rt){var Vt=Rt.get("Commands"),Ft="image-editor";if(Vt.has(Ft)){for(var Zt=!1,At=this.get("toolbar"),Lt=0;Lt<At.length;Lt++)if(At[Lt].command==="image-editor"){Zt=!0;break}Zt||(At.push({attributes:{class:"fa fa-pencil"},command:Ft}),this.set("toolbar",At))}}}},{key:"getAttrToHTML",value:function(){for(var Ee=arguments.length,Ye=new Array(Ee),Ot=0;Ot<Ee;Ot++)Ye[Ot]=arguments[Ot];var Rt=D.ZP.prototype.getAttrToHTML.apply(this,Ye),Vt=this.getSrcResult();return Vt&&(Rt.src=Vt),Rt}},{key:"getSrcResult",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ye=this.get(Ee.fallback?"fallback":"src")||"",Ot=Ye;return Ye&&Ye.substr(0,4)==="<svg"&&(Ot=(0,Y.buildBase64UrlFromSvg)(Ye)),Ot}},{key:"isDefaultSrc",value:function(){var Ee=this.get("src"),Ye=(0,k.result)(this,"defaults").src;return Ee===Ye||Ee===(0,Y.buildBase64UrlFromSvg)(Ye)}},{key:"toJSON",value:function(){for(var Ee=arguments.length,Ye=new Array(Ee),Ot=0;Ot<Ee;Ot++)Ye[Ot]=arguments[Ot];var Rt=D.ZP.prototype.toJSON.apply(this,Ye);return Rt.attributes&&Rt.src===Rt.attributes.src&&delete Rt.src,Rt}},{key:"parseUri",value:function(Ee){var Ye={};if((0,Y.hasWin)())(Ye=document.createElement("a")).href=Ee;else if(typeof URL<"u")try{Ye=new URL(Ee)}catch{}return{hostname:Ye.hostname||"",pathname:Ye.pathname||"",protocol:Ye.protocol||"",search:Ye.search||"",hash:Ye.hash||"",port:Ye.port||"",query:function(){for(var Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Rt={},Vt=Ot.substring(1).split("&"),Ft=0;Ft<Vt.length;Ft++){var Zt=Vt[Ft].split("="),At=decodeURIComponent(Zt[0]);At&&(Rt[At]=decodeURIComponent(Zt[1]||""))}return Rt}(Ye.search)}}}]),de}(D.ZP);function Te(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function Re(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?Te(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):Te(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function Fe(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}re.isComponent=function(fe){return(0,Y.toLowerCase)(fe.tagName)==="img"};var it=function(fe){(0,C.Z)(de,fe);var me=Fe(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return Re(Re({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:(0,X.Z)((0,m.Z)(de.prototype),"defaults",this).toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]})}},{key:"initialize",value:function(Ee,Ye){this.get("src")?this.parseFromSrc():this.updateSrc(),re.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)}},{key:"updateSrc",value:function(){this.set("src",this.getMapUrl())}},{key:"getMapUrl",value:function(){var Ee=this,Ye=Ee.get("address"),Ot=Ee.get("zoom"),Rt=Ee.get("mapType");Ye=Ye?"&q="+Ye:"",Ot=Ot?"&z="+Ot:"",Rt=Rt?"&t="+Rt:"";var Vt=Ee.get("mapUrl")+"?"+Ye+Ot+Rt;return Vt+="&output=embed"}},{key:"parseFromSrc",value:function(){var Ee=this.parseUri(this.get("src")).query;Ee.q&&this.set("address",Ee.q),Ee.z&&this.set("zoom",Ee.z),Ee.t&&this.set("mapType",Ee.t)}}]),de}(re);function lt(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}it.isComponent=function(fe){var me="";return(0,Y.toLowerCase)(fe.tagName)=="iframe"&&/maps\.google\.com/.test(fe.src)&&(me={type:"map",src:fe.src}),me};var St=function(fe){(0,C.Z)(de,fe);var me=lt(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"tagName",value:function(){return"img"}},{key:"events",value:function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}}},{key:"initialize",value:function(Ee){l.Z.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()}},{key:"fetchFile",value:function(){if(!this.modelOpt.temporary){var Ee=this.model,Ye=this.em,Ot=Ee.get("file");if(Ot&&Ye){var Rt=Ye.get("AssetManager").FileUploader();Rt==null||Rt.uploadFile({dataTransfer:{files:[Ot]}},function(Vt){var Ft=Vt&&Vt.data&&Vt.data[0],Zt=Ft&&((0,k.isString)(Ft)?Ft:Ft.src);Zt&&Ee.set({src:Zt})}),Ee.set("file","")}}}},{key:"updateSrc",value:function(){var Ee=this.model,Ye=this.classEmpty,Ot=this.$el,Rt=Ee.getSrcResult(),Vt=Rt&&!Ee.isDefaultSrc();Ee.addAttributes({src:Rt}),Ot[Vt?"removeClass":"addClass"](Ye)}},{key:"onActive",value:function(Ee){Ee&&Ee.stopPropagation();var Ye=this.em,Ot=this.model,Rt=Ye&&Ye.get("AssetManager");Rt&&Ot.get("editable")&&Rt.open({select:function(Vt,Ft){Ot.set({src:Vt.getSrc()}),Ft&&Rt.close()},target:Ot,types:["image"],accept:"image/*"})}},{key:"onError",value:function(){var Ee=this.model.getSrcResult({fallback:1});Ee&&(this.el.src=Ee)}},{key:"onLoad",value:function(){this.em.trigger("change:canvasOffset")}},{key:"noDrag",value:function(Ee){return Ee.preventDefault(),!1}},{key:"render",value:function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var Ee=this.$el,Ye=this.model,Ot=Ee.attr("class")||"";return!Ye.get("src")&&Ee.attr("class","".concat(Ot," ").concat(this.classEmpty).trim()),this.postRender(),this}}]),de}(l.Z);function Ut(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var Xt=function(fe){(0,C.Z)(de,fe);var me=Ut(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(Ee){St.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"}},{key:"updateSrc",value:function(){this.getIframe().src=this.model.get("src")}},{key:"getIframe",value:function(){if(!this.iframe){var Ee=document.createElement("iframe");Ee.src=this.model.get("src"),Ee.frameBorder=0,Ee.style.height="100%",Ee.style.width="100%",Ee.className=this.ppfx+"no-pointer",this.iframe=Ee}return this.iframe}},{key:"render",value:function(){for(var Ee=arguments.length,Ye=new Array(Ee),Ot=0;Ot<Ee;Ot++)Ye[Ot]=arguments[Ot];return St.prototype.render.apply(this,Ye),this.updateClasses(),this.el.appendChild(this.getIframe()),this}}]),de}(St);function Dt(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function ot(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?Dt(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):Dt(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function st(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var Ve=function(fe){(0,C.Z)(de,fe);var me=st(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return ot(ot({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:"text",droppable:!1,editable:!0})}}]),de}(D.ZP);function Ge(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function dt(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?Ge(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):Ge(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function We(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var mt="link",Ke=function(fe){(0,C.Z)(de,fe);var me=We(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return dt(dt({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:mt,tagName:"a",traits:["title","href","target"]})}}]),de}(Ve);Ke.isComponent=function(fe){var me,de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,Y.toLowerCase)(fe.tagName)==="a"){var Ee=de.textTags||[];me={type:mt,editable:!1};var Ye=fe.childNodes,Ot=Ye.length;Ot||delete me.editable,(0,k.forEach)(Ye,function(Rt){var Vt=Rt.tagName;(Rt.nodeType==3&&Rt.textContent.trim()!==""||Vt&&Ee.indexOf((0,Y.toLowerCase)(Vt))>=0)&&delete me.editable})}return me};var gt=w(5861),vt=w(4687),Ct=w.n(vt);function It(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function Nt(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?It(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):It(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function sn(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var mn=l.Z.prototype,hn=function(fe){(0,C.Z)(Ye,fe);var me,de,Ee=sn(Ye);function Ye(){return(0,P.Z)(this,Ye),Ee.apply(this,arguments)}return(0,N.Z)(Ye,[{key:"events",value:function(){return{dblclick:"onActive",input:"onInput"}}},{key:"initialize",value:function(Ot){mn.initialize.apply(this,arguments),(0,k.bindAll)(this,"disableEditing","onDisable");var Rt=this.model,Vt=this.em;this.listenTo(Rt,"focus",this.onActive),this.listenTo(Rt,"change:content",this.updateContentText),this.listenTo(Rt,"sync:content",this.syncContent),this.rte=Vt&&Vt.get("RichTextEditor")}},{key:"updateContentText",value:function(Ot,Rt){var Vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!Vt.fromDisable&&this.disableEditing()}},{key:"canActivate",value:function(){var Ot,Rt=this.model,Vt=this.rteEnabled,Ft=this.em,Zt=(Ft==null?void 0:Ft.getEditing())===Rt,At=!0,Lt=!1;if((Vt||!Rt.get("editable")||Zt||(Lt=Rt.isChildOf("text")))&&(At=!1,Lt&&!Rt.get("textable"))){for(var Gt=Rt.parent();Gt&&!Gt.isInstanceOf("text");)Gt=Gt.parent();Gt&&Gt.get("editable")?Ot=Gt:At=!0}return{result:At,delegate:Ot}}},{key:"onActive",value:(de=(0,gt.Z)(Ct().mark(function Ot(Rt){var Vt,Ft,Zt,At,Lt,Gt,vn;return Ct().wrap(function(En){for(;;)switch(En.prev=En.next){case 0:if(Ft=this.rte,Zt=this.em,At=this.canActivate(),Lt=At.result,Gt=At.delegate,Lt){En.next=5;break}return Gt&&(Rt==null||(vn=Rt.stopPropagation)===null||vn===void 0||vn.call(Rt),Zt.setSelected(Gt),Gt.trigger("active",Rt)),En.abrupt("return");case 5:if(Rt==null||(Vt=Rt.stopPropagation)===null||Vt===void 0||Vt.call(Rt),this.lastContent=this.getContent(),!Ft){En.next=17;break}return En.prev=8,En.next=11,Ft.enable(this,this.activeRte,{event:Rt});case 11:this.activeRte=En.sent,En.next=17;break;case 14:En.prev=14,En.t0=En.catch(8),Zt.logError(En.t0);case 17:this.toggleEvents(1);case 18:case"end":return En.stop()}},Ot,this,[[8,14]])})),function(Ot){return de.apply(this,arguments)})},{key:"onDisable",value:function(){this.disableEditing()}},{key:"disableEditing",value:(me=(0,gt.Z)(Ct().mark(function Ot(){var Rt,Vt,Ft,Zt,At,Lt,Gt=arguments;return Ct().wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:if(Rt=Gt.length>0&&Gt[0]!==void 0?Gt[0]:{},Vt=this.model,Ft=this.rte,Zt=this.activeRte,At=this.em,Lt=Vt&&Vt.get("editable"),!Ft){vn.next=13;break}return vn.prev=4,vn.next=7,Ft.disable(this,Zt);case 7:vn.next=12;break;case 9:vn.prev=9,vn.t0=vn.catch(4),At.logError(vn.t0);case 12:Lt&&this.getContent()!==this.lastContent&&(this.syncContent(Rt),this.lastContent="");case 13:this.toggleEvents();case 14:case"end":return vn.stop()}},Ot,this,[[4,9]])})),function(){return me.apply(this,arguments)})},{key:"getContent",value:function(){var Ot=this.activeRte;return Ot&&typeof Ot.getContent=="function"?Ot.getContent():this.getChildrenContainer().innerHTML}},{key:"syncContent",value:function(){var Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Rt=this.model,Vt=this.rte,Ft=this.rteEnabled;if(Ft||Ot.force){var Zt=this.getContent(),At=Rt.components(),Lt=Nt({fromDisable:1},Ot);Rt.set("content","",Lt),Vt.customRte?(At.length&&At.reset(null,Ot),Rt.set("content",Zt,Lt)):At.resetFromString(Zt,Ot)}}},{key:"insertComponent",value:function(Ot){var Rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Vt=this.model,Ft=this.el,Zt=Ft.ownerDocument,At=Zt.getSelection();if(At!=null&&At.rangeCount){var Lt,Gt=At.getRangeAt(0),vn=Gt.startContainer,En=Gt.startOffset,Jn=(0,Y.getModel)(vn),ye=[];if(Jn&&(Lt=Jn.is)!==null&&Lt!==void 0&&Lt.call(Jn,"textnode")){var Pe=Jn.collection;Pe.forEach(function(An){if(An===Jn){var $n="textnode",er=An.get("content");ye.push({type:$n,content:er.slice(0,En)}),ye.push(Ot),ye.push({type:$n,content:er.slice(En)})}else ye.push(An)});var De=ye.filter(Boolean),un=De.indexOf(Ot);return Pe.reset(De,Rt),Pe.at(un)}}return Vt.append(Ot,Rt)}},{key:"onInput",value:function(){var Ot=this.em,Rt="component",Vt=["".concat(Rt,":update"),"".concat(Rt,":input")].join(" ");Ot&&Ot.trigger(Vt,this.model)}},{key:"disablePropagation",value:function(Ot){Ot.stopPropagation()}},{key:"toggleEvents",value:function(Ot){var Rt=this.em,Vt=this.model,Ft=this.$el,Zt={on:Y.on,off:Y.off},At=Ot?"on":"off";Rt.setEditing(Ot?this:0),this.rteEnabled=!!Ot;var Lt=[this.el.ownerDocument,document];if(Zt.off(Lt,"mousedown",this.onDisable),Zt[At](Lt,"mousedown",this.onDisable),Rt[At]("toolbar:run:before",this.onDisable),Vt&&(Vt[At]("removed",this.onDisable),Vt.trigger("rte:".concat(Ot?"enable":"disable"))),Ft&&Ft.off("mousedown",this.disablePropagation),Ft&&Ft[At]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var Gt=this.el;Gt;)Gt.draggable=!Ot,(Gt=Gt.parentNode)&&Gt.tagName=="BODY"&&(Gt=0)}}]),Ye}(l.Z);function fn(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var pn=function(fe){(0,C.Z)(de,fe);var me=fn(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"render",value:function(){for(var Ee=arguments.length,Ye=new Array(Ee),Ot=0;Ot<Ee;Ot++)Ye[Ot]=arguments[Ot];return hn.prototype.render.apply(this,Ye),this.el.addEventListener("click",this.prevDef,!0),this}}]),de}(hn);function Qt(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function rn(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?Qt(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):Qt(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function nn(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var wn="label",Bn=function(fe){(0,C.Z)(de,fe);var me=nn(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return rn(rn({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:wn,tagName:wn,traits:["id","title","for"]})}}]),de}(Ve);function Hn(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}Bn.isComponent=function(fe){return(0,Y.toLowerCase)(fe.tagName)===wn};var Zn=function(fe){(0,C.Z)(de,fe);var me=Hn(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"tagName",value:function(){return"span"}}]),de}(pn);function Fn(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function xn(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?Fn(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):Fn(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function Nn(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var Vn="video",Sn="yt",ln="vi",ze="ytnc",bn=function(fe){return fe&&fe!=="0"},zn=function(fe){(0,C.Z)(de,fe);var me=Nn(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return xn(xn({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:Vn,tagName:Vn,videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})}},{key:"initialize",value:function(Ee,Ye){this.em=Ye.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),re.prototype.initialize.apply(this,arguments)}},{key:"updateTraits",value:function(){var Ee,Ye=this.em,Ot="iframe";switch(this.get("provider")){case Sn:case ze:Ee=this.getYoutubeTraits();break;case ln:Ee=this.getVimeoTraits();break;default:Ot="video",Ee=this.getSourceTraits()}this.set({tagName:Ot},{silent:1}),this.set({traits:Ee}),Ye.get("ready")&&Ye.trigger("component:toggled")}},{key:"parseFromSrc",value:function(){var Ee=this.get("provider"),Ye=this.parseUri(this.get("src")),Ot=Ye.query;switch(Ee){case Sn:case ze:case ln:this.set("videoId",Ye.pathname.split("/").pop()),Ot.list&&this.set("list",Ot.list),bn(Ot.autoplay)&&this.set("autoplay",1),bn(Ot.loop)&&this.set("loop",1),parseInt(Ot.controls)===0&&this.set("controls",0),bn(Ot.color)&&this.set("color",Ot.color),Ot.rel==="0"&&this.set("rel",0),Ot.modestbranding==="1"&&this.set("modestbranding",1)}}},{key:"updateSrc",value:function(){var Ee="";switch(this.get("provider")){case Sn:Ee=this.getYoutubeSrc();break;case ze:Ee=this.getYoutubeNoCookieSrc();break;case ln:Ee=this.getVimeoSrc()}this.set({src:Ee})}},{key:"getAttrToHTML",value:function(){for(var Ee=arguments.length,Ye=new Array(Ee),Ot=0;Ot<Ee;Ot++)Ye[Ot]=arguments[Ot];var Rt=re.prototype.getAttrToHTML.apply(this,Ye),Vt=this.get("provider");switch(Vt){case Sn:case ze:case ln:break;default:this.get("loop")&&(Rt.loop="loop"),this.get("autoplay")&&(Rt.autoplay="autoplay"),this.get("controls")&&(Rt.controls="controls")}return Rt}},{key:"getProviderTrait",value:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:Sn,name:"Youtube"},{value:ze,name:"Youtube (no cookie)"},{value:ln,name:"Vimeo"}]}}},{key:"getSourceTraits",value:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]}},{key:"getYoutubeTraits",value:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]}},{key:"getVimeoTraits",value:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]}},{key:"getAutoplayTrait",value:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}}},{key:"getLoopTrait",value:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}}},{key:"getControlsTrait",value:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}}},{key:"getYoutubeSrc",value:function(){var Ee=this.get("videoId"),Ye=this.get("ytUrl"),Ot=this.get("list");return Ye+=Ee+(Ee.indexOf("?")<0?"?":""),Ye+=Ot?"&list=".concat(Ot):"",Ye+=this.get("autoplay")?"&autoplay=1":"",Ye+=this.get("controls")?"":"&controls=0&showinfo=0",Ye+=this.get("loop")?"&loop=1&playlist=".concat(Ee):"",Ye+=this.get("rel")?"":"&rel=0",Ye+=this.get("modestbranding")?"&modestbranding=1":""}},{key:"getYoutubeNoCookieSrc",value:function(){var Ee=this.getYoutubeSrc();return Ee=Ee.replace(this.get("ytUrl"),this.get("ytncUrl"))}},{key:"getVimeoSrc",value:function(){var Ee=this.get("viUrl");return Ee+=this.get("videoId")+"?",Ee+=this.get("autoplay")?"&autoplay=1":"",Ee+=this.get("loop")?"&loop=1":"",Ee+=this.get("controls")?"":"&title=0&portrait=0&badge=0",Ee+=this.get("color")?"&color="+this.get("color"):""}}]),de}(re);function In(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}zn.isComponent=function(fe){var me="",de=fe.tagName,Ee=fe.src,Ye=/youtube\.com\/embed/.test(Ee),Ot=/youtube-nocookie\.com\/embed/.test(Ee),Rt=/player\.vimeo\.com\/video/.test(Ee),Vt=Ye||Ot||Rt;return((0,Y.toLowerCase)(de)==Vn||(0,Y.toLowerCase)(de)=="iframe"&&Vt)&&(me={type:"video"},Ee&&(me.src=Ee),Vt&&(Ye?me.provider=Sn:Ot?me.provider=ze:Rt&&(me.provider=ln))),me};var Mn=function(fe){(0,C.Z)(de,fe);var me=In(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(Ee){l.Z.prototype.initialize.apply(this,arguments);var Ye=this.model,Ot=["loop","autoplay","controls","color","rel","modestbranding","poster"],Rt=Ot.map(function(Vt){return"change:".concat(Vt)}).join(" ");this.listenTo(Ye,"change:provider",this.updateProvider),this.listenTo(Ye,"change:src",this.updateSrc),this.listenTo(Ye,Rt,this.updateVideo)}},{key:"updateProvider",value:function(){var Ee=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(Ee))}},{key:"updateSrc",value:function(){var Ee=this.model,Ye=this.videoEl;if(Ye){var Ot=Ee.get("provider"),Rt=Ee.get("src");switch(Ot){case"yt":Rt=Ee.getYoutubeSrc();break;case"ytnc":Rt=Ee.getYoutubeNoCookieSrc();break;case"vi":Rt=Ee.getVimeoSrc()}Ye.src=Rt}}},{key:"updateVideo",value:function(){var Ee=this.model.get("provider"),Ye=this.videoEl,Ot=this.model;switch(Ee){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:Ye.loop=Ot.get("loop"),Ye.autoplay=Ot.get("autoplay"),Ye.controls=Ot.get("controls"),Ye.poster=Ot.get("poster")}}},{key:"renderByProvider",value:function(Ee){var Ye;switch(Ee){case"yt":Ye=this.renderYoutube();break;case"ytnc":Ye=this.renderYoutubeNoCookie();break;case"vi":Ye=this.renderVimeo();break;default:Ye=this.renderSource()}return this.videoEl=Ye,Ye}},{key:"renderSource",value:function(){var Ee=document.createElement("video");return Ee.src=this.model.get("src"),this.initVideoEl(Ee),Ee}},{key:"renderYoutube",value:function(){var Ee=document.createElement("iframe");return Ee.src=this.model.getYoutubeSrc(),Ee.frameBorder=0,Ee.setAttribute("allowfullscreen",!0),this.initVideoEl(Ee),Ee}},{key:"renderYoutubeNoCookie",value:function(){var Ee=document.createElement("iframe");return Ee.src=this.model.getYoutubeNoCookieSrc(),Ee.frameBorder=0,Ee.setAttribute("allowfullscreen",!0),this.initVideoEl(Ee),Ee}},{key:"renderVimeo",value:function(){var Ee=document.createElement("iframe");return Ee.src=this.model.getVimeoSrc(),Ee.frameBorder=0,Ee.setAttribute("allowfullscreen",!0),this.initVideoEl(Ee),Ee}},{key:"initVideoEl",value:function(Ee){Ee.className=this.ppfx+"no-pointer",Ee.style.height="100%",Ee.style.width="100%"}},{key:"render",value:function(){for(var Ee=arguments.length,Ye=new Array(Ee),Ot=0;Ot<Ee;Ot++)Ye[Ot]=arguments[Ot];St.prototype.render.apply(this,Ye),this.updateClasses();var Rt=this.model.get("provider");return this.el.appendChild(this.renderByProvider(Rt)),this.updateVideo(),this}}]),de}(St);function cn(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function Tn(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?cn(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):cn(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function gn(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var jn="script",On=function(fe){(0,C.Z)(de,fe);var me=gn(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return Tn(Tn({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:jn,tagName:jn,droppable:!1,draggable:!1,layerable:!1})}}]),de}(D.ZP);function yn(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}On.isComponent=function(fe){if((0,Y.toLowerCase)(fe.tagName)==jn){var me={type:jn};return fe.src&&(me.src=fe.src,me.onload=fe.onload),me}};var Rn=function(fe){(0,C.Z)(de,fe);var me=yn(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"tagName",value:function(){return"script"}},{key:"events",value:function(){return{}}},{key:"render",value:function(){var Ee=this.model,Ye=this.em,Ot=Ee.get("src"),Rt=Ye&&Ye.get("scriptCount"),Vt=Rt||0,Ft="";if(Ot){var Zt=Ee.get("onload"),At="script".concat(Vt),Lt="script".concat(Vt+1),Gt="".concat(At,"Start"),vn="".concat(Lt,"Start");Ft=`
        var `.concat(At,` = document.createElement('script');
        `).concat(At,`.onload = function() {
          `).concat(Zt?"".concat(Zt,`();
`):"",`
          typeof `).concat(vn," == 'function' && ").concat(vn,`();
        };
        `).concat(At,".src = '").concat(Ot,`';
        function `).concat(Gt,"() { document.body.appendChild(").concat(At,`); };
        `).concat(Vt?"":"".concat(Gt,"();"),`
      `),Ye&&Ye.set("scriptCount",Vt+1)}else Ft=Ee.__innerHTML();return this.el.innerHTML=Ft,this.postRender(),this}}]),de}(St);function Dn(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function en(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?Dn(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):Dn(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function Qe(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var at="svg",Be=function(fe){(0,C.Z)(de,fe);var me=Qe(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return en(en({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:at,tagName:at,highlightable:0,resizable:{ratioDefault:1}})}},{key:"getName",value:function(){var Ee=this.get("tagName"),Ye=this.get("custom-name");return Ee=Ee.charAt(0).toUpperCase()+Ee.slice(1),Ye||Ee}}]),de}(D.ZP);function ut(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function xt(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?ut(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):ut(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function Kt(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}Be.isComponent=function(fe){return(0,Y.toLowerCase)(fe.tagName)===at};var Ht=function(fe){(0,C.Z)(de,fe);var me=Kt(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return xt(xt({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{selectable:!1,hoverable:!1,layerable:!1})}}]),de}(Be);function kn(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}Ht.isComponent=function(fe){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!!me.inSvg};var an=function(fe){(0,C.Z)(de,fe);var me=kn(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"_createElement",value:function(Ee){return document.createElementNS("http://www.w3.org/2000/svg",Ee)}}]),de}(l.Z);function Qn(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function Gn(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?Qn(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):Qn(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function gr(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var or=function(fe){(0,C.Z)(de,fe);var me=gr(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return Gn(Gn({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})}},{key:"toHTML",value:function(){var Ee=this.parent(),Ye=this.get("content");return Ee&&Ee.is("script")?Ye:(0,Y.escape)(Ye)}}]),de}(D.ZP);function pr(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function mr(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}or.isComponent=function(fe){var me="";return fe.nodeType===3&&(me={type:"textnode",content:fe.textContent}),me};var cr=function(fe){(0,C.Z)(de,fe);var me=mr(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return function(Ee){for(var Ye=1;Ye<arguments.length;Ye++){var Ot=arguments[Ye]!=null?arguments[Ye]:{};Ye%2?pr(Object(Ot),!0).forEach(function(Rt){(0,H.Z)(Ee,Rt,Ot[Rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Ot)):pr(Object(Ot)).forEach(function(Rt){Object.defineProperty(Ee,Rt,Object.getOwnPropertyDescriptor(Ot,Rt))})}return Ee}({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this))}},{key:"toHTML",value:function(){return"<!--".concat(this.get("content"),"-->")}}]),de}(or);function Xn(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}cr.isComponent=function(fe){if(fe.nodeType==8)return{tagName:"NULL",type:"comment",content:fe.textContent}};var tr=function(fe){(0,C.Z)(de,fe);var me=Xn(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"initialize",value:function(){l.Z.prototype.initialize.apply(this,arguments)}},{key:"_setAttributes",value:function(){}},{key:"renderAttributes",value:function(){}},{key:"updateStatus",value:function(){}},{key:"updateClasses",value:function(){}},{key:"setAttribute",value:function(){}},{key:"updateAttributes",value:function(){}},{key:"initClasses",value:function(){}},{key:"initComponents",value:function(){}},{key:"delegateEvents",value:function(){}},{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var Ee=this.model,Ye=this.el;return Ee.opt.temporary||(Ye.textContent=Ee.get("content")),this}}]),de}(l.Z);function Yn(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var Kn=function(fe){(0,C.Z)(de,fe);var me=Yn(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"_createElement",value:function(){return document.createComment(this.model.get("content"))}}]),de}(tr);function ft(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function yt(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?ft(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):ft(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function Ce(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var ce=function(fe){(0,C.Z)(de,fe);var me=Ce(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",value:function(){return yt(yt({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})}},{key:"__postAdd",value:function(){var Ee=this.em&&this.em.get("UndoManager");return Ee&&!this.__hasUm&&Ee.add(this),D.ZP.prototype.__postAdd.call(this,arguments)}},{key:"__postRemove",value:function(){var Ee=this.em&&this.em.get("UndoManager");return Ee&&Ee.remove(this),D.ZP.prototype.__postRemove.call(this,arguments)}}]),de}(D.ZP);function he(fe,me){var de=Object.keys(fe);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(fe);me&&(Ee=Ee.filter(function(Ye){return Object.getOwnPropertyDescriptor(fe,Ye).enumerable})),de.push.apply(de,Ee)}return de}function ee(fe){for(var me=1;me<arguments.length;me++){var de=arguments[me]!=null?arguments[me]:{};me%2?he(Object(de),!0).forEach(function(Ee){(0,H.Z)(fe,Ee,de[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(de)):he(Object(de)).forEach(function(Ee){Object.defineProperty(fe,Ee,Object.getOwnPropertyDescriptor(de,Ee))})}return fe}function we(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}ce.isComponent=function(){return!1};var Ie="iframe",qe=function(fe){(0,C.Z)(de,fe);var me=we(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"defaults",get:function(){return ee(ee({},(0,X.Z)((0,m.Z)(de.prototype),"defaults",this)),{},{type:Ie,tagName:Ie,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})}}]),de}(D.ZP);qe.isComponent=function(fe){return(0,Y.toLowerCase)(fe.tagName)===Ie};var ht=w(9283);function bt(fe){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var de,Ee=(0,m.Z)(fe);if(me){var Ye=(0,m.Z)(this).constructor;de=Reflect.construct(Ee,arguments,Ye)}else de=Ee.apply(this,arguments);return(0,y.Z)(this,de)}}var Pt,kt=function(fe){(0,C.Z)(de,fe);var me=bt(de);function de(){return(0,P.Z)(this,de),me.apply(this,arguments)}return(0,N.Z)(de,[{key:"tagName",value:function(){return"div"}},{key:"initialize",value:function(){for(var Ee=arguments.length,Ye=new Array(Ee),Ot=0;Ot<Ee;Ot++)Ye[Ot]=arguments[Ot];l.Z.prototype.initialize.apply(this,Ye),this.listenTo(this.model,"change:attributes:src",this.updateSrc)}},{key:"updateSrc",value:function(){var Ee=(0,ht.sE)(this.el,"iframe")[0];Ee&&(0,ht.FW)(Ee,{src:this.__getSrc()})}},{key:"render",value:function(){for(var Ee=arguments.length,Ye=new Array(Ee),Ot=0;Ot<Ee;Ot++)Ye[Ot]=arguments[Ot];l.Z.prototype.render.apply(this,Ye);var Rt=(0,ht.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(Rt),this}},{key:"__getSrc",value:function(){return this.model.getAttributes().src||""}}]),de}(l.Z),Mt=w(6434),$t=(Pt=function(fe,me){return Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(de,Ee){de.__proto__=Ee}||function(de,Ee){for(var Ye in Ee)Object.prototype.hasOwnProperty.call(Ee,Ye)&&(de[Ye]=Ee[Ye])},Pt(fe,me)},function(fe,me){if(typeof me!="function"&&me!==null)throw new TypeError("Class extends value "+String(me)+" is not a constructor or null");function de(){this.constructor=fe}Pt(fe,me),fe.prototype=me===null?Object.create(me):(de.prototype=me.prototype,new de)}),Yt=function(){return Yt=Object.assign||function(fe){for(var me,de=1,Ee=arguments.length;de<Ee;de++)for(var Ye in me=arguments[de])Object.prototype.hasOwnProperty.call(me,Ye)&&(fe[Ye]=me[Ye]);return fe},Yt.apply(this,arguments)},dn=function(fe,me){var de={};for(var Ee in fe)Object.prototype.hasOwnProperty.call(fe,Ee)&&me.indexOf(Ee)<0&&(de[Ee]=fe[Ee]);if(fe!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ye=0;for(Ee=Object.getOwnPropertySymbols(fe);Ye<Ee.length;Ye++)me.indexOf(Ee[Ye])<0&&Object.prototype.propertyIsEnumerable.call(fe,Ee[Ye])&&(de[Ee[Ye]]=fe[Ee[Ye]])}return de},Xe=function(fe){function me(de){var Ee=fe.call(this,de,"DomComponents",new q.Z(void 0,{em:de}))||this;for(var Ye in Ee.componentTypes=[{id:"cell",model:se,view:Z},{id:"row",model:E,view:M},{id:"table",model:O,view:K},{id:"thead",model:A,view:J},{id:"tbody",model:b,view:F},{id:"tfoot",model:Ne,view:Ze},{id:"map",model:it,view:Xt},{id:"link",model:Ke,view:pn},{id:"label",model:Bn,view:Zn},{id:"video",model:zn,view:Mn},{id:"image",model:re,view:St},{id:"script",model:On,view:Rn},{id:"svg-in",model:Ht,view:an},{id:"svg",model:Be,view:an},{id:"iframe",model:qe,view:kt},{id:"comment",model:cr,view:Kn},{id:"textnode",model:or,view:tr},{id:"text",model:Ve,view:hn},{id:"wrapper",model:ce,view:S},{id:"default",model:D.ZP,view:l.Z}],Ee.componentsById={},Ee.Component=D.ZP,Ee.Components=q.Z,Ee.ComponentsView=I.Z,Ee.storageKey="components",de&&(Ee.config.components=de.config.components||Ee.config.components),$)Ye in Ee.config||(Ee.config[Ye]=$[Ye]);var Ot=Ee.config.pStylePrefix;if(Ot&&(Ee.config.stylePrefix=Ot+Ee.config.stylePrefix),de){Ee.config.modal=de.get("Modal")||"",Ee.config.am=de.get("AssetManager")||"",de.get("Parser").compTypes=Ee.componentTypes,de.on("change:componentHovered",Ee.componentHovered,Ee);var Rt=de.get("selected");de.listenTo(Rt,"add",function(Vt,Ft,Zt){return Ee.selectAdd(Rt.getComponent(Vt),Zt)}),de.listenTo(Rt,"remove",function(Vt,Ft,Zt){return Ee.selectRemove(Rt.getComponent(Vt),Zt)})}return Ee}return $t(me,fe),me.prototype.load=function(de){var Ee=this;return this.loadProjectData(de,{onResult:function(Ye){var Ot=Ee.getWrapper();if(Ot||(Ee.em.get("PageManager").add({},{select:!0}),Ot=Ee.getWrapper()),(0,k.isArray)(Ye))Ye.length&&Ot.components(Ye);else{var Rt=Ye.components,Vt=Rt===void 0?[]:Rt,Ft=dn(Ye,["components"]);Ot.set(Ft),Ot.components(Vt)}}})},me.prototype.store=function(){return{}},me.prototype.getComponent=function(){var de=this.em.get("PageManager").getSelected(),Ee=de&&de.getMainFrame();return Ee&&Ee.getComponent()},me.prototype.getWrapper=function(){return this.getComponent()},me.prototype.getComponents=function(){var de=this.getWrapper();return de&&de.get("components")},me.prototype.addComponent=function(de,Ee){return Ee===void 0&&(Ee={}),this.getComponents().add(de,Ee)},me.prototype.render=function(){var de;return(de=this.componentView)===null||de===void 0?void 0:de.render().el},me.prototype.clear=function(de){de===void 0&&(de={});var Ee=this.getComponents();return Ee==null||Ee.filter(Boolean).forEach(function(Ye){return Ye.remove(de)}),this},me.prototype.setComponents=function(de,Ee){Ee===void 0&&(Ee={}),this.clear(Ee).addComponent(de,Ee)},me.prototype.addType=function(de,Ee){var Ye=this.em,Ot=Ee.model,Rt=Ot===void 0?{}:Ot,Vt=Ee.view,Ft=Vt===void 0?{}:Vt,Zt=Ee.isComponent,At=Ee.extend,Lt=Ee.extendView,Gt=Ee.extendFn,vn=Gt===void 0?[]:Gt,En=Ee.extendFnView,Jn=En===void 0?[]:En,ye=this.getType(de),Pe=this.getType(At),De=this.getType(Lt),un=Pe||ye||this.getType("default"),An=un.model,$n=De?De.view:un.view,er=function(_i,Ai,Ri){return _i.reduce(function(li,Ti){var ni=Ai[Ti],Ur=Ri.prototype[Ti];return ni&&Ur&&(li[Ti]=function(){for(var Hr=[],Xr=0;Xr<arguments.length;Xr++)Hr[Xr]=arguments[Xr];Ur.bind(this).apply(void 0,Hr),ni.bind(this).apply(void 0,Hr)}),li},{})};if(typeof Rt=="object"){var Br=(0,k.result)(Rt,"defaults");delete Rt.defaults,Ee.model=An.extend(Yt(Yt({},Rt),er(vn,Rt,An)),{isComponent:!ye||Pe||Zt?Zt||function(){return 0}:An.isComponent}),Object.defineProperty(Ee.model.prototype,"defaults",{value:Yt(Yt({},(0,k.result)(An.prototype,"defaults")||{}),Br||{})})}typeof Ft=="object"&&(Ee.view=$n.extend(Yt(Yt({},Ft),er(Jn,Ft,$n)))),ye?(ye.model=Ee.model,ye.view=Ee.view):(Ee.id=de,this.componentTypes.unshift(Ee));var Nr="component:type:".concat(ye?"update":"add");return Ye==null||Ye.trigger(Nr,ye||Ee),this},me.prototype.getType=function(de){for(var Ee=this.componentTypes,Ye=0;Ye<Ee.length;Ye++)if(Ee[Ye].id==de)return Ee[Ye]},me.prototype.removeType=function(de){var Ee=this.componentTypes,Ye=this.getType(de);if(Ye){var Ot=Ee.indexOf(Ye);return Ee.splice(Ot,1),Ye}},me.prototype.getTypes=function(){return this.componentTypes},me.prototype.selectAdd=function(de,Ee){var Ye=this;Ee===void 0&&(Ee={}),de&&(de.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(Ot){return Ye.em.trigger(Ot,de,Ee)}))},me.prototype.selectRemove=function(de,Ee){var Ye=this;Ee===void 0&&(Ee={}),de&&(this.em,de.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(Ot){return Ye.em.trigger(Ot,de,Ee)}))},me.prototype.componentHovered=function(){var de=this.em,Ee=de.get("componentHovered"),Ye=de.previous("componentHovered"),Ot="hovered";Ye&&Ye.get("status")==Ot&&Ye.set({status:"",state:""}),Ee&&(0,k.isEmpty)(Ee.get("status"))&&Ee.set("status",Ot)},me.prototype.getShallowWrapper=function(){var de=this.shallow,Ee=this.em;if(!de&&Ee){var Ye=Ee.shallow;if(!Ye)return;var Ot=Ye.get("DomComponents");if(Ot.componentTypes=this.componentTypes,de=Ot.getWrapper()){var Rt=[D.GN,D.xH].join(" ");de.on(Rt,(0,k.debounce)(function(){return de==null?void 0:de.components("")},100))}this.shallow=de}return de},me.prototype.canMove=function(de,Ee,Ye){var Ot=Ye||Ye===0?Ye:null,Rt={result:!1,reason:0,target:de,source:null};if(!Ee||!de)return Rt;var Vt=Ee.toHTML?Ee:null;if(!Vt){var Ft=this.getShallowWrapper();Vt=Ft==null?void 0:Ft.append(Ee)[0]}if(Rt.source=Vt,!Vt)return Rt;var Zt=Vt.get("draggable");if((0,k.isFunction)(Zt))Zt=!!Zt(Vt,de,Ot);else{var At=de.getEl();Zt=(0,k.isArray)(Zt)?Zt.join(","):Zt,Zt=(0,k.isString)(Zt)?At==null?void 0:At.matches(Zt):Zt}if(!Zt)return Yt(Yt({},Rt),{reason:1});var Lt=de.get("droppable");(0,k.isFunction)(Lt)?Lt=!!Lt(Vt,de,Ot):Lt===!1&&de.isInstanceOf("text")&&Vt.get("textable")?Lt=!0:(At=Vt.getEl(),Lt=(0,k.isArray)(Lt)?Lt.join(","):Lt,Lt=(0,k.isString)(Lt)?At==null?void 0:At.matches(Lt):Lt);var Gt=[de].concat(de.parents()).indexOf(Vt)>-1;return Yt(Yt({},Rt),!Lt||Gt?{reason:2}:{result:!0})},me.prototype.allById=function(){return this.componentsById},me.prototype.getById=function(de){return this.componentsById[de]||null},me.prototype.destroy=function(){var de,Ee=this.allById();Object.keys(Ee).forEach(function(Ye){return Ee[Ye]&&Ee[Ye].remove()}),(de=this.componentView)===null||de===void 0||de.remove(),[this.em,this.componentsById,this.componentView].forEach(function(Ye){return{}})},me}(Mt.O);const tt=Xe},8588:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>X});var k=w(9050),$=w(6434),D=w(9283);const q={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};var l,P=w(7904),N=(l=function(Y,x){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,oe){W.__proto__=oe}||function(W,oe){for(var se in oe)Object.prototype.hasOwnProperty.call(oe,se)&&(W[se]=oe[se])},l(Y,x)},function(Y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function W(){this.constructor=Y}l(Y,x),Y.prototype=x===null?Object.create(x):(W.prototype=x.prototype,new W)});const C=function(Y){function x(){return Y!==null&&Y.apply(this,arguments)||this}return N(x,Y),x.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},x.prototype.open=function(){this.set("open",!0)},x.prototype.close=function(){this.set("open",!1)},x}(P.Z);var y=w(3059),m=function(){var Y=function(x,W){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,se){oe.__proto__=se}||function(oe,se){for(var Z in se)Object.prototype.hasOwnProperty.call(se,Z)&&(oe[Z]=se[Z])},Y(x,W)};return function(x,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function oe(){this.constructor=x}Y(x,W),x.prototype=W===null?Object.create(W):(oe.prototype=W.prototype,new oe)}}(),g=function(){return g=Object.assign||function(Y){for(var x,W=1,oe=arguments.length;W<oe;W++)for(var se in x=arguments[W])Object.prototype.hasOwnProperty.call(x,se)&&(Y[se]=x[se]);return Y},g.apply(this,arguments)};const S=function(Y){function x(W){var oe=Y.call(this,W)||this,se=oe.model;return oe.listenTo(se,"change:open",oe.updateOpen),oe.listenTo(se,"change:title",oe.updateTitle),oe.listenTo(se,"change:content",oe.updateContent),oe}return m(x,Y),x.prototype.template=function(W){var oe=W.pfx,se=W.ppfx,Z=W.content,B=W.title;return'<div class="'.concat(oe,"dialog ").concat(se,"one-bg ").concat(se,`two-color">
      <div class="`).concat(oe,`header">
        <div class="`).concat(oe,'title">').concat(B,`</div>
        <div class="`).concat(oe,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(oe,`content">
        <div id="`).concat(oe,'c">').concat(Z,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(oe,'collector" style="display: none"></div>')},x.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},x.prototype.onClick=function(W){this.config.backdrop&&W.target===this.el&&this.hide()},x.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},x.prototype.getContent=function(){var W=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(W,"content #").concat(W,"c"))),this.$content},x.prototype.getTitle=function(W){return W===void 0&&(W={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),W.$?this.$title:this.$title.get(0)},x.prototype.updateContent=function(){var W=this.getContent(),oe=W.children(),se=this.getCollector(),Z=this.model.get("content");oe.length&&se.append(oe),W.empty().append(Z)},x.prototype.updateTitle=function(){var W=this.getTitle({$:!0});W&&W.empty().append(this.model.get("title"))},x.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},x.prototype.hide=function(){this.model.close()},x.prototype.show=function(){this.model.open()},x.prototype.updateAttr=function(W){var oe=this,se=oe.pfx,Z=oe.$el,B=oe.el,T=[].slice.call(B.attributes).map(function(j){return j.name});Z.removeAttr(T.join(" ")),Z.attr(g(g({},W||{}),{class:"".concat(se,"container ").concat(W&&W.class||"").trim()}))},x.prototype.render=function(){var W=this.$el,oe=this.model.toJSON();return oe.pfx=this.pfx,oe.ppfx=this.ppfx,W.html(this.template(oe)),this.updateAttr(),this.updateOpen(),this},x}(y.Z);var I=function(){var Y=function(x,W){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(oe,se){oe.__proto__=se}||function(oe,se){for(var Z in se)Object.prototype.hasOwnProperty.call(se,Z)&&(oe[Z]=se[Z])},Y(x,W)};return function(x,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function oe(){this.constructor=x}Y(x,W),x.prototype=W===null?Object.create(W):(oe.prototype=W.prototype,new oe)}}(),H=function(Y){function x(W){var oe=Y.call(this,W,"Modal",q)||this;return oe.model=new C(oe),oe.model.on("change:open",function(se,Z){W.trigger("modal:".concat(Z?"open":"close"))}),oe.model.on("change",(0,k.debounce)(function(){var se=oe._evData(),Z=oe.config.custom;(0,k.isFunction)(Z)&&Z(se),W.trigger("modal",se)},0)),oe}return I(x,Y),x.prototype._evData=function(){var W=this,oe=this.getTitle(),se=this.getContent(),Z=this.model.attributes;return{open:Z.open,attributes:Z.attributes,title:(0,k.isString)(oe)?(0,D.rw)(oe):oe,content:(0,k.isString)(se)?(0,D.rw)(se):se.get?se.get(0):se,close:function(){return W.close()}}},x.prototype.postRender=function(W){var oe=W.model.config.el||W.el,se=this.render();se&&(oe==null||oe.appendChild(se))},x.prototype.open=function(W){W===void 0&&(W={});var oe=W.attributes||{};return W.title&&this.setTitle(W.title),W.content&&this.setContent(W.content),this.model.set("attributes",oe),this.model.open(),this.modal&&this.modal.updateAttr(oe),this},x.prototype.close=function(){return this.model.close(),this},x.prototype.onceClose=function(W){return this.em.once("modal:close",W),this},x.prototype.onceOpen=function(W){return this.em.once("modal:open",W),this},x.prototype.isOpen=function(){return!!this.model.get("open")},x.prototype.setTitle=function(W){return this.model.set("title",W),this},x.prototype.getTitle=function(){return this.model.get("title")},x.prototype.setContent=function(W){return this.model.set("content"," "),this.model.set("content",W),this},x.prototype.getContent=function(){return this.model.get("content")},x.prototype.getContentEl=function(){var W;return(W=this.modal)===null||W===void 0?void 0:W.getContent().get(0)},x.prototype.getModel=function(){return this.model},x.prototype.render=function(){var W;if(!this.config.custom){var oe=S.extend(this.config.extend),se=this.modal&&this.modal.el;return this.modal=new oe({el:se,model:this.model,config:this.config}),(W=this.modal)===null||W===void 0?void 0:W.render().el}},x.prototype.destroy=function(){var W;(W=this.modal)===null||W===void 0||W.remove()},x}($.Z);const X=H},7892:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>c,evAll:()=>oe,evComponent:()=>B,evCustom:()=>T,evPfx:()=>se,evRoot:()=>Z});var k=w(9050),$=w(7904),D=w(6434),q=w(1163);const l={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};var P,N=w(2316),C=w(2169),y=w(9138),m=(P=function(d,s){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,O){p.__proto__=O}||function(p,O){for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&(p[K]=O[K])},P(d,s)},function(d,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=d}P(d,s),d.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}),g=function(d){function s(p){p===void 0&&(p={});var O=d.call(this,p)||this;O.items=[],O.opt=p;var K=p.config||{};O.config=K,O.parentView=p.parentView;var Q=K.stylePrefix||"",ne=K.pStylePrefix||"",R=O.collection;O.listenTo(R,"add",O.addTo),O.listenTo(R,"reset resetNavigator",O.render),O.listenTo(R,"remove",O.removeChildren),O.className="".concat(Q,"layers");var v=K.em;if(K.sortable&&!O.opt.sorter){var b=v.get("Utils");O.opt.sorter=new b.Sorter({container:K.sortContainer||O.el,containerSel:".".concat(O.className),itemSel:".".concat(Q,"layer"),ignoreViewChildren:1,onEndMove:function(a,f,h){var _=f.getSourceModel();v.setSelected(_,{forceChange:1}),v.trigger("".concat(y.OA,":end"),h)},avoidSelectOnEnd:1,nested:1,ppfx:ne,pfx:Q})}return O.$el.data("collection",R),p.parent&&O.$el.data("model",p.parent),O}return m(s,d),s.prototype.removeChildren=function(p){var O=p.viewLayer;O&&(O.remove(),delete p.viewLayer)},s.prototype.addTo=function(p){var O=this.collection.indexOf(p);this.addToCollection(p,null,O)},s.prototype.addToCollection=function(p,O,K){var Q=this,ne=Q.parentView,R=Q.opt,v=Q.config,b=R.ItemView,a=R.opened,f=R.module,h=O||null,_=new b({ItemView:b,level:R.level,model:p,parentView:ne,config:v,sorter:R.sorter,opened:a,module:f}),A=_.render().el;if(h)h.appendChild(A);else if(K!==void 0){var J="before";this.$el.children().length==K&&(K--,J="after"),K<0?this.$el.append(A):this.$el.children().eq(K)[J](A)}else this.$el.append(A);return this.items.push(_),A},s.prototype.remove=function(){for(var p=[],O=0;O<arguments.length;O++)p[O]=arguments[O];return N.View.prototype.remove.apply(this,p),this.items.map(function(K){return K.remove()}),this},s.prototype.render=function(){var p=this,O=document.createDocumentFragment(),K=this.el;return K.innerHTML="",this.collection.each(function(Q){return p.addToCollection(Q,O)}),K.appendChild(O),K.className=this.className,this},s}(N.View);const S=g;var I=function(){var d=function(s,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,K){O.__proto__=K}||function(O,K){for(var Q in K)Object.prototype.hasOwnProperty.call(K,Q)&&(O[Q]=K[Q])},d(s,p)};return function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function O(){this.constructor=s}d(s,p),s.prototype=p===null?Object.create(p):(O.prototype=p.prototype,new O)}}(),H="contentEditable",X=function(d){function s(p){var O=d.call(this,p)||this;(0,k.bindAll)(O,"__render"),O.opt=p,O.module=p.module,O.config=p.config||{},O.sorter=p.sorter||"",O.parentView=p.parentView;var K=O,Q=K.model,ne=K.pfx,R=K.ppfx,v=Q.get("type")||"default";return O.className="".concat(ne,"layer ").concat(ne,"layer__t-").concat(v," no-select ").concat(R,"two-color"),O.inputNameCls="".concat(R,"layer-name"),O.clsTitleC="".concat(ne,"layer-title-c"),O.clsTitle="".concat(ne,"layer-title"),O.clsCaret="".concat(ne,"layer-caret"),O.clsCount="".concat(ne,"layer-count"),O.clsMove="".concat(ne,"layer-move"),O.clsChildren="".concat(ne,"layer-children"),O.clsNoChild="".concat(ne,"layer-no-chld"),O.clsEdit="".concat(O.inputNameCls,"--edit"),O.clsNoEdit="".concat(O.inputNameCls,"--no-edit"),O.initComponent(),O}return I(s,d),s.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},s.prototype.template=function(p){var O=this,K=O.pfx,Q=O.ppfx,ne=O.config,R=O.clsNoEdit,v=O.module,b=O.opt,a=O.em,f=ne.hidable,h=v.getComponents(p).length,_=h?"":this.clsNoChild,A="".concat(this.clsTitle," ").concat(_),J="".concat(this.clsTitleC," ").concat(Q,"one-bg"),te="".concat(this.inputNameCls," ").concat(R," ").concat(Q,"no-app"),F=b.level+1,G="".concat(30+10*F,"px"),V=p.getName(),le=p.getIcon(),ve="".concat(K,"layer"),Ne=(a==null?void 0:a.getConfig()).icons,Ze=Ne.move,Me=Ne.eye,je=Ne.eyeOff,ae=Ne.chevron;return`
      `.concat(f?'<i class="'.concat(K,`layer-vis" data-toggle-visible>
            <i class="`).concat(K,'layer-vis-on">').concat(Me,`</i>
            <i class="`).concat(K,'layer-vis-off">').concat(je,`</i>
          </i>`):"",`
      <div class="`).concat(J,`">
        <div class="`).concat(A,'" style="padding-left: ').concat(G,`" data-toggle-select>
          <div class="`).concat(K,'layer-title-inn" title="').concat(V,`">
            <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(ae,`</i>
            `).concat(le?'<span class="'.concat(ve,'__icon">').concat(le,"</span>"):"",`
            <span class="`).concat(te,'" data-name>').concat(V,`</span>
          </div>
        </div>
      </div>
      <div class="`).concat(this.clsCount,'" data-count>').concat(h||"",`</div>
      <div class="`).concat(this.clsMove,'" data-toggle-move>').concat(Ze||"",`</div>
      <div class="`).concat(this.clsChildren,'"></div>')},Object.defineProperty(s.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),s.prototype.initComponent=function(){var p=this,O=this.model,K=this.config.onInit,Q=O.components();this.listenTo(Q,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(ne){return p.listenTo(O,ne[0],ne[1])}),this.$el.data("model",O),this.$el.data("collection",Q),O.viewLayer=this,K.bind(this)({component:O,render:this.__render,listenTo:this.listenTo})},s.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},s.prototype.getVisibilityEl=function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},s.prototype.updateVisibility=function(){var p=this,O=p.pfx,K=p.model,Q=p.module,ne="".concat(O,"layer-hidden"),R=Q.isVisible(K)?"removeClass":"addClass";this.$el[R](ne),this.getVisibilityEl()[R]("".concat(O,"layer-off"))},s.prototype.toggleVisibility=function(p){p==null||p.stopPropagation();var O=this.module,K=this.model;O.setVisible(K,!O.isVisible(K))},s.prototype.handleEdit=function(p){p==null||p.stopPropagation();var O=this,K=O.em,Q=O.$el,ne=O.clsNoEdit,R=O.clsEdit,v=this.getInputName();v[H]="true",v.focus(),document.execCommand("selectAll",!1),K.setEditing(!0),Q.find(".".concat(this.inputNameCls)).removeClass(ne).addClass(R)},s.prototype.handleEditKey=function(p){p.stopPropagation(),((0,q.isEscKey)(p)||(0,q.isEnterKey)(p))&&this.handleEditEnd(p)},s.prototype.handleEditEnd=function(p){p==null||p.stopPropagation();var O=this,K=O.em,Q=O.$el,ne=O.clsNoEdit,R=O.clsEdit,v=this.getInputName(),b=v.textContent;v.scrollLeft=0,v[H]="false",this.setName(b,{component:this.model,propName:"custom-name"}),K.setEditing(!1),Q.find(".".concat(this.inputNameCls)).addClass(ne).removeClass(R),this.updateName()},s.prototype.setName=function(p,O){var K=O.propName;this.model.set(K,p)},s.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},s.prototype.updateOpening=function(){var p=this,O=p.$el,K=p.model,Q=p.pfx,ne="open",R="".concat(Q,"layer-open"),v=this.getCaret();this.module.isOpen(K)?(O.addClass(ne),v.addClass(R)):(O.removeClass(ne),v.removeClass(R))},s.prototype.toggleOpening=function(p){var O=this.model,K=this.module;p==null||p.stopImmediatePropagation(),O.get("components").length&&K.setOpen(O,!K.isOpen(O))},s.prototype.handleSelect=function(p){p==null||p.stopPropagation();var O=this.module,K=this.model;O.setLayerData(K,{selected:!0},{event:p})},s.prototype.handleHover=function(p){p==null||p.stopPropagation();var O=this.module,K=this.model;O.setLayerData(K,{hovered:!0})},s.prototype.handleHoverOut=function(p){p==null||p.stopPropagation();var O=this.module,K=this.model;O.setLayerData(K,{hovered:!1})},s.prototype.startSort=function(p){p.stopPropagation();var O=this.em,K=this.sorter;p.button&&p.button!==0||K&&(K.onStart=function(Q){return O.trigger("".concat(y.OA,":start"),Q)},K.onMoveClb=function(Q){return O.trigger(y.OA,Q)},K.startSort(p.target))},s.prototype.updateStatus=function(){C.Z.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:1}])},s.prototype.checkChildren=function(){var p=this,O=p.model,K=p.clsNoChild,Q=p.$el,ne=p.module,R=ne.getComponents(O).length,v=Q.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),b=this.cnt;b||(b=Q.children("[data-count]").get(0),this.cnt=b),v[R?"removeClass":"addClass"](K),b&&(b.innerHTML=R||""),!R&&ne.setOpen(O,!1)},s.prototype.getCaret=function(){return this.caret&&this.caret.length||(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},s.prototype.setRoot=function(p){p=(0,k.isString)(p)?this.em.getWrapper().find(p)[0]:p;var O=(0,q.getModel)(p,0);O&&(this.stopListening(),this.model=O,this.initComponent(),this._rendered&&this.render())},s.prototype.updateLayerable=function(){(this.parentView||this).render()},s.prototype.__clearItems=function(){var p;(p=this.items)===null||p===void 0||p.remove()},s.prototype.remove=function(){for(var p=[],O=0;O<arguments.length;O++)p[O]=arguments[O];return N.View.prototype.remove.apply(this,p),this.__clearItems(),this},s.prototype.render=function(){var p=this,O=p.model,K=p.config,Q=p.pfx,ne=p.ppfx,R=p.opt,v=p.sorter;this.__clearItems();var b=R.opened,a=R.module,f=R.ItemView,h=!a.__isLayerable(O),_=this.$el.empty(),A=R.level+1;delete this.inputName,this.items=new S({ItemView:f,collection:O.get("components"),config:K,sorter:v,opened:b,parentView:this,parent:O,level:A,module:a});var J=this.items.render().$el;return K.showWrapper||A!==1?(_.html(this.template(O)),_.find(".".concat(this.clsChildren)).append(J)):_.append(J),O.get("draggable")&&K.sortable||_.children(".".concat(this.clsMove)).remove(),!a.isVisible(O)&&(this.className+=" ".concat(Q,"hide")),h&&(this.className+=" ".concat(ne,"hidden")),_.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},s.prototype.__render=function(){var p=this,O=p.model,K=p.config,Q={component:O,el:p.el};K.onRender.bind(this)(Q),this.em.trigger("layer:render",Q)},s}(N.View);const Y=X;var x=function(){var d=function(s,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,K){O.__proto__=K}||function(O,K){for(var Q in K)Object.prototype.hasOwnProperty.call(K,Q)&&(O[Q]=K[Q])},d(s,p)};return function(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function O(){this.constructor=s}d(s,p),s.prototype=p===null?Object.create(p):(O.prototype=p.prototype,new O)}}(),W=function(){return W=Object.assign||function(d){for(var s,p=1,O=arguments.length;p<O;p++)for(var K in s=arguments[p])Object.prototype.hasOwnProperty.call(s,K)&&(d[K]=s[K]);return d},W.apply(this,arguments)},oe="layer",se="".concat(oe,":"),Z="".concat(se,"root"),B="".concat(se,"component"),T="".concat(se,"custom"),j={all:oe,root:Z,component:B,custom:T},U={mediaText:""},E=["open","status","locked","custom-name","components","classes"].map(function(d){return"component:update:".concat(d)}).join(" "),M=function(d){function s(p){var O=d.call(this,p,"LayerManager",l)||this;return O.events=j,(0,k.bindAll)(O,"componentChanged","__onRootChange","__onComponent"),O.model=new $.Z(O,{opened:{}}),O.config.stylePrefix=O.config.pStylePrefix,O}return x(s,d),s.prototype.onLoad=function(){var p=this,O=this,K=O.em,Q=O.config,ne=O.model;ne.listenTo(K,"component:selected",this.componentChanged),ne.on("change:root",this.__onRootChange),ne.listenTo(K,E,this.__onComponent),this.componentChanged(),ne.listenToOnce(K,"load",function(){p.setRoot(Q.root),p.__appendTo()})},s.prototype.setRoot=function(p){var O=this.em.getWrapper(),K=(0,q.isComponent)(p)?p:O;return p&&(0,k.isString)(p)&&(0,q.hasWin)()&&(K=O.find(p)[0]||O),this.model.set("root",K),K},s.prototype.getRoot=function(){return this.model.get("root")},s.prototype.getComponents=function(p){var O=this;return p.components().filter(function(K){return O.__isLayerable(K)})},s.prototype.setOpen=function(p,O){p.set("open",O)},s.prototype.isOpen=function(p){return!!p.get("open")},s.prototype.setVisible=function(p,O){var K="__prev-display",Q=p.getStyle(U),ne=Q.display;if(O){var R=p.get(K);delete Q.display,R&&(Q.display=R,p.unset(K))}else ne&&p.set(K,ne),Q.display="none";p.setStyle(Q,U),this.updateLayer(p),this.em.trigger("component:toggled")},s.prototype.isVisible=function(p){return(O=p.getStyle(U))===void 0&&(O={}),(O.display||"").trim().indexOf("none")!==0;var O},s.prototype.setLocked=function(p,O){p.set("locked",O)},s.prototype.isLocked=function(p){return p.get("locked")},s.prototype.setName=function(p,O){p.set("custom-name",O)},s.prototype.getName=function(p){return p.getName()},s.prototype.getLayerData=function(p){var O=p.get("status");return{name:p.getName(),open:this.isOpen(p),selected:O==="selected",hovered:O==="hovered",visible:this.isVisible(p),locked:this.isLocked(p),components:this.getComponents(p)}},s.prototype.setLayerData=function(p,O,K){var Q;K===void 0&&(K={});var ne=this.em,R=this.config,v=O.open,b=O.selected,a=O.hovered,f=O.visible,h=O.locked,_=O.name,A=W({fromLayers:!0},K);if((0,q.isDef)(v)&&this.setOpen(p,v),(0,q.isDef)(b))if(b){ne.setSelected(p,A);var J=R.scrollCanvas;J&&((Q=p.views)===null||Q===void 0||Q.forEach(function(te){return te.scrollIntoView(J)}))}else ne.removeSelected(p,A);(0,q.isDef)(a)&&R.showHover&&(a?ne.setHovered(p,A):ne.setHovered(null,A)),(0,q.isDef)(f)&&f!==this.isVisible(p)&&this.setVisible(p,f),(0,q.isDef)(h)&&this.setLocked(p,h),(0,q.isDef)(_)&&this.setName(p,_)},s.prototype.componentChanged=function(p,O){var K;if(O===void 0&&(O={}),!O.fromLayers){var Q=this.em,ne=this.config.scrollLayers,R=this.model.get("opened"),v=Q.getSelected(),b=v==null?void 0:v.parent();for(var a in R)R[a].set("open",!1),delete R[a];for(;b;)b.set("open",!0),R[b.cid]=b,b=b.parent();if(v&&ne){var f=(K=v.viewLayer)===null||K===void 0?void 0:K.el;f==null||f.scrollIntoView(ne)}}},s.prototype.getAll=function(){return this.view},s.prototype.render=function(){var p,O,K=this.config,Q=this.model,ne=Y.extend(K.extend);return this.view=new ne({el:(p=this.view)===null||p===void 0?void 0:p.el,ItemView:ne,level:0,config:K,opened:Q.get("opened"),model:this.getRoot(),module:this}),(O=this.view)===null||O===void 0?void 0:O.render().el},s.prototype.destroy=function(){var p;(p=this.view)===null||p===void 0||p.remove()},s.prototype.__onRootChange=function(){var p,O=this.getRoot();(p=this.view)===null||p===void 0||p.setRoot(O),this.em.trigger(Z,O)},s.prototype.__onComponent=function(p){this.updateLayer(p)},s.prototype.__isLayerable=function(p){var O=p.get("tagName");return(!this.config.hideTextnode||!p.is("textnode")&&O!=="br")&&p.get("layerable")},s.prototype.__trgCustom=function(p){this.em.trigger(this.events.custom,{container:p.container,root:this.getRoot()})},s.prototype.updateLayer=function(p,O){this.em.trigger(B,p,O)},s}(D.Z);const c=M},7948:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>M,evAll:()=>H,evPageAdd:()=>oe,evPageAddBefore:()=>se,evPageRemove:()=>Z,evPageRemoveBefore:()=>B,evPageSelect:()=>Y,evPageSelectBefore:()=>x,evPageUpdate:()=>W,evPfx:()=>X});var k,$=w(9050),D=w(1163),q=w(7904),l=w(6434),P=w(2316),N=w(3560),C=(k=function(c,d){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,p){s.__proto__=p}||function(s,p){for(var O in p)Object.prototype.hasOwnProperty.call(p,O)&&(s[O]=p[O])},k(c,d)},function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function s(){this.constructor=c}k(c,d),c.prototype=d===null?Object.create(d):(s.prototype=d.prototype,new s)});const y=function(c){function d(s,p){p===void 0&&(p={});var O=c.call(this,s,p)||this,K=p.em,Q={};O.em=K,s.frames||(Q.component=s.component,Q.styles=s.styles,["component","styles"].map(function(b){return O.unset(b)}));var ne=s.frames||[Q],R=new N.Z(K.get("Canvas"),ne);R.page=O,O.set("frames",R),!O.getId()&&O.set("id",K==null?void 0:K.get("PageManager")._createId());var v=K==null?void 0:K.get("UndoManager");return v==null||v.add(R),O}return C(d,c),d.prototype.defaults=function(){return{frames:[],_undo:!0}},d.prototype.onRemove=function(){this.getFrames().reset()},d.prototype.getFrames=function(){return this.get("frames")},d.prototype.getId=function(){return this.id},d.prototype.getName=function(){return this.get("name")},d.prototype.setName=function(s){return this.set({name:s})},d.prototype.getAllFrames=function(){return this.getFrames().models||[]},d.prototype.getMainFrame=function(){return this.getFrames().at(0)},d.prototype.getMainComponent=function(){var s=this.getMainFrame();return s==null?void 0:s.getComponent()},d.prototype.toJSON=function(s){s===void 0&&(s={});var p=P.Model.prototype.toJSON.call(this,s),O=(0,$.result)(this,"defaults");return(0,$.forEach)(p,function(K,Q){Q.indexOf("_")===0&&delete p[Q]}),(0,$.forEach)(O,function(K,Q){p[Q]===K&&delete p[Q]}),p},d}(P.Model);var m=function(){var c=function(d,s){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,O){p.__proto__=O}||function(p,O){for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&(p[K]=O[K])},c(d,s)};return function(d,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=d}c(d,s),d.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),g=function(){return g=Object.assign||function(c){for(var d,s=1,p=arguments.length;s<p;s++)for(var O in d=arguments[s])Object.prototype.hasOwnProperty.call(d,O)&&(c[O]=d[O]);return c},g.apply(this,arguments)};const S=function(c){function d(s,p){var O=c.call(this,s)||this;return O.on("reset",O.onReset),O.on("remove",O.onRemove),O.model=function(K,Q){return Q===void 0&&(Q={}),new y(K,g(g({},Q),{em:p}))},O}return m(d,c),d.prototype.onReset=function(s,p){var O,K=this;(O=p==null?void 0:p.previousModels)===null||O===void 0||O.map(function(Q){return K.onRemove(Q)})},d.prototype.onRemove=function(s){s==null||s.onRemove()},d}(P.Collection);var I=function(){var c=function(d,s){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,O){p.__proto__=O}||function(p,O){for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&(p[K]=O[K])},c(d,s)};return function(d,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function p(){this.constructor=d}c(d,s),d.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),H="page",X="".concat(H,":"),Y="".concat(X,"select"),x="".concat(Y,":before"),W="".concat(X,"update"),oe="".concat(X,"add"),se="".concat(oe,":before"),Z="".concat(X,"remove"),B="".concat(Z,":before"),T="change:selected",j="main",U={all:H,select:Y,selectBefore:x,update:W,add:oe,addBefore:se,remove:Z,removeBefore:B},E=function(c){function d(s){var p=c.call(this,s,"PageManager",new S([],s),U)||this;p.storageKey="pages",(0,$.bindAll)(p,"_onPageChange");var O=new q.Z({_undo:!0});return p.model=O,p.pages.on("reset",function(K){return K.at(0)&&p.select(K.at(0))}),p.pages.on("all",p.__onChange,p),O.on(T,p._onPageChange),p}return I(d,c),Object.defineProperty(d.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),d.prototype.__onChange=function(s,p,O,K){var Q=K||O;this.em.trigger(H,{event:s,page:p,options:Q})},d.prototype.onLoad=function(){var s,p=this,O=this.pages,K={silent:!0};O.add(((s=this.config.pages)===null||s===void 0?void 0:s.map(function(ne){return new y(ne,{em:p.em,config:p.config})}))||[],K);var Q=O.length?this.getMain():this.add({type:j},K);Q&&this.select(Q,K)},d.prototype._onPageChange=function(s,p,O){var K=this.em,Q=K.get("LayerManager"),ne=p.getMainComponent();Q&&ne&&Q.setRoot(ne),K.trigger(Y,p,s.previous("selected")),this.__onChange(T,p,O)},d.prototype.postLoad=function(){var s=this.em,p=this.model,O=s.get("UndoManager");O&&O.add(p),O&&O.add(this.pages)},d.prototype.add=function(s,p){var O=this;p===void 0&&(p={});var K=this.em;s.id=s.id||this._createId();var Q=function(){var ne=O.pages.add(new y(s,{em:O.em,config:O.config}),p);return p.select&&O.select(ne),ne};return!p.silent&&K.trigger(se,s,Q,p),!p.abort&&Q()},d.prototype.remove=function(s,p){var O=this;p===void 0&&(p={});var K=this.em,Q=(0,$.isString)(s)?this.get(s):s,ne=function(){return Q&&O.pages.remove(Q,p),Q};return!p.silent&&K.trigger(B,Q,ne,p),!p.abort&&ne()},d.prototype.get=function(s){return this.pages.filter(function(p){return p.get(p.idAttribute)===s})[0]},d.prototype.getMain=function(){var s=this.pages;return s.filter(function(p){return p.get("type")===j})[0]||s.at(0)},d.prototype.getAllWrappers=function(){var s=this.getAll();return(0,$.unique)((0,$.flatten)(s.map(function(p){return p.getAllFrames().map(function(O){return O.getComponent()})})))},d.prototype.select=function(s,p){p===void 0&&(p={});var O=(0,$.isString)(s)?this.get(s):s;return O&&(this.em.trigger(x,O,p),this.model.set("selected",O,p)),this},d.prototype.getSelected=function(){return this.model.get("selected")},d.prototype.destroy=function(){var s=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(p){return s[p]=0})},d.prototype.store=function(){return this.getProjectData()},d.prototype.load=function(s){return this.loadProjectData(s,{all:this.pages,reset:!0})},d.prototype._createId=function(){var s,p=this.getAll().length+16,O=this.getAllMap();do s=(0,D.createId)(p);while(O[s]);return s},d}(l.O);const M=E},899:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>b});var k=w(6434),$="sw-visibility",D="export-template",q="open-sm",l="open-tm",P="open-layers",N="open-blocks",C="fullscreen",y="preview";const m={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:$,className:"fa fa-square-o",command:$,context:$,attributes:{title:"View components"}},{id:y,className:"fa fa-eye",command:y,context:y,attributes:{title:"Preview"}},{id:C,className:"fa fa-arrows-alt",command:C,context:C,attributes:{title:"Fullscreen"}},{id:D,className:"fa fa-code",command:D,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:q,className:"fa fa-paint-brush",command:q,active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:l,className:"fa fa-cog",command:l,togglable:0,attributes:{title:"Settings"}},{id:P,className:"fa fa-bars",command:P,togglable:0,attributes:{title:"Open Layer Manager"}},{id:N,className:"fa fa-th-large",command:N,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300};var g,S=w(7116),I=w(7904),H=(g=function(a,f){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,_){h.__proto__=_}||function(h,_){for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(h[A]=_[A])},g(a,f)},function(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function h(){this.constructor=a}g(a,f),a.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)});const X=function(a){function f(h,_){var A=a.call(this,h,_)||this;return A.get("buttons").length&&A.set("buttons",new W(A.module,A.get("buttons"))),A}return H(f,a),f.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(f.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"active",{get:function(){return this.get("active")},set:function(h){this.set("active",h)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),f}(I.Z);var Y=function(){var a=function(f,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var J in A)Object.prototype.hasOwnProperty.call(A,J)&&(_[J]=A[J])},a(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=f}a(f,h),f.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}(),x=function(a){function f(h,_){return a.call(this,h,_,X)||this}return Y(f,a),f.prototype.deactivateAllExceptOne=function(h,_){this.forEach(function(A,J){A!==h&&(A.set("active",!1),_&&A.get("buttons").length&&A.get("buttons").deactivateAllExceptOne(h,_))})},f.prototype.deactivateAll=function(h,_){var A=h||"";this.forEach(function(J){J.get("context")==A&&J!==_&&J.set("active",!1,{fromCollection:!0})})},f.prototype.disableAllButtons=function(h){var _=h||"";this.forEach(function(A,J){A.get("context")==_&&A.set("disable",!0)})},f.prototype.disableAllButtonsExceptOne=function(h,_){this.forEach(function(A,J){A!==h&&(A.set("disable",!0),_&&A.get("buttons").length&&A.get("buttons").disableAllButtonsExceptOne(h,_))})},f}(S.Z);const W=x;x.prototype.model=X;var oe=function(){var a=function(f,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var J in A)Object.prototype.hasOwnProperty.call(A,J)&&(_[J]=A[J])},a(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=f}a(f,h),f.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}();const se=function(a){function f(h,_){var A=a.call(this,h,_)||this,J=A.get("buttons")||[];return A.buttons=new W(h,J),A}return oe(f,a),f.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(f.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(h){this.set("buttons",h)},enumerable:!1,configurable:!0}),f}(I.Z);var Z=function(){var a=function(f,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var J in A)Object.prototype.hasOwnProperty.call(A,J)&&(_[J]=A[J])},a(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=f}a(f,h),f.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}(),B=function(a){function f(h,_){return a.call(this,h,_,se)||this}return Z(f,a),f}(S.Z);const T=B;B.prototype.model=se;var j=w(3059),U=w(9050),E=function(){var a=function(f,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var J in A)Object.prototype.hasOwnProperty.call(A,J)&&(_[J]=A[J])},a(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=f}a(f,h),f.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}(),M=function(){return M=Object.assign||function(a){for(var f,h=1,_=arguments.length;h<_;h++)for(var A in f=arguments[h])Object.prototype.hasOwnProperty.call(f,A)&&(a[A]=f[A]);return a},M.apply(this,arguments)};const c=function(a){function f(h){var _=a.call(this,h)||this,A=_,J=A.model,te=A.em,F=A.pfx,G=A.ppfx,V=J.className,le=J.attributes,ve=le.command,Ne=le.listen;if(_.id=F+J.get("id"),_.activeCls="".concat(F,"active ").concat(G,"four-color"),_.disableCls="".concat(G,"disabled"),_.btnsVisCls="".concat(F,"visible"),_.className=F+"btn"+(V?" "+V:""),_.listenTo(J,"change",_.render),_.listenTo(J,"change:active updateActive",_.updateActive),_.listenTo(J,"checkActive",_.checkActive),_.listenTo(J,"change:bntsVis",_.updateBtnsVis),_.listenTo(J,"change:attributes",_.updateAttributes),_.listenTo(J,"change:className",_.updateClassName),_.listenTo(J,"change:disable",_.updateDisable),te&&(0,U.isString)(ve)&&Ne){var Ze={fromListen:!0};_.listenTo(te,"run:".concat(ve),function(){return J.set("active",!0,Ze)}),_.listenTo(te,"stop:".concat(ve),function(){return J.set("active",!1,Ze)})}return te&&te.get&&(_.commands=te.get("Commands")),_}return E(f,a),f.prototype.tagName=function(){return this.model.get("tagName")},f.prototype.events=function(){return{click:"clicked"}},f.prototype.updateClassName=function(){var h=this.model,_=this.pfx,A=h.className,J=h.get("attributes").class,te="".concat(J||""," ").concat(_,"btn ").concat(A||"");this.$el.attr("class",te.trim())},f.prototype.updateAttributes=function(){var h=this,_=h.em,A=h.model,J=h.$el,te=A.get("attributes")||{},F=_&&_.t&&_.t("panels.buttons.titles.".concat(A.id));J.attr(te),F&&J.attr({title:F}),this.updateClassName()},f.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},f.prototype.updateActive=function(h,_,A){var J;A===void 0&&(A={});var te=this,F=te.model,G=te.commands,V=te.$el,le=te.activeCls,ve=A.fromCollection,Ne=A.fromListen,Ze=F.get("context"),Me=F.get("options"),je=F.command,ae={};je&&(G&&(0,U.isString)(je)?ae=G.get(je)||{}:(0,U.isFunction)(je)?ae=G.create({run:je}):je!==null&&(0,U.isObject)(je)&&(ae=G.create(je)),F.active?(!ve&&((J=F.collection)===null||J===void 0||J.deactivateAll(Ze,F)),F.set("active",!0,{silent:!0}).trigger("checkActive"),!Ne&&G.runCommand(ae,M(M({},Me),{sender:F})),ae.noStop&&F.set("active",!1)):(V.removeClass(le),!Ne&&G.stopCommand(ae,M(M({},Me),{sender:F,force:1}))))},f.prototype.updateDisable=function(){var h=this.disableCls,_=this.model.disable;this.$el[_?"addClass":"removeClass"](h)},f.prototype.checkActive=function(){var h=this,_=h.model,A=h.$el,J=h.activeCls;_.active?A.addClass(J):A.removeClass(J)},f.prototype.clicked=function(h){var _=this.model;_.get("bntsVis")||_.disable||!_.command||this.toggleActive()},f.prototype.toggleActive=function(){var h=this.model,_=this.em,A=h.active,J=h.togglable;A&&!J||(h.active=!A,A?h.runDefaultCommand&&_.runDefault():h.stopDefaultCommand&&_.stopDefault())},f.prototype.render=function(){var h=this.model,_=h.get("label"),A=this.$el;return!h.get("el")&&A.empty(),this.updateAttributes(),_&&A.append(_),this.checkActive(),this.updateDisable(),this},f}(j.Z);var d=function(){var a=function(f,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var J in A)Object.prototype.hasOwnProperty.call(A,J)&&(_[J]=A[J])},a(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=f}a(f,h),f.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}();const s=function(a){function f(h){var _=a.call(this,{collection:h})||this;return _.listenTo(_.collection,"add",_.addTo),_.listenTo(_.collection,"reset remove",_.render),_.className=_.pfx+"buttons",_}return d(f,a),f.prototype.addTo=function(h){this.addToCollection(h)},f.prototype.addToCollection=function(h,_){var A=_||null,J=h.get("el"),te=new c({el:J,model:h}).render().el;return A?A.appendChild(te):this.$el.append(te),te},f.prototype.render=function(){var h=this,_=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(A){return h.addToCollection(A,_)}),this.$el.append(_),this.$el.attr("class",(0,U.result)(this,"className")),this},f}(j.Z);var p=function(){var a=function(f,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var J in A)Object.prototype.hasOwnProperty.call(A,J)&&(_[J]=A[J])},a(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=f}a(f,h),f.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}(),O=function(){return O=Object.assign||function(a){for(var f,h=1,_=arguments.length;h<_;h++)for(var A in f=arguments[h])Object.prototype.hasOwnProperty.call(f,A)&&(a[A]=f[A]);return a},O.apply(this,arguments)},K=function(a){function f(h){var _=a.call(this,{model:h,el:h.get("el")})||this;return _.className=_.pfx+"panel",_.id=_.pfx+h.get("id"),_.listenTo(h,"change:appendContent",_.appendContent),_.listenTo(h,"change:content",_.updateContent),_.listenTo(h,"change:visible",_.toggleVisible),h.view=_,_}return p(f,a),f.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},f.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},f.prototype.toggleVisible=function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},f.prototype.attributes=function(){return this.model.get("attributes")},f.prototype.initResize=function(){var h=this.em,_=h?h.get("Editor"):"",A=this.model.get("resizable");if(_&&A){var J,te,F,G=A===!0?[1,1,1,1]:A,V=G.length,le=0;V==2?(J=G[0],F=G[0],te=G[1],le=G[1]):V==4&&(J=G[0],te=G[1],F=G[2],le=G[3]);var ve=_.Utils.Resizer.init(O({tc:J,cr:te,bc:F,cl:le,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:_.getConfig().stylePrefix,onEnd:function(){h&&h.trigger("change:canvasOffset")},posFetcher:function(Ne,Ze){var Me=Ze.target,je=Ne.style,ae=ve.getConfig(),be=ae.keyWidth,re=ae.keyHeight,Te=Ne.getBoundingClientRect(),Re=Me=="container",Fe=je[be],it=je[re];return{left:0,top:0,width:Fe&&!Re?parseFloat(Fe):Te.width,height:it&&!Re?parseFloat(it):Te.height}}},A));ve.blur=function(){},ve.focus(this.el)}},f.prototype.render=function(){var h=this.model.buttons,_=this.$el,A=this.ppfx,J="".concat(this.className," ").concat(this.id," ").concat(A,"one-bg ").concat(A,"two-color");if(_.addClass(J),this.toggleVisible(),h.length){var te=new s(h);_.append(te.render().el)}return _.append(this.model.get("content")),this},f}(j.Z);const Q=K;var ne=function(){var a=function(f,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var J in A)Object.prototype.hasOwnProperty.call(A,J)&&(_[J]=A[J])},a(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=f}a(f,h),f.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}();const R=function(a){function f(h){var _=a.call(this,{collection:h})||this;return _.listenTo(h,"add",_.addTo),_.listenTo(h,"reset",_.render),_.listenTo(h,"remove",_.onRemove),_.className=_.pfx+"panels",_}return ne(f,a),f.prototype.onRemove=function(h){var _=h.view;_&&_.remove()},f.prototype.addTo=function(h){this.addToCollection(h)},f.prototype.addToCollection=function(h,_){var A=_||null,J=(this.config,h.get("el")),te=new Q(h),F=te.render().el,G=h.get("appendTo");return J||(G?document.querySelector(G).appendChild(F):A?A.appendChild(F):this.$el.append(F)),te.initResize(),F},f.prototype.render=function(){var h=this,_=this.$el,A=document.createDocumentFragment();return _.empty(),this.collection.each(function(J){return h.addToCollection(J,A)}),_.append(A),_.attr("class",this.className),this},f}(j.Z);var v=function(){var a=function(f,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var J in A)Object.prototype.hasOwnProperty.call(A,J)&&(_[J]=A[J])},a(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=f}a(f,h),f.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}();const b=function(a){function f(h){var _=a.call(this,h,"Panels",m)||this;for(var A in _.panels=new T(_,_.config.defaults),m)A in _.config||(_.config[A]=m[A]);return _}return v(f,a),f.prototype.getPanels=function(){return this.panels},f.prototype.getPanelsEl=function(){return this.PanelsViewObj&&this.PanelsViewObj.el},f.prototype.addPanel=function(h){return this.panels.add(h)},f.prototype.removePanel=function(h){return this.panels.remove(h)},f.prototype.getPanel=function(h){var _=this.panels.where({id:h});return _.length?_[0]:null},f.prototype.addButton=function(h,_){var A=this.getPanel(h);return A?A.get("buttons").add(_):null},f.prototype.removeButton=function(h,_){var A=this.getPanel(h);return A&&A.get("buttons").remove(_)},f.prototype.getButton=function(h,_){var A=this.getPanel(h);if(A){var J=A.get("buttons").where({id:_});return J.length?J[0]:null}return null},f.prototype.render=function(){return this.PanelsViewObj&&this.PanelsViewObj.remove(),this.PanelsViewObj=new R(this.panels),this.PanelsViewObj.render().el},f.prototype.active=function(){this.getPanels().each(function(h){h.get("buttons").each(function(_){_.get("active")&&_.trigger("updateActive")})})},f.prototype.disableButtons=function(){this.getPanels().each(function(h){h.get("buttons").each(function(_){_.get("disable")&&_.trigger("change:disable")})})},f.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},f}(k.Z)},3463:(z,ie,w)=>{w.r(ie),w.d(ie,{default:()=>a,evAdd:()=>K,evAll:()=>p,evCustom:()=>v,evPfx:()=>O,evRemove:()=>ne,evRemoveBefore:()=>R,evState:()=>b,evUpdate:()=>Q});var k=w(9050),$=w(1163),D=w(9714),q=w(2316);const l={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:!1,custom:!1};var P,N=w(5963),C=w(966),y=(P=function(f,h){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var J in A)Object.prototype.hasOwnProperty.call(A,J)&&(_[J]=A[J])},P(f,h)},function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function _(){this.constructor=f}P(f,h),f.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}),m=function(f){function h(){return f!==null&&f.apply(this,arguments)||this}return y(h,f),h.prototype.defaults=function(){return{name:"",label:""}},h.prototype.getName=function(){return this.get("name")},h.prototype.getLabel=function(){return this.get("label")||this.getName()},h}(q.Model);const g=m;m.prototype.idAttribute="name";var S=w(7539),I=function(){var f=function(h,_){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,J){A.__proto__=J}||function(A,J){for(var te in J)Object.prototype.hasOwnProperty.call(J,te)&&(A[te]=J[te])},f(h,_)};return function(h,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function A(){this.constructor=h}f(h,_),h.prototype=_===null?Object.create(_):(A.prototype=_.prototype,new A)}}(),H=function(f,h){return Object.defineProperty?Object.defineProperty(f,"raw",{value:h}):f.raw=h,f},X="contentEditable";const Y=function(f){function h(_){_===void 0&&(_={});var A=f.call(this,_)||this,J=_.config||{};return A.config=J,A.module=_.module,A.coll=_.coll||null,A.pfx=J.stylePrefix||"",A.ppfx=J.pStylePrefix||"",A.em=J.em,A.listenTo(A.model,"change:active",A.updateStatus),A}return I(h,f),h.prototype.template=function(){var _=this,A=_.pfx,J=_.model,te=_.config,F=J.get("label")||"";return(0,S.Z)(x||(x=H([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),A,A,A,F,A,A,te.iconTagRemove)},h.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},h.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},h.prototype.startEditTag=function(){var _=this.em,A=this.getInputEl();A[X]="true",A.focus(),_&&_.setEditing(1)},h.prototype.endEditTag=function(){var _=this.model,A=this.getInputEl(),J=A.textContent,te=this.em,F=te&&te.get("SelectorManager");if(A[X]="false",te&&te.setEditing(0),F){var G=F.escapeName(J);F.get(G)?A.innerText=_.get("label"):_.set({name:G,label:J})}},h.prototype.changeStatus=function(){var _=this.model;_.set("active",!_.get("active"))},h.prototype.removeTag=function(){this.module.removeSelected(this.model)},h.prototype.updateStatus=function(){var _=this,A=_.model,J=_.$el,te=_.config,F=te.iconTagOn,G=te.iconTagOff,V=J.find("[data-tag-status]");A.get("active")?(V.html(F),J.removeClass("opac50")):(V.html(G),J.addClass("opac50"))},h.prototype.render=function(){var _=this.pfx,A=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(_,"tag ").concat(A,"three-bg")),this.updateStatus(),this},h}(q.View);var x,W=function(){var f=function(h,_){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,J){A.__proto__=J}||function(A,J){for(var te in J)Object.prototype.hasOwnProperty.call(J,te)&&(A[te]=J[te])},f(h,_)};return function(h,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function A(){this.constructor=h}f(h,_),h.prototype=_===null?Object.create(_):(A.prototype=_.prototype,new A)}}(),oe=function(f,h){return Object.defineProperty?Object.defineProperty(f,"raw",{value:h}):f.raw=h,f};const se=function(f){function h(_){_===void 0&&(_={});var A=f.call(this,_)||this;A.config=_.config||{},A.pfx=A.config.stylePrefix||"",A.ppfx=A.config.pStylePrefix||"",A.className=A.pfx+"tags",A.stateInputId=A.pfx+"states",A.stateInputC=A.pfx+"input-c",A.states=A.config.states||[];var J=A.config.em,te=A.collection;A.target=J;var F=J.get("SelectorManager");return A.module=F,A.em=J,A.componentChanged=(0,k.debounce)(A.componentChanged.bind(A),0),A.checkSync=(0,k.debounce)(A.checkSync.bind(A),0),A.listenTo(J,"component:toggled component:update:classes",A.componentChanged),A.listenTo(J,"styleManager:update",A.componentChanged),A.listenTo(J,"component:update:classes change:state",A.__handleStateChange),A.listenTo(J,"styleable:change change:device",A.checkSync),A.listenTo(te,"add",A.addNew),A.listenTo(te,"reset",A.renderClasses),A.listenTo(te,"remove",A.tagRemoved),A.listenTo(F.getAll(),F.events.state,(0,k.debounce)(function(){return A.renderStates()},0)),A.delegateEvents(),A}return W(h,f),h.prototype.template=function(_){var A=_.labelInfo,J=_.labelHead,te=_.iconSync,F=_.iconAdd,G=_.pfx,V=_.ppfx;return(0,S.Z)(Z||(Z=oe([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),G,G,G,G,J,G,G,G,V,V,V,G,V,V,G,V,G,G,G,G,G,F,G,G,te,G,G,A,G)},h.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},h.prototype.syncStyle=function(){var _,A=this.em,J=this.getTarget(),te=A.get("CssComposer"),F=this.getCommonSelectors({opts:{noDisabled:1}}),G=A.get("state"),V=A.getCurrentMedia(),le=[],ve=te.get(F,G,V)||te.add(F,G,V);this.getTargets().forEach(function(Ne){var Ze=te.getIdRule(Ne.getId(),{state:G,mediaText:V});_=Ze.getStyle(),Ze.setStyle({}),le.push(Ze)}),_&&ve.addStyle(_),A.trigger("component:toggled"),A.trigger("component:sync-style",{component:J,selectors:F,mediaText:V,rule:ve,ruleComponents:le,state:G})},h.prototype.tagRemoved=function(_){this.updateStateVis()},h.prototype.addNew=function(_){this.addToClasses(_)},h.prototype.startNewTag=function(){var _,A;(_=this.$addBtn)===null||_===void 0||_.css({display:"none"}),(A=this.$input)===null||A===void 0||A.show().focus()},h.prototype.endNewTag=function(){var _,A;(_=this.$addBtn)===null||_===void 0||_.css({display:""}),(A=this.$input)===null||A===void 0||A.hide().val("")},h.prototype.onInputKeyUp=function(_){var A;_.keyCode===13?(_.preventDefault(),this.addNewTag((A=this.$input)===null||A===void 0?void 0:A.val())):_.keyCode===27&&this.endNewTag()},h.prototype.checkStates=function(){var _=this.em.getState(),A=this.getStates();A&&A.val(_)},h.prototype.componentChanged=function(_){var A=(_===void 0?{}:_).targets;this.updateSelection(A)},h.prototype.updateSelection=function(_){var A=_||this.getTargets(),J=[];return(A=(0,k.isArray)(A)?A:[A])&&A.length&&(J=this.getCommonSelectors({targets:A}),this.checkSync({validSelectors:J})),this.collection.reset(J),this.updateStateVis(A),this.module.__trgCustom(),J},h.prototype.getCommonSelectors=function(_){var A=_===void 0?{}:_,J=A.targets,te=A.opts,F=te===void 0?{}:te,G=J||this.getTargets();return this.module.__getCommonSelectors(G,F)},h.prototype._commonSelectors=function(){for(var _,A=[],J=0;J<arguments.length;J++)A[J]=arguments[J];return(_=this.module).__common.apply(_,A)},h.prototype.checkSync=function(){var _,A=this,J=A.$btnSyncEl,te=A.config,F=A.collection,G=this.getTarget();if(G&&te.componentFirst&&F.length){var V=G.getStyle();_=!(0,k.isEmpty)(V)}J&&J[_?"show":"hide"]()},h.prototype.getTarget=function(){return this.target.getSelected()},h.prototype.getTargets=function(){return this.target.getSelectedAll()},h.prototype.updateStateVis=function(_){var A=this.em,J=A&&A.getConfig().avoidInlineStyle,te=this.collection.length||J?"":"none";this.getStatesC().css("display",te),this.updateSelector(_)},h.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},h.prototype.updateSelector=function(_){var A=this,J=this.el.querySelector("[data-selected]"),te=[],F=_||this.getTargets();(F=(0,k.isArray)(F)?F:[F]).forEach(function(G){return te.push(A.__getName(G))}),J&&(J.innerHTML=te.join(", ")),this.checkStates()},h.prototype.__getName=function(_){var A,J=this,te=J.pfx,F=J.config,G=J.em,V=F.selectedName,le=F.componentFirst;if((0,k.isString)(_))A=(0,S.Z)(B||(B=oe(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),te,_);else{var ve=_==null?void 0:_.getSelectors();if(!ve)return"";var Ne=ve.getStyleable(),Ze=G.get("state"),Me=_.getId?(0,S.Z)(T||(T=oe(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),te,_.getName(),te,_.getId()):"";A=(A=this.collection.getFullString(Ne))?(0,S.Z)(j||(j=oe(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),te,A):_.get("selectorsAdd")||Me,A=le&&Me?Me:A,A+=Ze?(0,S.Z)(U||(U=oe(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),te,Ze):"",A=V?V({result:A,state:Ze,target:_}):A}return A&&'<span class="'.concat(te,'sel">').concat(A,"</span>")},h.prototype.stateChanged=function(_){var A=this.em,J=_.target.value;A.set("state",J)},h.prototype.addNewTag=function(_){var A=_.trim();A&&(this.module.addSelected({label:A}),this.endNewTag())},h.prototype.addToClasses=function(_,A){var J=A,te=this.getClasses(),F=new Y({model:_,config:this.config,coll:this.collection,module:this.module}).render().el;return J?J.appendChild(F):te.append(F),F},h.prototype.renderClasses=function(){var _=this,A=document.createDocumentFragment(),J=this.getClasses();J.empty(),this.collection.each(function(te){return _.addToClasses(te,A)}),J.append(A)},h.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},h.prototype.getStates=function(){if(!this.$states){var _=this.$el.find("[data-states]");this.$states=_[0]&&_}return this.$states},h.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},h.prototype.renderStates=function(){var _=this.module,A=this.em,J=A.t("selectorManager.emptyState"),te=_.getStates().map(function(G){var V=A.t("selectorManager.states.".concat(G.id))||G.getLabel()||G.id;return'<option value="'.concat(G.id,'">').concat(V,"</option>")}).join(""),F=this.getStates();F&&F.html('<option value="">'.concat(J,"</option>").concat(te)),this.checkStates()},h.prototype.render=function(){var _=this,A=_.em,J=_.pfx,te=_.ppfx,F=_.config,G=_.$el,V=_.el,le=F.render,ve={iconSync:F.iconSync,iconAdd:F.iconAdd,labelHead:A.t("selectorManager.label"),labelInfo:A.t("selectorManager.selected"),ppfx:te,pfx:J,el:V};G.html(this.template(ve));var Ne=le&&le(ve);return Ne&&Ne!==V&&G.empty().append(Ne),this.$input=G.find("[data-input]"),this.$addBtn=G.find("[data-add]"),this.$classes=G.find("#"+J+"tags-c"),this.$btnSyncEl=G.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),G.attr("class","".concat(this.className," ").concat(te,"one-bg ").concat(te,"two-color")),this},h}(q.View);var Z,B,T,j,U,E=function(){var f=function(h,_){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,J){A.__proto__=J}||function(A,J){for(var te in J)Object.prototype.hasOwnProperty.call(J,te)&&(A[te]=J[te])},f(h,_)};return function(h,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function A(){this.constructor=h}f(h,_),h.prototype=_===null?Object.create(_):(A.prototype=_.prototype,new A)}}(),M=function(){return M=Object.assign||function(f){for(var h,_=1,A=arguments.length;_<A;_++)for(var J in h=arguments[_])Object.prototype.hasOwnProperty.call(h,J)&&(f[J]=h[J]);return f},M.apply(this,arguments)},c=function(f,h,_){if(_||arguments.length===2)for(var A,J=0,te=h.length;J<te;J++)!A&&J in h||(A||(A=Array.prototype.slice.call(h,0,J)),A[J]=h[J]);return f.concat(A||Array.prototype.slice.call(h))},d=function(f){return(0,k.isString)(f)&&f[0]=="#"},s=function(f){return(0,k.isString)(f)&&f[0]=="."},p="selector",O="".concat(p,":"),K="".concat(O,"add"),Q="".concat(O,"update"),ne="".concat(O,"remove"),R="".concat(ne,":before"),v="".concat(O,"custom"),b="".concat(O,"state");const a=function(f){function h(){var _=f!==null&&f.apply(this,arguments)||this;return _.name="SelectorManager",_.Selector=N.Z,_.Selectors=C.Z,_.events={all:p,update:Q,add:K,remove:ne,removeBefore:R,state:b,custom:v},_.__update=(0,k.debounce)(function(){_.__trgCustom()},0),_}return E(h,f),h.prototype.init=function(_){var A=this;_===void 0&&(_={}),this.__initConfig(l,_);var J=this.getConfig(),te=this.em,F=J.pStylePrefix;return F&&(J.stylePrefix=F+J.stylePrefix),this.all=new C.Z(J.selectors),this.selected=new C.Z([],{em:te,config:J}),this.states=new q.Collection(J.states.map(function(G){return new g(G)}),{model:g}),this.model=new q.Model({cFirst:J.componentFirst,_undo:!0}),this.__initListen({collections:[this.states,this.selected],propagate:[{entity:this.states,event:this.events.state}]}),te.on("change:state",function(G,V){return te.trigger(b,V)}),this.model.on("change:cFirst",function(G,V){return te.trigger("selector:type",V)}),this.model.listenTo(te,"component:toggled component:update:classes change:device styleManager:update selector:state selector:type",function(){return A.__update()}),this},h.prototype.__trgCustom=function(_){this.em.trigger(this.events.custom,this.__customData(_))},h.prototype.__customData=function(_){_===void 0&&(_={});var A=_.container;return{states:this.getStates(),selected:this.getSelected(),container:A}},h.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},h.prototype.select=function(_,A){A===void 0&&(A={});var J=Array.isArray(_)?_:[_],te=this.em.get("StyleManager").select(J,A),F=this.selectorTags,G=te.filter(function(V){return V}).map(function(V){return(0,$.isComponent)(V)||(0,$.isRule)(V)&&!V.get("selectorsAdd")?V:V.getSelectorsString()});return F&&F.componentChanged({targets:G}),this},h.prototype.addSelector=function(_,A,J){A===void 0&&(A={}),J===void 0&&(J={});var te=M({},A);(0,k.isObject)(_)?te=_:te.name=_,d(te.name)?(te.name=te.name.substr(1),te.type=N.Z.TYPE_ID):s(te.name)&&(te.name=te.name.substr(1)),te.label&&!te.name&&(te.name=this.escapeName(te.label));var F=te.name,G=this.getConfig(),V=this.getAll(),le=this.em,ve=F?this.get(F,te.type):V.where(te)[0];if(!ve){var Ne=te instanceof N.Z?te:new N.Z(te,M(M({},J),{config:G,em:le}));return V.add(Ne,J)}return ve},h.prototype.getSelector=function(_,A){return A===void 0&&(A=N.Z.TYPE_CLASS),d(_)?(_=_.substr(1),A=N.Z.TYPE_ID):s(_)&&(_=_.substr(1)),this.getAll().where({name:_,type:A})[0]},h.prototype.add=function(_,A){var J=this;A===void 0&&(A={});var te=(0,k.isString)(_)?{}:A;return(0,k.isArray)(_)?_.map(function(F){return J.addSelector(F,A,te)}):this.addSelector(_,A,te)},h.prototype.addClass=function(_){var A=this,J=[];return(0,k.isString)(_)&&(_=_.trim().split(" ")),_.forEach(function(te){return J.push(A.addSelector(te))}),J},h.prototype.get=function(_,A){var J=this;if((0,k.isArray)(_)){var te=[];return _.map(function(F){return J.getSelector(F)}).filter(function(F){return F}).forEach(function(F){return te.indexOf(F)<0&&te.push(F)}),te}return this.getSelector(_,A)||null},h.prototype.remove=function(_,A){return this.__remove(_,A)},h.prototype.setState=function(_){return this.em.setState(_),this},h.prototype.getState=function(){return this.em.getState()},h.prototype.getStates=function(){return c([],this.states.models,!0)},h.prototype.setStates=function(_,A){return this.states.reset(_.map(function(J){return new g(J)}),A)},h.prototype.getSelected=function(){return this.__getCommon()},h.prototype.addSelected=function(_){var A=this.add(_);this.em.getSelectedAll().forEach(function(J){J.getSelectors().add(A)})},h.prototype.removeSelected=function(_){this.em.getSelectedAll().forEach(function(A){!_.get("protected")&&A&&A.getSelectors().remove(_)})},h.prototype.getSelectedTargets=function(){return this.em.get("StyleManager").getSelectedAll()},h.prototype.setComponentFirst=function(_){this.getConfig().componentFirst=_,this.model.set({cFirst:_})},h.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},h.prototype.escapeName=function(_){var A=this.getConfig().escapeName;return A?A(_):N.Z.escapeName(_)},h.prototype.render=function(_){this.em;var A=this.selectorTags,J=this.getConfig(),te=A&&A.el;return this.selected.reset(_),this.selectorTags=new se({el:te,collection:this.selected,module:this,config:J}),this.selectorTags.render().el},h.prototype.destroy=function(){var _=this.selectorTags;this.model.stopListening(),this.__update.cancel(),this.__destroy(),_==null||_.remove(),this.selectorTags=void 0},h.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},h.prototype.__getCommonSelectors=function(_,A){A===void 0&&(A={});var J=_.map(function(te){return te.getSelectors&&te.getSelectors().getValid(A)}).filter(Boolean);return this.__common.apply(this,J)},h.prototype.__common=function(){for(var _=this,A=[],J=0;J<arguments.length;J++)A[J]=arguments[J];return A.length?A.length===1?A[0]:A.length===2?A[0].filter(function(te){return A[1].indexOf(te)>=0}):A.slice(1).reduce(function(te,F){return _.__common(te,F)},A[0]):[]},h}(D.Z)},5963:(z,ie,w)=>{w.d(ie,{Z:()=>C});var k,$=w(9050),D=w(2316),q=(k=function(y,m){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(g[I]=S[I])},k(y,m)},function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=y}k(y,m),y.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}),l=1,P=2,N=function(y){function m(g,S){S===void 0&&(S={});var I=y.call(this,g,S)||this,H=S.config,X=H===void 0?{}:H,Y=I.get("name"),x=I.get("label");Y?x||I.set("label",Y):I.set("name",x);var W=I.get("name"),oe=X.escapeName,se=oe?oe(W):m.escapeName(W);return I.set("name",se),I.em=S.em,I}return q(m,y),m.prototype.defaults=function(){return{name:"",label:"",type:l,active:!0,private:!1,protected:!1,_undo:!0}},m.prototype.isId=function(){return this.get("type")===P},m.prototype.isClass=function(){return this.get("type")===l},m.prototype.getFullName=function(g){g===void 0&&(g={});var S=g.escape,I=this.get("name"),H="";switch(this.get("type")){case l:H=".";break;case P:H="#"}return H+(S?S(I):I)},m.prototype.toString=function(){return this.getFullName()},m.prototype.getLabel=function(){return this.get("label")},m.prototype.setLabel=function(g){return this.set("label",g)},m.prototype.getActive=function(){return this.get("active")},m.prototype.setActive=function(g){return this.set("active",g)},m.prototype.toJSON=function(g){g===void 0&&(g={});var S=this.em,I=D.Model.prototype.toJSON.call(this,[g]),H=(0,$.result)(this,"defaults");if(S&&S.getConfig().avoidDefaults){(0,$.forEach)(H,function(Y,x){I[x]===Y&&delete I[x]}),I.label===I.name&&delete I.label;var X=(0,$.keys)(I).length;X===1&&I.name&&(I=I.name),X===2&&I.name&&I.type&&(I=this.getFullName())}return I},m.escapeName=function(g){return"".concat(g).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")},m.TYPE_CLASS=l,m.TYPE_ID=P,m}(D.Model);const C=N;N.prototype.idAttribute="name"},966:(z,ie,w)=>{w.d(ie,{Z:()=>C});var k,$=w(9050),D=w(2316),q=w(5963),l=(k=function(y,m){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var I in S)Object.prototype.hasOwnProperty.call(S,I)&&(g[I]=S[I])},k(y,m)},function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=y}k(y,m),y.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}),P=function(y,m){return y.reduce(function(g,S,I){return g.concat(P(y.slice(I+1),"".concat(m).concat(S)))},[m])},N=function(y){function m(){return y!==null&&y.apply(this,arguments)||this}return l(m,y),m.prototype.modelId=function(g){return"".concat(g.name,"_").concat(g.type||q.Z.TYPE_CLASS)},m.prototype.getStyleable=function(){return(0,$.filter)(this.models,function(g){return g.get("active")&&!g.get("private")})},m.prototype.getValid=function(g){var S=(g===void 0?{}:g).noDisabled;return(0,$.filter)(this.models,function(I){return!I.get("private")}).filter(function(I){return S?I.get("active"):1})},m.prototype.getFullString=function(g,S){S===void 0&&(S={});var I=[];return(g||this).forEach(function(H){return I.push(H.getFullName(S))}),S.sort&&I.sort(),I.join("").trim()},m.prototype.getFullName=function(g){g===void 0&&(g={});var S=g.combination,I=g.array,H=[],X=this.map(function(Y){return Y.getFullName(g)}).sort();return S?X.forEach(function(Y,x){H=H.concat(P(X.slice(x+1),Y))}):H=X,I?H:S?H.join(","):H.join("")},m}(D.Collection);const C=N;N.prototype.model=q.Z},7539:(z,ie,w)=>{w.d(ie,{Z:()=>$});var k=w(1163);function $(D){for(var q=[],l=1;l<arguments.length;l++)q[l-1]=arguments[l];var P=D.raw;return P.reduce(function(N,C,y){var m=q[y-1],g=P[y-1];return Array.isArray(m)?m=m.join(""):g&&g.slice(-1)==="$"?N=N.slice(0,-1):m=(0,k.escape)(m),N+m+C})}},1163:(z,ie,w)=>{w.r(ie),w.d(ie,{appendStyles:()=>g,buildBase64UrlFromSvg:()=>_,camelCase:()=>x,capitalize:()=>R,createId:()=>h,deepMerge:()=>E,escape:()=>U,find:()=>j,getElRect:()=>c,getElement:()=>se,getGlobal:()=>P,getKeyChar:()=>p,getKeyCode:()=>s,getModel:()=>M,getPointerEvent:()=>d,getUiClass:()=>m,getUnitFromValue:()=>X,getViewEl:()=>a,hasDnd:()=>oe,hasWin:()=>l,isCommentNode:()=>B,isComponent:()=>v,isDef:()=>q,isEmptyObj:()=>ne,isEnterKey:()=>K,isEscKey:()=>O,isObject:()=>Q,isRule:()=>b,isTaggableNode:()=>T,isTextNode:()=>Z,matches:()=>y,normalizeFloat:()=>W,off:()=>H,on:()=>I,setViewEl:()=>f,shallowDiff:()=>S,toLowerCase:()=>N,upFirst:()=>Y});var k=w(9050),$=function(){return $=Object.assign||function(A){for(var J,te=1,F=arguments.length;te<F;te++)for(var G in J=arguments[te])Object.prototype.hasOwnProperty.call(J,G)&&(A[G]=J[G]);return A},$.apply(this,arguments)},D=function(A,J,te){if(te||arguments.length===2)for(var F,G=0,V=J.length;G<V;G++)!F&&G in J||(F||(F=Array.prototype.slice.call(J,0,G)),F[G]=J[G]);return A.concat(F||Array.prototype.slice.call(J))},q=function(A){return A!==void 0},l=function(){return typeof window<"u"},P=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:w.g},N=function(A){return(A||"").toLowerCase()},C=l()?window.Element.prototype:{},y=C.matches||C.webkitMatchesSelector||C.mozMatchesSelector||C.msMatchesSelector,m=function(A,J){var te=A.getConfig(),F=te.stylePrefix;return[te.customUI&&"".concat(F,"cui"),J].filter(function(G){return G}).join(" ")},g=function(A,J){J===void 0&&(J={});var te=(0,k.isArray)(A)?D([],A,!0):[A];if(te.length){var F=te.shift();if(F&&(!J.unique||!document.querySelector('link[href="'.concat(F,'"]')))){var G=document.head,V=document.createElement("link");V.href=F,V.rel="stylesheet",J.prepand?G.insertBefore(V,G.firstChild):G.appendChild(V)}g(te)}},S=function(A,J){var te={},F=(0,k.keys)(J);for(var G in A)if(A.hasOwnProperty(G)){var V=A[G],le=J[G];F.indexOf(G)>=0?V!==le&&(te[G]=le):te[G]=null}for(var G in J)J.hasOwnProperty(G)&&(0,k.isUndefined)(A[G])&&(te[G]=J[G]);return te},I=function(A,J,te,F){var G=J.split(/\s+/);A=A instanceof Array?A:[A];for(var V=function(ve){A.forEach(function(Ne){return Ne&&Ne.addEventListener(G[ve],te,F)})},le=0;le<G.length;++le)V(le)},H=function(A,J,te,F){var G=J.split(/\s+/);A=A instanceof Array?A:[A];for(var V=function(ve){A.forEach(function(Ne){return Ne&&Ne.removeEventListener(G[ve],te,F)})},le=0;le<G.length;++le)V(le)},X=function(A){return A.replace(parseFloat(A),"")},Y=function(A){return A[0].toUpperCase()+A.toLowerCase().slice(1)},x=function(A){return A.replace(/-./g,function(J){return J[1].toUpperCase()})},W=function(A,J,te){J===void 0&&(J=1),te===void 0&&(te=0);var F=0;if(isNaN(A))return te;if(A=parseFloat(A),Math.floor(A)!==A){var G=J.toString().split(".")[1];F=G?G.length:0}return F?parseFloat(A.toFixed(F)):A},oe=function(A){return"draggable"in document.createElement("i")&&(A?A.get("Config").nativeDnD:1)},se=function(A){return(0,k.isElement)(A)||Z(A)?A:A&&A.getEl?A.getEl():void 0},Z=function(A){return A&&A.nodeType===3},B=function(A){return A&&A.nodeType===8},T=function(A){return A&&!Z(A)&&!B(A)},j=function(A,J){var te=null;return A.some(function(F,G){return J(F,G,A)?(te=F,1):0}),te},U=function(A){return A===void 0&&(A=""),"".concat(A).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},E=function(){for(var A=[],J=0;J<arguments.length;J++)A[J]=arguments[J];for(var te=$({},A[0]),F=1;F<A.length;F++){var G=$({},A[F]);for(var V in G){var le=te[V],ve=G[V];Q(le)&&Q(ve)?te[V]=E(le,ve):te[V]=ve}}return te},M=function(A,J){var te=A;return!J&&A&&A.__cashData?te=A.__cashData.model:(0,k.isElement)(A)&&(te=J(A).data("model")),te},c=function(A){var J,te={top:0,left:0,width:0,height:0};if(!A)return te;if(Z(A)){var F=document.createRange();F.selectNode(A),J=F.getBoundingClientRect(),F.detach()}return J||(A.getBoundingClientRect?A.getBoundingClientRect():te)},d=function(A){return A.touches&&A.touches[0]?A.touches[0]:A},s=function(A){return A.which||A.keyCode},p=function(A){return String.fromCharCode(s(A))},O=function(A){return s(A)===27},K=function(A){return s(A)===13},Q=function(A){return A!==null&&!Array.isArray(A)&&typeof A=="object"},ne=function(A){return Object.keys(A).length<=0},R=function(A){return A&&A.charAt(0).toUpperCase()+A.substring(1)},v=function(A){return A&&A.toHTML},b=function(A){return A&&A.toCSS},a=function(A){return A.__gjsv},f=function(A,J){A.__gjsv=J},h=function(A){A===void 0&&(A=16);for(var J="",te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",F=te.length,G=0;G<A;G++)J+=te.charAt(Math.floor(Math.random()*F));return J},_=function(A){if(A&&A.substr(0,4)==="<svg"){var J="";return l()?J=window.btoa(A):typeof Buffer<"u"&&(J=Buffer.from(A,"utf8").toString("base64")),J?"data:image/svg+xml;base64,".concat(J):A}return A}},2828:(z,ie,w)=>{var k={"./CanvasClear":7202,"./CanvasClear.js":7202,"./CanvasMove":327,"./CanvasMove.js":327,"./CommandAbstract":238,"./CommandAbstract.js":238,"./ComponentDelete":5820,"./ComponentDelete.js":5820,"./ComponentDrag":6694,"./ComponentDrag.js":6694,"./ComponentEnter":1947,"./ComponentEnter.js":1947,"./ComponentExit":3888,"./ComponentExit.js":3888,"./ComponentNext":5883,"./ComponentNext.js":5883,"./ComponentPrev":7508,"./ComponentPrev.js":7508,"./ComponentStyleClear":8769,"./ComponentStyleClear.js":8769,"./CopyComponent":2213,"./CopyComponent.js":2213,"./DeleteComponent":5049,"./DeleteComponent.js":5049,"./ExportTemplate":3775,"./ExportTemplate.js":3775,"./Fullscreen":58,"./Fullscreen.js":58,"./MoveComponent":8658,"./MoveComponent.js":8658,"./OpenAssets":9617,"./OpenAssets.js":9617,"./OpenBlocks":5821,"./OpenBlocks.js":5821,"./OpenLayers":3452,"./OpenLayers.js":3452,"./OpenStyleManager":2840,"./OpenStyleManager.js":2840,"./OpenTraitManager":8644,"./OpenTraitManager.js":8644,"./PasteComponent":560,"./PasteComponent.js":560,"./Preview":4944,"./Preview.js":4944,"./Resize":7538,"./Resize.js":7538,"./SelectComponent":2620,"./SelectComponent.js":2620,"./SelectPosition":8463,"./SelectPosition.js":8463,"./ShowOffset":7994,"./ShowOffset.js":7994,"./SwitchVisibility":8352,"./SwitchVisibility.js":8352};function $(q){var l=D(q);return w(l)}function D(q){if(!w.o(k,q)){var l=new Error("Cannot find module '"+q+"'");throw l.code="MODULE_NOT_FOUND",l}return k[q]}$.keys=function(){return Object.keys(k)},$.resolve=D,z.exports=$,$.id=2828},7061:(z,ie,w)=>{var k=w(8698).default;function $(){z.exports=$=function(){return D},z.exports.__esModule=!0,z.exports.default=z.exports;var D={},q=Object.prototype,l=q.hasOwnProperty,P=typeof Symbol=="function"?Symbol:{},N=P.iterator||"@@iterator",C=P.asyncIterator||"@@asyncIterator",y=P.toStringTag||"@@toStringTag";function m(d,s,p){return Object.defineProperty(d,s,{value:p,enumerable:!0,configurable:!0,writable:!0}),d[s]}try{m({},"")}catch{m=function(s,p,O){return s[p]=O}}function g(d,s,p,O){var K=s&&s.prototype instanceof H?s:H,Q=Object.create(K.prototype),ne=new E(O||[]);return Q._invoke=function(R,v,b){var a="suspendedStart";return function(f,h){if(a==="executing")throw new Error("Generator is already running");if(a==="completed"){if(f==="throw")throw h;return c()}for(b.method=f,b.arg=h;;){var _=b.delegate;if(_){var A=T(_,b);if(A){if(A===I)continue;return A}}if(b.method==="next")b.sent=b._sent=b.arg;else if(b.method==="throw"){if(a==="suspendedStart")throw a="completed",b.arg;b.dispatchException(b.arg)}else b.method==="return"&&b.abrupt("return",b.arg);a="executing";var J=S(R,v,b);if(J.type==="normal"){if(a=b.done?"completed":"suspendedYield",J.arg===I)continue;return{value:J.arg,done:b.done}}J.type==="throw"&&(a="completed",b.method="throw",b.arg=J.arg)}}}(d,p,ne),Q}function S(d,s,p){try{return{type:"normal",arg:d.call(s,p)}}catch(O){return{type:"throw",arg:O}}}D.wrap=g;var I={};function H(){}function X(){}function Y(){}var x={};m(x,N,function(){return this});var W=Object.getPrototypeOf,oe=W&&W(W(M([])));oe&&oe!==q&&l.call(oe,N)&&(x=oe);var se=Y.prototype=H.prototype=Object.create(x);function Z(d){["next","throw","return"].forEach(function(s){m(d,s,function(p){return this._invoke(s,p)})})}function B(d,s){function p(K,Q,ne,R){var v=S(d[K],d,Q);if(v.type!=="throw"){var b=v.arg,a=b.value;return a&&k(a)=="object"&&l.call(a,"__await")?s.resolve(a.__await).then(function(f){p("next",f,ne,R)},function(f){p("throw",f,ne,R)}):s.resolve(a).then(function(f){b.value=f,ne(b)},function(f){return p("throw",f,ne,R)})}R(v.arg)}var O;this._invoke=function(K,Q){function ne(){return new s(function(R,v){p(K,Q,R,v)})}return O=O?O.then(ne,ne):ne()}}function T(d,s){var p=d.iterator[s.method];if(p===void 0){if(s.delegate=null,s.method==="throw"){if(d.iterator.return&&(s.method="return",s.arg=void 0,T(d,s),s.method==="throw"))return I;s.method="throw",s.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var O=S(p,d.iterator,s.arg);if(O.type==="throw")return s.method="throw",s.arg=O.arg,s.delegate=null,I;var K=O.arg;return K?K.done?(s[d.resultName]=K.value,s.next=d.nextLoc,s.method!=="return"&&(s.method="next",s.arg=void 0),s.delegate=null,I):K:(s.method="throw",s.arg=new TypeError("iterator result is not an object"),s.delegate=null,I)}function j(d){var s={tryLoc:d[0]};1 in d&&(s.catchLoc=d[1]),2 in d&&(s.finallyLoc=d[2],s.afterLoc=d[3]),this.tryEntries.push(s)}function U(d){var s=d.completion||{};s.type="normal",delete s.arg,d.completion=s}function E(d){this.tryEntries=[{tryLoc:"root"}],d.forEach(j,this),this.reset(!0)}function M(d){if(d){var s=d[N];if(s)return s.call(d);if(typeof d.next=="function")return d;if(!isNaN(d.length)){var p=-1,O=function K(){for(;++p<d.length;)if(l.call(d,p))return K.value=d[p],K.done=!1,K;return K.value=void 0,K.done=!0,K};return O.next=O}}return{next:c}}function c(){return{value:void 0,done:!0}}return X.prototype=Y,m(se,"constructor",Y),m(Y,"constructor",X),X.displayName=m(Y,y,"GeneratorFunction"),D.isGeneratorFunction=function(d){var s=typeof d=="function"&&d.constructor;return!!s&&(s===X||(s.displayName||s.name)==="GeneratorFunction")},D.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,Y):(d.__proto__=Y,m(d,y,"GeneratorFunction")),d.prototype=Object.create(se),d},D.awrap=function(d){return{__await:d}},Z(B.prototype),m(B.prototype,C,function(){return this}),D.AsyncIterator=B,D.async=function(d,s,p,O,K){K===void 0&&(K=Promise);var Q=new B(g(d,s,p,O),K);return D.isGeneratorFunction(s)?Q:Q.next().then(function(ne){return ne.done?ne.value:Q.next()})},Z(se),m(se,y,"Generator"),m(se,N,function(){return this}),m(se,"toString",function(){return"[object Generator]"}),D.keys=function(d){var s=[];for(var p in d)s.push(p);return s.reverse(),function O(){for(;s.length;){var K=s.pop();if(K in d)return O.value=K,O.done=!1,O}return O.done=!0,O}},D.values=M,E.prototype={constructor:E,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(U),!d)for(var s in this)s.charAt(0)==="t"&&l.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=void 0)},stop:function(){this.done=!0;var d=this.tryEntries[0].completion;if(d.type==="throw")throw d.arg;return this.rval},dispatchException:function(d){if(this.done)throw d;var s=this;function p(v,b){return Q.type="throw",Q.arg=d,s.next=v,b&&(s.method="next",s.arg=void 0),!!b}for(var O=this.tryEntries.length-1;O>=0;--O){var K=this.tryEntries[O],Q=K.completion;if(K.tryLoc==="root")return p("end");if(K.tryLoc<=this.prev){var ne=l.call(K,"catchLoc"),R=l.call(K,"finallyLoc");if(ne&&R){if(this.prev<K.catchLoc)return p(K.catchLoc,!0);if(this.prev<K.finallyLoc)return p(K.finallyLoc)}else if(ne){if(this.prev<K.catchLoc)return p(K.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return p(K.finallyLoc)}}}},abrupt:function(d,s){for(var p=this.tryEntries.length-1;p>=0;--p){var O=this.tryEntries[p];if(O.tryLoc<=this.prev&&l.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var K=O;break}}K&&(d==="break"||d==="continue")&&K.tryLoc<=s&&s<=K.finallyLoc&&(K=null);var Q=K?K.completion:{};return Q.type=d,Q.arg=s,K?(this.method="next",this.next=K.finallyLoc,I):this.complete(Q)},complete:function(d,s){if(d.type==="throw")throw d.arg;return d.type==="break"||d.type==="continue"?this.next=d.arg:d.type==="return"?(this.rval=this.arg=d.arg,this.method="return",this.next="end"):d.type==="normal"&&s&&(this.next=s),I},finish:function(d){for(var s=this.tryEntries.length-1;s>=0;--s){var p=this.tryEntries[s];if(p.finallyLoc===d)return this.complete(p.completion,p.afterLoc),U(p),I}},catch:function(d){for(var s=this.tryEntries.length-1;s>=0;--s){var p=this.tryEntries[s];if(p.tryLoc===d){var O=p.completion;if(O.type==="throw"){var K=O.arg;U(p)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(d,s,p){return this.delegate={iterator:M(d),resultName:s,nextLoc:p},this.method==="next"&&(this.arg=void 0),I}},D}z.exports=$,z.exports.__esModule=!0,z.exports.default=z.exports},8698:z=>{function ie(w){return z.exports=ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},z.exports.__esModule=!0,z.exports.default=z.exports,ie(w)}z.exports=ie,z.exports.__esModule=!0,z.exports.default=z.exports},4687:(z,ie,w)=>{var k=w(7061)();z.exports=k;try{regeneratorRuntime=k}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=k:Function("r","regeneratorRuntime = r")(k)}},907:(z,ie,w)=>{function k($,D){(D==null||D>$.length)&&(D=$.length);for(var q=0,l=new Array(D);q<D;q++)l[q]=$[q];return l}w.d(ie,{Z:()=>k})},7326:(z,ie,w)=>{function k($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}w.d(ie,{Z:()=>k})},5861:(z,ie,w)=>{function k(D,q,l,P,N,C,y){try{var m=D[C](y),g=m.value}catch(S){return void l(S)}m.done?q(g):Promise.resolve(g).then(P,N)}function $(D){return function(){var q=this,l=arguments;return new Promise(function(P,N){var C=D.apply(q,l);function y(g){k(C,P,N,y,m,"next",g)}function m(g){k(C,P,N,y,m,"throw",g)}y(void 0)})}}w.d(ie,{Z:()=>$})},5671:(z,ie,w)=>{function k($,D){if(!($ instanceof D))throw new TypeError("Cannot call a class as a function")}w.d(ie,{Z:()=>k})},3144:(z,ie,w)=>{function k(D,q){for(var l=0;l<q.length;l++){var P=q[l];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}function $(D,q,l){return q&&k(D.prototype,q),l&&k(D,l),Object.defineProperty(D,"prototype",{writable:!1}),D}w.d(ie,{Z:()=>$})},4942:(z,ie,w)=>{function k($,D,q){return D in $?Object.defineProperty($,D,{value:q,enumerable:!0,configurable:!0,writable:!0}):$[D]=q,$}w.d(ie,{Z:()=>k})},1752:(z,ie,w)=>{w.d(ie,{Z:()=>D});var k=w(1120);function $(q,l){for(;!Object.prototype.hasOwnProperty.call(q,l)&&(q=(0,k.Z)(q))!==null;);return q}function D(){return D=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(q,l,P){var N=$(q,l);if(N){var C=Object.getOwnPropertyDescriptor(N,l);return C.get?C.get.call(arguments.length<3?q:P):C.value}},D.apply(this,arguments)}},1120:(z,ie,w)=>{function k($){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},k($)}w.d(ie,{Z:()=>k})},9340:(z,ie,w)=>{function k(D,q){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,P){return l.__proto__=P,l},k(D,q)}function $(D,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(q&&q.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),q&&k(D,q)}w.d(ie,{Z:()=>$})},4925:(z,ie,w)=>{function k($,D){if($==null)return{};var q,l,P=function(C,y){if(C==null)return{};var m,g,S={},I=Object.keys(C);for(g=0;g<I.length;g++)m=I[g],y.indexOf(m)>=0||(S[m]=C[m]);return S}($,D);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols($);for(l=0;l<N.length;l++)q=N[l],D.indexOf(q)>=0||Object.prototype.propertyIsEnumerable.call($,q)&&(P[q]=$[q])}return P}w.d(ie,{Z:()=>k})},2963:(z,ie,w)=>{w.d(ie,{Z:()=>D});var k=w(1002),$=w(7326);function D(q,l){if(l&&((0,k.Z)(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,$.Z)(q)}},885:(z,ie,w)=>{w.d(ie,{Z:()=>$});var k=w(181);function $(D,q){return function(l){if(Array.isArray(l))return l}(D)||function(l,P){var N=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(N!=null){var C,y,m=[],g=!0,S=!1;try{for(N=N.call(l);!(g=(C=N.next()).done)&&(m.push(C.value),!P||m.length!==P);g=!0);}catch(I){S=!0,y=I}finally{try{g||N.return==null||N.return()}finally{if(S)throw y}}return m}}(D,q)||(0,k.Z)(D,q)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},168:(z,ie,w)=>{function k($,D){return D||(D=$.slice(0)),Object.freeze(Object.defineProperties($,{raw:{value:Object.freeze(D)}}))}w.d(ie,{Z:()=>k})},2982:(z,ie,w)=>{w.d(ie,{Z:()=>D});var k=w(907),$=w(181);function D(q){return function(l){if(Array.isArray(l))return(0,k.Z)(l)}(q)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(q)||(0,$.Z)(q)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1002:(z,ie,w)=>{function k($){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},k($)}w.d(ie,{Z:()=>k})},181:(z,ie,w)=>{w.d(ie,{Z:()=>$});var k=w(907);function $(D,q){if(D){if(typeof D=="string")return(0,k.Z)(D,q);var l=Object.prototype.toString.call(D).slice(8,-1);return l==="Object"&&D.constructor&&(l=D.constructor.name),l==="Map"||l==="Set"?Array.from(D):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?(0,k.Z)(D,q):void 0}}},9050:(z,ie,w)=>{w.r(ie),w.d(ie,{VERSION:()=>$,after:()=>ht,all:()=>At,allKeys:()=>st,any:()=>Lt,assign:()=>nn,before:()=>bt,bind:()=>tr,bindAll:()=>ft,chain:()=>pr,chunk:()=>eo,clone:()=>Zn,collect:()=>Ye,compact:()=>Di,compose:()=>qe,constant:()=>ve,contains:()=>Gt,countBy:()=>Ai,create:()=>Hn,debounce:()=>ee,default:()=>ct,defaults:()=>wn,defer:()=>ce,delay:()=>Ce,detect:()=>me,difference:()=>ui,drop:()=>si,each:()=>Ee,escape:()=>at,every:()=>At,extend:()=>rn,extendOwn:()=>nn,filter:()=>Ft,find:()=>me,findIndex:()=>$t,findKey:()=>kt,findLastIndex:()=>Yt,findWhere:()=>de,first:()=>Xr,flatten:()=>Mr,foldl:()=>Rt,foldr:()=>Vt,forEach:()=>Ee,functions:()=>pn,get:()=>Sn,groupBy:()=>Nr,has:()=>ln,head:()=>Xr,identity:()=>ze,include:()=>Gt,includes:()=>Gt,indexBy:()=>_i,indexOf:()=>tt,initial:()=>Hr,inject:()=>Rt,intersection:()=>Ni,invert:()=>fn,invoke:()=>vn,isArguments:()=>G,isArray:()=>J,isArrayBuffer:()=>ne,isBoolean:()=>E,isDataView:()=>A,isDate:()=>p,isElement:()=>M,isEmpty:()=>Fe,isEqual:()=>ot,isError:()=>K,isFinite:()=>V,isFunction:()=>b,isMap:()=>Ct,isMatch:()=>it,isNaN:()=>le,isNull:()=>j,isNumber:()=>s,isObject:()=>T,isRegExp:()=>O,isSet:()=>Nt,isString:()=>d,isSymbol:()=>Q,isTypedArray:()=>be,isUndefined:()=>U,isWeakMap:()=>It,isWeakSet:()=>sn,iteratee:()=>cn,keys:()=>Re,last:()=>Zo,lastIndexOf:()=>fe,map:()=>Ye,mapObject:()=>gn,matcher:()=>bn,matches:()=>bn,max:()=>ye,memoize:()=>yt,methods:()=>pn,min:()=>Pe,mixin:()=>Xi,negate:()=>Ie,noop:()=>jn,now:()=>Dn,object:()=>yo,omit:()=>Ur,once:()=>Pt,pairs:()=>hn,partial:()=>Xn,partition:()=>Ri,pick:()=>ni,pluck:()=>En,property:()=>zn,propertyOf:()=>On,random:()=>Rn,range:()=>Yi,reduce:()=>Rt,reduceRight:()=>Vt,reject:()=>Zt,rest:()=>si,restArguments:()=>B,result:()=>Gn,sample:()=>An,select:()=>Ft,shuffle:()=>$n,size:()=>li,some:()=>Lt,sortBy:()=>er,sortedIndex:()=>dn,tail:()=>si,take:()=>Xr,tap:()=>Fn,template:()=>Qn,templateSettings:()=>ut,throttle:()=>he,times:()=>yn,toArray:()=>un,toPath:()=>xn,transpose:()=>Gi,unescape:()=>Be,union:()=>Bi,uniq:()=>yi,unique:()=>yi,uniqueId:()=>or,unzip:()=>Gi,values:()=>mn,where:()=>Jn,without:()=>Dr,wrap:()=>we,zip:()=>Ki});var k={};w.r(k),w.d(k,{VERSION:()=>$,after:()=>ht,all:()=>At,allKeys:()=>st,any:()=>Lt,assign:()=>nn,before:()=>bt,bind:()=>tr,bindAll:()=>ft,chain:()=>pr,chunk:()=>eo,clone:()=>Zn,collect:()=>Ye,compact:()=>Di,compose:()=>qe,constant:()=>ve,contains:()=>Gt,countBy:()=>Ai,create:()=>Hn,debounce:()=>ee,default:()=>ps,defaults:()=>wn,defer:()=>ce,delay:()=>Ce,detect:()=>me,difference:()=>ui,drop:()=>si,each:()=>Ee,escape:()=>at,every:()=>At,extend:()=>rn,extendOwn:()=>nn,filter:()=>Ft,find:()=>me,findIndex:()=>$t,findKey:()=>kt,findLastIndex:()=>Yt,findWhere:()=>de,first:()=>Xr,flatten:()=>Mr,foldl:()=>Rt,foldr:()=>Vt,forEach:()=>Ee,functions:()=>pn,get:()=>Sn,groupBy:()=>Nr,has:()=>ln,head:()=>Xr,identity:()=>ze,include:()=>Gt,includes:()=>Gt,indexBy:()=>_i,indexOf:()=>tt,initial:()=>Hr,inject:()=>Rt,intersection:()=>Ni,invert:()=>fn,invoke:()=>vn,isArguments:()=>G,isArray:()=>J,isArrayBuffer:()=>ne,isBoolean:()=>E,isDataView:()=>A,isDate:()=>p,isElement:()=>M,isEmpty:()=>Fe,isEqual:()=>ot,isError:()=>K,isFinite:()=>V,isFunction:()=>b,isMap:()=>Ct,isMatch:()=>it,isNaN:()=>le,isNull:()=>j,isNumber:()=>s,isObject:()=>T,isRegExp:()=>O,isSet:()=>Nt,isString:()=>d,isSymbol:()=>Q,isTypedArray:()=>be,isUndefined:()=>U,isWeakMap:()=>It,isWeakSet:()=>sn,iteratee:()=>cn,keys:()=>Re,last:()=>Zo,lastIndexOf:()=>fe,map:()=>Ye,mapObject:()=>gn,matcher:()=>bn,matches:()=>bn,max:()=>ye,memoize:()=>yt,methods:()=>pn,min:()=>Pe,mixin:()=>Xi,negate:()=>Ie,noop:()=>jn,now:()=>Dn,object:()=>yo,omit:()=>Ur,once:()=>Pt,pairs:()=>hn,partial:()=>Xn,partition:()=>Ri,pick:()=>ni,pluck:()=>En,property:()=>zn,propertyOf:()=>On,random:()=>Rn,range:()=>Yi,reduce:()=>Rt,reduceRight:()=>Vt,reject:()=>Zt,rest:()=>si,restArguments:()=>B,result:()=>Gn,sample:()=>An,select:()=>Ft,shuffle:()=>$n,size:()=>li,some:()=>Lt,sortBy:()=>er,sortedIndex:()=>dn,tail:()=>si,take:()=>Xr,tap:()=>Fn,template:()=>Qn,templateSettings:()=>ut,throttle:()=>he,times:()=>yn,toArray:()=>un,toPath:()=>xn,transpose:()=>Gi,unescape:()=>Be,union:()=>Bi,uniq:()=>yi,unique:()=>yi,uniqueId:()=>or,unzip:()=>Gi,values:()=>mn,where:()=>Jn,without:()=>Dr,wrap:()=>we,zip:()=>Ki});var $="1.13.4",D=typeof self=="object"&&self.self===self&&self||typeof Pn=="object"&&Pn.global===Pn&&Pn||Function("return this")()||{},q=Array.prototype,l=Object.prototype,P=typeof Symbol<"u"?Symbol.prototype:null,N=q.push,C=q.slice,y=l.toString,m=l.hasOwnProperty,g=typeof ArrayBuffer<"u",S=typeof DataView<"u",I=Array.isArray,H=Object.keys,X=Object.create,Y=g&&ArrayBuffer.isView,x=isNaN,W=isFinite,oe=!{toString:null}.propertyIsEnumerable("toString"),se=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Z=Math.pow(2,53)-1;function B(Se,Le){return Le=Le==null?Se.length-1:+Le,function(){for(var rt=Math.max(arguments.length-Le,0),nt=Array(rt),_t=0;_t<rt;_t++)nt[_t]=arguments[_t+Le];switch(Le){case 0:return Se.call(this,nt);case 1:return Se.call(this,arguments[0],nt);case 2:return Se.call(this,arguments[0],arguments[1],nt)}var Tt=Array(Le+1);for(_t=0;_t<Le;_t++)Tt[_t]=arguments[_t];return Tt[Le]=nt,Se.apply(this,Tt)}}function T(Se){var Le=typeof Se;return Le==="function"||Le==="object"&&!!Se}function j(Se){return Se===null}function U(Se){return Se===void 0}function E(Se){return Se===!0||Se===!1||y.call(Se)==="[object Boolean]"}function M(Se){return!(!Se||Se.nodeType!==1)}function c(Se){var Le="[object "+Se+"]";return function(rt){return y.call(rt)===Le}}const d=c("String"),s=c("Number"),p=c("Date"),O=c("RegExp"),K=c("Error"),Q=c("Symbol"),ne=c("ArrayBuffer");var R=c("Function"),v=D.document&&D.document.childNodes;typeof Int8Array!="object"&&typeof v!="function"&&(R=function(Se){return typeof Se=="function"||!1});const b=R,a=c("Object");var f=S&&a(new DataView(new ArrayBuffer(8))),h=typeof Map<"u"&&a(new Map),_=c("DataView");const A=f?function(Se){return Se!=null&&b(Se.getInt8)&&ne(Se.buffer)}:_,J=I||c("Array");function te(Se,Le){return Se!=null&&m.call(Se,Le)}var F=c("Arguments");(function(){F(arguments)||(F=function(Se){return te(Se,"callee")})})();const G=F;function V(Se){return!Q(Se)&&W(Se)&&!isNaN(parseFloat(Se))}function le(Se){return s(Se)&&x(Se)}function ve(Se){return function(){return Se}}function Ne(Se){return function(Le){var rt=Se(Le);return typeof rt=="number"&&rt>=0&&rt<=Z}}function Ze(Se){return function(Le){return Le==null?void 0:Le[Se]}}const Me=Ze("byteLength"),je=Ne(Me);var ae=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const be=g?function(Se){return Y?Y(Se)&&!A(Se):je(Se)&&ae.test(y.call(Se))}:ve(!1),re=Ze("length");function Te(Se,Le){Le=function(Bt){for(var tn={},Ln=Bt.length,qn=0;qn<Ln;++qn)tn[Bt[qn]]=!0;return{contains:function(Er){return tn[Er]===!0},push:function(Er){return tn[Er]=!0,Bt.push(Er)}}}(Le);var rt=se.length,nt=Se.constructor,_t=b(nt)&&nt.prototype||l,Tt="constructor";for(te(Se,Tt)&&!Le.contains(Tt)&&Le.push(Tt);rt--;)(Tt=se[rt])in Se&&Se[Tt]!==_t[Tt]&&!Le.contains(Tt)&&Le.push(Tt)}function Re(Se){if(!T(Se))return[];if(H)return H(Se);var Le=[];for(var rt in Se)te(Se,rt)&&Le.push(rt);return oe&&Te(Se,Le),Le}function Fe(Se){if(Se==null)return!0;var Le=re(Se);return typeof Le=="number"&&(J(Se)||d(Se)||G(Se))?Le===0:re(Re(Se))===0}function it(Se,Le){var rt=Re(Le),nt=rt.length;if(Se==null)return!nt;for(var _t=Object(Se),Tt=0;Tt<nt;Tt++){var Bt=rt[Tt];if(Le[Bt]!==_t[Bt]||!(Bt in _t))return!1}return!0}function lt(Se){return Se instanceof lt?Se:this instanceof lt?void(this._wrapped=Se):new lt(Se)}function St(Se){return new Uint8Array(Se.buffer||Se,Se.byteOffset||0,Me(Se))}lt.VERSION=$,lt.prototype.value=function(){return this._wrapped},lt.prototype.valueOf=lt.prototype.toJSON=lt.prototype.value,lt.prototype.toString=function(){return String(this._wrapped)};var Ut="[object DataView]";function Xt(Se,Le,rt,nt){if(Se===Le)return Se!==0||1/Se==1/Le;if(Se==null||Le==null)return!1;if(Se!=Se)return Le!=Le;var _t=typeof Se;return(_t==="function"||_t==="object"||typeof Le=="object")&&Dt(Se,Le,rt,nt)}function Dt(Se,Le,rt,nt){Se instanceof lt&&(Se=Se._wrapped),Le instanceof lt&&(Le=Le._wrapped);var _t=y.call(Se);if(_t!==y.call(Le))return!1;if(f&&_t=="[object Object]"&&A(Se)){if(!A(Le))return!1;_t=Ut}switch(_t){case"[object RegExp]":case"[object String]":return""+Se==""+Le;case"[object Number]":return+Se!=+Se?+Le!=+Le:+Se==0?1/+Se==1/Le:+Se==+Le;case"[object Date]":case"[object Boolean]":return+Se==+Le;case"[object Symbol]":return P.valueOf.call(Se)===P.valueOf.call(Le);case"[object ArrayBuffer]":case Ut:return Dt(St(Se),St(Le),rt,nt)}var Tt=_t==="[object Array]";if(!Tt&&be(Se)){if(Me(Se)!==Me(Le))return!1;if(Se.buffer===Le.buffer&&Se.byteOffset===Le.byteOffset)return!0;Tt=!0}if(!Tt){if(typeof Se!="object"||typeof Le!="object")return!1;var Bt=Se.constructor,tn=Le.constructor;if(Bt!==tn&&!(b(Bt)&&Bt instanceof Bt&&b(tn)&&tn instanceof tn)&&"constructor"in Se&&"constructor"in Le)return!1}nt=nt||[];for(var Ln=(rt=rt||[]).length;Ln--;)if(rt[Ln]===Se)return nt[Ln]===Le;if(rt.push(Se),nt.push(Le),Tt){if((Ln=Se.length)!==Le.length)return!1;for(;Ln--;)if(!Xt(Se[Ln],Le[Ln],rt,nt))return!1}else{var qn,Er=Re(Se);if(Ln=Er.length,Re(Le).length!==Ln)return!1;for(;Ln--;)if(!te(Le,qn=Er[Ln])||!Xt(Se[qn],Le[qn],rt,nt))return!1}return rt.pop(),nt.pop(),!0}function ot(Se,Le){return Xt(Se,Le)}function st(Se){if(!T(Se))return[];var Le=[];for(var rt in Se)Le.push(rt);return oe&&Te(Se,Le),Le}function Ve(Se){var Le=re(Se);return function(rt){if(rt==null)return!1;var nt=st(rt);if(re(nt))return!1;for(var _t=0;_t<Le;_t++)if(!b(rt[Se[_t]]))return!1;return Se!==gt||!b(rt[Ge])}}var Ge="forEach",dt="has",We=["clear","delete"],mt=["get",dt,"set"],Ke=We.concat(Ge,mt),gt=We.concat(mt),vt=["add"].concat(We,Ge,dt);const Ct=h?Ve(Ke):c("Map"),It=h?Ve(gt):c("WeakMap"),Nt=h?Ve(vt):c("Set"),sn=c("WeakSet");function mn(Se){for(var Le=Re(Se),rt=Le.length,nt=Array(rt),_t=0;_t<rt;_t++)nt[_t]=Se[Le[_t]];return nt}function hn(Se){for(var Le=Re(Se),rt=Le.length,nt=Array(rt),_t=0;_t<rt;_t++)nt[_t]=[Le[_t],Se[Le[_t]]];return nt}function fn(Se){for(var Le={},rt=Re(Se),nt=0,_t=rt.length;nt<_t;nt++)Le[Se[rt[nt]]]=rt[nt];return Le}function pn(Se){var Le=[];for(var rt in Se)b(Se[rt])&&Le.push(rt);return Le.sort()}function Qt(Se,Le){return function(rt){var nt=arguments.length;if(Le&&(rt=Object(rt)),nt<2||rt==null)return rt;for(var _t=1;_t<nt;_t++)for(var Tt=arguments[_t],Bt=Se(Tt),tn=Bt.length,Ln=0;Ln<tn;Ln++){var qn=Bt[Ln];Le&&rt[qn]!==void 0||(rt[qn]=Tt[qn])}return rt}}const rn=Qt(st),nn=Qt(Re),wn=Qt(st,!0);function Bn(Se){if(!T(Se))return{};if(X)return X(Se);var Le=function(){};Le.prototype=Se;var rt=new Le;return Le.prototype=null,rt}function Hn(Se,Le){var rt=Bn(Se);return Le&&nn(rt,Le),rt}function Zn(Se){return T(Se)?J(Se)?Se.slice():rn({},Se):Se}function Fn(Se,Le){return Le(Se),Se}function xn(Se){return J(Se)?Se:[Se]}function Nn(Se){return lt.toPath(Se)}function Vn(Se,Le){for(var rt=Le.length,nt=0;nt<rt;nt++){if(Se==null)return;Se=Se[Le[nt]]}return rt?Se:void 0}function Sn(Se,Le,rt){var nt=Vn(Se,Nn(Le));return U(nt)?rt:nt}function ln(Se,Le){for(var rt=(Le=Nn(Le)).length,nt=0;nt<rt;nt++){var _t=Le[nt];if(!te(Se,_t))return!1;Se=Se[_t]}return!!rt}function ze(Se){return Se}function bn(Se){return Se=nn({},Se),function(Le){return it(Le,Se)}}function zn(Se){return Se=Nn(Se),function(Le){return Vn(Le,Se)}}function In(Se,Le,rt){if(Le===void 0)return Se;switch(rt==null?3:rt){case 1:return function(nt){return Se.call(Le,nt)};case 3:return function(nt,_t,Tt){return Se.call(Le,nt,_t,Tt)};case 4:return function(nt,_t,Tt,Bt){return Se.call(Le,nt,_t,Tt,Bt)}}return function(){return Se.apply(Le,arguments)}}function Mn(Se,Le,rt){return Se==null?ze:b(Se)?In(Se,Le,rt):T(Se)&&!J(Se)?bn(Se):zn(Se)}function cn(Se,Le){return Mn(Se,Le,1/0)}function Tn(Se,Le,rt){return lt.iteratee!==cn?lt.iteratee(Se,Le):Mn(Se,Le,rt)}function gn(Se,Le,rt){Le=Tn(Le,rt);for(var nt=Re(Se),_t=nt.length,Tt={},Bt=0;Bt<_t;Bt++){var tn=nt[Bt];Tt[tn]=Le(Se[tn],tn,Se)}return Tt}function jn(){}function On(Se){return Se==null?jn:function(Le){return Sn(Se,Le)}}function yn(Se,Le,rt){var nt=Array(Math.max(0,Se));Le=In(Le,rt,1);for(var _t=0;_t<Se;_t++)nt[_t]=Le(_t);return nt}function Rn(Se,Le){return Le==null&&(Le=Se,Se=0),Se+Math.floor(Math.random()*(Le-Se+1))}lt.toPath=xn,lt.iteratee=cn;const Dn=Date.now||function(){return new Date().getTime()};function en(Se){var Le=function(Tt){return Se[Tt]},rt="(?:"+Re(Se).join("|")+")",nt=RegExp(rt),_t=RegExp(rt,"g");return function(Tt){return Tt=Tt==null?"":""+Tt,nt.test(Tt)?Tt.replace(_t,Le):Tt}}const Qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},at=en(Qe),Be=en(fn(Qe)),ut=lt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var xt=/(.)^/,Kt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ht=/\\|'|\r|\n|\u2028|\u2029/g;function kn(Se){return"\\"+Kt[Se]}var an=/^\s*(\w|\$)+\s*$/;function Qn(Se,Le,rt){!Le&&rt&&(Le=rt),Le=wn({},Le,lt.templateSettings);var nt=RegExp([(Le.escape||xt).source,(Le.interpolate||xt).source,(Le.evaluate||xt).source].join("|")+"|$","g"),_t=0,Tt="__p+='";Se.replace(nt,function(qn,Er,Gr,fi,hi){return Tt+=Se.slice(_t,hi).replace(Ht,kn),_t=hi+qn.length,Er?Tt+=`'+
((__t=(`+Er+`))==null?'':_.escape(__t))+
'`:Gr?Tt+=`'+
((__t=(`+Gr+`))==null?'':__t)+
'`:fi&&(Tt+=`';
`+fi+`
__p+='`),qn}),Tt+=`';
`;var Bt,tn=Le.variable;if(tn){if(!an.test(tn))throw new Error("variable is not a bare identifier: "+tn)}else Tt=`with(obj||{}){
`+Tt+`}
`,tn="obj";Tt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Tt+`return __p;
`;try{Bt=new Function(tn,"_",Tt)}catch(qn){throw qn.source=Tt,qn}var Ln=function(qn){return Bt.call(this,qn,lt)};return Ln.source="function("+tn+`){
`+Tt+"}",Ln}function Gn(Se,Le,rt){var nt=(Le=Nn(Le)).length;if(!nt)return b(rt)?rt.call(Se):rt;for(var _t=0;_t<nt;_t++){var Tt=Se==null?void 0:Se[Le[_t]];Tt===void 0&&(Tt=rt,_t=nt),Se=b(Tt)?Tt.call(Se):Tt}return Se}var gr=0;function or(Se){var Le=++gr+"";return Se?Se+Le:Le}function pr(Se){var Le=lt(Se);return Le._chain=!0,Le}function mr(Se,Le,rt,nt,_t){if(!(nt instanceof Le))return Se.apply(rt,_t);var Tt=Bn(Se.prototype),Bt=Se.apply(Tt,_t);return T(Bt)?Bt:Tt}var cr=B(function(Se,Le){var rt=cr.placeholder,nt=function(){for(var _t=0,Tt=Le.length,Bt=Array(Tt),tn=0;tn<Tt;tn++)Bt[tn]=Le[tn]===rt?arguments[_t++]:Le[tn];for(;_t<arguments.length;)Bt.push(arguments[_t++]);return mr(Se,nt,this,this,Bt)};return nt});cr.placeholder=lt;const Xn=cr,tr=B(function(Se,Le,rt){if(!b(Se))throw new TypeError("Bind must be called on a function");var nt=B(function(_t){return mr(Se,nt,Le,this,rt.concat(_t))});return nt}),Yn=Ne(re);function Kn(Se,Le,rt,nt){if(nt=nt||[],Le||Le===0){if(Le<=0)return nt.concat(Se)}else Le=1/0;for(var _t=nt.length,Tt=0,Bt=re(Se);Tt<Bt;Tt++){var tn=Se[Tt];if(Yn(tn)&&(J(tn)||G(tn)))if(Le>1)Kn(tn,Le-1,rt,nt),_t=nt.length;else for(var Ln=0,qn=tn.length;Ln<qn;)nt[_t++]=tn[Ln++];else rt||(nt[_t++]=tn)}return nt}const ft=B(function(Se,Le){var rt=(Le=Kn(Le,!1,!1)).length;if(rt<1)throw new Error("bindAll must be passed function names");for(;rt--;){var nt=Le[rt];Se[nt]=tr(Se[nt],Se)}return Se});function yt(Se,Le){var rt=function(nt){var _t=rt.cache,Tt=""+(Le?Le.apply(this,arguments):nt);return te(_t,Tt)||(_t[Tt]=Se.apply(this,arguments)),_t[Tt]};return rt.cache={},rt}const Ce=B(function(Se,Le,rt){return setTimeout(function(){return Se.apply(null,rt)},Le)}),ce=Xn(Ce,lt,1);function he(Se,Le,rt){var nt,_t,Tt,Bt,tn=0;rt||(rt={});var Ln=function(){tn=rt.leading===!1?0:Dn(),nt=null,Bt=Se.apply(_t,Tt),nt||(_t=Tt=null)},qn=function(){var Er=Dn();tn||rt.leading!==!1||(tn=Er);var Gr=Le-(Er-tn);return _t=this,Tt=arguments,Gr<=0||Gr>Le?(nt&&(clearTimeout(nt),nt=null),tn=Er,Bt=Se.apply(_t,Tt),nt||(_t=Tt=null)):nt||rt.trailing===!1||(nt=setTimeout(Ln,Gr)),Bt};return qn.cancel=function(){clearTimeout(nt),tn=0,nt=_t=Tt=null},qn}function ee(Se,Le,rt){var nt,_t,Tt,Bt,tn,Ln=function(){var Er=Dn()-_t;Le>Er?nt=setTimeout(Ln,Le-Er):(nt=null,rt||(Bt=Se.apply(tn,Tt)),nt||(Tt=tn=null))},qn=B(function(Er){return tn=this,Tt=Er,_t=Dn(),nt||(nt=setTimeout(Ln,Le),rt&&(Bt=Se.apply(tn,Tt))),Bt});return qn.cancel=function(){clearTimeout(nt),nt=Tt=tn=null},qn}function we(Se,Le){return Xn(Le,Se)}function Ie(Se){return function(){return!Se.apply(this,arguments)}}function qe(){var Se=arguments,Le=Se.length-1;return function(){for(var rt=Le,nt=Se[Le].apply(this,arguments);rt--;)nt=Se[rt].call(this,nt);return nt}}function ht(Se,Le){return function(){if(--Se<1)return Le.apply(this,arguments)}}function bt(Se,Le){var rt;return function(){return--Se>0&&(rt=Le.apply(this,arguments)),Se<=1&&(Le=null),rt}}const Pt=Xn(bt,2);function kt(Se,Le,rt){Le=Tn(Le,rt);for(var nt,_t=Re(Se),Tt=0,Bt=_t.length;Tt<Bt;Tt++)if(Le(Se[nt=_t[Tt]],nt,Se))return nt}function Mt(Se){return function(Le,rt,nt){rt=Tn(rt,nt);for(var _t=re(Le),Tt=Se>0?0:_t-1;Tt>=0&&Tt<_t;Tt+=Se)if(rt(Le[Tt],Tt,Le))return Tt;return-1}}const $t=Mt(1),Yt=Mt(-1);function dn(Se,Le,rt,nt){for(var _t=(rt=Tn(rt,nt,1))(Le),Tt=0,Bt=re(Se);Tt<Bt;){var tn=Math.floor((Tt+Bt)/2);rt(Se[tn])<_t?Tt=tn+1:Bt=tn}return Tt}function Xe(Se,Le,rt){return function(nt,_t,Tt){var Bt=0,tn=re(nt);if(typeof Tt=="number")Se>0?Bt=Tt>=0?Tt:Math.max(Tt+tn,Bt):tn=Tt>=0?Math.min(Tt+1,tn):Tt+tn+1;else if(rt&&Tt&&tn)return nt[Tt=rt(nt,_t)]===_t?Tt:-1;if(_t!=_t)return(Tt=Le(C.call(nt,Bt,tn),le))>=0?Tt+Bt:-1;for(Tt=Se>0?Bt:tn-1;Tt>=0&&Tt<tn;Tt+=Se)if(nt[Tt]===_t)return Tt;return-1}}const tt=Xe(1,$t,dn),fe=Xe(-1,Yt);function me(Se,Le,rt){var nt=(Yn(Se)?$t:kt)(Se,Le,rt);if(nt!==void 0&&nt!==-1)return Se[nt]}function de(Se,Le){return me(Se,bn(Le))}function Ee(Se,Le,rt){var nt,_t;if(Le=In(Le,rt),Yn(Se))for(nt=0,_t=Se.length;nt<_t;nt++)Le(Se[nt],nt,Se);else{var Tt=Re(Se);for(nt=0,_t=Tt.length;nt<_t;nt++)Le(Se[Tt[nt]],Tt[nt],Se)}return Se}function Ye(Se,Le,rt){Le=Tn(Le,rt);for(var nt=!Yn(Se)&&Re(Se),_t=(nt||Se).length,Tt=Array(_t),Bt=0;Bt<_t;Bt++){var tn=nt?nt[Bt]:Bt;Tt[Bt]=Le(Se[tn],tn,Se)}return Tt}function Ot(Se){var Le=function(rt,nt,_t,Tt){var Bt=!Yn(rt)&&Re(rt),tn=(Bt||rt).length,Ln=Se>0?0:tn-1;for(Tt||(_t=rt[Bt?Bt[Ln]:Ln],Ln+=Se);Ln>=0&&Ln<tn;Ln+=Se){var qn=Bt?Bt[Ln]:Ln;_t=nt(_t,rt[qn],qn,rt)}return _t};return function(rt,nt,_t,Tt){var Bt=arguments.length>=3;return Le(rt,In(nt,Tt,4),_t,Bt)}}const Rt=Ot(1),Vt=Ot(-1);function Ft(Se,Le,rt){var nt=[];return Le=Tn(Le,rt),Ee(Se,function(_t,Tt,Bt){Le(_t,Tt,Bt)&&nt.push(_t)}),nt}function Zt(Se,Le,rt){return Ft(Se,Ie(Tn(Le)),rt)}function At(Se,Le,rt){Le=Tn(Le,rt);for(var nt=!Yn(Se)&&Re(Se),_t=(nt||Se).length,Tt=0;Tt<_t;Tt++){var Bt=nt?nt[Tt]:Tt;if(!Le(Se[Bt],Bt,Se))return!1}return!0}function Lt(Se,Le,rt){Le=Tn(Le,rt);for(var nt=!Yn(Se)&&Re(Se),_t=(nt||Se).length,Tt=0;Tt<_t;Tt++){var Bt=nt?nt[Tt]:Tt;if(Le(Se[Bt],Bt,Se))return!0}return!1}function Gt(Se,Le,rt,nt){return Yn(Se)||(Se=mn(Se)),(typeof rt!="number"||nt)&&(rt=0),tt(Se,Le,rt)>=0}const vn=B(function(Se,Le,rt){var nt,_t;return b(Le)?_t=Le:(Le=Nn(Le),nt=Le.slice(0,-1),Le=Le[Le.length-1]),Ye(Se,function(Tt){var Bt=_t;if(!Bt){if(nt&&nt.length&&(Tt=Vn(Tt,nt)),Tt==null)return;Bt=Tt[Le]}return Bt==null?Bt:Bt.apply(Tt,rt)})});function En(Se,Le){return Ye(Se,zn(Le))}function Jn(Se,Le){return Ft(Se,bn(Le))}function ye(Se,Le,rt){var nt,_t,Tt=-1/0,Bt=-1/0;if(Le==null||typeof Le=="number"&&typeof Se[0]!="object"&&Se!=null)for(var tn=0,Ln=(Se=Yn(Se)?Se:mn(Se)).length;tn<Ln;tn++)(nt=Se[tn])!=null&&nt>Tt&&(Tt=nt);else Le=Tn(Le,rt),Ee(Se,function(qn,Er,Gr){((_t=Le(qn,Er,Gr))>Bt||_t===-1/0&&Tt===-1/0)&&(Tt=qn,Bt=_t)});return Tt}function Pe(Se,Le,rt){var nt,_t,Tt=1/0,Bt=1/0;if(Le==null||typeof Le=="number"&&typeof Se[0]!="object"&&Se!=null)for(var tn=0,Ln=(Se=Yn(Se)?Se:mn(Se)).length;tn<Ln;tn++)(nt=Se[tn])!=null&&nt<Tt&&(Tt=nt);else Le=Tn(Le,rt),Ee(Se,function(qn,Er,Gr){((_t=Le(qn,Er,Gr))<Bt||_t===1/0&&Tt===1/0)&&(Tt=qn,Bt=_t)});return Tt}var De=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function un(Se){return Se?J(Se)?C.call(Se):d(Se)?Se.match(De):Yn(Se)?Ye(Se,ze):mn(Se):[]}function An(Se,Le,rt){if(Le==null||rt)return Yn(Se)||(Se=mn(Se)),Se[Rn(Se.length-1)];var nt=un(Se),_t=re(nt);Le=Math.max(Math.min(Le,_t),0);for(var Tt=_t-1,Bt=0;Bt<Le;Bt++){var tn=Rn(Bt,Tt),Ln=nt[Bt];nt[Bt]=nt[tn],nt[tn]=Ln}return nt.slice(0,Le)}function $n(Se){return An(Se,1/0)}function er(Se,Le,rt){var nt=0;return Le=Tn(Le,rt),En(Ye(Se,function(_t,Tt,Bt){return{value:_t,index:nt++,criteria:Le(_t,Tt,Bt)}}).sort(function(_t,Tt){var Bt=_t.criteria,tn=Tt.criteria;if(Bt!==tn){if(Bt>tn||Bt===void 0)return 1;if(Bt<tn||tn===void 0)return-1}return _t.index-Tt.index}),"value")}function Br(Se,Le){return function(rt,nt,_t){var Tt=Le?[[],[]]:{};return nt=Tn(nt,_t),Ee(rt,function(Bt,tn){var Ln=nt(Bt,tn,rt);Se(Tt,Bt,Ln)}),Tt}}const Nr=Br(function(Se,Le,rt){te(Se,rt)?Se[rt].push(Le):Se[rt]=[Le]}),_i=Br(function(Se,Le,rt){Se[rt]=Le}),Ai=Br(function(Se,Le,rt){te(Se,rt)?Se[rt]++:Se[rt]=1}),Ri=Br(function(Se,Le,rt){Se[rt?0:1].push(Le)},!0);function li(Se){return Se==null?0:Yn(Se)?Se.length:Re(Se).length}function Ti(Se,Le,rt){return Le in rt}const ni=B(function(Se,Le){var rt={},nt=Le[0];if(Se==null)return rt;b(nt)?(Le.length>1&&(nt=In(nt,Le[1])),Le=st(Se)):(nt=Ti,Le=Kn(Le,!1,!1),Se=Object(Se));for(var _t=0,Tt=Le.length;_t<Tt;_t++){var Bt=Le[_t],tn=Se[Bt];nt(tn,Bt,Se)&&(rt[Bt]=tn)}return rt}),Ur=B(function(Se,Le){var rt,nt=Le[0];return b(nt)?(nt=Ie(nt),Le.length>1&&(rt=Le[1])):(Le=Ye(Kn(Le,!1,!1),String),nt=function(_t,Tt){return!Gt(Le,Tt)}),ni(Se,nt,rt)});function Hr(Se,Le,rt){return C.call(Se,0,Math.max(0,Se.length-(Le==null||rt?1:Le)))}function Xr(Se,Le,rt){return Se==null||Se.length<1?Le==null||rt?void 0:[]:Le==null||rt?Se[0]:Hr(Se,Se.length-Le)}function si(Se,Le,rt){return C.call(Se,Le==null||rt?1:Le)}function Zo(Se,Le,rt){return Se==null||Se.length<1?Le==null||rt?void 0:[]:Le==null||rt?Se[Se.length-1]:si(Se,Math.max(0,Se.length-Le))}function Di(Se){return Ft(Se,Boolean)}function Mr(Se,Le){return Kn(Se,Le,!1)}const ui=B(function(Se,Le){return Le=Kn(Le,!0,!0),Ft(Se,function(rt){return!Gt(Le,rt)})}),Dr=B(function(Se,Le){return ui(Se,Le)});function yi(Se,Le,rt,nt){E(Le)||(nt=rt,rt=Le,Le=!1),rt!=null&&(rt=Tn(rt,nt));for(var _t=[],Tt=[],Bt=0,tn=re(Se);Bt<tn;Bt++){var Ln=Se[Bt],qn=rt?rt(Ln,Bt,Se):Ln;Le&&!rt?(Bt&&Tt===qn||_t.push(Ln),Tt=qn):rt?Gt(Tt,qn)||(Tt.push(qn),_t.push(Ln)):Gt(_t,Ln)||_t.push(Ln)}return _t}const Bi=B(function(Se){return yi(Kn(Se,!0,!0))});function Ni(Se){for(var Le=[],rt=arguments.length,nt=0,_t=re(Se);nt<_t;nt++){var Tt=Se[nt];if(!Gt(Le,Tt)){var Bt;for(Bt=1;Bt<rt&&Gt(arguments[Bt],Tt);Bt++);Bt===rt&&Le.push(Tt)}}return Le}function Gi(Se){for(var Le=Se&&ye(Se,re).length||0,rt=Array(Le),nt=0;nt<Le;nt++)rt[nt]=En(Se,nt);return rt}const Ki=B(Gi);function yo(Se,Le){for(var rt={},nt=0,_t=re(Se);nt<_t;nt++)Le?rt[Se[nt]]=Le[nt]:rt[Se[nt][0]]=Se[nt][1];return rt}function Yi(Se,Le,rt){Le==null&&(Le=Se||0,Se=0),rt||(rt=Le<Se?-1:1);for(var nt=Math.max(Math.ceil((Le-Se)/rt),0),_t=Array(nt),Tt=0;Tt<nt;Tt++,Se+=rt)_t[Tt]=Se;return _t}function eo(Se,Le){if(Le==null||Le<1)return[];for(var rt=[],nt=0,_t=Se.length;nt<_t;)rt.push(C.call(Se,nt,nt+=Le));return rt}function bo(Se,Le){return Se._chain?lt(Le).chain():Le}function Xi(Se){return Ee(pn(Se),function(Le){var rt=lt[Le]=Se[Le];lt.prototype[Le]=function(){var nt=[this._wrapped];return N.apply(nt,arguments),bo(this,rt.apply(lt,nt))}}),lt}Ee(["pop","push","reverse","shift","sort","splice","unshift"],function(Se){var Le=q[Se];lt.prototype[Se]=function(){var rt=this._wrapped;return rt!=null&&(Le.apply(rt,arguments),Se!=="shift"&&Se!=="splice"||rt.length!==0||delete rt[0]),bo(this,rt)}}),Ee(["concat","join","slice"],function(Se){var Le=q[Se];lt.prototype[Se]=function(){var rt=this._wrapped;return rt!=null&&(rt=Le.apply(rt,arguments)),bo(this,rt)}});const ps=lt;var $e=Xi(k);$e._=$e;const ct=$e}},He={};function ge(z){var ie=He[z];if(ie!==void 0)return ie.exports;var w=He[z]={exports:{}};return Ue[z].call(w.exports,w,w.exports,ge),w.exports}ge.n=z=>{var ie=z&&z.__esModule?()=>z.default:()=>z;return ge.d(ie,{a:ie}),ie},ge.d=(z,ie)=>{for(var w in ie)ge.o(ie,w)&&!ge.o(z,w)&&Object.defineProperty(z,w,{enumerable:!0,get:ie[w]})},ge.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ge.o=(z,ie)=>Object.prototype.hasOwnProperty.call(z,ie),ge.r=z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})};var _e={};return(()=>{ge.d(_e,{default:()=>ne});var z=ge(4942),ie=ge(9050),w=ge(2579),k=ge(7539);const $={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:null,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,dragMode:0,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,multiFrames:!1,customUI:!1};var D=ge(2316),q=ge.n(D),l,P=ge(1163),N=(l=function(R,v){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(b[f]=a[f])},l(R,v)},function(R,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function b(){this.constructor=R}l(R,v),R.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}),C=function(R){function v(){return R!==null&&R.apply(this,arguments)||this}return N(v,R),v}(D.Model);const y=function(R){function v(){return R!==null&&R.apply(this,arguments)||this}return N(v,R),v.prototype.getByComponent=function(b){var a=this;return this.filter(function(f){return a.getComponent(f)===b})[0]},v.prototype.addComponent=function(b,a){var f=this,h=((0,ie.isArray)(b)?b:[b]).filter(function(_){return!f.hasComponent(_)}).map(function(_){return new C({component:_})})[0];return this.push(h,a)},v.prototype.getComponent=function(b){return b.get("component")},v.prototype.hasComponent=function(b){var a=this.getByComponent(b);return a&&this.contains(a)},v.prototype.lastComponent=function(){var b=this.last();return b&&this.getComponent(b)},v.prototype.allComponents=function(){var b=this;return this.map(function(a){return b.getComponent(a)}).filter(function(a){return a})},v.prototype.removeComponent=function(b,a){var f=this,h=((0,ie.isArray)(b)?b:[b]).map(function(_){return f.getByComponent(_)});return this.remove(h,a)},v}(D.Collection);var m=function(){var R=function(v,b){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h])},R(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function a(){this.constructor=v}R(v,b),v.prototype=b===null?Object.create(b):(a.prototype=b.prototype,new a)}}(),g=function(){return g=Object.assign||function(R){for(var v,b=1,a=arguments.length;b<a;b++)for(var f in v=arguments[b])Object.prototype.hasOwnProperty.call(v,f)&&(R[f]=v[f]);return R},g.apply(this,arguments)},S=function(R,v,b,a){return new(b||(b=Promise))(function(f,h){function _(te){try{J(a.next(te))}catch(F){h(F)}}function A(te){try{J(a.throw(te))}catch(F){h(F)}}function J(te){var F;te.done?f(te.value):(F=te.value,F instanceof b?F:new b(function(G){G(F)})).then(_,A)}J((a=a.apply(R,v||[])).next())})},I=function(R,v){var b,a,f,h,_={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function A(J){return function(te){return function(F){if(b)throw new TypeError("Generator is already executing.");for(;_;)try{if(b=1,a&&(f=2&F[0]?a.return:F[0]?a.throw||((f=a.return)&&f.call(a),0):a.next)&&!(f=f.call(a,F[1])).done)return f;switch(a=0,f&&(F=[2&F[0],f.value]),F[0]){case 0:case 1:f=F;break;case 4:return _.label++,{value:F[1],done:!1};case 5:_.label++,a=F[1],F=[0];continue;case 7:F=_.ops.pop(),_.trys.pop();continue;default:if(f=_.trys,!((f=f.length>0&&f[f.length-1])||F[0]!==6&&F[0]!==2)){_=0;continue}if(F[0]===3&&(!f||F[1]>f[0]&&F[1]<f[3])){_.label=F[1];break}if(F[0]===6&&_.label<f[1]){_.label=f[1],f=F;break}if(f&&_.label<f[2]){_.label=f[2],_.ops.push(F);break}f[2]&&_.ops.pop(),_.trys.pop();continue}F=v.call(R,_)}catch(G){F=[6,G],a=0}finally{b=f=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([J,te])}}},H=function(R,v){var b={};for(var a in R)Object.prototype.hasOwnProperty.call(R,a)&&v.indexOf(a)<0&&(b[a]=R[a]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function"){var f=0;for(a=Object.getOwnPropertySymbols(R);f<a.length;f++)v.indexOf(a[f])<0&&Object.prototype.propertyIsEnumerable.call(R,a[f])&&(b[a[f]]=R[a[f]])}return b},X=function(R,v,b){if(b||arguments.length===2)for(var a,f=0,h=v.length;f<h;f++)!a&&f in v||(a||(a=Array.prototype.slice.call(v,0,f)),a[f]=v[f]);return R.concat(a||Array.prototype.slice.call(v))};q().$=w.default;var Y=[ge(6718),ge(4836),ge(9788),ge(8202),ge(4859),ge(2004),ge(4424),ge(2326),ge(3463),ge(8588),ge(7619),ge(899),ge(2012),ge(1030),ge(672),ge(7948),ge(6388),ge(5819),ge(7892),ge(7287),ge(289),ge(6407)],x=[];(function(R){var v=R.$;if(v&&v.prototype&&v.prototype.constructor.name!=="jQuery"){var b=v.fn;b.hide=function(){return this.css("display","none")},b.show=function(){return this.css("display","block")},b.focus=function(){var h=this.get(0);return h&&h.focus(),this},b.bind=function(h,_){return this.on(h,_)},b.unbind=function(h,_){if((0,ie.isObject)(h)){for(var A in h)h.hasOwnProperty(A)&&this.off(A,h[A]);return this}return this.off(h,_)},b.click=function(h){return h?this.on("click",h):this.trigger("click")},b.change=function(h){return h?this.on("change",h):this.trigger("change")},b.keydown=function(h){return h?this.on("keydown",h):this.trigger("keydown")},b.delegate=function(h,_,A,J){return J||(J=A),this.on(_,h,function(te){te.data=A,J(te)})},b.scrollLeft=function(){var h=this.get(0),_=(h=h.nodeType==9?h.defaultView:h)instanceof Window?h:null;return _?_.pageXOffset:h.scrollLeft||0},b.scrollTop=function(){var h=this.get(0),_=(h=h.nodeType==9?h.defaultView:h)instanceof Window?h:null;return _?_.pageYOffset:h.scrollTop||0};var a=v.prototype.offset;b.offset=function(h){var _,A;return h&&(_=h.top,A=h.left),_!==void 0&&this.css("top","".concat(_,"px")),A!==void 0&&this.css("left","".concat(A,"px")),a.call(this)},v.map=function(h,_){for(var A=[],J=0;J<h.length;J++)A.push(_(h[J],J));return A};var f=Array.prototype.indexOf;v.inArray=function(h,_,A){return _==null?-1:f.call(_,h,A)},v.Event=function(h,_){if(!(this instanceof v.Event))return new v.Event(h,_);this.type=h,this.isDefaultPrevented=function(){return!1}}}})({Backbone:q(),$:q().$});var W={debug:console.log,info:console.info,warning:console.warn,error:console.error},oe=function(R){function v(b){b===void 0&&(b={});var a=R.call(this)||this;a.__skip=!1,a.defaultRunning=!1,a.destroyed=!1,a._config=b;var f=a.config;a.set("Config",b),a.set("modules",[]),a.set("toLoad",[]),a.set("storables",[]),a.set("selected",new y),a.set("dmode",f.dragMode);var h=f.el,_=f.log,A=_===!0?(0,ie.keys)(W):(0,ie.isArray)(_)?_:[];return(0,ie.bindAll)(a,"initBaseColorPicker"),h&&f.fromElement&&(f.components=h.innerHTML),a.attrsOrig=h?(0,ie.toArray)(h.attributes).reduce(function(J,te){return J[te.nodeName]=te.nodeValue,J},{}):"",f.components&&!f.pageManager&&(f.pageManager={pages:[{component:f.components}]}),Y.forEach(function(J){return a.loadModule(J)}),x.forEach(function(J){return a.tsLoadModule(J)}),a.on("change:componentHovered",a.componentHovered,a),a.on("change:changesCount",a.updateChanges,a),a.on("change:readyLoad change:readyCanvas",a._checkReady,a),A.forEach(function(J){return a.listenLog(J)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(J){var te=J.from,F=J.to;a.listenTo(a,te,function(){for(var G=[],V=0;V<arguments.length;V++)G[V]=arguments[V];a.trigger.apply(a,X([F],G,!1)),a.logWarning("The event '".concat(te,"' is deprecated, replace it with '").concat(F,"'"))})}),a}return m(v,R),v.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(v.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),v.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},v.prototype.getContainer=function(){return this.config.el},v.prototype.listenLog=function(b){this.listenTo(this,"log:".concat(b),W[b])},Object.defineProperty(v.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),v.prototype.getConfig=function(b){var a=this.config;return(0,ie.isUndefined)(b)?a:a[b]},v.prototype.loadOnStart=function(){var b=this,a=this.config,f=a.projectData,h=a.headless,_=this.get("StorageManager");this.toLoad.forEach(function(te){return te.onLoad()});var A=function(){b.modules.forEach(function(te){return te.postLoad&&te.postLoad(b)}),b.set("readyLoad",1)};h?(f&&this.loadData(f),A()):setTimeout(function(){return S(b,void 0,void 0,function(){var te;return I(this,function(F){switch(F.label){case 0:return f?(this.loadData(f),[3,5]):[3,1];case 1:if(!(_!=null&&_.canAutoload()))return[3,5];F.label=2;case 2:return F.trys.push([2,4,,5]),[4,this.load()];case 3:return F.sent(),[3,5];case 4:return te=F.sent(),this.logError(te),[3,5];case 5:return A(),[2]}})})});var J=new v({noticeOnUnload:!1,storageManager:!1,undoManager:!1});["PageManager","Canvas"].forEach(function(te){return J.get(te).onLoad()}),this.set("shallow",J)},v.prototype.updateChanges=function(){var b=this,a=this.get("StorageManager"),f=this.getDirtyCount();this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return b.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=f?function(){return!0}:null),a.isAutosave()&&f>=a.getStepsBeforeSave()&&this.store().catch(function(h){return b.logError(h)})},v.prototype.loadModule=function(b){var a=this.config,f=new(b.default||b)(this),h=f.name.charAt(0).toLowerCase()+f.name.slice(1),_=(0,ie.isUndefined)(a[h])?a[f.name]:a[h],A=_===!0?{}:_||{};return A.pStylePrefix=a.pStylePrefix||"",(0,ie.isUndefined)(_)||_||(A._disable=1),f.storageKey&&f.store&&f.load&&this.storables.push(f),A.em=this,f.init(g({},A)),!f.private&&this.set(f.name,f),f.onLoad&&this.toLoad.push(f),this.modules.push(f),this},v.prototype.tsLoadModule=function(b){var a=new(b.default||b)(this);return a.storageKey&&a.store&&a.load&&this.storables.push(a),!a.private&&this.set(a.name,a),a.onLoad&&this.toLoad.push(a),this.modules.push(a),this},v.prototype.init=function(b,a){a===void 0&&(a={}),this.destroyed&&(this.initialize(a),this.destroyed=!1),this.set("Editor",b)},v.prototype.getEditor=function(){return this.get("Editor")},v.prototype.handleUpdates=function(b,a,f){var h=this;f===void 0&&(f={}),this.__skip||f.temporary||f.noCount||f.avoidStore||!this.get("ready")||(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var _=h.getDirtyCount()||0,A=(f.unset,H(f,["unset"]));h.set("changesCount",_+1,A)},0))},v.prototype.changesUp=function(b){this.handleUpdates(0,0,b)},v.prototype.componentHovered=function(b,a,f){var h=this.previous("componentHovered");h&&this.trigger("component:unhovered",h,f),a&&this.trigger("component:hovered",a,f)},v.prototype.getSelected=function(){return this.selected.lastComponent()},v.prototype.getSelectedAll=function(){return this.selected.allComponents()},v.prototype.setSelected=function(b,a){var f=this;a===void 0&&(a={});var h=a.event,_=h&&(h.ctrlKey||h.metaKey),A=(h||{}).shiftKey,J=((0,ie.isArray)(b)?b:[b]).map(function(V){return(0,P.getModel)(V,w.default)}),te=this.getSelectedAll(),F=this.getConfig().multipleSelection,G=(0,ie.isArray)(b);G&&this.removeSelected(te.filter(function(V){return!(0,ie.contains)(J,V)})),J.forEach(function(V){var le=(0,P.getModel)(V,void 0);if(le&&(f.trigger("component:select:before",le,a),!le.get("selectable")||a.abort)){if(!a.useValid)return;for(var ve=le.parent();ve&&!ve.get("selectable");)ve=ve.parent();le=ve}if(_&&F)return f.toggleSelected(le);if(A&&F){f.clearSelection(f.get("Canvas").getWindow());var Ne,Ze,Me=le.collection,je=le.index();if(f.getSelectedAll().forEach(function(ae){var be=ae.collection,re=ae.index();be===Me&&(re<je?Ne=(0,ie.isUndefined)(Ne)?re:Math.max(Ne,re):re>je&&(Ze=(0,ie.isUndefined)(Ze)?re:Math.min(Ze,re)))}),!(0,ie.isUndefined)(Ne))for(;Ne!==je;)f.addSelected(Me.at(Ne)),Ne++;if(!(0,ie.isUndefined)(Ze))for(;Ze!==je;)f.addSelected(Me.at(Ze)),Ze--;return f.addSelected(le)}!G&&f.removeSelected(te.filter(function(ae){return ae!==le})),f.addSelected(le,a)})},v.prototype.addSelected=function(b,a){var f=this;a===void 0&&(a={});var h=(0,P.getModel)(b,w.default);((0,ie.isArray)(h)?h:[h]).forEach(function(_){if(!_||_.get("selectable")){var A=f.selected;a.forceChange&&f.removeSelected(_,a),A.addComponent(_,a),_&&f.trigger("component:select",_,a)}})},v.prototype.removeSelected=function(b,a){a===void 0&&(a={}),this.selected.removeComponent((0,P.getModel)(b,w.default),a)},v.prototype.toggleSelected=function(b,a){var f=this;a===void 0&&(a={});var h=(0,P.getModel)(b,w.default);((0,ie.isArray)(h)?h:[h]).forEach(function(_){f.selected.hasComponent(_)?f.removeSelected(_,a):f.addSelected(_,a)})},v.prototype.setHovered=function(b,a){if(a===void 0&&(a={}),!b)return this.set("componentHovered","");var f="component:hover",h=(0,P.getModel)(b,void 0);if(h){if(a.forceChange&&this.set("componentHovered",""),this.trigger("".concat(f,":before"),h,a),!h.get("hoverable")){if(!a.useValid||a.abort)return;for(var _=h&&h.parent();_&&!_.get("hoverable");)_=_.parent();h=_}a.abort||(this.set("componentHovered",h,a),this.trigger(f,h,a))}},v.prototype.getHovered=function(){return this.get("componentHovered")},v.prototype.setComponents=function(b,a){return a===void 0&&(a={}),this.get("DomComponents").setComponents(b,a)},v.prototype.getComponents=function(){var b=this.get("DomComponents"),a=this.get("CodeManager");if(b&&a){var f=b.getComponents();return a.getCode(f,"json")}},v.prototype.setStyle=function(b,a){a===void 0&&(a={});var f=this.get("CssComposer");return f.clear(a),f.getAll().add(b,a),this},v.prototype.addStyle=function(b,a){a===void 0&&(a={});var f=this.getStyle().add(b,a);return(0,ie.isArray)(f)?f:[f]},v.prototype.getStyle=function(){return this.get("CssComposer").getAll()},v.prototype.setState=function(b){return this.set("state",b),this},v.prototype.getState=function(){return this.get("state")||""},v.prototype.getHtml=function(b){b===void 0&&(b={});var a=this.config,f=a.optsHtml,h=a.jsInHtml?this.getJs(b):"",_=b.component||this.get("DomComponents").getComponent(),A=_?this.get("CodeManager").getCode(_,"html",g(g({},f),b)):"";return A+=h?"<script>".concat(h,"<\/script>"):""},v.prototype.getCss=function(b){b===void 0&&(b={});var a=this.config,f=a.optsCss,h=b.avoidProtected,_=(0,ie.isUndefined)(b.keepUnusedStyles)?a.keepUnusedStyles:b.keepUnusedStyles,A=this.get("CssComposer"),J=b.component||this.get("DomComponents").getComponent(),te=h?"":a.protectedCss,F=J&&this.get("CodeManager").getCode(J,"css",g(g({cssc:A,keepUnusedStyles:_},f),b));return J?b.json?F:te+F:""},v.prototype.getJs=function(b){b===void 0&&(b={});var a=b.component||this.get("DomComponents").getWrapper();return a?this.get("CodeManager").getCode(a,"js").trim():""},v.prototype.store=function(b){return S(this,void 0,void 0,function(){var a;return I(this,function(f){switch(f.label){case 0:return a=this.storeData(),[4,this.get("StorageManager").store(a,b)];case 1:return f.sent(),this.clearDirtyCount(),[2,a]}})})},v.prototype.load=function(b){return S(this,void 0,void 0,function(){var a;return I(this,function(f){switch(f.label){case 0:return[4,this.get("StorageManager").load(b)];case 1:return a=f.sent(),this.loadData(a),[2,a]}})})},v.prototype.storeData=function(){var b={},a=this.getEditing();return a&&a.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(f){b=g(g({},b),f.store(1))}),JSON.parse(JSON.stringify(b))},v.prototype.loadData=function(b){return b===void 0&&(b={}),(0,P.isEmptyObj)(b)||(this.storables.forEach(function(a){return a.clear()}),this.storables.forEach(function(a){return a.load(b)})),b},v.prototype.getDeviceModel=function(){var b=this.get("device");return this.get("DeviceManager").get(b)},v.prototype.runDefault=function(b){b===void 0&&(b={});var a=this.get("Commands").get(this.config.defaultCommand);a&&!this.defaultRunning&&(a.stop(this,this,b),a.run(this,this,b),this.defaultRunning=!0)},v.prototype.stopDefault=function(b){b===void 0&&(b={});var a=this.get("Commands").get(this.config.defaultCommand);a&&this.defaultRunning&&(a.stop(this,this,b),this.defaultRunning=!1)},v.prototype.refreshCanvas=function(b){b===void 0&&(b={}),this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset()),b.tools&&this.trigger("canvas:updateTools")},v.prototype.clearSelection=function(b){var a;(a=(b||window).getSelection())===null||a===void 0||a.removeAllRanges()},v.prototype.getCurrentMedia=function(){var b=this.config,a=this.getDeviceModel(),f=b.mediaCondition,h=b.devicePreviewMode,_=a&&a.get("widthMedia");return a&&_&&!h?"(".concat(f,": ").concat(_,")"):""},v.prototype.getWrapper=function(){return this.get("DomComponents").getWrapper()},v.prototype.setCurrentFrame=function(b){return this.set("currentFrame",b)},v.prototype.getCurrentFrame=function(){return this.get("currentFrame")},v.prototype.getCurrentFrameModel=function(){return(this.getCurrentFrame()||{}).model},v.prototype.getIcon=function(b){return(this.config.icons||{})[b]||""},v.prototype.getDirtyCount=function(){return this.get("changesCount")},v.prototype.clearDirtyCount=function(){return this.set("changesCount",0)},v.prototype.getZoomDecimal=function(){return this.get("Canvas").getZoomDecimal()},v.prototype.getZoomMultiplier=function(){return this.get("Canvas").getZoomMultiplier()},v.prototype.setDragMode=function(b){return this.set("dmode",b)},v.prototype.t=function(){for(var b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];var f=this.get("I18n");return f==null?void 0:f.t.apply(f,b)},v.prototype.inAbsoluteMode=function(){return this.get("dmode")==="absolute"},v.prototype.destroyAll=function(){var b=this,a=this.config,f=this.view,h=this.getEditor(),_=(a.grapesjs||{}).editors,A=_===void 0?[]:_,J=this.get("shallow");J==null||J.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(te){return te.destroy()}),f&&f.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(te){return b[te]={}}),A.splice(A.indexOf(h),1),(0,P.hasWin)()&&(0,w.default)(a.el).empty().attr(this.attrsOrig)},v.prototype.getEditing=function(){var b=this.get("editing");return b&&b.model||null},v.prototype.setEditing=function(b){return this.set("editing",b),this},v.prototype.isEditing=function(){return!!this.get("editing")},v.prototype.log=function(b,a){a===void 0&&(a={});var f=a.ns,h=a.level,_=h===void 0?"debug":h;if(this.trigger("log",b,a),_&&this.trigger("log:".concat(_),b,a),f){var A="log-".concat(f);this.trigger(A,b,a),_&&this.trigger("".concat(A,":").concat(_),b,a)}},v.prototype.logInfo=function(b,a){this.log(b,g(g({},a),{level:"info"}))},v.prototype.logWarning=function(b,a){this.log(b,g(g({},a),{level:"warning"}))},v.prototype.logError=function(b,a){this.log(b,g(g({},a),{level:"error"}))},v.prototype.initBaseColorPicker=function(b,a){a===void 0&&(a={});var f=this.config,h=f.colorPicker,_=h===void 0?{}:h,A=f.el,J=f.stylePrefix;return(0,w.default)(b).spectrum(g(g({containerClassName:"".concat(J,"one-bg ").concat(J,"two-color"),appendTo:A||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},a),_))},v.prototype.skip=function(b){this.__skip=!0;var a=this.get("UndoManager");a?a.skip(b):b(),this.__skip=!1},v.prototype.data=function(b,a,f){var h="_gjs-data";if(b[h]||(b[h]={}),(0,ie.isUndefined)(f))return b[h][a];b[h][a]=f},v}(D.Model);const se=oe;var Z=function(){var R=function(v,b){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h])},R(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function a(){this.constructor=v}R(v,b),v.prototype=b===null?Object.create(b):(a.prototype=b.prototype,new a)}}(),B=q().$;const T=function(R){function v(b){var a=R.call(this,{model:b})||this,f=b.attributes,h=f.Panels,_=f.UndoManager;return b.view=a,b.once("change:ready",function(){h.active(),h.disableButtons(),_.clear(),setTimeout(function(){b.trigger("load",b.get("Editor")),b.clearDirtyCount()})}),a}return Z(v,R),v.prototype.render=function(){var b=this,a=this.$el,f=this.model,h=f.attributes,_=h.Panels,A=h.Canvas,J=f.config,te=f.modules,F=J.stylePrefix,G=B(J.el||"body ".concat(J.container));(0,P.appendStyles)(J.cssIcons,{unique:!0,prepand:!0}),a.empty(),J.width&&G.css("width",J.width),J.height&&G.css("height",J.height),a.append(A.render()),a.append(_.render());var V=f.get("shallow").get("Canvas").render();return V.style.display="none",a.append(V),a.attr("class","".concat(F,"editor ").concat(F,"one-bg ").concat(F,"two-color")),G.addClass("".concat(F,"editor-cont")).empty().append(a),te.forEach(function(le){return le.postRender&&le.postRender(b)}),this},v}(D.View);var j=function(){return j=Object.assign||function(R){for(var v,b=1,a=arguments.length;b<a;b++)for(var f in v=arguments[b])Object.prototype.hasOwnProperty.call(v,f)&&(R[f]=v[f]);return R},j.apply(this,arguments)},U=function(R,v,b,a){return new(b||(b=Promise))(function(f,h){function _(te){try{J(a.next(te))}catch(F){h(F)}}function A(te){try{J(a.throw(te))}catch(F){h(F)}}function J(te){var F;te.done?f(te.value):(F=te.value,F instanceof b?F:new b(function(G){G(F)})).then(_,A)}J((a=a.apply(R,v||[])).next())})},E=function(R,v){var b,a,f,h,_={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function A(J){return function(te){return function(F){if(b)throw new TypeError("Generator is already executing.");for(;_;)try{if(b=1,a&&(f=2&F[0]?a.return:F[0]?a.throw||((f=a.return)&&f.call(a),0):a.next)&&!(f=f.call(a,F[1])).done)return f;switch(a=0,f&&(F=[2&F[0],f.value]),F[0]){case 0:case 1:f=F;break;case 4:return _.label++,{value:F[1],done:!1};case 5:_.label++,a=F[1],F=[0];continue;case 7:F=_.ops.pop(),_.trys.pop();continue;default:if(f=_.trys,!((f=f.length>0&&f[f.length-1])||F[0]!==6&&F[0]!==2)){_=0;continue}if(F[0]===3&&(!f||F[1]>f[0]&&F[1]<f[3])){_.label=F[1];break}if(F[0]===6&&_.label<f[1]){_.label=f[1],f=F;break}if(f&&_.label<f[2]){_.label=f[2],_.ops.push(F);break}f[2]&&_.ops.pop(),_.trys.pop();continue}F=v.call(R,_)}catch(G){F=[6,G],a=0}finally{b=f=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}([J,te])}}},M=function(R,v,b){if(b||arguments.length===2)for(var a,f=0,h=v.length;f<h;f++)!a&&f in v||(a||(a=Array.prototype.slice.call(v,0,f)),a[f]=v[f]);return R.concat(a||Array.prototype.slice.call(v))};const c=function(){function R(v,b){v===void 0&&(v={}),b===void 0&&(b={}),this.modules=[],this.html=k.Z,this.config=j(j(j({},$),v),{pStylePrefix:$.stylePrefix}),this.em=new se(this.config),this.$=b.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(R.prototype,"I18n",{get:function(){return this.em.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Utils",{get:function(){return this.em.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Commands",{get:function(){return this.em.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Keymaps",{get:function(){return this.em.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Modal",{get:function(){return this.em.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Panels",{get:function(){return this.em.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Canvas",{get:function(){return this.em.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Parser",{get:function(){return this.em.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"CodeManager",{get:function(){return this.em.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"UndoManager",{get:function(){return this.em.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"RichTextEditor",{get:function(){return this.em.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Pages",{get:function(){return this.em.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Components",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"DomComponents",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Layers",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"LayerManager",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Css",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"CssComposer",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Storage",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"StorageManager",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Assets",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"AssetManager",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Blocks",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"BlockManager",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Traits",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"TraitManager",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Selectors",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"SelectorManager",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Styles",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"StyleManager",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"Devices",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"DeviceManager",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),R.prototype.getConfig=function(v){var b=this.config;return(0,ie.isUndefined)(v)?b:b[v]},R.prototype.getHtml=function(v){return this.em.getHtml(v)},R.prototype.getCss=function(v){return this.em.getCss(v)},R.prototype.getJs=function(v){return this.em.getJs(v)},R.prototype.getComponents=function(){return this.em.get("DomComponents").getComponents()},R.prototype.getWrapper=function(){return this.em.get("DomComponents").getWrapper()},R.prototype.setComponents=function(v,b){return b===void 0&&(b={}),this.em.setComponents(v,b),this},R.prototype.addComponents=function(v,b){return this.getWrapper().append(v,b)},R.prototype.getStyle=function(){return this.em.get("CssComposer").getAll()},R.prototype.setStyle=function(v,b){return b===void 0&&(b={}),this.em.setStyle(v,b),this},R.prototype.addStyle=function(v,b){return b===void 0&&(b={}),this.em.addStyle(v,b)},R.prototype.getSelected=function(){return this.em.getSelected()},R.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},R.prototype.getSelectedToStyle=function(){var v=this.em.getSelected();if(v)return this.StyleManager.getModelToStyle(v)},R.prototype.select=function(v,b){return this.em.setSelected(v,b),this},R.prototype.selectAdd=function(v){return this.em.addSelected(v),this},R.prototype.selectRemove=function(v){return this.em.removeSelected(v),this},R.prototype.selectToggle=function(v){return this.em.toggleSelected(v),this},R.prototype.getEditing=function(){return this.em.getEditing()},R.prototype.setDevice=function(v){return this.em.set("device",v),this},R.prototype.getDevice=function(){return this.em.get("device")},R.prototype.runCommand=function(v,b){return b===void 0&&(b={}),this.em.get("Commands").run(v,b)},R.prototype.stopCommand=function(v,b){return b===void 0&&(b={}),this.em.get("Commands").stop(v,b)},R.prototype.store=function(v){return U(this,void 0,void 0,function(){return E(this,function(b){switch(b.label){case 0:return[4,this.em.store(v)];case 1:return[2,b.sent()]}})})},R.prototype.load=function(v){return U(this,void 0,void 0,function(){return E(this,function(b){switch(b.label){case 0:return[4,this.em.load(v)];case 1:return[2,b.sent()]}})})},R.prototype.getProjectData=function(){return this.em.storeData()},R.prototype.loadProjectData=function(v){return this.em.loadData(v)},R.prototype.storeData=function(){return this.em.storeData()},R.prototype.loadData=function(v){return this.em.loadData(v)},R.prototype.getContainer=function(){return this.config.el},R.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},R.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},R.prototype.refresh=function(v){this.em.refreshCanvas(v)},R.prototype.setCustomRte=function(v){this.RichTextEditor.customRte=v},R.prototype.setCustomParserCss=function(v){return this.Parser.getConfig().parserCss=v,this},R.prototype.setDragMode=function(v){return this.em.setDragMode(v),this},R.prototype.log=function(v,b){return b===void 0&&(b={}),this.em.log(v,b),this},R.prototype.t=function(){for(var v,b=[],a=0;a<arguments.length;a++)b[a]=arguments[a];return(v=this.em).t.apply(v,b)},R.prototype.on=function(v,b){return this.em.on(v,b),this},R.prototype.once=function(v,b){return this.em.once(v,b),this},R.prototype.off=function(v,b){return this.em.off(v,b),this},R.prototype.trigger=function(v){for(var b=[],a=1;a<arguments.length;a++)b[a-1]=arguments[a];return this.em.trigger.apply(this.em,M([v],b,!0)),this},R.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},R.prototype.getEl=function(){var v;return(v=this.editorView)===null||v===void 0?void 0:v.el},R.prototype.getModel=function(){return this.em},R.prototype.render=function(){var v;return(v=this.editorView)===null||v===void 0||v.remove(),this.editorView=new T(this.em),this.editorView.render().el},R.prototype.onReady=function(v){this.em.get("ready")?v(this):this.em.on("load",v)},R}(),d={plugins:[]};function s(R,v){var b=Object.keys(R);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(R);v&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(R,f).enumerable})),b.push.apply(b,a)}return b}function p(R){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?s(Object(b),!0).forEach(function(a){(0,z.Z)(R,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(b)):s(Object(b)).forEach(function(a){Object.defineProperty(R,a,Object.getOwnPropertyDescriptor(b,a))})}return R}(function(){if((0,P.hasWin)()&&function(){for(var v,b=window.navigator.userAgent,a=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],f=0;f<a.length&&!(v=a[f][1].exec(b));f++);return!!v}()){var R=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(v){return v||(v=""),R.apply(document.implementation,[v])}}})();var O=new function(R){var v=R||{};for(var b in d)b in v||(v[b]=d[b]);var a={};return{add:function(f,h){return a[f]?a[f]:(a[f]=h,h)},get:function(f){return a[f]},getAll:function(){return a}}},K=[],Q={autorender:1,plugins:[],pluginsOpts:{}};const ne={$:w.default,editors:K,plugins:O,version:"0.20.1",init:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=R,b=v.headless,a=R.container;if(!a&&!b)throw new Error("'container' is required");(R=p(p(p({},Q),R),{},{grapesjs:this})).el=!b&&((0,ie.isElement)(a)?a:document.querySelector(a));var f=new c(R,{$:w.default}),h=f.getModel();return R.plugins.forEach(function(_){var A=(0,ie.isFunction)(_)?_:O.get(_),J=R.pluginsOpts[_]||{};if(!A){var te=(0,P.getGlobal)()[_];A=(te==null?void 0:te.default)||te}A?A(f,J):(0,ie.isFunction)(_)?_(f,J):h.logWarning("Plugin ".concat(_," not found"),{context:"plugins",plugin:_})}),h.loadOnStart(),R.autorender&&!b&&f.render(),K.push(f),f}}})(),_e=_e.default})())})(Hp);const cp=Up(Hp.exports),yW=[];localStorage&&localStorage.removeItem("gjsProject");const bW=()=>{const Oe=cp.init({height:"100%",container:"#gjs",fromElement:!0,showOffsets:!0,assetManager:{embedAsBase64:!0,assets:yW},selectorManager:{componentFirst:!0},styleManager:{sectors:[{name:"General",properties:[{extend:"float",type:"radio",default:"none",options:[{value:"none",className:"fa fa-times"},{value:"left",className:"fa fa-align-left"},{value:"right",className:"fa fa-align-right"}]},"display",{extend:"position",type:"select"},"top","right","left","bottom"]},{name:"Dimension",open:!1,properties:["width",{id:"flex-width",type:"integer",name:"Width",units:["px","%"],property:"flex-basis",toRequire:1},"height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height",{extend:"text-align",options:[{id:"left",label:"Left",className:"fa fa-align-left"},{id:"center",label:"Center",className:"fa fa-align-center"},{id:"right",label:"Right",className:"fa fa-align-right"},{id:"justify",label:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",default:"none",options:[{id:"none",label:"None",className:"fa fa-times"},{id:"underline",label:"underline",className:"fa fa-underline"},{id:"line-through",label:"Line-through",className:"fa fa-strikethrough"}]},"text-shadow"]},{name:"Decorations",open:!1,properties:["opacity","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["transition","perspective","transform"]},{name:"Flex",open:!1,properties:[{name:"Flex Container",property:"display",type:"select",defaults:"block",list:[{value:"block",name:"Disable"},{value:"flex",name:"Enable"}]},{name:"Flex Parent",property:"label-parent-flex",type:"integer"},{name:"Direction",property:"flex-direction",type:"radio",defaults:"row",list:[{value:"row",name:"Row",className:"icons-flex icon-dir-row",title:"Row"},{value:"row-reverse",name:"Row reverse",className:"icons-flex icon-dir-row-rev",title:"Row reverse"},{value:"column",name:"Column",title:"Column",className:"icons-flex icon-dir-col"},{value:"column-reverse",name:"Column reverse",title:"Column reverse",className:"icons-flex icon-dir-col-rev"}]},{name:"Justify",property:"justify-content",type:"radio",defaults:"flex-start",list:[{value:"flex-start",className:"icons-flex icon-just-start",title:"Start"},{value:"flex-end",title:"End",className:"icons-flex icon-just-end"},{value:"space-between",title:"Space between",className:"icons-flex icon-just-sp-bet"},{value:"space-around",title:"Space around",className:"icons-flex icon-just-sp-ar"},{value:"center",title:"Center",className:"icons-flex icon-just-sp-cent"}]},{name:"Align",property:"align-items",type:"radio",defaults:"center",list:[{value:"flex-start",title:"Start",className:"icons-flex icon-al-start"},{value:"flex-end",title:"End",className:"icons-flex icon-al-end"},{value:"stretch",title:"Stretch",className:"icons-flex icon-al-str"},{value:"center",title:"Center",className:"icons-flex icon-al-center"}]},{name:"Flex Children",property:"label-parent-flex",type:"integer"},{name:"Order",property:"order",type:"integer",defaults:0,min:0},{name:"Flex",property:"flex",type:"composite",properties:[{name:"Grow",property:"flex-grow",type:"integer",defaults:0,min:0},{name:"Shrink",property:"flex-shrink",type:"integer",defaults:0,min:0},{name:"Basis",property:"flex-basis",type:"integer",units:["px","%",""],unit:"",defaults:"auto"}]},{name:"Align",property:"align-self",type:"radio",defaults:"auto",list:[{value:"auto",name:"Auto"},{value:"flex-start",title:"Start",className:"icons-flex icon-al-start"},{value:"flex-end",title:"End",className:"icons-flex icon-al-end"},{value:"stretch",title:"Stretch",className:"icons-flex icon-al-str"},{value:"center",title:"Center",className:"icons-flex icon-al-center"}]}]}]},plugins:["gjs-blocks-basic","grapesjs-plugin-forms","grapesjs-component-countdown","grapesjs-plugin-export","grapesjs-tabs","grapesjs-custom-code","grapesjs-touch","grapesjs-parser-postcss","grapesjs-tooltip","grapesjs-tui-image-editor","grapesjs-typed","grapesjs-style-bg","grapesjs-preset-webpage"],pluginsOpts:{"gjs-blocks-basic":{flexGrid:!0},"grapesjs-tui-image-editor":{script:["https://uicdn.toast.com/tui.code-snippet/v1.5.2/tui-code-snippet.min.js","https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.js","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.js"],style:["https://uicdn.toast.com/tui-color-picker/v2.2.7/tui-color-picker.min.css","https://uicdn.toast.com/tui-image-editor/v3.15.2/tui-image-editor.min.css"]},"grapesjs-tabs":{tabsBlock:{category:"Extra"}},"grapesjs-typed":{block:{category:"Extra",content:{type:"typed","type-speed":40,strings:["Text row one","Text row two","Text row three"]}}},"grapesjs-plugin-export":{filenamePfx:"template",root:{"index.html":D=>ap(D.getHtml()+"<style>"+D.getCss()+"</style>")}},"grapesjs-preset-webpage":{modalImportTitle:"Import Template",modalImportLabel:'<div style="margin-bottom: 10px; font-size: 13px;">Paste here your HTML/CSS and click Import</div>',modalImportContent:function(D){return ap(D.getHtml()+"<style>"+D.getCss()+"</style>")}}}});Oe.I18n.addMessages({en:{styleManager:{properties:{"background-repeat":"Repeat","background-position":"Position","background-attachment":"Attachment","background-size":"Size"}}}});var Ae=Oe.Panels,Ue=Oe.Modal,He=Oe.Commands;He.add("canvas-clear",function(){confirm("Are you sure to clean the canvas?")&&(Oe.runCommand("core:canvas-clear"),setTimeout(function(){localStorage.clear()},0))});var ge="gjs-mdl-dialog-sm",_e=document.getElementById("info-panel");He.add("open-info",function(){var D=document.querySelector(".gjs-mdl-dialog");D.className+=" "+ge,_e.style.display="block",Ue.setTitle("About this demo"),Ue.setContent(_e),Ue.open(),Ue.getModel().once("change:open",function(){D.className=D.className.replace(ge,"")})}),Ae.addButton("options",{id:"open-info",className:"fa fa-question-circle",command:function(){Oe.runCommand("open-info")},attributes:{title:"About","data-tooltip-pos":"bottom"}});var z=console.warn;toastr.options={closeButton:!0,preventDuplicates:!0,showDuration:250,hideDuration:150},console.warn=function(D){D.indexOf("[undefined]")==-1&&toastr.warning(D),z(D)},[["sw-visibility","Show Borders"],["preview","Preview"],["fullscreen","Fullscreen"],["export-template","Export"],["undo","Undo"],["redo","Redo"],["gjs-open-import-webpage","Import"],["canvas-clear","Clear canvas"]].forEach(function(D){Ae.getButton("options",D[0]).set("attributes",{title:D[1],"data-tooltip-pos":"bottom"})}),[["open-sm","Style Manager"],["open-layers","Layers"],["open-blocks","Blocks"]].forEach(function(D){Ae.getButton("views",D[0]).set("attributes",{title:D[1],"data-tooltip-pos":"bottom"})});for(var ie=document.querySelectorAll("*[title]"),w=0;w<ie.length;w++){var k=ie[w],$=k.getAttribute("title");if($=$?$.trim():"",!$)break;k.setAttribute("data-tooltip",$),k.setAttribute("title","")}Oe.on("load",function(){var D=cp.$;Ae.getButton("options","sw-visibility").set("active",1);var q=document.querySelector(".gjs-navigation"),l=document.querySelector(".gjs-pn-commands");l.appendChild(q);var P=Ae.getButton("views","open-tm");P&&P.set("active",1);var N=Ae.getButton("views","open-sm");N&&N.set("active",1),Ae.removeButton("views","open-tm");var C=D('<div class="gjs-sm-sector no-select"><div class="gjs-sm-sector-title"><span class="icon-settings fa fa-cog"></span> <span class="gjs-sm-sector-label">Settings</span></div><div class="gjs-sm-properties" style="display: none;"></div></div>'),y=C.find(".gjs-sm-properties");y.append(D(".gjs-trt-traits")),D(".gjs-sm-sectors").before(C),C.find(".gjs-sm-sector-title").on("click",function(){var g=y.get(0).style,S=g.display=="none";S?g.display="block":g.display="none"});var m=Oe.Panels.getButton("views","open-blocks");m&&m.set("active",1)})};setTimeout(bW,1e3)});export default wW();
